{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(module,exports,__webpack_require__){module.exports=__webpack_require__(\"zUnb\")},I1c7:function(module,exports){function webpackEmptyAsyncContext(req){return Promise.resolve().then((function(){var e=new Error(\"Cannot find module '\"+req+\"'\");throw e.code=\"MODULE_NOT_FOUND\",e}))}webpackEmptyAsyncContext.keys=function(){return[]},webpackEmptyAsyncContext.resolve=webpackEmptyAsyncContext,module.exports=webpackEmptyAsyncContext,webpackEmptyAsyncContext.id=\"I1c7\"},fVaJ:function(module,exports,__webpack_require__){\"use strict\";function makeNull(value){return null==value||\"\"===value?null:value}function exists(value,allowEmptyString){return void 0===allowEmptyString&&(allowEmptyString=!1),null!=value&&(\"\"!==value||allowEmptyString)}function missing(value){return!exists(value)}function missingOrEmpty(value){return null==value||0===value.length}function toStringOrNull(value){return null!=value&&\"function\"==typeof value.toString?value.toString():null}function attrToNumber(value){if(void 0!==value){if(null===value||\"\"===value)return null;if(\"number\"==typeof value)return isNaN(value)?void 0:value;var valueParsed=parseInt(value,10);return isNaN(valueParsed)?void 0:valueParsed}}function attrToBoolean(value){if(void 0!==value)return null!==value&&\"\"!==value&&(\"boolean\"==typeof value?value:/true/i.test(value))}function defaultComparator(valueA,valueB,accentedCompare){void 0===accentedCompare&&(accentedCompare=!1);var valueAMissing=null==valueA,valueBMissing=null==valueB;if(valueA&&valueA.toNumber&&(valueA=valueA.toNumber()),valueB&&valueB.toNumber&&(valueB=valueB.toNumber()),valueAMissing&&valueBMissing)return 0;if(valueAMissing)return-1;if(valueBMissing)return 1;function doQuickCompare(a,b){return a>b?1:a<b?-1:0}if(\"string\"!=typeof valueA)return doQuickCompare(valueA,valueB);if(!accentedCompare)return doQuickCompare(valueA,valueB);try{return valueA.localeCompare(valueB)}catch(e){return doQuickCompare(valueA,valueB)}}function find(collection,predicate,value){if(null==collection)return null;if(!Array.isArray(collection))return find(values(collection),predicate,value);for(var collectionAsArray=collection,firstMatchingItem=null,i=0;i<collectionAsArray.length;i++){var item=collectionAsArray[i];if(\"string\"==typeof predicate){if(item[predicate]===value){firstMatchingItem=item;break}}else if(predicate(item)){firstMatchingItem=item;break}}return firstMatchingItem}function values(object){if(object instanceof Set||object instanceof Map){var arr_1=[];return object.forEach((function(value){return arr_1.push(value)})),arr_1}return Object.keys(object).map((function(key){return object[key]}))}Object.defineProperty(exports,\"__esModule\",{value:!0});var GenericUtils=Object.freeze({__proto__:null,makeNull:makeNull,exists:exists,missing:missing,missingOrEmpty:missingOrEmpty,toStringOrNull:toStringOrNull,attrToNumber:attrToNumber,attrToBoolean:attrToBoolean,attrToString:function(value){if(null!=value&&\"\"!==value)return value},referenceCompare:function(left,right){return null==left&&null==right||(null!=left||null==right)&&(null==left||null!=right)&&left===right},jsonEquals:function(val1,val2){return(val1?JSON.stringify(val1):null)===(val2?JSON.stringify(val2):null)},defaultComparator:defaultComparator,find:find,values:values}),ColumnKeyCreator=function(){function ColumnKeyCreator(){this.existingKeys={}}return ColumnKeyCreator.prototype.addExistingKeys=function(keys){for(var i=0;i<keys.length;i++)this.existingKeys[keys[i]]=!0},ColumnKeyCreator.prototype.getUniqueKey=function(colId,colField){colId=toStringOrNull(colId);for(var count=0;;){var idToTry=void 0;if(colId?(idToTry=colId,0!==count&&(idToTry+=\"_\"+count)):colField?(idToTry=colField,0!==count&&(idToTry+=\"_\"+count)):idToTry=\"\"+count,!this.existingKeys[idToTry])return this.existingKeys[idToTry]=!0,idToTry;count++}},ColumnKeyCreator}();function firstExistingValue(){for(var values=[],_i=0;_i<arguments.length;_i++)values[_i]=arguments[_i];for(var i=0;i<values.length;i++){var value=values[i];if(exists(value))return value}return null}function last(arr){if(arr&&arr.length)return arr[arr.length-1]}function areEqual(a,b,comparator){return null==a&&null==b||null!=a&&null!=b&&a.length===b.length&&every(a,(function(value,index){return comparator?comparator(value,b[index]):b[index]===value}))}function sortNumerically(array){return array.sort((function(a,b){return a-b}))}function removeFromArray(array,object){var index=array.indexOf(object);index>=0&&array.splice(index,1)}function removeAllFromArray(array,toRemove){forEach(toRemove,(function(item){return removeFromArray(array,item)}))}function insertIntoArray(array,object,toIndex){array.splice(toIndex,0,object)}function moveInArray(array,objectsToMove,toIndex){removeAllFromArray(array,objectsToMove),forEach(objectsToMove.slice().reverse(),(function(obj){return insertIntoArray(array,obj,toIndex)}))}function includes(array,value){return array.indexOf(value)>-1}function pushAll(target,source){null!=source&&null!=target&&forEach(source,(function(value){return target.push(value)}))}function findIndex(collection,predicate){for(var i=0;i<collection.length;i++)if(predicate(collection[i],i,collection))return i;return-1}function every(list,predicate){if(null==list)return!0;for(var i=0;i<list.length;i++)if(!predicate(list[i],i))return!1;return!0}function some(list,predicate){if(null==list)return!1;for(var i=0;i<list.length;i++)if(predicate(list[i],i))return!0;return!1}function forEach(list,action){if(null!=list)for(var i=0;i<list.length;i++)action(list[i],i)}function map(list,process){if(null==list)return null;for(var mapped=[],i=0;i<list.length;i++)mapped.push(process(list[i],i));return mapped}function filter(list,predicate){if(null==list)return null;for(var filtered=[],i=0;i<list.length;i++)predicate(list[i],i)&&filtered.push(list[i]);return filtered}var ArrayUtils=Object.freeze({__proto__:null,firstExistingValue:firstExistingValue,anyExists:function(values){return values&&null!=firstExistingValue(values)},existsAndNotEmpty:function(value){return null!=value&&value.length>0},last:last,areEqual:areEqual,compareArrays:function(array1,array2){return areEqual(array1,array2)},shallowCompare:function(arr1,arr2){return areEqual(arr1,arr2)},sortNumerically:sortNumerically,removeRepeatsFromArray:function(array,object){if(array)for(var index=array.length-2;index>=0;index--)array[index]===object&&array[index+1]===object&&array.splice(index+1,1)},removeFromArray:removeFromArray,removeAllFromArray:removeAllFromArray,insertIntoArray:insertIntoArray,insertArrayIntoArray:function(dest,src,toIndex){if(null!=dest&&null!=src)for(var i=src.length-1;i>=0;i--)insertIntoArray(dest,src[i],toIndex)},moveInArray:moveInArray,includes:includes,flatten:function(arrayOfArrays){return[].concat.apply([],arrayOfArrays)},pushAll:pushAll,toStrings:function(array){return map(array,toStringOrNull)},findIndex:findIndex,fill:function(collection,value,start,end){void 0===value&&(value=null),void 0===start&&(start=0),void 0===end&&(end=collection.length);for(var i=start;i<end;i++)collection[i]=value;return collection},every:every,some:some,forEach:forEach,forEachReverse:function(list,action){if(null!=list)for(var i=list.length-1;i>=0;i--)action(list[i],i)},map:map,filter:filter,reduce:function(list,step,initial){if(null==list||null==initial)return null;for(var result=initial,i=0;i<list.length;i++)result=step(result,list[i],i);return result},forEachSnapshotFirst:function(list,callback){list&&list.slice(0).forEach(callback)}});function iterateObject(object,callback){null!=object&&(Array.isArray(object)?forEach(object,(function(value,index){return callback(\"\"+index,value)})):forEach(Object.keys(object),(function(key){return callback(key,object[key])})))}function cloneObject(object){for(var copy={},keys=Object.keys(object),i=0;i<keys.length;i++){var key=keys[i];copy[key]=object[key]}return copy}function deepCloneDefinition(object,keysToSkip){if(object){var obj=object,res={};return Object.keys(obj).forEach((function(key){if(!(keysToSkip&&keysToSkip.indexOf(key)>=0)){var value=obj[key],sourceIsSimpleObject=isNonNullObject(value)&&value.constructor===Object;res[key]=sourceIsSimpleObject?deepCloneDefinition(value):value}})),res}}function getProperty(object,key){return object[key]}function setProperty(object,key,value){object[key]=value}function copyPropertyIfPresent(source,target,property,transform){var value=getProperty(source,property);void 0!==value&&setProperty(target,property,transform?transform(value):value)}function getAllKeysInObjects(objects){var allValues={};return objects.filter((function(obj){return null!=obj})).forEach((function(obj){forEach(Object.keys(obj),(function(key){return allValues[key]=null}))})),Object.keys(allValues)}function getAllValuesInObject(obj){if(!obj)return[];var anyObject=Object;if(\"function\"==typeof anyObject.values)return anyObject.values(obj);var ret=[];for(var key in obj)obj.hasOwnProperty(key)&&obj.propertyIsEnumerable(key)&&ret.push(obj[key]);return ret}function mergeDeep(dest,source,copyUndefined,makeCopyOfSimpleObjects){void 0===copyUndefined&&(copyUndefined=!0),void 0===makeCopyOfSimpleObjects&&(makeCopyOfSimpleObjects=!1),exists(source)&&iterateObject(source,(function(key,sourceValue){var destValue=dest[key];destValue!==sourceValue&&(makeCopyOfSimpleObjects&&null==destValue&&null!=sourceValue&&\"object\"==typeof sourceValue&&sourceValue.constructor===Object&&(dest[key]=destValue={}),isNonNullObject(sourceValue)&&isNonNullObject(destValue)&&!Array.isArray(destValue)?mergeDeep(destValue,sourceValue,copyUndefined,makeCopyOfSimpleObjects):(copyUndefined||void 0!==sourceValue)&&(dest[key]=sourceValue))}))}function assign(object){for(var sources=[],_i=1;_i<arguments.length;_i++)sources[_i-1]=arguments[_i];return forEach(sources,(function(source){return iterateObject(source,(function(key,value){return object[key]=value}))})),object}function get(source,expression,defaultValue){if(null==source)return defaultValue;for(var keys=expression.split(\".\"),objectToRead=source;keys.length>1;)if(null==(objectToRead=objectToRead[keys.shift()]))return defaultValue;var value=objectToRead[keys[0]];return null!=value?value:defaultValue}function getValueUsingField(data,field,fieldContainsDots){if(field&&data){if(!fieldContainsDots)return data[field];for(var fields=field.split(\".\"),currentObject=data,i=0;i<fields.length;i++){if(null==currentObject)return;currentObject=currentObject[fields[i]]}return currentObject}}function removeAllReferences(obj,objectName){Object.keys(obj).forEach((function(key){\"object\"==typeof obj[key]&&(obj[key]=void 0)}));var proto=Object.getPrototypeOf(obj),properties={};Object.keys(proto).forEach((function(key){\"function\"==typeof proto[key]&&(properties[key]={value:function(){console.warn(\"AG Grid: \"+objectName+\" function \"+key+\"() cannot be called as the grid has been destroyed.\\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\\n                     when the grid is destroyed.\")},writable:!0})})),Object.defineProperties(obj,properties)}function isNonNullObject(value){return\"object\"==typeof value&&null!==value}var ObjectUtils=Object.freeze({__proto__:null,iterateObject:iterateObject,cloneObject:cloneObject,deepCloneObject:function(object){return JSON.parse(JSON.stringify(object))},deepCloneDefinition:deepCloneDefinition,getProperty:getProperty,setProperty:setProperty,copyPropertiesIfPresent:function(source,target){for(var properties=[],_i=2;_i<arguments.length;_i++)properties[_i-2]=arguments[_i];forEach(properties,(function(p){return copyPropertyIfPresent(source,target,p)}))},copyPropertyIfPresent:copyPropertyIfPresent,getAllKeysInObjects:getAllKeysInObjects,getAllValuesInObject:getAllValuesInObject,mergeDeep:mergeDeep,assign:assign,missingOrEmptyObject:function(value){return missing(value)||0===Object.keys(value).length},get:get,set:function(target,expression,value){if(null!=target){for(var keys=expression.split(\".\"),objectToUpdate=target;keys.length>1;)if(null==(objectToUpdate=objectToUpdate[keys.shift()]))return;objectToUpdate[keys[0]]=value}},deepFreeze:function deepFreeze(object){return Object.freeze(object),forEach(values(object),(function(v){(isNonNullObject(v)||\"function\"==typeof v)&&deepFreeze(v)})),object},getValueUsingField:getValueUsingField,removeAllReferences:removeAllReferences,isNonNullObject:isNonNullObject}),FUNCTION_STRIP_COMMENTS=/((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/gm,FUNCTION_ARGUMENT_NAMES=/([^\\s,]+)/g,doOnceFlags={};function doOnce(func,key){doOnceFlags[key]||(func(),doOnceFlags[key]=!0)}function getFunctionName(funcConstructor){if(funcConstructor.name)return funcConstructor.name;var matches=/function\\s+([^\\(]+)/.exec(funcConstructor.toString());return matches&&2===matches.length?matches[1].trim():null}function isFunction(val){return!!(val&&val.constructor&&val.call&&val.apply)}function executeInAWhile(funcs){executeAfter(funcs,400)}var executeNextVMTurnFuncs=[],executeNextVMTurnPending=!1;function executeNextVMTurn(func){executeNextVMTurnFuncs.push(func),executeNextVMTurnPending||(executeNextVMTurnPending=!0,window.setTimeout((function(){var funcsCopy=executeNextVMTurnFuncs.slice();executeNextVMTurnFuncs.length=0,executeNextVMTurnPending=!1,funcsCopy.forEach((function(func){return func()}))}),0))}function executeAfter(funcs,milliseconds){void 0===milliseconds&&(milliseconds=0),funcs.length>0&&window.setTimeout((function(){return funcs.forEach((function(func){return func()}))}),milliseconds)}function debounce(func,wait,immediate){var timeout;return void 0===immediate&&(immediate=!1),function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var context=this,callNow=immediate&&!timeout;window.clearTimeout(timeout),timeout=window.setTimeout((function(){timeout=null,immediate||func.apply(context,args)}),wait),callNow&&func.apply(context,args)}}function waitUntil(condition,callback,timeout,timeoutMessage){void 0===timeout&&(timeout=100);var timeStamp=(new Date).getTime(),interval=null,executed=!1,internalCallback=function(){var reachedTimeout=(new Date).getTime()-timeStamp>timeout;(condition()||reachedTimeout)&&(callback(),executed=!0,null!=interval&&(window.clearInterval(interval),interval=null),reachedTimeout&&timeoutMessage&&console.warn(timeoutMessage))};internalCallback(),executed||(interval=window.setInterval(internalCallback,10))}function callIfPresent(func){func&&func()}var FunctionUtils=Object.freeze({__proto__:null,doOnce:doOnce,getFunctionName:getFunctionName,getFunctionParameters:function(func){var fnStr=func.toString().replace(FUNCTION_STRIP_COMMENTS,\"\");return fnStr.slice(fnStr.indexOf(\"(\")+1,fnStr.indexOf(\")\")).match(FUNCTION_ARGUMENT_NAMES)||[]},isFunction:isFunction,executeInAWhile:executeInAWhile,executeNextVMTurn:executeNextVMTurn,executeAfter:executeAfter,debounce:debounce,waitUntil:waitUntil,compose:function(){for(var fns=[],_i=0;_i<arguments.length;_i++)fns[_i]=arguments[_i];return function(arg){return fns.reduce((function(composed,f){return f(composed)}),arg)}},callIfPresent:callIfPresent}),Context=function(){function Context(params,logger){if(this.beanWrappers={},this.destroyed=!1,params&&params.beanClasses){this.contextParams=params,this.logger=logger,this.logger.log(\">> creating ag-Application Context\"),this.createBeans();var beanInstances=this.getBeanInstances();this.wireBeans(beanInstances),this.logger.log(\">> ag-Application Context ready - component is alive\")}}return Context.prototype.getBeanInstances=function(){return values(this.beanWrappers).map((function(beanEntry){return beanEntry.beanInstance}))},Context.prototype.createBean=function(bean,afterPreCreateCallback){if(!bean)throw Error(\"Can't wire to bean since it is null\");return this.wireBeans([bean],afterPreCreateCallback),bean},Context.prototype.wireBeans=function(beanInstances,afterPreCreateCallback){this.autoWireBeans(beanInstances),this.methodWireBeans(beanInstances),this.callLifeCycleMethods(beanInstances,\"preConstructMethods\"),exists(afterPreCreateCallback)&&beanInstances.forEach(afterPreCreateCallback),this.callLifeCycleMethods(beanInstances,\"postConstructMethods\")},Context.prototype.createBeans=function(){var _this=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),iterateObject(this.beanWrappers,(function(key,beanEntry){var constructorParamsMeta;beanEntry.bean.__agBeanMetaData&&beanEntry.bean.__agBeanMetaData.autowireMethods&&beanEntry.bean.__agBeanMetaData.autowireMethods.agConstructor&&(constructorParamsMeta=beanEntry.bean.__agBeanMetaData.autowireMethods.agConstructor);var constructor,args,constructorParams=_this.getBeansForParameters(constructorParamsMeta,beanEntry.bean.name),newInstance=(constructor=beanEntry.bean,args=[null].concat(constructorParams),new(constructor.bind.apply(constructor,args)));beanEntry.beanInstance=newInstance}));var createdBeanNames=Object.keys(this.beanWrappers).join(\", \");this.logger.log(\"created beans: \"+createdBeanNames)},Context.prototype.createBeanWrapper=function(BeanClass){var beanName,metaData=BeanClass.__agBeanMetaData;if(!metaData)return beanName=BeanClass.prototype.constructor?getFunctionName(BeanClass.prototype.constructor):\"\"+BeanClass,void console.error(\"Context item \"+beanName+\" is not a bean\");this.beanWrappers[metaData.beanName]={bean:BeanClass,beanInstance:null,beanName:metaData.beanName}},Context.prototype.autoWireBeans=function(beanInstances){var _this=this;beanInstances.forEach((function(beanInstance){_this.forEachMetaDataInHierarchy(beanInstance,(function(metaData,beanName){var attributes=metaData.agClassAttributes;attributes&&attributes.forEach((function(attribute){var otherBean=_this.lookupBeanInstance(beanName,attribute.beanName,attribute.optional);beanInstance[attribute.attributeName]=otherBean}))}))}))},Context.prototype.methodWireBeans=function(beanInstances){var _this=this;beanInstances.forEach((function(beanInstance){_this.forEachMetaDataInHierarchy(beanInstance,(function(metaData,beanName){iterateObject(metaData.autowireMethods,(function(methodName,wireParams){if(\"agConstructor\"!==methodName){var initParams=_this.getBeansForParameters(wireParams,beanName);beanInstance[methodName].apply(beanInstance,initParams)}}))}))}))},Context.prototype.forEachMetaDataInHierarchy=function(beanInstance,callback){for(var prototype=Object.getPrototypeOf(beanInstance);null!=prototype;){var constructor=prototype.constructor;constructor.hasOwnProperty(\"__agBeanMetaData\")&&callback(constructor.__agBeanMetaData,this.getBeanName(constructor)),prototype=Object.getPrototypeOf(prototype)}},Context.prototype.getBeanName=function(constructor){if(constructor.__agBeanMetaData&&constructor.__agBeanMetaData.beanName)return constructor.__agBeanMetaData.beanName;var constructorString=constructor.toString();return constructorString.substring(9,constructorString.indexOf(\"(\"))},Context.prototype.getBeansForParameters=function(parameters,beanName){var _this=this,beansList=[];return parameters&&iterateObject(parameters,(function(paramIndex,otherBeanName){var otherBean=_this.lookupBeanInstance(beanName,otherBeanName);beansList[Number(paramIndex)]=otherBean})),beansList},Context.prototype.lookupBeanInstance=function(wiringBean,beanName,optional){if(void 0===optional&&(optional=!1),\"context\"===beanName)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(beanName))return this.contextParams.providedBeanInstances[beanName];var beanEntry=this.beanWrappers[beanName];return beanEntry?beanEntry.beanInstance:(optional||console.error(\"AG Grid: unable to find bean reference \"+beanName+\" while initialising \"+wiringBean),null)},Context.prototype.callLifeCycleMethods=function(beanInstances,lifeCycleMethod){var _this=this;beanInstances.forEach((function(beanInstance){return _this.callLifeCycleMethodsOnBean(beanInstance,lifeCycleMethod)}))},Context.prototype.callLifeCycleMethodsOnBean=function(beanInstance,lifeCycleMethod,methodToIgnore){var allMethods={};this.forEachMetaDataInHierarchy(beanInstance,(function(metaData){var methods=metaData[lifeCycleMethod];methods&&methods.forEach((function(methodName){methodName!=methodToIgnore&&(allMethods[methodName]=!0)}))})),Object.keys(allMethods).forEach((function(methodName){return beanInstance[methodName]()}))},Context.prototype.getBean=function(name){return this.lookupBeanInstance(\"getBean\",name,!0)},Context.prototype.destroy=function(){if(!this.destroyed){this.logger.log(\">> Shutting down ag-Application Context\");var beanInstances=this.getBeanInstances();this.destroyBeans(beanInstances),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(\">> ag-Application Context shut down - component is dead\")}},Context.prototype.destroyBean=function(bean){bean&&this.destroyBeans([bean])},Context.prototype.destroyBeans=function(beans){var _this=this;return beans?(beans.forEach((function(bean){_this.callLifeCycleMethodsOnBean(bean,\"preDestroyMethods\",\"destroy\"),\"function\"==typeof bean.destroy&&bean.destroy()})),[]):[]},Context}();function PreConstruct(target,methodName,descriptor){var props=getOrCreateProps(target.constructor);props.preConstructMethods||(props.preConstructMethods=[]),props.preConstructMethods.push(methodName)}function PostConstruct(target,methodName,descriptor){var props=getOrCreateProps(target.constructor);props.postConstructMethods||(props.postConstructMethods=[]),props.postConstructMethods.push(methodName)}function PreDestroy(target,methodName,descriptor){var props=getOrCreateProps(target.constructor);props.preDestroyMethods||(props.preDestroyMethods=[]),props.preDestroyMethods.push(methodName)}function Bean(beanName){return function(classConstructor){getOrCreateProps(classConstructor).beanName=beanName}}function Autowired(name){return function(target,propertyKey,descriptor){autowiredFunc(target,name,!1,0,propertyKey,null)}}function Optional(name){return function(target,propertyKey,descriptor){autowiredFunc(target,name,!0,0,propertyKey,null)}}function autowiredFunc(target,name,optional,classPrototype,methodOrAttributeName,index){if(null!==name)if(\"number\"!=typeof index){var props=getOrCreateProps(target.constructor);props.agClassAttributes||(props.agClassAttributes=[]),props.agClassAttributes.push({attributeName:methodOrAttributeName,beanName:name,optional:optional})}else console.error(\"AG Grid: Autowired should be on an attribute\");else console.error(\"AG Grid: Autowired name should not be null\")}function Qualifier(name){return function(classPrototype,methodOrAttributeName,index){var props,constructor=\"function\"==typeof classPrototype?classPrototype:classPrototype.constructor;if(\"number\"==typeof index){var methodName=void 0;methodOrAttributeName?(props=getOrCreateProps(constructor),methodName=methodOrAttributeName):(props=getOrCreateProps(constructor),methodName=\"agConstructor\"),props.autowireMethods||(props.autowireMethods={}),props.autowireMethods[methodName]||(props.autowireMethods[methodName]={}),props.autowireMethods[methodName][index]=name}}}function getOrCreateProps(target){return target.hasOwnProperty(\"__agBeanMetaData\")||(target.__agBeanMetaData={}),target.__agBeanMetaData}var ModuleNames,__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},EventService=function(){function EventService(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return EventService.prototype.setBeans=function(loggerFactory,gridOptionsWrapper,frameworkOverrides,globalEventListener){if(void 0===globalEventListener&&(globalEventListener=null),this.logger=loggerFactory.create(\"EventService\"),this.frameworkOverrides=frameworkOverrides,globalEventListener){var async=gridOptionsWrapper.useAsyncEvents();this.addGlobalListener(globalEventListener,async)}},EventService.prototype.getListeners=function(eventType,async,autoCreateListenerCollection){var listenerMap=async?this.allAsyncListeners:this.allSyncListeners,listeners=listenerMap.get(eventType);return!listeners&&autoCreateListenerCollection&&(listeners=new Set,listenerMap.set(eventType,listeners)),listeners},EventService.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},EventService.prototype.addEventListener=function(eventType,listener,async){void 0===async&&(async=!1),this.getListeners(eventType,async,!0).add(listener)},EventService.prototype.removeEventListener=function(eventType,listener,async){void 0===async&&(async=!1);var listeners=this.getListeners(eventType,async,!1);listeners&&(listeners.delete(listener),0===listeners.size&&(async?this.allAsyncListeners:this.allSyncListeners).delete(eventType))},EventService.prototype.addGlobalListener=function(listener,async){void 0===async&&(async=!1),(async?this.globalAsyncListeners:this.globalSyncListeners).add(listener)},EventService.prototype.removeGlobalListener=function(listener,async){void 0===async&&(async=!1),(async?this.globalAsyncListeners:this.globalSyncListeners).delete(listener)},EventService.prototype.dispatchEvent=function(event){this.dispatchToListeners(event,!0),this.dispatchToListeners(event,!1),this.firedEvents[event.type]=!0},EventService.prototype.dispatchEventOnce=function(event){this.firedEvents[event.type]||this.dispatchEvent(event)},EventService.prototype.dispatchToListeners=function(event,async){var _this=this,eventType=event.type,listeners=this.getListeners(eventType,async,!1);listeners&&function(listeners){listeners.forEach((function(listener){async?_this.dispatchAsync((function(){return listener(event)})):listener(event)}))}(listeners),(async?this.globalAsyncListeners:this.globalSyncListeners).forEach((function(listener){async?_this.dispatchAsync((function(){return _this.frameworkOverrides.dispatchEvent(eventType,(function(){return listener(eventType,event)}))})):_this.frameworkOverrides.dispatchEvent(eventType,(function(){return listener(eventType,event)}))}))},EventService.prototype.dispatchAsync=function(func){this.asyncFunctionsQueue.push(func),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},EventService.prototype.flushAsyncQueue=function(){this.scheduled=!1;var queueCopy=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],queueCopy.forEach((function(func){return func()}))},__decorate([__param(0,Qualifier(\"loggerFactory\")),__param(1,Qualifier(\"gridOptionsWrapper\")),__param(2,Qualifier(\"frameworkOverrides\")),__param(3,Qualifier(\"globalEventListener\"))],EventService.prototype,\"setBeans\",null),__decorate([Bean(\"eventService\")],EventService)}(),Constants=function(){function Constants(){}return Constants.ROW_BUFFER_SIZE=10,Constants.LAYOUT_INTERVAL=500,Constants.BATCH_WAIT_MILLIS=50,Constants.EXPORT_TYPE_DRAG_COPY=\"dragCopy\",Constants.EXPORT_TYPE_CLIPBOARD=\"clipboard\",Constants.EXPORT_TYPE_EXCEL=\"excel\",Constants.EXPORT_TYPE_CSV=\"csv\",Constants.ROW_MODEL_TYPE_INFINITE=\"infinite\",Constants.ROW_MODEL_TYPE_VIEWPORT=\"viewport\",Constants.ROW_MODEL_TYPE_CLIENT_SIDE=\"clientSide\",Constants.ROW_MODEL_TYPE_SERVER_SIDE=\"serverSide\",Constants.ALWAYS=\"always\",Constants.ONLY_WHEN_GROUPING=\"onlyWhenGrouping\",Constants.PINNED_TOP=\"top\",Constants.PINNED_BOTTOM=\"bottom\",Constants.DOM_LAYOUT_NORMAL=\"normal\",Constants.DOM_LAYOUT_PRINT=\"print\",Constants.DOM_LAYOUT_AUTO_HEIGHT=\"autoHeight\",Constants.GROUP_AUTO_COLUMN_ID=\"ag-Grid-AutoColumn\",Constants.SOURCE_PASTE=\"paste\",Constants.PINNED_RIGHT=\"right\",Constants.PINNED_LEFT=\"left\",Constants.SORT_ASC=\"asc\",Constants.SORT_DESC=\"desc\",Constants.INPUT_SELECTOR=\"input, select, button, textarea\",Constants.FOCUSABLE_SELECTOR=\"[tabindex], input, select, button, textarea\",Constants.FOCUSABLE_EXCLUDE=\".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *\",Constants}();(ModuleNames=exports.ModuleNames||(exports.ModuleNames={})).CommunityCoreModule=\"@ag-grid-community/core\",ModuleNames.CommunityAllModules=\"@ag-grid-community/all\",ModuleNames.InfiniteRowModelModule=\"@ag-grid-community/infinite-row-model\",ModuleNames.ClientSideRowModelModule=\"@ag-grid-community/client-side-row-model\",ModuleNames.CsvExportModule=\"@ag-grid-community/csv-export\",ModuleNames.EnterpriseCoreModule=\"@ag-grid-enterprise/core\",ModuleNames.EnterpriseAllModules=\"@ag-grid-enterprise/all\",ModuleNames.RowGroupingModule=\"@ag-grid-enterprise/row-grouping\",ModuleNames.ColumnToolPanelModule=\"@ag-grid-enterprise/column-tool-panel\",ModuleNames.FiltersToolPanelModule=\"@ag-grid-enterprise/filter-tool-panel\",ModuleNames.MenuModule=\"@ag-grid-enterprise/menu\",ModuleNames.SetFilterModule=\"@ag-grid-enterprise/set-filter\",ModuleNames.MultiFilterModule=\"@ag-grid-enterprise/multi-filter\",ModuleNames.StatusBarModule=\"@ag-grid-enterprise/status-bar\",ModuleNames.SideBarModule=\"@ag-grid-enterprise/side-bar\",ModuleNames.RangeSelectionModule=\"@ag-grid-enterprise/range-selection\",ModuleNames.MasterDetailModule=\"@ag-grid-enterprise/master-detail\",ModuleNames.RichSelectModule=\"@ag-grid-enterprise/rich-select\",ModuleNames.GridChartsModule=\"@ag-grid-enterprise/charts\",ModuleNames.ViewportRowModelModule=\"@ag-grid-enterprise/viewport-row-model\",ModuleNames.ServerSideRowModelModule=\"@ag-grid-enterprise/server-side-row-model\",ModuleNames.ExcelExportModule=\"@ag-grid-enterprise/excel-export\",ModuleNames.ClipboardModule=\"@ag-grid-enterprise/clipboard\",ModuleNames.DateTimeCellEditorModule=\"@ag-grid-enterprise/date-time-cell-editor\",ModuleNames.AngularModule=\"@ag-grid-community/angular\",ModuleNames.ReactModule=\"@ag-grid-community/react\",ModuleNames.VueModule=\"@ag-grid-community/vue\",ModuleNames.PolymerModule=\"@ag-grid-community/polymer\";var ModuleRegistry=function(){function ModuleRegistry(){}return ModuleRegistry.register=function(module,moduleBased){void 0===moduleBased&&(moduleBased=!0),ModuleRegistry.modulesMap[module.moduleName]=module,void 0===ModuleRegistry.moduleBased?ModuleRegistry.moduleBased=moduleBased:ModuleRegistry.moduleBased!==moduleBased&&doOnce((function(){console.warn(\"AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms.\"),console.warn(\"Please see https://www.ag-grid.com/javascript-table/packages-modules/ for more information.\")}),\"ModulePackageCheck\")},ModuleRegistry.registerModules=function(modules,moduleBased){void 0===moduleBased&&(moduleBased=!0),modules&&modules.forEach((function(module){return ModuleRegistry.register(module,moduleBased)}))},ModuleRegistry.assertRegistered=function(moduleName,reason){if(this.isRegistered(moduleName))return!0;var warningMessage=\"AG Grid: unable to use \"+reason+\" as module \"+moduleName+\" is not present. Please see: https://www.ag-grid.com/javascript-table/modules/\";return doOnce((function(){console.warn(warningMessage)}),reason+moduleName),!1},ModuleRegistry.isRegistered=function(moduleName){return!!ModuleRegistry.modulesMap[moduleName]},ModuleRegistry.getRegisteredModules=function(){return values(ModuleRegistry.modulesMap)},ModuleRegistry.isPackageBased=function(){return!ModuleRegistry.moduleBased},ModuleRegistry.modulesMap={},ModuleRegistry}(),__decorate$1=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},Column=function(){function Column(colDef,userProvidedColDef,colId,primary){this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new EventService,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=colDef,this.userProvidedColDef=userProvidedColDef,this.colId=colId,this.primary=primary,this.setState(colDef)}return Column.prototype.setState=function(colDef){void 0!==colDef.sort?colDef.sort!==Constants.SORT_ASC&&colDef.sort!==Constants.SORT_DESC||(this.sort=colDef.sort):colDef.initialSort!==Constants.SORT_ASC&&colDef.initialSort!==Constants.SORT_DESC||(this.sort=colDef.initialSort);var sortIndex=attrToNumber(colDef.sortIndex),initialSortIndex=attrToNumber(colDef.initialSortIndex);void 0!==sortIndex?null!==sortIndex&&(this.sortIndex=sortIndex):null!==initialSortIndex&&(this.sortIndex=initialSortIndex);var hide=attrToBoolean(colDef.hide),initialHide=attrToBoolean(colDef.initialHide);this.visible=void 0!==hide?!hide:!initialHide,this.setPinned(void 0!==colDef.pinned?colDef.pinned:colDef.initialPinned);var flex=attrToNumber(colDef.flex),initialFlex=attrToNumber(colDef.initialFlex);void 0!==flex?this.flex=flex:void 0!==initialFlex&&(this.flex=initialFlex)},Column.prototype.setColDef=function(colDef,userProvidedColDef){this.colDef=colDef,this.userProvidedColDef=userProvidedColDef,this.initMinAndMaxWidths(),this.initDotNotation()},Column.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},Column.prototype.setParent=function(parent){this.parent=parent},Column.prototype.getParent=function(){return this.parent},Column.prototype.setOriginalParent=function(originalParent){this.originalParent=originalParent},Column.prototype.getOriginalParent=function(){return this.originalParent},Column.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth(\"gridInitializing\"),this.initDotNotation(),this.validate()},Column.prototype.initDotNotation=function(){var suppressDotNotation=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=exists(this.colDef.field)&&this.colDef.field.indexOf(\".\")>=0&&!suppressDotNotation,this.tooltipFieldContainsDots=exists(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(\".\")>=0&&!suppressDotNotation},Column.prototype.initMinAndMaxWidths=function(){var minColWidth=this.gridOptionsWrapper.getMinColWidth(),maxColWidth=this.gridOptionsWrapper.getMaxColWidth();this.minWidth=null!=this.colDef.minWidth?Math.max(this.colDef.minWidth,1):minColWidth,this.maxWidth=null!=this.colDef.maxWidth?this.colDef.maxWidth:maxColWidth},Column.prototype.resetActualWidth=function(source){void 0===source&&(source=\"api\");var initialWidth=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(initialWidth,source,!0)},Column.prototype.isEmptyGroup=function(){return!1},Column.prototype.isRowGroupDisplayed=function(colId){return!(missing(this.colDef)||missing(this.colDef.showRowGroup)||!0!==this.colDef.showRowGroup&&this.colDef.showRowGroup!==colId)},Column.prototype.getUniqueId=function(){return this.getId()},Column.prototype.isPrimary=function(){return this.primary},Column.prototype.isFilterAllowed=function(){return this.primary&&(!!this.colDef.filter||!!this.colDef.filterFramework)},Column.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},Column.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},Column.prototype.validate=function(){var colDefAny=this.colDef;function warnOnce(msg,key,obj){doOnce((function(){obj?console.warn(msg,obj):doOnce((function(){return console.warn(msg)}),key)}),key)}this.gridOptionsWrapper.isRowModelDefault()&&!ModuleRegistry.isRegistered(exports.ModuleNames.RowGroupingModule)&&[\"enableRowGroup\",\"rowGroup\",\"rowGroupIndex\",\"enablePivot\",\"enableValue\",\"pivot\",\"pivotIndex\",\"aggFunc\"].forEach((function(item){exists(colDefAny[item])&&(ModuleRegistry.isPackageBased()?warnOnce(\"AG Grid: \"+item+\" is only valid in ag-grid-enterprise, your column definition should not have \"+item,\"ColumnRowGroupingMissing\"+item):warnOnce(\"AG Grid: \"+item+\" is only valid with AG Grid Enterprise Module \"+exports.ModuleNames.RowGroupingModule+\" - your column definition should not have \"+item,\"ColumnRowGroupingMissing\"+item))})),ModuleRegistry.isRegistered(exports.ModuleNames.RichSelectModule)||\"agRichSelect\"!==this.colDef.cellEditor&&\"agRichSelectCellEditor\"!==this.colDef.cellEditor||(ModuleRegistry.isPackageBased()?warnOnce(\"AG Grid: \"+this.colDef.cellEditor+\" can only be used with ag-grid-enterprise\",\"ColumnRichSelectMissing\"):warnOnce(\"AG Grid: \"+this.colDef.cellEditor+\" can only be used with AG Grid Enterprise Module \"+exports.ModuleNames.RichSelectModule,\"ColumnRichSelectMissing\")),ModuleRegistry.isRegistered(exports.ModuleNames.DateTimeCellEditorModule)||\"agRichSelect\"!==this.colDef.cellEditor&&\"agDateTimeCellEditor\"!==this.colDef.cellEditor||(ModuleRegistry.isPackageBased()?warnOnce(\"AG Grid: \"+this.colDef.cellEditor+\" can only be used with ag-grid-enterprise\",\"ColumnDateTimeMissing\"):warnOnce(\"AG Grid: \"+this.colDef.cellEditor+\" can only be used with AG Grid Enterprise Module \"+exports.ModuleNames.DateTimeCellEditorModule,\"ColumnDateTimeMissing\")),this.gridOptionsWrapper.isTreeData()&&[\"rowGroup\",\"rowGroupIndex\",\"pivot\",\"pivotIndex\"].forEach((function(item){exists(colDefAny[item])&&warnOnce(\"AG Grid: \"+item+\" is not possible when doing tree data, your column definition should not have \"+item,\"TreeDataCannotRowGroup\")})),exists(this.colDef.width)&&\"number\"!=typeof this.colDef.width&&warnOnce(\"AG Grid: colDef.width should be a number, not \"+typeof this.colDef.width,\"ColumnCheck_asdfawef\")},Column.prototype.addEventListener=function(eventType,listener){this.eventService.addEventListener(eventType,listener)},Column.prototype.removeEventListener=function(eventType,listener){this.eventService.removeEventListener(eventType,listener)},Column.prototype.createColumnFunctionCallbackParams=function(rowNode){return{node:rowNode,data:rowNode.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},Column.prototype.isSuppressNavigable=function(rowNode){if(\"boolean\"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if(\"function\"==typeof this.colDef.suppressNavigable){var params=this.createColumnFunctionCallbackParams(rowNode);return(0,this.colDef.suppressNavigable)(params)}return!1},Column.prototype.isCellEditable=function(rowNode){return!(rowNode.group&&!this.gridOptionsWrapper.isEnableGroupEdit())&&this.isColumnFunc(rowNode,this.colDef.editable)},Column.prototype.isRowDrag=function(rowNode){return this.isColumnFunc(rowNode,this.colDef.rowDrag)},Column.prototype.isDndSource=function(rowNode){return this.isColumnFunc(rowNode,this.colDef.dndSource)},Column.prototype.isCellCheckboxSelection=function(rowNode){return this.isColumnFunc(rowNode,this.colDef.checkboxSelection)},Column.prototype.isSuppressPaste=function(rowNode){return this.isColumnFunc(rowNode,this.colDef?this.colDef.suppressPaste:null)},Column.prototype.isResizable=function(){return!0===this.colDef.resizable},Column.prototype.isColumnFunc=function(rowNode,value){return\"boolean\"==typeof value?value:\"function\"==typeof value&&value(this.createColumnFunctionCallbackParams(rowNode))},Column.prototype.setMoving=function(moving,source){void 0===source&&(source=\"api\"),this.moving=moving,this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_MOVING_CHANGED,source))},Column.prototype.createColumnEvent=function(type,source){return{api:this.gridApi,columnApi:this.columnApi,type:type,column:this,columns:[this],source:source}},Column.prototype.isMoving=function(){return this.moving},Column.prototype.getSort=function(){return this.sort},Column.prototype.setSort=function(sort,source){void 0===source&&(source=\"api\"),this.sort!==sort&&(this.sort=sort,this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_SORT_CHANGED,source)))},Column.prototype.setMenuVisible=function(visible,source){void 0===source&&(source=\"api\"),this.menuVisible!==visible&&(this.menuVisible=visible,this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_MENU_VISIBLE_CHANGED,source)))},Column.prototype.isMenuVisible=function(){return this.menuVisible},Column.prototype.isSortAscending=function(){return this.sort===Constants.SORT_ASC},Column.prototype.isSortDescending=function(){return this.sort===Constants.SORT_DESC},Column.prototype.isSortNone=function(){return missing(this.sort)},Column.prototype.isSorting=function(){return exists(this.sort)},Column.prototype.getSortIndex=function(){return this.sortIndex},Column.prototype.setSortIndex=function(sortOrder){this.sortIndex=sortOrder},Column.prototype.setAggFunc=function(aggFunc){this.aggFunc=aggFunc},Column.prototype.getAggFunc=function(){return this.aggFunc},Column.prototype.getLeft=function(){return this.left},Column.prototype.getOldLeft=function(){return this.oldLeft},Column.prototype.getRight=function(){return this.left+this.actualWidth},Column.prototype.setLeft=function(left,source){void 0===source&&(source=\"api\"),this.oldLeft=this.left,this.left!==left&&(this.left=left,this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_LEFT_CHANGED,source)))},Column.prototype.isFilterActive=function(){return this.filterActive},Column.prototype.setFilterActive=function(active,source,additionalEventAttributes){void 0===source&&(source=\"api\"),this.filterActive!==active&&(this.filterActive=active,this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_FILTER_ACTIVE_CHANGED,source)));var filterChangedEvent=this.createColumnEvent(Column.EVENT_FILTER_CHANGED,source);additionalEventAttributes&&mergeDeep(filterChangedEvent,additionalEventAttributes),this.eventService.dispatchEvent(filterChangedEvent)},Column.prototype.setPinned=function(pinned){this.pinned=!0===pinned||pinned===Constants.PINNED_LEFT?Constants.PINNED_LEFT:pinned===Constants.PINNED_RIGHT?Constants.PINNED_RIGHT:null},Column.prototype.setFirstRightPinned=function(firstRightPinned,source){void 0===source&&(source=\"api\"),this.firstRightPinned!==firstRightPinned&&(this.firstRightPinned=firstRightPinned,this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_FIRST_RIGHT_PINNED_CHANGED,source)))},Column.prototype.setLastLeftPinned=function(lastLeftPinned,source){void 0===source&&(source=\"api\"),this.lastLeftPinned!==lastLeftPinned&&(this.lastLeftPinned=lastLeftPinned,this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_LAST_LEFT_PINNED_CHANGED,source)))},Column.prototype.isFirstRightPinned=function(){return this.firstRightPinned},Column.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},Column.prototype.isPinned=function(){return this.pinned===Constants.PINNED_LEFT||this.pinned===Constants.PINNED_RIGHT},Column.prototype.isPinnedLeft=function(){return this.pinned===Constants.PINNED_LEFT},Column.prototype.isPinnedRight=function(){return this.pinned===Constants.PINNED_RIGHT},Column.prototype.getPinned=function(){return this.pinned},Column.prototype.setVisible=function(visible,source){void 0===source&&(source=\"api\");var newValue=!0===visible;this.visible!==newValue&&(this.visible=newValue,this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_VISIBLE_CHANGED,source)))},Column.prototype.isVisible=function(){return this.visible},Column.prototype.getColDef=function(){return this.colDef},Column.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},Column.prototype.getColId=function(){return this.colId},Column.prototype.getId=function(){return this.getColId()},Column.prototype.getDefinition=function(){return this.colDef},Column.prototype.getActualWidth=function(){return this.actualWidth},Column.prototype.createBaseColDefParams=function(rowNode){return{node:rowNode,data:rowNode.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},Column.prototype.getColSpan=function(rowNode){if(missing(this.colDef.colSpan))return 1;var params=this.createBaseColDefParams(rowNode),colSpan=this.colDef.colSpan(params);return Math.max(colSpan,1)},Column.prototype.getRowSpan=function(rowNode){if(missing(this.colDef.rowSpan))return 1;var params=this.createBaseColDefParams(rowNode),rowSpan=this.colDef.rowSpan(params);return Math.max(rowSpan,1)},Column.prototype.setActualWidth=function(actualWidth,source,silent){void 0===source&&(source=\"api\"),void 0===silent&&(silent=!1),null!=this.minWidth&&(actualWidth=Math.max(actualWidth,this.minWidth)),null!=this.maxWidth&&(actualWidth=Math.min(actualWidth,this.maxWidth)),this.actualWidth!==actualWidth&&(this.actualWidth=actualWidth,this.flex&&\"flex\"!==source&&\"gridInitializing\"!==source&&(this.flex=null),silent||this.fireColumnWidthChangedEvent(source))},Column.prototype.fireColumnWidthChangedEvent=function(source){this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_WIDTH_CHANGED,source))},Column.prototype.isGreaterThanMax=function(width){return null!=this.maxWidth&&width>this.maxWidth},Column.prototype.getMinWidth=function(){return this.minWidth},Column.prototype.getMaxWidth=function(){return this.maxWidth},Column.prototype.getFlex=function(){return this.flex||0},Column.prototype.setFlex=function(flex){this.flex!==flex&&(this.flex=flex)},Column.prototype.setMinimum=function(source){void 0===source&&(source=\"api\"),exists(this.minWidth)&&this.setActualWidth(this.minWidth,source)},Column.prototype.setRowGroupActive=function(rowGroup,source){void 0===source&&(source=\"api\"),this.rowGroupActive!==rowGroup&&(this.rowGroupActive=rowGroup,this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_ROW_GROUP_CHANGED,source)))},Column.prototype.isRowGroupActive=function(){return this.rowGroupActive},Column.prototype.setPivotActive=function(pivot,source){void 0===source&&(source=\"api\"),this.pivotActive!==pivot&&(this.pivotActive=pivot,this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_PIVOT_CHANGED,source)))},Column.prototype.isPivotActive=function(){return this.pivotActive},Column.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},Column.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},Column.prototype.setValueActive=function(value,source){void 0===source&&(source=\"api\"),this.aggregationActive!==value&&(this.aggregationActive=value,this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_VALUE_CHANGED,source)))},Column.prototype.isValueActive=function(){return this.aggregationActive},Column.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},Column.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},Column.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},Column.prototype.getMenuTabs=function(defaultValues){var menuTabs=this.getColDef().menuTabs;return null==menuTabs&&(menuTabs=defaultValues),menuTabs},Column.prototype.isLockPosition=function(){return console.warn(\"AG Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead.\"),!!this.colDef&&!!this.colDef.lockPosition},Column.prototype.isLockVisible=function(){return console.warn(\"AG Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead.\"),!!this.colDef&&!!this.colDef.lockVisible},Column.prototype.isLockPinned=function(){return console.warn(\"AG Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead.\"),!!this.colDef&&!!this.colDef.lockPinned},Column.EVENT_MOVING_CHANGED=\"movingChanged\",Column.EVENT_LEFT_CHANGED=\"leftChanged\",Column.EVENT_WIDTH_CHANGED=\"widthChanged\",Column.EVENT_LAST_LEFT_PINNED_CHANGED=\"lastLeftPinnedChanged\",Column.EVENT_FIRST_RIGHT_PINNED_CHANGED=\"firstRightPinnedChanged\",Column.EVENT_VISIBLE_CHANGED=\"visibleChanged\",Column.EVENT_FILTER_CHANGED=\"filterChanged\",Column.EVENT_FILTER_ACTIVE_CHANGED=\"filterActiveChanged\",Column.EVENT_SORT_CHANGED=\"sortChanged\",Column.EVENT_MENU_VISIBLE_CHANGED=\"menuVisibleChanged\",Column.EVENT_ROW_GROUP_CHANGED=\"columnRowGroupChanged\",Column.EVENT_PIVOT_CHANGED=\"columnPivotChanged\",Column.EVENT_VALUE_CHANGED=\"columnValueChanged\",__decorate$1([Autowired(\"gridOptionsWrapper\")],Column.prototype,\"gridOptionsWrapper\",void 0),__decorate$1([Autowired(\"columnUtils\")],Column.prototype,\"columnUtils\",void 0),__decorate$1([Autowired(\"columnApi\")],Column.prototype,\"columnApi\",void 0),__decorate$1([Autowired(\"gridApi\")],Column.prototype,\"gridApi\",void 0),__decorate$1([Autowired(\"context\")],Column.prototype,\"context\",void 0),__decorate$1([PostConstruct],Column.prototype,\"initialise\",null),Column}(),ColumnGroup=function(){function ColumnGroup(originalColumnGroup,groupId,instanceId,pinned){this.displayedChildren=[],this.localEventService=new EventService,this.groupId=groupId,this.instanceId=instanceId,this.originalColumnGroup=originalColumnGroup,this.pinned=pinned}return ColumnGroup.createUniqueId=function(groupId,instanceId){return groupId+\"_\"+instanceId},ColumnGroup.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},ColumnGroup.prototype.getParent=function(){return this.parent},ColumnGroup.prototype.setParent=function(parent){this.parent=parent},ColumnGroup.prototype.getUniqueId=function(){return ColumnGroup.createUniqueId(this.groupId,this.instanceId)},ColumnGroup.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},ColumnGroup.prototype.isMoving=function(){var allLeafColumns=this.getOriginalColumnGroup().getLeafColumns();return!(!allLeafColumns||0===allLeafColumns.length)&&allLeafColumns.every((function(col){return col.isMoving()}))},ColumnGroup.prototype.checkLeft=function(){if(this.displayedChildren.forEach((function(child){child instanceof ColumnGroup&&child.checkLeft()})),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var lastChildLeft=last(this.displayedChildren).getLeft();this.setLeft(lastChildLeft)}else{var firstChildLeft=this.displayedChildren[0].getLeft();this.setLeft(firstChildLeft)}else this.setLeft(null)},ColumnGroup.prototype.getLeft=function(){return this.left},ColumnGroup.prototype.getOldLeft=function(){return this.oldLeft},ColumnGroup.prototype.setLeft=function(left){this.oldLeft=left,this.left!==left&&(this.left=left,this.localEventService.dispatchEvent(this.createAgEvent(ColumnGroup.EVENT_LEFT_CHANGED)))},ColumnGroup.prototype.getPinned=function(){return this.pinned},ColumnGroup.prototype.createAgEvent=function(type){return{type:type}},ColumnGroup.prototype.addEventListener=function(eventType,listener){this.localEventService.addEventListener(eventType,listener)},ColumnGroup.prototype.removeEventListener=function(eventType,listener){this.localEventService.removeEventListener(eventType,listener)},ColumnGroup.prototype.getGroupId=function(){return this.groupId},ColumnGroup.prototype.getInstanceId=function(){return this.instanceId},ColumnGroup.prototype.isChildInThisGroupDeepSearch=function(wantedChild){var result=!1;return this.children.forEach((function(foundChild){wantedChild===foundChild&&(result=!0),foundChild instanceof ColumnGroup&&foundChild.isChildInThisGroupDeepSearch(wantedChild)&&(result=!0)})),result},ColumnGroup.prototype.getActualWidth=function(){var groupActualWidth=0;return this.displayedChildren&&this.displayedChildren.forEach((function(child){groupActualWidth+=child.getActualWidth()})),groupActualWidth},ColumnGroup.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var result=!1;return this.displayedChildren.forEach((function(child){child.isResizable()&&(result=!0)})),result},ColumnGroup.prototype.getMinWidth=function(){var result=0;return this.displayedChildren.forEach((function(groupChild){result+=groupChild.getMinWidth()||0})),result},ColumnGroup.prototype.addChild=function(child){this.children||(this.children=[]),this.children.push(child)},ColumnGroup.prototype.getDisplayedChildren=function(){return this.displayedChildren},ColumnGroup.prototype.getLeafColumns=function(){var result=[];return this.addLeafColumns(result),result},ColumnGroup.prototype.getDisplayedLeafColumns=function(){var result=[];return this.addDisplayedLeafColumns(result),result},ColumnGroup.prototype.getDefinition=function(){return this.originalColumnGroup.getColGroupDef()},ColumnGroup.prototype.getColGroupDef=function(){return this.originalColumnGroup.getColGroupDef()},ColumnGroup.prototype.isPadding=function(){return this.originalColumnGroup.isPadding()},ColumnGroup.prototype.isExpandable=function(){return this.originalColumnGroup.isExpandable()},ColumnGroup.prototype.isExpanded=function(){return this.originalColumnGroup.isExpanded()},ColumnGroup.prototype.setExpanded=function(expanded){this.originalColumnGroup.setExpanded(expanded)},ColumnGroup.prototype.addDisplayedLeafColumns=function(leafColumns){this.displayedChildren.forEach((function(child){child instanceof Column?leafColumns.push(child):child instanceof ColumnGroup&&child.addDisplayedLeafColumns(leafColumns)}))},ColumnGroup.prototype.addLeafColumns=function(leafColumns){this.children.forEach((function(child){child instanceof Column?leafColumns.push(child):child instanceof ColumnGroup&&child.addLeafColumns(leafColumns)}))},ColumnGroup.prototype.getChildren=function(){return this.children},ColumnGroup.prototype.getColumnGroupShow=function(){return this.originalColumnGroup.getColumnGroupShow()},ColumnGroup.prototype.getOriginalColumnGroup=function(){return this.originalColumnGroup},ColumnGroup.prototype.getPaddingLevel=function(){var parent=this.getParent();return this.isPadding()&&parent&&parent.isPadding()?1+parent.getPaddingLevel():0},ColumnGroup.prototype.calculateDisplayedColumns=function(){var _this=this;this.displayedChildren=[];for(var parentWithExpansion=this;null!=parentWithExpansion&&parentWithExpansion.isPadding();)parentWithExpansion=parentWithExpansion.getParent();if(!parentWithExpansion||!parentWithExpansion.originalColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(ColumnGroup.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach((function(child){if(!(child instanceof ColumnGroup)||child.displayedChildren&&child.displayedChildren.length)switch(child.getColumnGroupShow()){case ColumnGroup.HEADER_GROUP_SHOW_OPEN:parentWithExpansion.originalColumnGroup.isExpanded()&&_this.displayedChildren.push(child);break;case ColumnGroup.HEADER_GROUP_SHOW_CLOSED:parentWithExpansion.originalColumnGroup.isExpanded()||_this.displayedChildren.push(child);break;default:_this.displayedChildren.push(child)}})),this.localEventService.dispatchEvent(this.createAgEvent(ColumnGroup.EVENT_DISPLAYED_CHILDREN_CHANGED))},ColumnGroup.HEADER_GROUP_SHOW_OPEN=\"open\",ColumnGroup.HEADER_GROUP_SHOW_CLOSED=\"closed\",ColumnGroup.EVENT_LEFT_CHANGED=\"leftChanged\",ColumnGroup.EVENT_DISPLAYED_CHILDREN_CHANGED=\"displayedChildrenChanged\",function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);c>3&&r&&Object.defineProperty(target,key,r)}([Autowired(\"gridOptionsWrapper\")],ColumnGroup.prototype,\"gridOptionsWrapper\",void 0),ColumnGroup}(),OriginalColumnGroup=function(){function OriginalColumnGroup(colGroupDef,groupId,padding,level){this.localEventService=new EventService,this.expandable=!1,this.colGroupDef=colGroupDef,this.groupId=groupId,this.expanded=!!colGroupDef&&!!colGroupDef.openByDefault,this.padding=padding,this.level=level}return OriginalColumnGroup.prototype.setOriginalParent=function(originalParent){this.originalParent=originalParent},OriginalColumnGroup.prototype.getOriginalParent=function(){return this.originalParent},OriginalColumnGroup.prototype.getLevel=function(){return this.level},OriginalColumnGroup.prototype.isVisible=function(){return!!this.children&&this.children.some((function(child){return child.isVisible()}))},OriginalColumnGroup.prototype.isPadding=function(){return this.padding},OriginalColumnGroup.prototype.setExpanded=function(expanded){this.expanded=void 0!==expanded&&expanded,this.localEventService.dispatchEvent({type:OriginalColumnGroup.EVENT_EXPANDED_CHANGED})},OriginalColumnGroup.prototype.isExpandable=function(){return this.expandable},OriginalColumnGroup.prototype.isExpanded=function(){return this.expanded},OriginalColumnGroup.prototype.getGroupId=function(){return this.groupId},OriginalColumnGroup.prototype.getId=function(){return this.getGroupId()},OriginalColumnGroup.prototype.setChildren=function(children){this.children=children},OriginalColumnGroup.prototype.getChildren=function(){return this.children},OriginalColumnGroup.prototype.getColGroupDef=function(){return this.colGroupDef},OriginalColumnGroup.prototype.getLeafColumns=function(){var result=[];return this.addLeafColumns(result),result},OriginalColumnGroup.prototype.addLeafColumns=function(leafColumns){this.children&&this.children.forEach((function(child){child instanceof Column?leafColumns.push(child):child instanceof OriginalColumnGroup&&child.addLeafColumns(leafColumns)}))},OriginalColumnGroup.prototype.getColumnGroupShow=function(){var colGroupDef=this.colGroupDef;if(colGroupDef)return colGroupDef.columnGroupShow},OriginalColumnGroup.prototype.setupExpandable=function(){var _this=this;this.setExpandable(),this.getLeafColumns().forEach((function(col){return col.addEventListener(Column.EVENT_VISIBLE_CHANGED,_this.onColumnVisibilityChanged.bind(_this))}))},OriginalColumnGroup.prototype.setExpandable=function(){if(!this.isPadding()){for(var atLeastOneShowingWhenOpen=!1,atLeastOneShowingWhenClosed=!1,atLeastOneChangeable=!1,children=this.findChildrenRemovingPadding(),i=0,j=children.length;i<j;i++){var abstractColumn=children[i];if(abstractColumn.isVisible()){var headerGroupShow=abstractColumn.getColumnGroupShow();headerGroupShow===ColumnGroup.HEADER_GROUP_SHOW_OPEN?(atLeastOneShowingWhenOpen=!0,atLeastOneChangeable=!0):headerGroupShow===ColumnGroup.HEADER_GROUP_SHOW_CLOSED?(atLeastOneShowingWhenClosed=!0,atLeastOneChangeable=!0):(atLeastOneShowingWhenOpen=!0,atLeastOneShowingWhenClosed=!0)}}var expandable=atLeastOneShowingWhenOpen&&atLeastOneShowingWhenClosed&&atLeastOneChangeable;this.expandable!==expandable&&(this.expandable=expandable,this.localEventService.dispatchEvent({type:OriginalColumnGroup.EVENT_EXPANDABLE_CHANGED}))}},OriginalColumnGroup.prototype.findChildrenRemovingPadding=function(){var res=[],process=function(items){items.forEach((function(item){item instanceof OriginalColumnGroup&&item.isPadding()?process(item.children):res.push(item)}))};return process(this.children),res},OriginalColumnGroup.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},OriginalColumnGroup.prototype.addEventListener=function(eventType,listener){this.localEventService.addEventListener(eventType,listener)},OriginalColumnGroup.prototype.removeEventListener=function(eventType,listener){this.localEventService.removeEventListener(eventType,listener)},OriginalColumnGroup.EVENT_EXPANDED_CHANGED=\"expandedChanged\",OriginalColumnGroup.EVENT_EXPANDABLE_CHANGED=\"expandableChanged\",OriginalColumnGroup}(),DefaultColumnTypes={numericColumn:{headerClass:\"ag-right-aligned-header\",cellClass:\"ag-right-aligned-cell\"},rightAligned:{headerClass:\"ag-right-aligned-header\",cellClass:\"ag-right-aligned-cell\"}},PASSIVE_EVENTS=[\"touchstart\",\"touchend\",\"touchmove\",\"touchcancel\"],supports={};function stopPropagationForAgGrid(event){event.__ag_Grid_Stop_Propagation=!0}function isStopPropagationForAgGrid(event){return!0===event.__ag_Grid_Stop_Propagation}var tags,isEventSupported=(tags={select:\"input\",change:\"input\",submit:\"form\",reset:\"form\",error:\"img\",load:\"img\",abort:\"img\"},function(eventName){if(\"boolean\"==typeof supports[eventName])return supports[eventName];var el=document.createElement(tags[eventName]||\"div\"),isSupported=(eventName=\"on\"+eventName)in el;return isSupported||(el.setAttribute(eventName,\"return;\"),isSupported=\"function\"==typeof el[eventName]),supports[eventName]=isSupported});function getComponentForEvent(gridOptionsWrapper,event,type){for(var sourceElement=getTarget(event);sourceElement;){var renderedComp=gridOptionsWrapper.getDomData(sourceElement,type);if(renderedComp)return renderedComp;sourceElement=sourceElement.parentElement}return null}function getTarget(event){return event.target||event.srcElement}function isElementInEventPath(element,event){return!(!event||!element)&&getEventPath(event).indexOf(element)>=0}function createEventPath(event){for(var res=[],pointer=getTarget(event);pointer;)res.push(pointer),pointer=pointer.parentElement;return res}function getEventPath(event){var eventNoType=event;return eventNoType.deepPath?eventNoType.deepPath():eventNoType.path?eventNoType.path:eventNoType.composedPath?eventNoType.composedPath():eventNoType.__agGridEventPath?eventNoType.__agGridEventPath:createEventPath(event)}function addSafePassiveEventListener(frameworkOverrides,eElement,event,listener){var isPassive=includes(PASSIVE_EVENTS,event);frameworkOverrides&&frameworkOverrides.addEventListener&&frameworkOverrides.addEventListener(eElement,event,listener,isPassive?{passive:!0}:void 0)}var extendStatics,EventUtils=Object.freeze({__proto__:null,stopPropagationForAgGrid:stopPropagationForAgGrid,isStopPropagationForAgGrid:isStopPropagationForAgGrid,isEventSupported:isEventSupported,getComponentForEvent:getComponentForEvent,addChangeListener:function(element,listener){element.addEventListener(\"changed\",listener),element.addEventListener(\"paste\",listener),element.addEventListener(\"input\",listener),element.addEventListener(\"keydown\",listener),element.addEventListener(\"keyup\",listener)},getTarget:getTarget,isElementInEventPath:isElementInEventPath,createEventPath:createEventPath,addAgGridEventPath:function(event){event.__agGridEventPath=getEventPath(event)},getEventPath:getEventPath,addSafePassiveEventListener:addSafePassiveEventListener}),__decorate$3=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},BeanStub=function(){function BeanStub(){var _this=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.getContext=function(){return _this.context},this.isAlive=function(){return!_this.destroyed}}return BeanStub.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},BeanStub.prototype.destroy=function(){this.destroyFunctions.forEach((function(func){return func()})),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:BeanStub.EVENT_DESTROYED})},BeanStub.prototype.addEventListener=function(eventType,listener){this.localEventService||(this.localEventService=new EventService),this.localEventService.addEventListener(eventType,listener)},BeanStub.prototype.removeEventListener=function(eventType,listener){this.localEventService&&this.localEventService.removeEventListener(eventType,listener)},BeanStub.prototype.dispatchEventAsync=function(event){var _this=this;window.setTimeout((function(){return _this.dispatchEvent(event)}),0)},BeanStub.prototype.dispatchEvent=function(event){this.localEventService&&this.localEventService.dispatchEvent(event)},BeanStub.prototype.addManagedListener=function(object,event,listener){var _this=this;if(!this.destroyed){object instanceof HTMLElement?addSafePassiveEventListener(this.getFrameworkOverrides(),object,event,listener):object.addEventListener(event,listener);var destroyFunc=function(){return object.removeEventListener(event,listener),_this.destroyFunctions=_this.destroyFunctions.filter((function(fn){return fn!==destroyFunc})),null};return this.destroyFunctions.push(destroyFunc),destroyFunc}},BeanStub.prototype.addDestroyFunc=function(func){this.isAlive()?this.destroyFunctions.push(func):func()},BeanStub.prototype.createManagedBean=function(bean,context){var res=this.createBean(bean,context);return this.addDestroyFunc(this.destroyBean.bind(this,bean,context)),res},BeanStub.prototype.createBean=function(bean,context,afterPreCreateCallback){return(context||this.getContext()).createBean(bean,afterPreCreateCallback)},BeanStub.prototype.destroyBean=function(bean,context){return(context||this.getContext()).destroyBean(bean)},BeanStub.prototype.destroyBeans=function(beans,context){var _this=this;return beans&&forEach(beans,(function(bean){return _this.destroyBean(bean,context)})),[]},BeanStub.EVENT_DESTROYED=\"destroyed\",__decorate$3([Autowired(\"frameworkOverrides\")],BeanStub.prototype,\"frameworkOverrides\",void 0),__decorate$3([Autowired(\"context\")],BeanStub.prototype,\"context\",void 0),__decorate$3([Autowired(\"eventService\")],BeanStub.prototype,\"eventService\",void 0),__decorate$3([Autowired(\"gridOptionsWrapper\")],BeanStub.prototype,\"gridOptionsWrapper\",void 0),__decorate$3([PreDestroy],BeanStub.prototype,\"destroy\",null),BeanStub}(),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate$4=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},ColumnFactory=function(_super){function ColumnFactory(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(ColumnFactory,_super),ColumnFactory.prototype.setBeans=function(loggerFactory){this.logger=loggerFactory.create(\"ColumnFactory\")},ColumnFactory.prototype.createColumnTree=function(defs,primaryColumns,existingTree){var columnKeyCreator=new ColumnKeyCreator,_a=this.extractExistingTreeData(existingTree),existingCols=_a.existingCols,existingGroups=_a.existingGroups;columnKeyCreator.addExistingKeys(_a.existingColKeys);var unbalancedTree=this.recursivelyCreateColumns(defs,0,primaryColumns,existingCols,columnKeyCreator,existingGroups),treeDept=this.findMaxDept(unbalancedTree,0);this.logger.log(\"Number of levels for grouped columns is \"+treeDept);var columnTree=this.balanceColumnTree(unbalancedTree,0,treeDept,columnKeyCreator);return this.columnUtils.depthFirstOriginalTreeSearch(null,columnTree,(function(child,parent){child instanceof OriginalColumnGroup&&child.setupExpandable(),child.setOriginalParent(parent)})),{columnTree:columnTree,treeDept:treeDept}},ColumnFactory.prototype.extractExistingTreeData=function(existingTree){var existingCols=[],existingGroups=[],existingColKeys=[];return existingTree&&this.columnUtils.depthFirstOriginalTreeSearch(null,existingTree,(function(item){if(item instanceof OriginalColumnGroup)existingGroups.push(item);else{var col=item;existingColKeys.push(col.getId()),existingCols.push(col)}})),{existingCols:existingCols,existingGroups:existingGroups,existingColKeys:existingColKeys}},ColumnFactory.prototype.createForAutoGroups=function(autoGroupCols,gridBalancedTree){var _this=this,autoColBalancedTree=[];return autoGroupCols.forEach((function(col){var fakeTreeItem=_this.createAutoGroupTreeItem(gridBalancedTree,col);autoColBalancedTree.push(fakeTreeItem)})),autoColBalancedTree},ColumnFactory.prototype.createAutoGroupTreeItem=function(balancedColumnTree,column){for(var nextChild=column,i=this.findDepth(balancedColumnTree)-1;i>=0;i--){var autoGroup=new OriginalColumnGroup(null,\"FAKE_PATH_\"+column.getId()+\"}_\"+i,!0,i);this.context.createBean(autoGroup),autoGroup.setChildren([nextChild]),nextChild.setOriginalParent(autoGroup),nextChild=autoGroup}return nextChild},ColumnFactory.prototype.findDepth=function(balancedColumnTree){for(var dept=0,pointer=balancedColumnTree;pointer&&pointer[0]&&pointer[0]instanceof OriginalColumnGroup;)dept++,pointer=pointer[0].getChildren();return dept},ColumnFactory.prototype.balanceColumnTree=function(unbalancedTree,currentDept,columnDept,columnKeyCreator){for(var result=[],i=0;i<unbalancedTree.length;i++){var child=unbalancedTree[i];if(child instanceof OriginalColumnGroup){var originalGroup=child,newChildren=this.balanceColumnTree(originalGroup.getChildren(),currentDept+1,columnDept,columnKeyCreator);originalGroup.setChildren(newChildren),result.push(originalGroup)}else{for(var firstPaddedGroup=void 0,currentPaddedGroup=void 0,j=columnDept-1;j>=currentDept;j--){var newColId=columnKeyCreator.getUniqueKey(null,null),colGroupDefMerged=this.createMergedColGroupDef(null),paddedGroup=new OriginalColumnGroup(colGroupDefMerged,newColId,!0,currentDept);this.context.createBean(paddedGroup),currentPaddedGroup&&currentPaddedGroup.setChildren([paddedGroup]),currentPaddedGroup=paddedGroup,firstPaddedGroup||(firstPaddedGroup=currentPaddedGroup)}if(firstPaddedGroup&&currentPaddedGroup){if(result.push(firstPaddedGroup),unbalancedTree.some((function(leaf){return leaf instanceof OriginalColumnGroup}))){currentPaddedGroup.setChildren([child]);continue}currentPaddedGroup.setChildren(unbalancedTree);break}result.push(child)}}return result},ColumnFactory.prototype.findMaxDept=function(treeChildren,dept){for(var maxDeptThisLevel=dept,i=0;i<treeChildren.length;i++){var abstractColumn=treeChildren[i];if(abstractColumn instanceof OriginalColumnGroup){var newDept=this.findMaxDept(abstractColumn.getChildren(),dept+1);maxDeptThisLevel<newDept&&(maxDeptThisLevel=newDept)}}return maxDeptThisLevel},ColumnFactory.prototype.recursivelyCreateColumns=function(defs,level,primaryColumns,existingColsCopy,columnKeyCreator,existingGroups){var _this=this,result=[];return defs?(defs.forEach((function(def){var newGroupOrColumn;newGroupOrColumn=_this.isColumnGroup(def)?_this.createColumnGroup(primaryColumns,def,level,existingColsCopy,columnKeyCreator,existingGroups):_this.createColumn(primaryColumns,def,existingColsCopy,columnKeyCreator),result.push(newGroupOrColumn)})),result):result},ColumnFactory.prototype.createColumnGroup=function(primaryColumns,colGroupDef,level,existingColumns,columnKeyCreator,existingGroups){var colGroupDefMerged=this.createMergedColGroupDef(colGroupDef),groupId=columnKeyCreator.getUniqueKey(colGroupDefMerged.groupId||null,null),originalGroup=new OriginalColumnGroup(colGroupDefMerged,groupId,!1,level);this.context.createBean(originalGroup);var existingGroup=this.findExistingGroup(colGroupDef,existingGroups);existingGroup&&existingGroup.isExpanded()&&originalGroup.setExpanded(!0);var children=this.recursivelyCreateColumns(colGroupDefMerged.children,level+1,primaryColumns,existingColumns,columnKeyCreator,existingGroups);return originalGroup.setChildren(children),originalGroup},ColumnFactory.prototype.createMergedColGroupDef=function(colGroupDef){var colGroupDefMerged={};return assign(colGroupDefMerged,this.gridOptionsWrapper.getDefaultColGroupDef()),assign(colGroupDefMerged,colGroupDef),this.checkForDeprecatedItems(colGroupDefMerged),colGroupDefMerged},ColumnFactory.prototype.createColumn=function(primaryColumns,colDef,existingColsCopy,columnKeyCreator){var colDefMerged=this.mergeColDefs(colDef);this.checkForDeprecatedItems(colDefMerged);var column=this.findExistingColumn(colDef,existingColsCopy);if(column)column.setColDef(colDefMerged,colDef),this.applyColumnState(column,colDefMerged);else{var colId=columnKeyCreator.getUniqueKey(colDefMerged.colId,colDefMerged.field);column=new Column(colDefMerged,colDef,colId,primaryColumns),this.context.createBean(column)}return column},ColumnFactory.prototype.applyColumnState=function(column,colDef){var flex=attrToNumber(colDef.flex);if(void 0!==flex&&column.setFlex(flex),column.getFlex()<=0){var width=attrToNumber(colDef.width);if(null!=width)column.setActualWidth(width);else{var widthBeforeUpdate=column.getActualWidth();column.setActualWidth(widthBeforeUpdate)}}void 0!==colDef.sort&&column.setSort(colDef.sort==Constants.SORT_ASC||colDef.sort==Constants.SORT_DESC?colDef.sort:void 0);var sortIndex=attrToNumber(colDef.sortIndex);void 0!==sortIndex&&column.setSortIndex(sortIndex);var hide=attrToBoolean(colDef.hide);void 0!==hide&&column.setVisible(!hide),void 0!==colDef.pinned&&column.setPinned(colDef.pinned)},ColumnFactory.prototype.findExistingColumn=function(newColDef,existingColsCopy){var res=find(existingColsCopy,(function(existingCol){var existingColDef=existingCol.getUserProvidedColDef();if(!existingColDef)return!1;var newHasField=null!=newColDef.field;return null!=newColDef.colId?existingCol.getId()===newColDef.colId:newHasField?existingColDef.field===newColDef.field:existingColDef===newColDef}));return existingColsCopy&&res&&removeFromArray(existingColsCopy,res),res},ColumnFactory.prototype.findExistingGroup=function(newGroupDef,existingGroups){var res=find(existingGroups,(function(existingGroup){return!(!existingGroup.getColGroupDef()||null==newGroupDef.groupId||existingGroup.getId()!==newGroupDef.groupId)}));return res&&removeFromArray(existingGroups,res),res},ColumnFactory.prototype.mergeColDefs=function(colDef){var colDefMerged={},defaultColDef=this.gridOptionsWrapper.getDefaultColDef();mergeDeep(colDefMerged,defaultColDef,!0,!0);var columnType=colDef.type;return columnType||(columnType=defaultColDef&&defaultColDef.type),columnType&&this.assignColumnTypes(columnType,colDefMerged),mergeDeep(colDefMerged,colDef,!0,!0),colDefMerged},ColumnFactory.prototype.assignColumnTypes=function(type,colDefMerged){var typeKeys=[];if(type instanceof Array)type.some((function(a){return\"string\"!=typeof a}))?console.warn(\"ag-grid: if colDef.type is supplied an array it should be of type 'string[]'\"):typeKeys=type;else{if(\"string\"!=typeof type)return void console.warn(\"ag-grid: colDef.type should be of type 'string' | 'string[]'\");typeKeys=type.split(\",\")}var allColumnTypes=assign({},DefaultColumnTypes);iterateObject(this.gridOptionsWrapper.getColumnTypes()||{},(function(key,value){key in allColumnTypes?console.warn(\"AG Grid: the column type '\"+key+\"' is a default column type and cannot be overridden.\"):allColumnTypes[key]=value})),typeKeys.forEach((function(t){var typeColDef=allColumnTypes[t.trim()];typeColDef?mergeDeep(colDefMerged,typeColDef,!0,!0):console.warn(\"ag-grid: colDef.type '\"+t+\"' does not correspond to defined gridOptions.columnTypes\")}))},ColumnFactory.prototype.checkForDeprecatedItems=function(colDef){if(colDef){var colDefNoType=colDef;void 0!==colDefNoType.group&&console.warn(\"ag-grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3\"),void 0!==colDefNoType.headerGroup&&console.warn(\"ag-grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3\"),void 0!==colDefNoType.headerGroupShow&&console.warn(\"ag-grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3\"),void 0!==colDefNoType.suppressRowGroup&&console.warn(\"ag-grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead\"),void 0!==colDefNoType.suppressAggregation&&console.warn(\"ag-grid: colDef.suppressAggregation is deprecated, please use colDef.type instead\"),(colDefNoType.suppressRowGroup||colDefNoType.suppressAggregation)&&console.warn(\"ag-grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead\"),colDefNoType.displayName&&(console.warn(\"ag-grid: Found displayName \"+colDefNoType.displayName+\", please use headerName instead, displayName is deprecated.\"),colDefNoType.headerName=colDefNoType.displayName)}},ColumnFactory.prototype.isColumnGroup=function(abstractColDef){return void 0!==abstractColDef.children},__decorate$4([Autowired(\"columnUtils\")],ColumnFactory.prototype,\"columnUtils\",void 0),__decorate$4([(0,decorator=Qualifier(\"loggerFactory\"),function(target,key){decorator(target,key,0)})],ColumnFactory.prototype,\"setBeans\",null),__decorate$4([Bean(\"columnFactory\")],ColumnFactory);var decorator}(BeanStub),Events=function(){function Events(){}return Events.EVENT_COLUMN_EVERYTHING_CHANGED=\"columnEverythingChanged\",Events.EVENT_NEW_COLUMNS_LOADED=\"newColumnsLoaded\",Events.EVENT_COLUMN_PIVOT_MODE_CHANGED=\"columnPivotModeChanged\",Events.EVENT_COLUMN_ROW_GROUP_CHANGED=\"columnRowGroupChanged\",Events.EVENT_EXPAND_COLLAPSE_ALL=\"expandOrCollapseAll\",Events.EVENT_COLUMN_PIVOT_CHANGED=\"columnPivotChanged\",Events.EVENT_GRID_COLUMNS_CHANGED=\"gridColumnsChanged\",Events.EVENT_COLUMN_VALUE_CHANGED=\"columnValueChanged\",Events.EVENT_COLUMN_MOVED=\"columnMoved\",Events.EVENT_COLUMN_VISIBLE=\"columnVisible\",Events.EVENT_COLUMN_PINNED=\"columnPinned\",Events.EVENT_COLUMN_GROUP_OPENED=\"columnGroupOpened\",Events.EVENT_COLUMN_RESIZED=\"columnResized\",Events.EVENT_DISPLAYED_COLUMNS_CHANGED=\"displayedColumnsChanged\",Events.EVENT_VIRTUAL_COLUMNS_CHANGED=\"virtualColumnsChanged\",Events.EVENT_ASYNC_TRANSACTIONS_FLUSHED=\"asyncTransactionsFlushed\",Events.EVENT_ROW_GROUP_OPENED=\"rowGroupOpened\",Events.EVENT_ROW_DATA_CHANGED=\"rowDataChanged\",Events.EVENT_ROW_DATA_UPDATED=\"rowDataUpdated\",Events.EVENT_PINNED_ROW_DATA_CHANGED=\"pinnedRowDataChanged\",Events.EVENT_RANGE_SELECTION_CHANGED=\"rangeSelectionChanged\",Events.EVENT_CHART_CREATED=\"chartCreated\",Events.EVENT_CHART_RANGE_SELECTION_CHANGED=\"chartRangeSelectionChanged\",Events.EVENT_CHART_OPTIONS_CHANGED=\"chartOptionsChanged\",Events.EVENT_CHART_DESTROYED=\"chartDestroyed\",Events.EVENT_TOOL_PANEL_VISIBLE_CHANGED=\"toolPanelVisibleChanged\",Events.EVENT_MODEL_UPDATED=\"modelUpdated\",Events.EVENT_PASTE_START=\"pasteStart\",Events.EVENT_PASTE_END=\"pasteEnd\",Events.EVENT_FILL_START=\"fillStart\",Events.EVENT_FILL_END=\"fillEnd\",Events.EVENT_CELL_CLICKED=\"cellClicked\",Events.EVENT_CELL_DOUBLE_CLICKED=\"cellDoubleClicked\",Events.EVENT_CELL_MOUSE_DOWN=\"cellMouseDown\",Events.EVENT_CELL_CONTEXT_MENU=\"cellContextMenu\",Events.EVENT_CELL_VALUE_CHANGED=\"cellValueChanged\",Events.EVENT_ROW_VALUE_CHANGED=\"rowValueChanged\",Events.EVENT_CELL_FOCUSED=\"cellFocused\",Events.EVENT_ROW_SELECTED=\"rowSelected\",Events.EVENT_SELECTION_CHANGED=\"selectionChanged\",Events.EVENT_CELL_KEY_DOWN=\"cellKeyDown\",Events.EVENT_CELL_KEY_PRESS=\"cellKeyPress\",Events.EVENT_CELL_MOUSE_OVER=\"cellMouseOver\",Events.EVENT_CELL_MOUSE_OUT=\"cellMouseOut\",Events.EVENT_FILTER_CHANGED=\"filterChanged\",Events.EVENT_FILTER_MODIFIED=\"filterModified\",Events.EVENT_FILTER_OPENED=\"filterOpened\",Events.EVENT_SORT_CHANGED=\"sortChanged\",Events.EVENT_VIRTUAL_ROW_REMOVED=\"virtualRowRemoved\",Events.EVENT_ROW_CLICKED=\"rowClicked\",Events.EVENT_ROW_DOUBLE_CLICKED=\"rowDoubleClicked\",Events.EVENT_GRID_READY=\"gridReady\",Events.EVENT_GRID_SIZE_CHANGED=\"gridSizeChanged\",Events.EVENT_VIEWPORT_CHANGED=\"viewportChanged\",Events.EVENT_SCROLLBAR_WIDTH_CHANGED=\"scrollbarWidthChanged\",Events.EVENT_FIRST_DATA_RENDERED=\"firstDataRendered\",Events.EVENT_DRAG_STARTED=\"dragStarted\",Events.EVENT_DRAG_STOPPED=\"dragStopped\",Events.EVENT_CHECKBOX_CHANGED=\"checkboxChanged\",Events.EVENT_ROW_EDITING_STARTED=\"rowEditingStarted\",Events.EVENT_ROW_EDITING_STOPPED=\"rowEditingStopped\",Events.EVENT_CELL_EDITING_STARTED=\"cellEditingStarted\",Events.EVENT_CELL_EDITING_STOPPED=\"cellEditingStopped\",Events.EVENT_BODY_SCROLL=\"bodyScroll\",Events.EVENT_ANIMATION_QUEUE_EMPTY=\"animationQueueEmpty\",Events.EVENT_HEIGHT_SCALE_CHANGED=\"heightScaleChanged\",Events.EVENT_PAGINATION_CHANGED=\"paginationChanged\",Events.EVENT_COMPONENT_STATE_CHANGED=\"componentStateChanged\",Events.EVENT_BODY_HEIGHT_CHANGED=\"bodyHeightChanged\",Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED=\"displayedColumnsWidthChanged\",Events.EVENT_SCROLL_VISIBILITY_CHANGED=\"scrollVisibilityChanged\",Events.EVENT_COLUMN_HOVER_CHANGED=\"columnHoverChanged\",Events.EVENT_FLASH_CELLS=\"flashCells\",Events.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED=\"paginationPixelOffsetChanged\",Events.EVENT_DISPLAYED_ROWS_CHANGED=\"displayedRowsChanged\",Events.EVENT_LEFT_PINNED_WIDTH_CHANGED=\"leftPinnedWidthChanged\",Events.EVENT_RIGHT_PINNED_WIDTH_CHANGED=\"rightPinnedWidthChanged\",Events.EVENT_ROW_CONTAINER_HEIGHT_CHANGED=\"rowContainerHeightChanged\",Events.EVENT_ROW_DRAG_ENTER=\"rowDragEnter\",Events.EVENT_ROW_DRAG_MOVE=\"rowDragMove\",Events.EVENT_ROW_DRAG_LEAVE=\"rowDragLeave\",Events.EVENT_ROW_DRAG_END=\"rowDragEnd\",Events.EVENT_POPUP_TO_FRONT=\"popupToFront\",Events.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST=\"columnRowGroupChangeRequest\",Events.EVENT_COLUMN_PIVOT_CHANGE_REQUEST=\"columnPivotChangeRequest\",Events.EVENT_COLUMN_VALUE_CHANGE_REQUEST=\"columnValueChangeRequest\",Events.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST=\"columnAggFuncChangeRequest\",Events.EVENT_KEYBOARD_FOCUS=\"keyboardFocus\",Events.EVENT_MOUSE_FOCUS=\"mouseFocus\",Events.EVENT_STORE_UPDATED=\"storeUpdated\",Events}(),GroupInstanceIdCreator=function(){function GroupInstanceIdCreator(){this.existingIds={}}return GroupInstanceIdCreator.prototype.getInstanceIdForKey=function(key){var result,lastResult=this.existingIds[key];return this.existingIds[key]=result=\"number\"!=typeof lastResult?0:lastResult+1,result},GroupInstanceIdCreator}(),reUnescapedHtml=/[&<>\"']/g,HTML_ESCAPES={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"};function stringRepeat(str,len){if(len=Math.floor(len),0===str.length||0===len)return\"\";var maxCount=str.length*len;for(len=Math.floor(Math.log(len)/Math.log(2));len;)str+=str,len--;return str+str.substring(0,maxCount-str.length)}function padStart(str,totalLength,padStr){return str.length>totalLength?str:((totalLength-=str.length)>padStr.length&&(padStr+=stringRepeat(padStr,totalLength/padStr.length)),padStr.slice(0,totalLength)+str)}function camelCaseToHyphen(str){return null==str?null:str.replace(/([A-Z])/g,(function(g){return\"-\"+g[0].toLowerCase()}))}function hyphenToCamelCase(str){return null==str?null:str.replace(/-([a-z])/g,(function(g){return g[1].toUpperCase()}))}function capitalise(str){return str[0].toUpperCase()+str.substr(1).toLowerCase()}function escapeString(toEscape){return null==toEscape?null:toEscape.toString().toString().replace(reUnescapedHtml,(function(chr){return HTML_ESCAPES[chr]}))}function camelCaseToHumanText(camelCase){return camelCase&&null!=camelCase?camelCase.replace(/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,\"$1$4 $2$3$5\").replace(\".\",\" \").split(\" \").map((function(word){return word.substring(0,1).toUpperCase()+(word.length>1?word.substring(1,word.length):\"\")})).join(\" \"):null}function startsWith(str,matchStart){return str===matchStart||null!=str&&str.slice(0,matchStart.length)===matchStart}var StringUtils=Object.freeze({__proto__:null,utf8_encode:function(s){var stringFromCharCode=String.fromCharCode;function createByte(point,shift){return stringFromCharCode(point>>shift&63|128)}function encodeCodePoint(point){if(point>=0&&point<=7||point>=14&&point<=31)return padStart(\"_x\"+point.toString(16).toUpperCase()+\"_\",4,\"0\");if(0==(4294967168&point))return stringFromCharCode(point);var symbol=\"\";return 0==(4294965248&point)?symbol=stringFromCharCode(point>>6&31|192):0==(4294901760&point)?(function(point){if(point>=55296&&point<=57343)throw Error(\"Lone surrogate U+\"+point.toString(16).toUpperCase()+\" is not a scalar value\")}(point),symbol=stringFromCharCode(point>>12&15|224),symbol+=createByte(point,6)):0==(4292870144&point)&&(symbol=stringFromCharCode(point>>18&7|240),symbol+=createByte(point,12),symbol+=createByte(point,6)),symbol+stringFromCharCode(63&point|128)}for(var codePoints=function(string){var output=[];if(!string)return[];for(var value,extra,len=string.length,counter=0;counter<len;)(value=string.charCodeAt(counter++))>=55296&&value<=56319&&counter<len?56320==(64512&(extra=string.charCodeAt(counter++)))?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--):output.push(value);return output}(s),length=codePoints.length,index=-1,byteString=\"\";++index<length;)byteString+=encodeCodePoint(codePoints[index]);return byteString},stringRepeat:stringRepeat,padStart:padStart,camelCaseToHyphen:camelCaseToHyphen,hyphenToCamelCase:hyphenToCamelCase,capitalise:capitalise,escapeString:escapeString,camelCaseToHumanText:camelCaseToHumanText,startsWith:startsWith});function convertToMap(arr){var map=new Map;return arr.forEach((function(pair){return map.set(pair[0],pair[1])})),map}var MapUtils=Object.freeze({__proto__:null,convertToMap:convertToMap,keys:function(map){var arr=[];return map.forEach((function(_,key){return arr.push(key)})),arr}}),__extends$1=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$5=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},ColumnController=function(_super){function ColumnController(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.primaryHeaderRowCount=0,_this.secondaryHeaderRowCount=0,_this.secondaryColumnsPresent=!1,_this.gridHeaderRowCount=0,_this.displayedColumnsLeft=[],_this.displayedColumnsRight=[],_this.displayedColumnsCenter=[],_this.displayedColumns=[],_this.displayedColumnsAndGroupsMap={},_this.viewportColumns=[],_this.viewportColumnsCenter=[],_this.rowGroupColumns=[],_this.valueColumns=[],_this.pivotColumns=[],_this.ready=!1,_this.autoGroupsNeedBuilding=!1,_this.forceRecreateAutoGroups=!1,_this.pivotMode=!1,_this.bodyWidth=0,_this.leftWidth=0,_this.rightWidth=0,_this.bodyWidthDirty=!0,_this.colDefVersion=0,_this.flexColsCalculatedAtLestOnce=!1,_this}return __extends$1(ColumnController,_super),ColumnController.prototype.init=function(){this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation();var pivotMode=this.gridOptionsWrapper.isPivotMode();this.isPivotSettingAllowed(pivotMode)&&(this.pivotMode=pivotMode),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.addManagedListener(this.gridOptionsWrapper,\"autoGroupColumnDef\",this.onAutoGroupColumnDefChanged.bind(this))},ColumnController.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns(\"gridOptionsChanged\")},ColumnController.prototype.getColDefVersion=function(){return this.colDefVersion},ColumnController.prototype.setColumnDefs=function(columnDefs,source){var _this=this;void 0===source&&(source=\"api\");var colsPreviouslyExisted=!!this.columnDefs;this.colDefVersion++;var raiseEventsFunc=this.compareColumnStatesAndRaiseEvents(source);this.columnDefs=columnDefs,this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var oldPrimaryColumns=this.primaryColumns,balancedTreeResult=this.columnFactory.createColumnTree(columnDefs,!0,this.primaryColumnTree);this.primaryColumnTree=balancedTreeResult.columnTree,this.primaryHeaderRowCount=balancedTreeResult.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach((function(col){return _this.primaryColumnsMap[col.getId()]=col})),this.extractRowGroupColumns(source,oldPrimaryColumns),this.extractPivotColumns(source,oldPrimaryColumns),this.extractValueColumns(source,oldPrimaryColumns),this.ready=!0,this.updateGridColumns(),colsPreviouslyExisted&&this.gridColsArePrimary&&this.gridOptionsWrapper.isApplyColumnDefOrder()&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(source),this.checkViewportColumns(),this.dispatchEverythingChanged(source),raiseEventsFunc(),this.dispatchNewColumnsLoaded()},ColumnController.prototype.dispatchNewColumnsLoaded=function(){this.eventService.dispatchEvent({type:Events.EVENT_NEW_COLUMNS_LOADED,api:this.gridApi,columnApi:this.columnApi})},ColumnController.prototype.dispatchEverythingChanged=function(source){void 0===source&&(source=\"api\"),this.eventService.dispatchEvent({type:Events.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:source})},ColumnController.prototype.orderGridColumnsLikePrimary=function(){var _this=this;this.gridColumns.sort((function(colA,colB){var primaryIndexA=_this.primaryColumns.indexOf(colA),primaryIndexB=_this.primaryColumns.indexOf(colB),indexAPresent=primaryIndexA>=0,indexBPresent=primaryIndexB>=0;return indexAPresent&&indexBPresent?primaryIndexA-primaryIndexB:indexAPresent?1:indexBPresent?-1:_this.gridColumns.indexOf(colA)-_this.gridColumns.indexOf(colB)}))},ColumnController.prototype.isAutoRowHeightActive=function(){return this.autoRowHeightColumns&&this.autoRowHeightColumns.length>0},ColumnController.prototype.getAllAutoRowHeightCols=function(){return this.autoRowHeightColumns},ColumnController.prototype.setViewport=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},ColumnController.prototype.getDisplayedColumnsStartingAt=function(column){for(var currentColumn=column,columns=[];null!=currentColumn;)columns.push(currentColumn),currentColumn=this.getDisplayedColAfter(currentColumn);return columns},ColumnController.prototype.checkViewportColumns=function(){if(null!=this.displayedColumnsCenter){var hashBefore=this.viewportColumns.map((function(column){return column.getId()})).join(\"#\");this.extractViewport(),hashBefore!==this.viewportColumns.map((function(column){return column.getId()})).join(\"#\")&&this.eventService.dispatchEvent({type:Events.EVENT_VIRTUAL_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})}},ColumnController.prototype.setViewportPosition=function(scrollWidth,scrollPosition){(scrollWidth!==this.scrollWidth||scrollPosition!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=scrollWidth,this.scrollPosition=scrollPosition,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},ColumnController.prototype.isPivotMode=function(){return this.pivotMode},ColumnController.prototype.isPivotSettingAllowed=function(pivot){return!pivot||!this.gridOptionsWrapper.isTreeData()||(console.warn(\"AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'\"),!1)},ColumnController.prototype.setPivotMode=function(pivotMode,source){void 0===source&&(source=\"api\"),pivotMode!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=pivotMode,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(source),this.eventService.dispatchEvent({type:Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},ColumnController.prototype.getSecondaryPivotColumn=function(pivotKeys,valueColKey){if(!this.secondaryColumnsPresent||!this.secondaryColumns)return null;var valueColumnToFind=this.getPrimaryColumn(valueColKey),foundColumn=null;return this.secondaryColumns.forEach((function(column){var thisPivotKeys=column.getColDef().pivotKeys,pivotValueColumn=column.getColDef().pivotValueColumn;areEqual(thisPivotKeys,pivotKeys)&&pivotValueColumn===valueColumnToFind&&(foundColumn=column)})),foundColumn},ColumnController.prototype.setBeans=function(loggerFactory){this.logger=loggerFactory.create(\"ColumnController\")},ColumnController.prototype.setFirstRightAndLastLeftPinned=function(source){var lastLeft,firstRight;this.gridOptionsWrapper.isEnableRtl()?(lastLeft=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,firstRight=this.displayedColumnsRight?last(this.displayedColumnsRight):null):(lastLeft=this.displayedColumnsLeft?last(this.displayedColumnsLeft):null,firstRight=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach((function(column){column.setLastLeftPinned(column===lastLeft,source),column.setFirstRightPinned(column===firstRight,source)}))},ColumnController.prototype.autoSizeColumns=function(keys,skipHeader,source){var _this=this;void 0===source&&(source=\"api\"),this.animationFrameService.flushAllFrames();var columnsAutosized=[],changesThisTimeAround=-1;for(null==skipHeader&&(skipHeader=this.gridOptionsWrapper.isSkipHeaderOnAutoSize());0!==changesThisTimeAround;)changesThisTimeAround=0,this.actionOnGridColumns(keys,(function(column){if(columnsAutosized.indexOf(column)>=0)return!1;var preferredWidth=_this.autoWidthCalculator.getPreferredWidthForColumn(column,skipHeader);if(preferredWidth>0){var newWidth=_this.normaliseColumnWidth(column,preferredWidth);column.setActualWidth(newWidth,source),columnsAutosized.push(column),changesThisTimeAround++}return!0}),source);this.fireColumnResizedEvent(columnsAutosized,!0,\"autosizeColumns\")},ColumnController.prototype.fireColumnResizedEvent=function(columns,finished,source,flexColumns){void 0===flexColumns&&(flexColumns=null),columns&&columns.length&&this.eventService.dispatchEvent({type:Events.EVENT_COLUMN_RESIZED,columns:columns,column:1===columns.length?columns[0]:null,flexColumns:flexColumns,finished:finished,api:this.gridApi,columnApi:this.columnApi,source:source})},ColumnController.prototype.autoSizeColumn=function(key,skipHeader,source){void 0===source&&(source=\"api\"),key&&this.autoSizeColumns([key],skipHeader,source)},ColumnController.prototype.autoSizeAllColumns=function(skipHeader,source){void 0===source&&(source=\"api\");var allDisplayedColumns=this.getAllDisplayedColumns();this.autoSizeColumns(allDisplayedColumns,skipHeader,source)},ColumnController.prototype.getColumnsFromTree=function(rootColumns){var result=[],recursiveFindColumns=function(childColumns){for(var i=0;i<childColumns.length;i++){var child=childColumns[i];child instanceof Column?result.push(child):child instanceof OriginalColumnGroup&&recursiveFindColumns(child.getChildren())}};return recursiveFindColumns(rootColumns),result},ColumnController.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},ColumnController.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},ColumnController.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},ColumnController.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},ColumnController.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},ColumnController.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},ColumnController.prototype.isColumnDisplayed=function(column){return this.getAllDisplayedColumns().indexOf(column)>=0},ColumnController.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},ColumnController.prototype.getViewportColumns=function(){return this.viewportColumns},ColumnController.prototype.getDisplayedLeftColumnsForRow=function(rowNode){return this.colSpanActive?this.getDisplayedColumnsForRow(rowNode,this.displayedColumnsLeft):this.displayedColumnsLeft},ColumnController.prototype.getDisplayedRightColumnsForRow=function(rowNode){return this.colSpanActive?this.getDisplayedColumnsForRow(rowNode,this.displayedColumnsRight):this.displayedColumnsRight},ColumnController.prototype.getDisplayedColumnsForRow=function(rowNode,displayedColumns,filterCallback,emptySpaceBeforeColumn){for(var out_i_1,result=[],lastConsideredCol=null,_loop_1=function(i){var filterPasses,col=displayedColumns[i],maxAllowedColSpan=displayedColumns.length-i,colSpan=Math.min(col.getColSpan(rowNode),maxAllowedColSpan),columnsToCheckFilter=[col];if(colSpan>1){for(var colsToRemove=colSpan-1,j=1;j<=colsToRemove;j++)columnsToCheckFilter.push(displayedColumns[i+j]);i+=colsToRemove}filterCallback?(filterPasses=!1,columnsToCheckFilter.forEach((function(colForFilter){filterCallback(colForFilter)&&(filterPasses=!0)}))):filterPasses=!0,filterPasses&&(0===result.length&&lastConsideredCol&&emptySpaceBeforeColumn&&emptySpaceBeforeColumn(col)&&result.push(lastConsideredCol),result.push(col)),lastConsideredCol=col,out_i_1=i},i=0;i<displayedColumns.length;i++)_loop_1(i),i=out_i_1;return result},ColumnController.prototype.getViewportCenterColumnsForRow=function(rowNode){var _this=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var filterCallback=this.suppressColumnVirtualisation?null:this.isColumnInViewport.bind(this);return this.getDisplayedColumnsForRow(rowNode,this.displayedColumnsCenter,filterCallback,(function(col){var left=col.getLeft();return exists(left)&&left>_this.viewportLeft}))},ColumnController.prototype.getAriaColumnIndex=function(col){return this.getAllGridColumns().indexOf(col)+1},ColumnController.prototype.isColumnInViewport=function(col){var columnLeft=col.getLeft()||0,columnRight=columnLeft+col.getActualWidth(),leftBounds=this.viewportLeft-200,rightBounds=this.viewportRight+200;return!(columnLeft<leftBounds&&columnRight<leftBounds||columnLeft>rightBounds&&columnRight>rightBounds)},ColumnController.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},ColumnController.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},ColumnController.prototype.updatePrimaryColumnList=function(keys,masterList,actionIsAdd,columnCallback,eventType,source){var _this=this;if(void 0===source&&(source=\"api\"),keys&&!missingOrEmpty(keys)){var atLeastOne=!1;keys.forEach((function(key){var columnToAdd=_this.getPrimaryColumn(key);if(columnToAdd){if(actionIsAdd){if(masterList.indexOf(columnToAdd)>=0)return;masterList.push(columnToAdd)}else{if(masterList.indexOf(columnToAdd)<0)return;removeFromArray(masterList,columnToAdd)}columnCallback(columnToAdd),atLeastOne=!0}})),atLeastOne&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(source),this.eventService.dispatchEvent({type:eventType,columns:masterList,column:1===masterList.length?masterList[0]:null,api:this.gridApi,columnApi:this.columnApi,source:source}))}},ColumnController.prototype.setRowGroupColumns=function(colKeys,source){void 0===source&&(source=\"api\"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(colKeys,this.rowGroupColumns,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),source)},ColumnController.prototype.setRowGroupActive=function(active,column,source){active!==column.isRowGroupActive()&&(column.setRowGroupActive(active,source),active||this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()||column.setVisible(!0,source))},ColumnController.prototype.addRowGroupColumn=function(key,source){void 0===source&&(source=\"api\"),key&&this.addRowGroupColumns([key],source)},ColumnController.prototype.addRowGroupColumns=function(keys,source){void 0===source&&(source=\"api\"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(keys,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),Events.EVENT_COLUMN_ROW_GROUP_CHANGED,source)},ColumnController.prototype.removeRowGroupColumns=function(keys,source){void 0===source&&(source=\"api\"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(keys,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),Events.EVENT_COLUMN_ROW_GROUP_CHANGED,source)},ColumnController.prototype.removeRowGroupColumn=function(key,source){void 0===source&&(source=\"api\"),key&&this.removeRowGroupColumns([key],source)},ColumnController.prototype.addPivotColumns=function(keys,source){void 0===source&&(source=\"api\"),this.updatePrimaryColumnList(keys,this.pivotColumns,!0,(function(column){return column.setPivotActive(!0,source)}),Events.EVENT_COLUMN_PIVOT_CHANGED,source)},ColumnController.prototype.setPivotColumns=function(colKeys,source){void 0===source&&(source=\"api\"),this.setPrimaryColumnList(colKeys,this.pivotColumns,Events.EVENT_COLUMN_PIVOT_CHANGED,(function(added,column){column.setPivotActive(added,source)}),source)},ColumnController.prototype.addPivotColumn=function(key,source){void 0===source&&(source=\"api\"),this.addPivotColumns([key],source)},ColumnController.prototype.removePivotColumns=function(keys,source){void 0===source&&(source=\"api\"),this.updatePrimaryColumnList(keys,this.pivotColumns,!1,(function(column){return column.setPivotActive(!1,source)}),Events.EVENT_COLUMN_PIVOT_CHANGED,source)},ColumnController.prototype.removePivotColumn=function(key,source){void 0===source&&(source=\"api\"),this.removePivotColumns([key],source)},ColumnController.prototype.setPrimaryColumnList=function(colKeys,masterList,eventName,columnCallback,source){var _this=this;masterList.length=0,exists(colKeys)&&colKeys.forEach((function(key){var column=_this.getPrimaryColumn(key);column&&masterList.push(column)})),this.primaryColumns.forEach((function(column){var added=masterList.indexOf(column)>=0;columnCallback(added,column)})),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(source),this.fireColumnEvent(eventName,masterList,source)},ColumnController.prototype.setValueColumns=function(colKeys,source){void 0===source&&(source=\"api\"),this.setPrimaryColumnList(colKeys,this.valueColumns,Events.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),source)},ColumnController.prototype.setValueActive=function(active,column,source){if(active!==column.isValueActive()&&(column.setValueActive(active,source),active&&!column.getAggFunc())){var initialAggFunc=this.aggFuncService.getDefaultAggFunc(column);column.setAggFunc(initialAggFunc)}},ColumnController.prototype.addValueColumns=function(keys,source){void 0===source&&(source=\"api\"),this.updatePrimaryColumnList(keys,this.valueColumns,!0,this.setValueActive.bind(this,!0),Events.EVENT_COLUMN_VALUE_CHANGED,source)},ColumnController.prototype.addValueColumn=function(colKey,source){void 0===source&&(source=\"api\"),colKey&&this.addValueColumns([colKey],source)},ColumnController.prototype.removeValueColumn=function(colKey,source){void 0===source&&(source=\"api\"),this.removeValueColumns([colKey],source)},ColumnController.prototype.removeValueColumns=function(keys,source){void 0===source&&(source=\"api\"),this.updatePrimaryColumnList(keys,this.valueColumns,!1,this.setValueActive.bind(this,!1),Events.EVENT_COLUMN_VALUE_CHANGED,source)},ColumnController.prototype.normaliseColumnWidth=function(column,newWidth){var minWidth=column.getMinWidth();exists(minWidth)&&newWidth<minWidth&&(newWidth=minWidth);var maxWidth=column.getMaxWidth();return exists(maxWidth)&&column.isGreaterThanMax(newWidth)&&(newWidth=maxWidth),newWidth},ColumnController.prototype.getPrimaryOrGridColumn=function(key){return this.getPrimaryColumn(key)||this.getGridColumn(key)},ColumnController.prototype.setColumnWidths=function(columnWidths,shiftKey,finished,source){var _this=this;void 0===source&&(source=\"api\");var sets=[];columnWidths.forEach((function(columnWidth){var col=_this.getPrimaryOrGridColumn(columnWidth.key);if(col&&(sets.push({width:columnWidth.newWidth,ratios:[1],columns:[col]}),\"shift\"===_this.gridOptionsWrapper.getColResizeDefault()&&(shiftKey=!shiftKey),shiftKey)){var otherCol=_this.getDisplayedColAfter(col);if(!otherCol)return;var widthDiff=col.getActualWidth()-columnWidth.newWidth,otherColWidth=otherCol.getActualWidth()+widthDiff;sets.push({width:otherColWidth,ratios:[1],columns:[otherCol]})}})),0!==sets.length&&this.resizeColumnSets(sets,finished,source)},ColumnController.prototype.checkMinAndMaxWidthsForSet=function(columnResizeSet){var width=columnResizeSet.width,minWidthAccumulated=0,maxWidthAccumulated=0,maxWidthActive=!0;return columnResizeSet.columns.forEach((function(col){var minWidth=col.getMinWidth();minWidthAccumulated+=minWidth||0;var maxWidth=col.getMaxWidth();exists(maxWidth)&&maxWidth>0?maxWidthAccumulated+=maxWidth:maxWidthActive=!1})),width>=minWidthAccumulated&&(!maxWidthActive||width<=maxWidthAccumulated)},ColumnController.prototype.resizeColumnSets=function(resizeSets,finished,source){if(!resizeSets||resizeSets.every(this.checkMinAndMaxWidthsForSet.bind(this))){var changedCols=[],allResizedCols=[];resizeSets.forEach((function(set){var width=set.width,columns=set.columns,ratios=set.ratios,newWidths={},finishedCols={};columns.forEach((function(col){return allResizedCols.push(col)}));for(var finishedColsGrew=!0,loopCount=0,_loop_2=function(){if(++loopCount>1e3)return console.error(\"AG Grid: infinite loop in resizeColumnSets\"),\"break\";finishedColsGrew=!1;var subsetCols=[],subsetRatioTotal=0,pixelsToDistribute=width;columns.forEach((function(col,index){finishedCols[col.getId()]?pixelsToDistribute-=newWidths[col.getId()]:(subsetCols.push(col),subsetRatioTotal+=ratios[index])}));var ratioScale=1/subsetRatioTotal;subsetCols.forEach((function(col,index){var colNewWidth;index===subsetCols.length-1?colNewWidth=pixelsToDistribute:(colNewWidth=Math.round(ratios[index]*width*ratioScale),pixelsToDistribute-=colNewWidth);var minWidth=col.getMinWidth(),maxWidth=col.getMaxWidth();exists(minWidth)&&colNewWidth<minWidth?(colNewWidth=minWidth,finishedCols[col.getId()]=!0,finishedColsGrew=!0):exists(maxWidth)&&maxWidth>0&&colNewWidth>maxWidth&&(colNewWidth=maxWidth,finishedCols[col.getId()]=!0,finishedColsGrew=!0),newWidths[col.getId()]=colNewWidth}))};finishedColsGrew&&\"break\"!==_loop_2(););columns.forEach((function(col){var newWidth=newWidths[col.getId()];col.getActualWidth()!==newWidth&&(col.setActualWidth(newWidth,source),changedCols.push(col))}))}));var atLeastOneColChanged=changedCols.length>0,flexedCols=this.refreshFlexedColumns({resizingCols:allResizedCols,skipSetLeft:!0});atLeastOneColChanged&&(this.setLeftValues(source),this.updateBodyWidths(),this.checkViewportColumns());var colsForEvent=allResizedCols.concat(flexedCols);(atLeastOneColChanged||finished)&&this.fireColumnResizedEvent(colsForEvent,finished,source,flexedCols)}else finished&&this.fireColumnResizedEvent(resizeSets&&resizeSets.length>0?resizeSets[0].columns:null,finished,source)},ColumnController.prototype.setColumnAggFunc=function(key,aggFunc,source){if(void 0===source&&(source=\"api\"),key){var column=this.getPrimaryColumn(key);column&&(column.setAggFunc(aggFunc),this.fireColumnEvent(Events.EVENT_COLUMN_VALUE_CHANGED,[column],source))}},ColumnController.prototype.fireColumnEvent=function(type,columns,source){this.eventService.dispatchEvent({type:type,columns:columns,column:columns&&1==columns.length?columns[0]:null,api:this.gridApi,columnApi:this.columnApi,source:source})},ColumnController.prototype.moveRowGroupColumn=function(fromIndex,toIndex,source){void 0===source&&(source=\"api\");var column=this.rowGroupColumns[fromIndex];this.rowGroupColumns.splice(fromIndex,1),this.rowGroupColumns.splice(toIndex,0,column),this.eventService.dispatchEvent({type:Events.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,api:this.gridApi,columnApi:this.columnApi,source:source})},ColumnController.prototype.moveColumns=function(columnsToMoveKeys,toIndex,source){if(void 0===source&&(source=\"api\"),this.columnAnimationService.start(),toIndex>this.gridColumns.length-columnsToMoveKeys.length)return console.warn(\"AG Grid: tried to insert columns in invalid location, toIndex = \"+toIndex),void console.warn(\"AG Grid: remember that you should not count the moving columns when calculating the new index\");var columnsToMove=this.getGridColumns(columnsToMoveKeys);!this.doesMovePassRules(columnsToMove,toIndex)||(moveInArray(this.gridColumns,columnsToMove,toIndex),this.updateDisplayedColumns(source),this.eventService.dispatchEvent({type:Events.EVENT_COLUMN_MOVED,columns:columnsToMove,column:1===columnsToMove.length?columnsToMove[0]:null,toIndex:toIndex,api:this.gridApi,columnApi:this.columnApi,source:source}),this.columnAnimationService.finish())},ColumnController.prototype.doesMovePassRules=function(columnsToMove,toIndex){var proposedColumnOrder=this.gridColumns.slice();return moveInArray(proposedColumnOrder,columnsToMove,toIndex),!!this.doesMovePassMarryChildren(proposedColumnOrder)&&!!this.doesMovePassLockedPositions(proposedColumnOrder)},ColumnController.prototype.sortColumnsLikeGridColumns=function(cols){var _this=this;!cols||cols.length<=1||cols.filter((function(c){return _this.gridColumns.indexOf(c)<0})).length>0||cols.sort((function(a,b){return _this.gridColumns.indexOf(a)-_this.gridColumns.indexOf(b)}))},ColumnController.prototype.doesMovePassLockedPositions=function(proposedColumnOrder){var foundNonLocked=!1,rulePassed=!0;return proposedColumnOrder.forEach((function(col){col.getColDef().lockPosition?foundNonLocked&&(rulePassed=!1):foundNonLocked=!0})),rulePassed},ColumnController.prototype.doesMovePassMarryChildren=function(allColumnsCopy){var rulePassed=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(child){if(child instanceof OriginalColumnGroup){var columnGroup=child,colGroupDef=columnGroup.getColGroupDef();if(colGroupDef&&colGroupDef.marryChildren){var newIndexes=[];columnGroup.getLeafColumns().forEach((function(col){var newColIndex=allColumnsCopy.indexOf(col);newIndexes.push(newColIndex)})),Math.max.apply(Math,newIndexes)-Math.min.apply(Math,newIndexes)>columnGroup.getLeafColumns().length-1&&(rulePassed=!1)}}})),rulePassed},ColumnController.prototype.moveColumn=function(key,toIndex,source){void 0===source&&(source=\"api\"),this.moveColumns([key],toIndex,source)},ColumnController.prototype.moveColumnByIndex=function(fromIndex,toIndex,source){void 0===source&&(source=\"api\"),this.moveColumn(this.gridColumns[fromIndex],toIndex,source)},ColumnController.prototype.getColumnDefs=function(){var _this=this,cols=this.primaryColumns.slice();return this.gridColsArePrimary?cols.sort((function(a,b){return _this.gridColumns.indexOf(a)-_this.gridColumns.indexOf(b)})):this.lastPrimaryOrder&&cols.sort((function(a,b){return _this.lastPrimaryOrder.indexOf(a)-_this.lastPrimaryOrder.indexOf(b)})),this.columnDefFactory.buildColumnDefs(cols,this.rowGroupColumns,this.pivotColumns)},ColumnController.prototype.getBodyContainerWidth=function(){return this.bodyWidth},ColumnController.prototype.getContainerWidth=function(pinned){switch(pinned){case Constants.PINNED_LEFT:return this.leftWidth;case Constants.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},ColumnController.prototype.updateBodyWidths=function(){var newBodyWidth=this.getWidthOfColsInList(this.displayedColumnsCenter),newLeftWidth=this.getWidthOfColsInList(this.displayedColumnsLeft),newRightWidth=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==newBodyWidth,(this.bodyWidth!==newBodyWidth||this.leftWidth!==newLeftWidth||this.rightWidth!==newRightWidth)&&(this.bodyWidth=newBodyWidth,this.leftWidth=newLeftWidth,this.rightWidth=newRightWidth,this.eventService.dispatchEvent({type:Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},ColumnController.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},ColumnController.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},ColumnController.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},ColumnController.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},ColumnController.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},ColumnController.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},ColumnController.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},ColumnController.prototype.getDisplayedColumns=function(type){switch(type){case Constants.PINNED_LEFT:return this.getDisplayedLeftColumns();case Constants.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},ColumnController.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},ColumnController.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},ColumnController.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},ColumnController.prototype.getAllGridColumns=function(){return this.gridColumns},ColumnController.prototype.isEmpty=function(){return missingOrEmpty(this.gridColumns)},ColumnController.prototype.isRowGroupEmpty=function(){return missingOrEmpty(this.rowGroupColumns)},ColumnController.prototype.setColumnVisible=function(key,visible,source){void 0===source&&(source=\"api\"),this.setColumnsVisible([key],visible,source)},ColumnController.prototype.setColumnsVisible=function(keys,visible,source){var _this=this;void 0===visible&&(visible=!1),void 0===source&&(source=\"api\"),this.columnAnimationService.start(),this.actionOnGridColumns(keys,(function(column){return column.isVisible()!==visible&&(column.setVisible(visible,source),!0)}),source,(function(){return{type:Events.EVENT_COLUMN_VISIBLE,visible:visible,column:null,columns:null,api:_this.gridApi,columnApi:_this.columnApi,source:source}})),this.columnAnimationService.finish()},ColumnController.prototype.setColumnPinned=function(key,pinned,source){void 0===source&&(source=\"api\"),key&&this.setColumnsPinned([key],pinned,source)},ColumnController.prototype.setColumnsPinned=function(keys,pinned,source){var actualPinned,_this=this;void 0===source&&(source=\"api\"),\"print\"!==this.gridOptionsWrapper.getDomLayout()?(this.columnAnimationService.start(),actualPinned=!0===pinned||pinned===Constants.PINNED_LEFT?Constants.PINNED_LEFT:pinned===Constants.PINNED_RIGHT?Constants.PINNED_RIGHT:null,this.actionOnGridColumns(keys,(function(col){return col.getPinned()!==actualPinned&&(col.setPinned(actualPinned),!0)}),source,(function(){return{type:Events.EVENT_COLUMN_PINNED,pinned:actualPinned,column:null,columns:null,api:_this.gridApi,columnApi:_this.columnApi,source:source}})),this.columnAnimationService.finish()):console.warn(\"Changing the column pinning status is not allowed with domLayout='print'\")},ColumnController.prototype.actionOnGridColumns=function(keys,action,source,createEvent){var _this=this;if(!missingOrEmpty(keys)){var updatedColumns=[];if(keys.forEach((function(key){var column=_this.getGridColumn(key);column&&!1!==action(column)&&updatedColumns.push(column)})),updatedColumns.length&&(this.updateDisplayedColumns(source),exists(createEvent)&&createEvent)){var event_4=createEvent();event_4.columns=updatedColumns,event_4.column=1===updatedColumns.length?updatedColumns[0]:null,this.eventService.dispatchEvent(event_4)}}},ColumnController.prototype.getDisplayedColBefore=function(col){var allDisplayedColumns=this.getAllDisplayedColumns(),oldIndex=allDisplayedColumns.indexOf(col);return oldIndex>0?allDisplayedColumns[oldIndex-1]:null},ColumnController.prototype.getDisplayedColAfter=function(col){var allDisplayedColumns=this.getAllDisplayedColumns(),oldIndex=allDisplayedColumns.indexOf(col);return oldIndex<allDisplayedColumns.length-1?allDisplayedColumns[oldIndex+1]:null},ColumnController.prototype.getDisplayedGroupAfter=function(columnGroup){return this.getDisplayedGroupAtDirection(columnGroup,\"After\")},ColumnController.prototype.getDisplayedGroupBefore=function(columnGroup){return this.getDisplayedGroupAtDirection(columnGroup,\"Before\")},ColumnController.prototype.getDisplayedGroupAtDirection=function(columnGroup,direction){for(var requiredLevel=columnGroup.getOriginalColumnGroup().getLevel()+columnGroup.getPaddingLevel(),colGroupLeafColumns=columnGroup.getDisplayedLeafColumns(),col=\"After\"===direction?last(colGroupLeafColumns):colGroupLeafColumns[0],getDisplayColMethod=\"getDisplayedCol\"+direction;;){var column=this[getDisplayColMethod](col);if(!column)return null;var groupPointer=this.getColumnGroupAtLevel(column,requiredLevel);if(groupPointer!==columnGroup)return groupPointer}},ColumnController.prototype.getColumnGroupAtLevel=function(column,level){for(var groupPointer=column.getParent();!(groupPointer.getOriginalColumnGroup().getLevel()+groupPointer.getPaddingLevel()<=level);)groupPointer=groupPointer.getParent();return groupPointer},ColumnController.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},ColumnController.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},ColumnController.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var result=this.primaryColumns?this.primaryColumns.slice(0):[];return this.groupAutoColumns&&exists(this.groupAutoColumns)&&this.groupAutoColumns.forEach((function(col){return result.push(col)})),this.secondaryColumnsPresent&&this.secondaryColumns&&this.secondaryColumns.forEach((function(column){return result.push(column)})),result},ColumnController.prototype.createStateItemFromColumn=function(column){var rowGroupIndex=column.isRowGroupActive()?this.rowGroupColumns.indexOf(column):null,pivotIndex=column.isPivotActive()?this.pivotColumns.indexOf(column):null,aggFunc=column.isValueActive()?column.getAggFunc():null,sort=null!=column.getSort()?column.getSort():null,sortIndex=null!=column.getSortIndex()?column.getSortIndex():null,flex=null!=column.getFlex()&&column.getFlex()>0?column.getFlex():null;return{colId:column.getColId(),width:column.getActualWidth(),hide:!column.isVisible(),pinned:column.getPinned(),sort:sort,sortIndex:sortIndex,aggFunc:aggFunc,rowGroup:column.isRowGroupActive(),rowGroupIndex:rowGroupIndex,pivot:column.isPivotActive(),pivotIndex:pivotIndex,flex:flex}},ColumnController.prototype.getColumnState=function(){if(missing(this.primaryColumns)||!this.isAlive())return[];var primaryColumnState=this.primaryColumns.map(this.createStateItemFromColumn.bind(this)),columnStateList=(this.groupAutoColumns?this.groupAutoColumns.map(this.createStateItemFromColumn.bind(this)):[]).concat(primaryColumnState);return this.pivotMode||this.orderColumnStateList(columnStateList),columnStateList},ColumnController.prototype.orderColumnStateList=function(columnStateList){var gridColumnIdMap=convertToMap(this.gridColumns.map((function(col,index){return[col.getColId(),index]})));columnStateList.sort((function(itemA,itemB){return(gridColumnIdMap.has(itemA.colId)?gridColumnIdMap.get(itemA.colId):-1)-(gridColumnIdMap.has(itemB.colId)?gridColumnIdMap.get(itemB.colId):-1)}))},ColumnController.prototype.resetColumnState=function(source){void 0===source&&(source=\"api\");var primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),columnStates=[],letRowGroupIndex=1e3,letPivotIndex=1e3,colsToProcess=[];this.groupAutoColumns&&(colsToProcess=colsToProcess.concat(this.groupAutoColumns)),primaryColumns&&(colsToProcess=colsToProcess.concat(primaryColumns)),colsToProcess.forEach((function(column){var colDef=column.getColDef(),sort=null!=colDef.sort?colDef.sort:null,sortIndex=colDef.sortIndex,hide=!!colDef.hide,pinned=colDef.pinned?colDef.pinned:null,width=colDef.width,flex=null!=colDef.flex?colDef.flex:null,rowGroupIndex=colDef.rowGroupIndex,rowGroup=colDef.rowGroup;null!=rowGroupIndex||null!=rowGroup&&0!=rowGroup||(rowGroupIndex=null,rowGroup=null);var pivotIndex=colDef.pivotIndex,pivot=colDef.pivot;null!=pivotIndex||null!=pivot&&0!=pivot||(pivotIndex=null,pivot=null);var aggFunc=null!=colDef.aggFunc?colDef.aggFunc:null,stateItem={colId:column.getColId(),sort:sort,sortIndex:sortIndex,hide:hide,pinned:pinned,width:width,flex:flex,rowGroup:rowGroup,rowGroupIndex:rowGroupIndex,pivot:pivot,pivotIndex:pivotIndex,aggFunc:aggFunc};missing(rowGroupIndex)&&rowGroup&&(stateItem.rowGroupIndex=letRowGroupIndex++),missing(pivotIndex)&&pivot&&(stateItem.pivotIndex=letPivotIndex++),columnStates.push(stateItem)})),this.applyColumnState({state:columnStates,applyOrder:!0},source)},ColumnController.prototype.applyColumnState=function(params,source){var _this=this;if(void 0===source&&(source=\"api\"),missingOrEmpty(this.primaryColumns))return!1;if(params&&params.state&&!params.state.forEach)return console.warn(\"AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.\"),!1;this.columnAnimationService.start();var raiseEventsFunc=this.compareColumnStatesAndRaiseEvents(source);this.autoGroupsNeedBuilding=!0;var columnsWithNoState=this.primaryColumns.slice(),success=!0,rowGroupIndexes={},pivotIndexes={},autoGroupColumnStates=[],previousRowGroupCols=this.rowGroupColumns.slice(),previousPivotCols=this.pivotColumns.slice();params.state&&params.state.forEach((function(state){var colId=state.colId||\"\";if(startsWith(colId,Constants.GROUP_AUTO_COLUMN_ID))autoGroupColumnStates.push(state);else{var column=_this.getPrimaryColumn(colId);column?(_this.syncColumnWithStateItem(column,state,params.defaultState,rowGroupIndexes,pivotIndexes,!1,source),removeFromArray(columnsWithNoState,column)):success=!1}}));var applyDefaultsFunc=function(col){return _this.syncColumnWithStateItem(col,null,params.defaultState,rowGroupIndexes,pivotIndexes,!1,source)};columnsWithNoState.forEach(applyDefaultsFunc);var comparator=function(indexes,oldList,colA,colB){var indexA=indexes[colA.getId()],indexB=indexes[colB.getId()],aHasIndex=null!=indexA,bHasIndex=null!=indexB;if(aHasIndex&&bHasIndex)return indexA-indexB;if(aHasIndex)return-1;if(bHasIndex)return 1;var oldIndexA=oldList.indexOf(colA),oldIndexB=oldList.indexOf(colB),aHasOldIndex=oldIndexA>=0;return aHasOldIndex&&oldIndexB>=0?oldIndexA-oldIndexB:aHasOldIndex?-1:1};this.rowGroupColumns.sort(comparator.bind(this,rowGroupIndexes,previousRowGroupCols)),this.pivotColumns.sort(comparator.bind(this,pivotIndexes,previousPivotCols)),this.updateGridColumns();var autoGroupColsCopy=this.groupAutoColumns?this.groupAutoColumns.slice():[];return autoGroupColumnStates.forEach((function(stateItem){var autoCol=_this.getAutoColumn(stateItem.colId);removeFromArray(autoGroupColsCopy,autoCol),_this.syncColumnWithStateItem(autoCol,stateItem,params.defaultState,null,null,!0,source)})),autoGroupColsCopy.forEach(applyDefaultsFunc),this.applyOrderAfterApplyState(params),this.updateDisplayedColumns(source),this.dispatchEverythingChanged(source),raiseEventsFunc(),this.columnAnimationService.finish(),success},ColumnController.prototype.applyOrderAfterApplyState=function(params){if(this.gridColsArePrimary&&params.applyOrder&&params.state){var newOrder=[],processedColIds={},gridColumnsMap={};this.gridColumns.forEach((function(col){return gridColumnsMap[col.getId()]=col})),params.state.forEach((function(item){if(item.colId&&!processedColIds[item.colId]){var col=gridColumnsMap[item.colId];col&&(newOrder.push(col),processedColIds[item.colId]=!0)}})),this.gridColumns.forEach((function(col){processedColIds[col.getColId()]||newOrder.push(col)})),newOrder=this.putFixedColumnsFirst(newOrder),this.doesMovePassMarryChildren(newOrder)?this.gridColumns=newOrder:console.warn(\"AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.\")}},ColumnController.prototype.compareColumnStatesAndRaiseEvents=function(source){var _this=this;if(!this.columnDefs)return function(){};var startState={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},columnStateBefore=this.getColumnState(),columnStateBeforeMap={};return columnStateBefore.forEach((function(col){columnStateBeforeMap[col.colId]=col})),function(){if(!_this.gridOptionsWrapper.isSuppressColumnStateEvents()){var raiseWhenListsDifferent=function(eventType,colsBefore,colsAfter,idMapper){areEqual(colsBefore.map(idMapper).sort(),colsAfter.map(idMapper).sort())||_this.eventService.dispatchEvent({type:eventType,columns:colsAfter,column:1===colsAfter.length?colsAfter[0]:null,api:_this.gridApi,columnApi:_this.columnApi,source:source})},getChangedColumns=function(changedPredicate){var changedColumns=[];return _this.gridColumns.forEach((function(column){var colStateBefore=columnStateBeforeMap[column.getColId()];colStateBefore&&changedPredicate(colStateBefore,column)&&changedColumns.push(column)})),changedColumns},columnIdMapper=function(c){return c.getColId()};raiseWhenListsDifferent(Events.EVENT_COLUMN_ROW_GROUP_CHANGED,startState.rowGroupColumns,_this.rowGroupColumns,columnIdMapper),raiseWhenListsDifferent(Events.EVENT_COLUMN_PIVOT_CHANGED,startState.pivotColumns,_this.pivotColumns,columnIdMapper),getChangedColumns((function(cs,c){var oldActive=null!=cs.aggFunc,activeChanged=oldActive!=c.isValueActive(),aggFuncChanged=oldActive&&cs.aggFunc!=c.getAggFunc();return activeChanged||aggFuncChanged})).length>0&&_this.fireColumnEvent(Events.EVENT_COLUMN_VALUE_CHANGED,_this.valueColumns,source),_this.fireColumnResizedEvent(getChangedColumns((function(cs,c){return cs.width!=c.getActualWidth()})),!0,source),_this.raiseColumnPinnedEvent(getChangedColumns((function(cs,c){return cs.pinned!=c.getPinned()})),source),_this.raiseColumnVisibleEvent(getChangedColumns((function(cs,c){return cs.hide==c.isVisible()})),source),getChangedColumns((function(cs,c){return cs.sort!=c.getSort()||cs.sortIndex!=c.getSortIndex()})).length>0&&_this.sortController.dispatchSortChangedEvents(),_this.raiseColumnMovedEvent(columnStateBefore,source)}}},ColumnController.prototype.raiseColumnPinnedEvent=function(changedColumns,source){if(changedColumns.length){var column=1===changedColumns.length?changedColumns[0]:null,pinned=this.getCommonValue(changedColumns,(function(col){return col.getPinned()}));this.eventService.dispatchEvent({type:Events.EVENT_COLUMN_PINNED,pinned:null!=pinned?pinned:null,columns:changedColumns,column:column,api:this.gridApi,columnApi:this.columnApi,source:source})}},ColumnController.prototype.getCommonValue=function(cols,valueGetter){if(cols&&0!=cols.length){for(var firstValue=valueGetter(cols[0]),i=1;i<cols.length;i++)if(firstValue!==valueGetter(cols[i]))return;return firstValue}},ColumnController.prototype.raiseColumnVisibleEvent=function(changedColumns,source){if(changedColumns.length){var column=1===changedColumns.length?changedColumns[0]:null,visible=this.getCommonValue(changedColumns,(function(col){return col.isVisible()}));this.eventService.dispatchEvent({type:Events.EVENT_COLUMN_VISIBLE,visible:visible,columns:changedColumns,column:column,api:this.gridApi,columnApi:this.columnApi,source:source})}},ColumnController.prototype.raiseColumnMovedEvent=function(colStateBefore,source){var _this=this,colStateAfter=this.getColumnState(),colStateAfterMapped={};colStateAfter.forEach((function(s){return colStateAfterMapped[s.colId]=s}));var colsIntersectIds={};colStateBefore.forEach((function(s){colStateAfterMapped[s.colId]&&(colsIntersectIds[s.colId]=!0)}));var beforeFiltered=filter(colStateBefore,(function(c){return colsIntersectIds[c.colId]})),afterFiltered=filter(colStateAfter,(function(c){return colsIntersectIds[c.colId]})),movedColumns=[];afterFiltered.forEach((function(csAfter,index){var csBefore=beforeFiltered&&beforeFiltered[index];if(csBefore&&csBefore.colId!==csAfter.colId){var gridCol=_this.getGridColumn(csBefore.colId);gridCol&&movedColumns.push(gridCol)}})),movedColumns.length&&this.eventService.dispatchEvent({type:Events.EVENT_COLUMN_MOVED,columns:movedColumns,column:null,api:this.gridApi,columnApi:this.columnApi,source:source})},ColumnController.prototype.syncColumnWithStateItem=function(column,stateItem,defaultState,rowGroupIndexes,pivotIndexes,autoCol,source){if(column){var getValue=function(key1,key2){var stateAny=stateItem,defaultAny=defaultState,obj={value1:void 0,value2:void 0},calculated=!1;return stateAny&&(void 0!==stateAny[key1]&&(obj.value1=stateAny[key1],calculated=!0),exists(key2)&&void 0!==stateAny[key2]&&(obj.value2=stateAny[key2],calculated=!0)),!calculated&&defaultAny&&(void 0!==defaultAny[key1]&&(obj.value1=defaultAny[key1]),exists(key2)&&void 0!==defaultAny[key2]&&(obj.value2=defaultAny[key2])),obj},hide=getValue(\"hide\").value1;void 0!==hide&&column.setVisible(!hide,source);var pinned=getValue(\"pinned\").value1;void 0!==pinned&&column.setPinned(pinned);var minColWidth=this.gridOptionsWrapper.getMinColWidth(),flex=getValue(\"flex\").value1;if(void 0!==flex&&column.setFlex(flex),column.getFlex()<=0){var width=getValue(\"width\").value1;null!=width&&minColWidth&&width>=minColWidth&&column.setActualWidth(width,source)}var sort=getValue(\"sort\").value1;void 0!==sort&&column.setSort(sort===Constants.SORT_DESC||sort===Constants.SORT_ASC?sort:void 0);var sortIndex=getValue(\"sortIndex\").value1;if(void 0!==sortIndex&&column.setSortIndex(sortIndex),!autoCol){var aggFunc=getValue(\"aggFunc\").value1;void 0!==aggFunc&&(\"string\"==typeof aggFunc?(column.setAggFunc(aggFunc),column.isValueActive()||(column.setValueActive(!0,source),this.valueColumns.push(column))):(exists(aggFunc)&&console.warn(\"AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.\"),column.setAggFunc(null),column.isValueActive()&&(column.setValueActive(!1,source),removeFromArray(this.valueColumns,column))));var _a=getValue(\"rowGroup\",\"rowGroupIndex\"),rowGroup=_a.value1,rowGroupIndex=_a.value2;void 0===rowGroup&&void 0===rowGroupIndex||(\"number\"==typeof rowGroupIndex||rowGroup?(column.isRowGroupActive()||(column.setRowGroupActive(!0,source),this.rowGroupColumns.push(column)),rowGroupIndexes&&\"number\"==typeof rowGroupIndex&&(rowGroupIndexes[column.getId()]=rowGroupIndex)):column.isRowGroupActive()&&(column.setRowGroupActive(!1,source),removeFromArray(this.rowGroupColumns,column)));var _b=getValue(\"pivot\",\"pivotIndex\"),pivot=_b.value1,pivotIndex=_b.value2;void 0===pivot&&void 0===pivotIndex||(\"number\"==typeof pivotIndex||pivot?(column.isPivotActive()||(column.setPivotActive(!0,source),this.pivotColumns.push(column)),pivotIndexes&&\"number\"==typeof pivotIndex&&(pivotIndexes[column.getId()]=pivotIndex)):column.isPivotActive()&&(column.setPivotActive(!1,source),removeFromArray(this.pivotColumns,column)))}}},ColumnController.prototype.getGridColumns=function(keys){return this.getColumns(keys,this.getGridColumn.bind(this))},ColumnController.prototype.getColumns=function(keys,columnLookupCallback){var foundColumns=[];return keys&&keys.forEach((function(key){var column=columnLookupCallback(key);column&&foundColumns.push(column)})),foundColumns},ColumnController.prototype.getColumnWithValidation=function(key){if(null==key)return null;var column=this.getGridColumn(key);return column||console.warn(\"AG Grid: could not find column \"+key),column},ColumnController.prototype.getPrimaryColumn=function(key){return this.getColumn(key,this.primaryColumns,this.primaryColumnsMap)},ColumnController.prototype.getGridColumn=function(key){return this.getColumn(key,this.gridColumns,this.gridColumnsMap)},ColumnController.prototype.getColumn=function(key,columnList,columnMap){if(!key)return null;if(\"string\"==typeof key&&columnMap[key])return columnMap[key];for(var i=0;i<columnList.length;i++)if(this.columnsMatch(columnList[i],key))return columnList[i];return this.getAutoColumn(key)},ColumnController.prototype.getAutoColumn=function(key){var _this=this;return this.groupAutoColumns&&exists(this.groupAutoColumns)&&!missing(this.groupAutoColumns)?find(this.groupAutoColumns,(function(groupCol){return _this.columnsMatch(groupCol,key)})):null},ColumnController.prototype.columnsMatch=function(column,key){var columnMatches=column===key,colDefMatches=column.getColDef()===key,idMatches=column.getColId()==key;return columnMatches||colDefMatches||idMatches},ColumnController.prototype.getDisplayNameForColumn=function(column,location,includeAggFunc){if(void 0===includeAggFunc&&(includeAggFunc=!1),!column)return null;var headerName=this.getHeaderName(column.getColDef(),column,null,null,location);return includeAggFunc?this.wrapHeaderNameWithAggFunc(column,headerName):headerName},ColumnController.prototype.getDisplayNameForOriginalColumnGroup=function(columnGroup,originalColumnGroup,location){var colGroupDef=originalColumnGroup?originalColumnGroup.getColGroupDef():null;return colGroupDef?this.getHeaderName(colGroupDef,null,columnGroup,originalColumnGroup,location):null},ColumnController.prototype.getDisplayNameForColumnGroup=function(columnGroup,location){return this.getDisplayNameForOriginalColumnGroup(columnGroup,columnGroup.getOriginalColumnGroup(),location)},ColumnController.prototype.getHeaderName=function(colDef,column,columnGroup,originalColumnGroup,location){var headerValueGetter=colDef.headerValueGetter;if(headerValueGetter){var params={colDef:colDef,column:column,columnGroup:columnGroup,originalColumnGroup:originalColumnGroup,location:location,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};return\"function\"==typeof headerValueGetter?headerValueGetter(params):\"string\"==typeof headerValueGetter?this.expressionService.evaluate(headerValueGetter,params):(console.warn(\"ag-grid: headerValueGetter must be a function or a string\"),\"\")}return null!=colDef.headerName?colDef.headerName:colDef.field?camelCaseToHumanText(colDef.field):\"\"},ColumnController.prototype.wrapHeaderNameWithAggFunc=function(column,headerName){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return headerName;var aggFuncFound,pivotValueColumn=column.getColDef().pivotValueColumn,aggFunc=null;if(exists(pivotValueColumn))aggFunc=pivotValueColumn?pivotValueColumn.getAggFunc():null,aggFuncFound=!0;else{var measureActive=column.isValueActive(),aggregationPresent=this.pivotMode||!this.isRowGroupEmpty();measureActive&&aggregationPresent?(aggFunc=column.getAggFunc(),aggFuncFound=!0):aggFuncFound=!1}if(aggFuncFound){var aggFuncString=\"string\"==typeof aggFunc?aggFunc:\"func\";return this.gridOptionsWrapper.getLocaleTextFunc()(aggFuncString,aggFuncString)+\"(\"+headerName+\")\"}return headerName},ColumnController.prototype.getColumnGroup=function(colId,instanceId){if(!colId)return null;if(colId instanceof ColumnGroup)return colId;var allColumnGroups=this.getAllDisplayedTrees(),checkInstanceId=\"number\"==typeof instanceId,result=null;return this.columnUtils.depthFirstAllColumnTreeSearch(allColumnGroups,(function(child){if(child instanceof ColumnGroup){var columnGroup=child;(checkInstanceId?colId===columnGroup.getGroupId()&&instanceId===columnGroup.getInstanceId():colId===columnGroup.getGroupId())&&(result=columnGroup)}})),result},ColumnController.prototype.isReady=function(){return this.ready},ColumnController.prototype.extractValueColumns=function(source,oldPrimaryColumns){this.valueColumns=this.extractColumns(oldPrimaryColumns,this.valueColumns,(function(col,flag){return col.setValueActive(flag,source)}),(function(){}),(function(){}),(function(colDef){var aggFunc=colDef.aggFunc;return null===aggFunc||\"\"===aggFunc?null:void 0!==aggFunc?!!aggFunc:void 0}),(function(colDef){return null!=colDef.initialAggFunc&&\"\"!=colDef.initialAggFunc})),this.valueColumns.forEach((function(col){var colDef=col.getColDef();null!=colDef.aggFunc&&\"\"!=colDef.aggFunc?col.setAggFunc(colDef.aggFunc):col.getAggFunc()||col.setAggFunc(colDef.initialAggFunc)}))},ColumnController.prototype.extractRowGroupColumns=function(source,oldPrimaryColumns){this.rowGroupColumns=this.extractColumns(oldPrimaryColumns,this.rowGroupColumns,(function(col,flag){return col.setRowGroupActive(flag,source)}),(function(colDef){return colDef.rowGroupIndex}),(function(colDef){return colDef.initialRowGroupIndex}),(function(colDef){return colDef.rowGroup}),(function(colDef){return colDef.initialRowGroup}))},ColumnController.prototype.extractColumns=function(oldPrimaryColumns,previousCols,setFlagFunc,getIndexFunc,getInitialIndexFunc,getValueFunc,getInitialValueFunc){void 0===oldPrimaryColumns&&(oldPrimaryColumns=[]),void 0===previousCols&&(previousCols=[]);var colsWithIndex=[],colsWithValue=[];this.primaryColumns.forEach((function(col){var colIsNew=oldPrimaryColumns.indexOf(col)<0,colDef=col.getColDef(),value=attrToBoolean(getValueFunc(colDef)),initialValue=attrToBoolean(getInitialValueFunc(colDef)),index=attrToNumber(getIndexFunc(colDef)),initialIndex=attrToNumber(getInitialIndexFunc(colDef));(colIsNew?void 0!==value||void 0!==index?void 0!==value?value:index>=0:initialValue||initialIndex>=0:void 0!==value?value:void 0!==index?null!==index&&index>=0:previousCols.indexOf(col)>=0)&&((colIsNew?null!=index||null!=initialIndex:null!=index)?colsWithIndex.push(col):colsWithValue.push(col))}));var getIndexForCol=function(col){var index=getIndexFunc(col.getColDef()),defaultIndex=getInitialIndexFunc(col.getColDef());return null!=index?index:defaultIndex};colsWithIndex.sort((function(colA,colB){var indexA=getIndexForCol(colA),indexB=getIndexForCol(colB);return indexA===indexB?0:indexA<indexB?-1:1}));var res=[].concat(colsWithIndex);return previousCols.forEach((function(col){colsWithValue.indexOf(col)>=0&&res.push(col)})),colsWithValue.forEach((function(col){res.indexOf(col)<0&&res.push(col)})),previousCols.forEach((function(col){res.indexOf(col)<0&&setFlagFunc(col,!1)})),res.forEach((function(col){previousCols.indexOf(col)<0&&setFlagFunc(col,!0)})),res},ColumnController.prototype.extractPivotColumns=function(source,oldPrimaryColumns){this.pivotColumns=this.extractColumns(oldPrimaryColumns,this.pivotColumns,(function(col,flag){return col.setPivotActive(flag,source)}),(function(colDef){return colDef.pivotIndex}),(function(colDef){return colDef.initialPivotIndex}),(function(colDef){return colDef.pivot}),(function(colDef){return colDef.initialPivot}))},ColumnController.prototype.resetColumnGroupState=function(source){void 0===source&&(source=\"api\");var stateItems=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,(function(child){if(child instanceof OriginalColumnGroup){var colGroupDef=child.getColGroupDef(),groupState={groupId:child.getGroupId(),open:colGroupDef?colGroupDef.openByDefault:void 0};stateItems.push(groupState)}})),this.setColumnGroupState(stateItems,source)},ColumnController.prototype.getColumnGroupState=function(){var columnGroupState=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(node){if(node instanceof OriginalColumnGroup){var originalColumnGroup=node;columnGroupState.push({groupId:originalColumnGroup.getGroupId(),open:originalColumnGroup.isExpanded()})}})),columnGroupState},ColumnController.prototype.setColumnGroupState=function(stateItems,source){var _this=this;void 0===source&&(source=\"api\"),this.columnAnimationService.start();var impactedGroups=[];stateItems.forEach((function(stateItem){var newValue=stateItem.open,originalColumnGroup=_this.getOriginalColumnGroup(stateItem.groupId);originalColumnGroup&&originalColumnGroup.isExpanded()!==newValue&&(_this.logger.log(\"columnGroupOpened(\"+originalColumnGroup.getGroupId()+\",\"+newValue+\")\"),originalColumnGroup.setExpanded(newValue),impactedGroups.push(originalColumnGroup))})),this.updateGroupsAndDisplayedColumns(source),this.setFirstRightAndLastLeftPinned(source),impactedGroups.forEach((function(originalColumnGroup){_this.eventService.dispatchEvent({type:Events.EVENT_COLUMN_GROUP_OPENED,columnGroup:originalColumnGroup,api:_this.gridApi,columnApi:_this.columnApi})})),this.columnAnimationService.finish()},ColumnController.prototype.setColumnGroupOpened=function(key,newValue,source){var keyAsString;void 0===source&&(source=\"api\"),keyAsString=key instanceof OriginalColumnGroup?key.getId():key||\"\",this.setColumnGroupState([{groupId:keyAsString,open:newValue}],source)},ColumnController.prototype.getOriginalColumnGroup=function(key){if(key instanceof OriginalColumnGroup)return key;\"string\"!=typeof key&&console.error(\"AG Grid: group key must be a string\");var res=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(node){if(node instanceof OriginalColumnGroup){var originalColumnGroup=node;originalColumnGroup.getId()===key&&(res=originalColumnGroup)}})),res},ColumnController.prototype.calculateColumnsForDisplay=function(){var _this=this;return this.gridColumns.filter(this.pivotMode&&!this.secondaryColumnsPresent?function(column){var isAutoGroupCol=_this.groupAutoColumns&&includes(_this.groupAutoColumns,column),isValueCol=_this.valueColumns&&includes(_this.valueColumns,column);return isAutoGroupCol||isValueCol}:function(column){return _this.groupAutoColumns&&includes(_this.groupAutoColumns,column)||column.isVisible()})},ColumnController.prototype.checkColSpanActiveInCols=function(columns){var result=!1;return columns.forEach((function(col){exists(col.getColDef().colSpan)&&(result=!0)})),result},ColumnController.prototype.calculateColumnsForGroupDisplay=function(){var _this=this;this.groupDisplayColumns=[];var checkFunc=function(col){var colDef=col.getColDef();colDef&&exists(colDef.showRowGroup)&&_this.groupDisplayColumns.push(col)};this.gridColumns.forEach(checkFunc),this.groupAutoColumns&&this.groupAutoColumns.forEach(checkFunc)},ColumnController.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},ColumnController.prototype.updateDisplayedColumns=function(source){var columnsForDisplay=this.calculateColumnsForDisplay();this.buildDisplayedTrees(columnsForDisplay),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(source),this.setFirstRightAndLastLeftPinned(source)},ColumnController.prototype.isSecondaryColumnsPresent=function(){return this.secondaryColumnsPresent},ColumnController.prototype.setSecondaryColumns=function(colDefs,source){void 0===source&&(source=\"api\");var newColsPresent=colDefs&&colDefs.length>0;if(newColsPresent||this.secondaryColumnsPresent){if(newColsPresent){this.processSecondaryColumnDefinitions(colDefs);var balancedTreeResult=this.columnFactory.createColumnTree(colDefs,!1);this.secondaryBalancedTree=balancedTreeResult.columnTree,this.secondaryHeaderRowCount=balancedTreeResult.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsPresent=!0}else this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsPresent=!1;this.updateGridColumns(),this.updateDisplayedColumns(source)}},ColumnController.prototype.processSecondaryColumnDefinitions=function(colDefs){var columnCallback=this.gridOptionsWrapper.getProcessSecondaryColDefFunc(),groupCallback=this.gridOptionsWrapper.getProcessSecondaryColGroupDefFunc();if(columnCallback||groupCallback){var searchForColDefs=function(colDefs2){colDefs2.forEach((function(abstractColDef){if(exists(abstractColDef.children)){var colGroupDef=abstractColDef;groupCallback&&groupCallback(colGroupDef),searchForColDefs(colGroupDef.children)}else columnCallback&&columnCallback(abstractColDef)}))};colDefs&&searchForColDefs(colDefs)}},ColumnController.prototype.updateGridColumns=function(){var _this=this;this.gridColsArePrimary&&(this.lastPrimaryOrder=this.gridColumns),this.secondaryColumns&&this.secondaryBalancedTree?(this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1):(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,this.orderGridColsLikeLastPrimary()),this.addAutoGroupToGridColumns(),this.autoRowHeightColumns=this.gridColumns.filter((function(col){return col.getColDef().autoHeight})),this.gridColumns=this.putFixedColumnsFirst(this.gridColumns),this.setupQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach((function(col){return _this.gridColumnsMap[col.getId()]=col})),this.eventService.dispatchEvent({type:Events.EVENT_GRID_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},ColumnController.prototype.orderGridColsLikeLastPrimary=function(){if(!missing(this.lastPrimaryOrder)){var lastPrimaryOrderMapped=convertToMap(this.lastPrimaryOrder.map((function(col,index){return[col,index]}))),noColsFound=!0;if(this.gridColumns.forEach((function(col){lastPrimaryOrderMapped.has(col)&&(noColsFound=!1)})),!noColsFound){var gridColsMap=convertToMap(this.gridColumns.map((function(col){return[col,!0]}))),oldColsOrdered=this.lastPrimaryOrder.filter((function(col){return gridColsMap.has(col)})),oldColsMap=convertToMap(oldColsOrdered.map((function(col){return[col,!0]}))),newColsOrdered=this.gridColumns.filter((function(col){return!oldColsMap.has(col)})),newGridColumns=oldColsOrdered.slice();newColsOrdered.forEach((function(newCol){var parent=newCol.getOriginalParent();if(parent){for(var siblings=[];!siblings.length&&parent;)parent.getLeafColumns().forEach((function(leafCol){var presentInNewGriColumns=newGridColumns.indexOf(leafCol)>=0,noYetInSiblings=siblings.indexOf(leafCol)<0;presentInNewGriColumns&&noYetInSiblings&&siblings.push(leafCol)})),parent=parent.getOriginalParent();if(siblings.length){var indexes=siblings.map((function(col){return newGridColumns.indexOf(col)})),lastIndex=Math.max.apply(Math,indexes);insertIntoArray(newGridColumns,newCol,lastIndex+1)}else newGridColumns.push(newCol)}else newGridColumns.push(newCol)})),this.gridColumns=newGridColumns}}},ColumnController.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},ColumnController.prototype.setupQuickFilterColumns=function(){this.columnsForQuickFilter=this.groupAutoColumns?this.primaryColumns.concat(this.groupAutoColumns):this.primaryColumns},ColumnController.prototype.putFixedColumnsFirst=function(cols){var locked=cols.filter((function(c){return c.getColDef().lockPosition})),unlocked=cols.filter((function(c){return!c.getColDef().lockPosition}));return locked.concat(unlocked)},ColumnController.prototype.addAutoGroupToGridColumns=function(){if(this.createGroupAutoColumnsIfNeeded(),!missing(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var autoColBalancedTree=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=autoColBalancedTree.concat(this.gridBalancedTree)}},ColumnController.prototype.clearDisplayedAndViewportColumns=function(){this.displayedTreeLeft=[],this.displayedTreeRight=[],this.displayedTreeCentre=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[]},ColumnController.prototype.updateGroupsAndDisplayedColumns=function(source){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(source),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:Events.EVENT_DISPLAYED_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},ColumnController.prototype.deriveDisplayedColumns=function(source){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(source)},ColumnController.prototype.joinDisplayedColumns=function(){this.displayedColumns=this.gridOptionsWrapper.isEnableRtl()?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},ColumnController.prototype.setLeftValues=function(source){this.setLeftValuesOfColumns(source),this.setLeftValuesOfGroups()},ColumnController.prototype.setLeftValuesOfColumns=function(source){var _this=this,allColumns=this.primaryColumns.slice(0),doingRtl=this.gridOptionsWrapper.isEnableRtl();[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach((function(columns){if(doingRtl){var left_1=_this.getWidthOfColsInList(columns);columns.forEach((function(column){left_1-=column.getActualWidth(),column.setLeft(left_1,source)}))}else{var left_2=0;columns.forEach((function(column){column.setLeft(left_2,source),left_2+=column.getActualWidth()}))}removeAllFromArray(allColumns,columns)})),allColumns.forEach((function(column){column.setLeft(null,source)}))},ColumnController.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach((function(columns){columns.forEach((function(column){column instanceof ColumnGroup&&column.checkLeft()}))}))},ColumnController.prototype.derivedDisplayedColumnsFromDisplayedTree=function(tree,columns){columns.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(tree,(function(child){child instanceof Column&&columns.push(child)}))},ColumnController.prototype.extractViewportColumns=function(){this.viewportColumnsCenter=this.suppressColumnVirtualisation?this.displayedColumnsCenter:this.filterOutColumnsWithinViewport(),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},ColumnController.prototype.getVirtualHeaderGroupRow=function(type,dept){var result;switch(type){case Constants.PINNED_LEFT:result=this.viewportRowLeft[dept];break;case Constants.PINNED_RIGHT:result=this.viewportRowRight[dept];break;default:result=this.viewportRowCenter[dept]}return missing(result)&&(result=[]),result},ColumnController.prototype.extractViewportRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var virtualColIds={};this.viewportColumns.forEach((function(col){return virtualColIds[col.getId()]=!0}));var testGroup=function(children,result,dept){for(var returnValue=!1,i=0;i<children.length;i++){var child=children[i],addThisItem=!1;if(child instanceof Column)addThisItem=!0===virtualColIds[child.getId()];else{var displayedChildren=child.getDisplayedChildren();displayedChildren&&(addThisItem=testGroup(displayedChildren,result,dept+1))}addThisItem&&(returnValue=!0,result[dept]||(result[dept]=[]),result[dept].push(child))}return returnValue};testGroup(this.displayedTreeLeft,this.viewportRowLeft,0),testGroup(this.displayedTreeRight,this.viewportRowRight,0),testGroup(this.displayedTreeCentre,this.viewportRowCenter,0)},ColumnController.prototype.extractViewport=function(){this.extractViewportColumns(),this.extractViewportRows()},ColumnController.prototype.filterOutColumnsWithinViewport=function(){return this.displayedColumnsCenter.filter(this.isColumnInViewport.bind(this))},ColumnController.prototype.refreshFlexedColumns=function(params){var _this=this;void 0===params&&(params={});var source=params.source?params.source:\"flex\";if(null!=params.viewportWidth&&(this.flexViewportWidth=params.viewportWidth),!this.flexViewportWidth)return[];var flexAfterDisplayIndex=-1;params.resizingCols&&params.resizingCols.forEach((function(col){var indexOfCol=_this.displayedColumnsCenter.indexOf(col);flexAfterDisplayIndex<indexOfCol&&(flexAfterDisplayIndex=indexOfCol)}));var isColFlex=function(col){var afterResizingCols=_this.displayedColumnsCenter.indexOf(col)>flexAfterDisplayIndex;return col.getFlex()&&afterResizingCols},knownWidthColumns=this.displayedColumnsCenter.filter((function(col){return!isColFlex(col)})),flexingColumns=this.displayedColumnsCenter.filter((function(col){return isColFlex(col)})),changedColumns=[];if(!flexingColumns.length)return[];var spaceForFlexingColumns,flexingColumnSizes=[];outer:for(;;){var totalFlex=flexingColumns.reduce((function(count,col){return count+col.getFlex()}),0);spaceForFlexingColumns=this.flexViewportWidth-this.getWidthOfColsInList(knownWidthColumns);for(var i=0;i<flexingColumns.length;i++){var col=flexingColumns[i],widthByFlexRule=spaceForFlexingColumns*col.getFlex()/totalFlex,constrainedWidth=0,minWidth=col.getMinWidth(),maxWidth=col.getMaxWidth();if(exists(minWidth)&&widthByFlexRule<minWidth?constrainedWidth=minWidth:exists(maxWidth)&&widthByFlexRule>maxWidth&&(constrainedWidth=maxWidth),constrainedWidth){col.setActualWidth(constrainedWidth,source),removeFromArray(flexingColumns,col),changedColumns.push(col),knownWidthColumns.push(col);continue outer}flexingColumnSizes[i]=Math.round(widthByFlexRule)}break}var remainingSpace=spaceForFlexingColumns;return flexingColumns.forEach((function(col,i){col.setActualWidth(Math.min(flexingColumnSizes[i],remainingSpace),source),changedColumns.push(col),remainingSpace-=flexingColumnSizes[i]})),params.skipSetLeft||this.setLeftValues(source),params.updateBodyWidths&&this.updateBodyWidths(),params.fireResizedEvent&&this.fireColumnResizedEvent(changedColumns,!0,source,flexingColumns),this.flexColsCalculatedAtLestOnce||(this.gridOptionsWrapper.isRowModelDefault()&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),flexingColumns},ColumnController.prototype.sizeColumnsToFit=function(gridWidth,source,silent){void 0===source&&(source=\"sizeColumnsToFit\");var allDisplayedColumns=this.getAllDisplayedColumns();if(!(gridWidth<=0)&&allDisplayedColumns.length){var colsToSpread=[],colsToNotSpread=[];allDisplayedColumns.forEach((function(column){!0===column.getColDef().suppressSizeToFit?colsToNotSpread.push(column):colsToSpread.push(column)}));var colsToFireEventFor=colsToSpread.slice(0),finishedResizing=!1,moveToNotSpread=function(column){removeFromArray(colsToSpread,column),colsToNotSpread.push(column)};for(colsToSpread.forEach((function(column){return column.resetActualWidth(source)}));!finishedResizing;){finishedResizing=!0;var availablePixels=gridWidth-this.getWidthOfColsInList(colsToNotSpread);if(availablePixels<=0)colsToSpread.forEach((function(column){column.setMinimum(source)}));else for(var scale=availablePixels/this.getWidthOfColsInList(colsToSpread),pixelsForLastCol=availablePixels,i=colsToSpread.length-1;i>=0;i--){var column=colsToSpread[i],minWidth=column.getMinWidth(),maxWidth=column.getMaxWidth(),newWidth=Math.round(column.getActualWidth()*scale);exists(minWidth)&&newWidth<minWidth?(newWidth=minWidth,moveToNotSpread(column),finishedResizing=!1):exists(maxWidth)&&column.isGreaterThanMax(newWidth)?(newWidth=maxWidth,moveToNotSpread(column),finishedResizing=!1):0===i&&(newWidth=pixelsForLastCol),column.setActualWidth(newWidth,source,!0),pixelsForLastCol-=newWidth}}colsToFireEventFor.forEach((function(col){col.fireColumnWidthChangedEvent(source)})),this.setLeftValues(source),this.updateBodyWidths(),silent||this.fireColumnResizedEvent(colsToFireEventFor,!0,source)}},ColumnController.prototype.buildDisplayedTrees=function(visibleColumns){var leftVisibleColumns=[],rightVisibleColumns=[],centerVisibleColumns=[];visibleColumns.forEach((function(column){switch(column.getPinned()){case\"left\":leftVisibleColumns.push(column);break;case\"right\":rightVisibleColumns.push(column);break;default:centerVisibleColumns.push(column)}}));var groupInstanceIdCreator=new GroupInstanceIdCreator;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(leftVisibleColumns,this.gridBalancedTree,groupInstanceIdCreator,Constants.PINNED_LEFT,this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(rightVisibleColumns,this.gridBalancedTree,groupInstanceIdCreator,Constants.PINNED_RIGHT,this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(centerVisibleColumns,this.gridBalancedTree,groupInstanceIdCreator,null,this.displayedTreeCentre),this.updateDisplayedMap()},ColumnController.prototype.updateDisplayedMap=function(){var _this=this;this.displayedColumnsAndGroupsMap={};var func=function(child){_this.displayedColumnsAndGroupsMap[child.getUniqueId()]=child};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,func),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,func),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,func)},ColumnController.prototype.isDisplayed=function(item){return this.displayedColumnsAndGroupsMap[item.getUniqueId()]===item},ColumnController.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var allColumnGroups=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(allColumnGroups,(function(child){child instanceof ColumnGroup&&child.calculateDisplayedColumns()}))},ColumnController.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},ColumnController.prototype.createGroupAutoColumnsIfNeeded=function(){if(this.autoGroupsNeedBuilding){this.autoGroupsNeedBuilding=!1;var groupFullWidthRow=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),suppressAutoColumn=this.pivotMode?this.gridOptionsWrapper.isPivotSuppressAutoColumn():this.gridOptionsWrapper.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.usingTreeData)||suppressAutoColumn||groupFullWidthRow)this.groupAutoColumns=null;else{var newAutoGroupCols=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);(!this.autoColsEqual(newAutoGroupCols,this.groupAutoColumns)||this.forceRecreateAutoGroups)&&(this.groupAutoColumns=newAutoGroupCols)}}},ColumnController.prototype.autoColsEqual=function(colsA,colsB){return areEqual(colsA,colsB,(function(a,b){return a.getColId()===b.getColId()}))},ColumnController.prototype.getWidthOfColsInList=function(columnList){return columnList.reduce((function(width,col){return width+col.getActualWidth()}),0)},ColumnController.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},ColumnController.prototype.hasFloatingFilters=function(){return!!this.gridColumns&&this.gridColumns.some((function(col){return col.getColDef().floatingFilter}))},ColumnController.prototype.getFirstDisplayedColumn=function(){var isRtl=this.gridOptionsWrapper.isEnableRtl(),queryOrder=[\"getDisplayedLeftColumns\",\"getDisplayedCenterColumns\",\"getDisplayedRightColumns\"];isRtl&&queryOrder.reverse();for(var i=0;i<queryOrder.length;i++){var container=this[queryOrder[i]]();if(container.length)return isRtl?last(container):container[0]}return null},__decorate$5([Autowired(\"expressionService\")],ColumnController.prototype,\"expressionService\",void 0),__decorate$5([Autowired(\"columnFactory\")],ColumnController.prototype,\"columnFactory\",void 0),__decorate$5([Autowired(\"displayedGroupCreator\")],ColumnController.prototype,\"displayedGroupCreator\",void 0),__decorate$5([Autowired(\"autoWidthCalculator\")],ColumnController.prototype,\"autoWidthCalculator\",void 0),__decorate$5([Autowired(\"columnUtils\")],ColumnController.prototype,\"columnUtils\",void 0),__decorate$5([Autowired(\"columnAnimationService\")],ColumnController.prototype,\"columnAnimationService\",void 0),__decorate$5([Autowired(\"autoGroupColService\")],ColumnController.prototype,\"autoGroupColService\",void 0),__decorate$5([Optional(\"aggFuncService\")],ColumnController.prototype,\"aggFuncService\",void 0),__decorate$5([Optional(\"valueCache\")],ColumnController.prototype,\"valueCache\",void 0),__decorate$5([Optional(\"animationFrameService\")],ColumnController.prototype,\"animationFrameService\",void 0),__decorate$5([Autowired(\"rowModel\")],ColumnController.prototype,\"rowModel\",void 0),__decorate$5([Autowired(\"columnApi\")],ColumnController.prototype,\"columnApi\",void 0),__decorate$5([Autowired(\"gridApi\")],ColumnController.prototype,\"gridApi\",void 0),__decorate$5([Autowired(\"sortController\")],ColumnController.prototype,\"sortController\",void 0),__decorate$5([Autowired(\"columnDefFactory\")],ColumnController.prototype,\"columnDefFactory\",void 0),__decorate$5([PostConstruct],ColumnController.prototype,\"init\",null),__decorate$5([(0,decorator=Qualifier(\"loggerFactory\"),function(target,key){decorator(target,key,0)})],ColumnController.prototype,\"setBeans\",null),__decorate$5([Bean(\"columnController\")],ColumnController);var decorator}(BeanStub);function padStartWidthZeros(value,totalStringSize){return padStart(value.toString(),totalStringSize,\"0\")}function createArrayOfNumbers(first,last){for(var result=[],i=first;i<=last;i++)result.push(i);return result}function isNumeric(value){return\"\"!==value&&!isNaN(parseFloat(value))&&isFinite(value)}function getMaxSafeInteger(){return Number.MAX_SAFE_INTEGER||9007199254740991}function formatNumberCommas(value){return\"number\"!=typeof value?\"\":value.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g,\"$1,\")}var isSafari,isIE,isEdge,isChrome,isFirefox,isIOS,invisibleScrollbar,browserScrollbarWidth,NumberUtils=Object.freeze({__proto__:null,padStartWidthZeros:padStartWidthZeros,createArrayOfNumbers:createArrayOfNumbers,isNumeric:isNumeric,getMaxSafeInteger:getMaxSafeInteger,cleanNumber:function(value){return\"string\"==typeof value&&(value=parseInt(value,10)),\"number\"==typeof value?Math.floor(value):null},decToHex:function(number,bytes){for(var hex=\"\",i=0;i<bytes;i++)hex+=String.fromCharCode(255&number),number>>>=8;return hex},formatNumberTwoDecimalPlacesAndCommas:function(value){return\"number\"!=typeof value?\"\":formatNumberCommas(Math.round(100*value)/100)},formatNumberCommas:formatNumberCommas,sum:function(values){return null==values?null:values.reduce((function(total,value){return total+value}),0)}}),__extends$2=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),ColumnUtils=function(_super){function ColumnUtils(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$2(ColumnUtils,_super),ColumnUtils.prototype.calculateColInitialWidth=function(colDef){var width,optionsWrapper=this.gridOptionsWrapper,minColWidth=null!=colDef.minWidth?colDef.minWidth:optionsWrapper.getMinColWidth(),maxColWidth=null!=colDef.maxWidth?colDef.maxWidth:optionsWrapper.getMaxColWidth()||getMaxSafeInteger(),colDefWidth=attrToNumber(colDef.width),colDefInitialWidth=attrToNumber(colDef.initialWidth);return width=null!=colDefWidth?colDefWidth:null!=colDefInitialWidth?colDefInitialWidth:optionsWrapper.getColWidth(),Math.max(Math.min(width,maxColWidth),minColWidth)},ColumnUtils.prototype.getOriginalPathForColumn=function(column,originalBalancedTree){var result=[],found=!1,recursePath=function(balancedColumnTree,dept){for(var i=0;i<balancedColumnTree.length;i++){if(found)return;var node=balancedColumnTree[i];node instanceof OriginalColumnGroup?(recursePath(node.getChildren(),dept+1),result[dept]=node):node===column&&(found=!0)}};return recursePath(originalBalancedTree,0),found?result:null},ColumnUtils.prototype.depthFirstOriginalTreeSearch=function(parent,tree,callback){var _this=this;tree&&tree.forEach((function(child){child instanceof OriginalColumnGroup&&_this.depthFirstOriginalTreeSearch(child,child.getChildren(),callback),callback(child,parent)}))},ColumnUtils.prototype.depthFirstAllColumnTreeSearch=function(tree,callback){var _this=this;tree&&tree.forEach((function(child){child instanceof ColumnGroup&&_this.depthFirstAllColumnTreeSearch(child.getChildren(),callback),callback(child)}))},ColumnUtils.prototype.depthFirstDisplayedColumnTreeSearch=function(tree,callback){var _this=this;tree&&tree.forEach((function(child){child instanceof ColumnGroup&&_this.depthFirstDisplayedColumnTreeSearch(child.getDisplayedChildren(),callback),callback(child)}))},function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}([Bean(\"columnUtils\")],ColumnUtils)}(BeanStub),__extends$3=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),DisplayedGroupCreator=function(_super){function DisplayedGroupCreator(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$3(DisplayedGroupCreator,_super),DisplayedGroupCreator.prototype.createDisplayedGroups=function(sortedVisibleColumns,balancedColumnTree,groupInstanceIdCreator,pinned,oldDisplayedGroups){var previousRealPath,previousOriginalPath,_this=this,result=[],oldColumnsMapped=this.mapOldGroupsById(oldDisplayedGroups);return sortedVisibleColumns.forEach((function(currentColumn){for(var currentOriginalPath=_this.getOriginalPathForColumn(balancedColumnTree,currentColumn),currentRealPath=[],firstColumn=!previousOriginalPath,i=0;i<currentOriginalPath.length;i++)if(firstColumn||currentOriginalPath[i]!==previousOriginalPath[i]){var newGroup=_this.createColumnGroup(currentOriginalPath[i],groupInstanceIdCreator,oldColumnsMapped,pinned);currentRealPath[i]=newGroup,0==i?result.push(newGroup):currentRealPath[i-1].addChild(newGroup)}else currentRealPath[i]=previousRealPath[i];0===currentRealPath.length?result.push(currentColumn):last(currentRealPath).addChild(currentColumn),previousRealPath=currentRealPath,previousOriginalPath=currentOriginalPath})),this.setupParentsIntoColumns(result,null),result},DisplayedGroupCreator.prototype.createColumnGroup=function(originalGroup,groupInstanceIdCreator,oldColumnsMapped,pinned){var groupId=originalGroup.getGroupId(),instanceId=groupInstanceIdCreator.getInstanceIdForKey(groupId),columnGroup=oldColumnsMapped[ColumnGroup.createUniqueId(groupId,instanceId)];return columnGroup&&columnGroup.getOriginalColumnGroup()!==originalGroup&&(columnGroup=null),exists(columnGroup)?columnGroup.reset():(columnGroup=new ColumnGroup(originalGroup,groupId,instanceId,pinned),this.context.createBean(columnGroup)),columnGroup},DisplayedGroupCreator.prototype.mapOldGroupsById=function(displayedGroups){var result={},recursive=function(columnsOrGroups){columnsOrGroups.forEach((function(columnOrGroup){if(columnOrGroup instanceof ColumnGroup){var columnGroup=columnOrGroup;result[columnOrGroup.getUniqueId()]=columnGroup,recursive(columnGroup.getChildren())}}))};return displayedGroups&&recursive(displayedGroups),result},DisplayedGroupCreator.prototype.setupParentsIntoColumns=function(columnsOrGroups,parent){var _this=this;columnsOrGroups.forEach((function(columnsOrGroup){if(columnsOrGroup.setParent(parent),columnsOrGroup instanceof ColumnGroup){var columnGroup=columnsOrGroup;_this.setupParentsIntoColumns(columnGroup.getChildren(),columnGroup)}}))},DisplayedGroupCreator.prototype.getOriginalPathForColumn=function(balancedColumnTree,column){var result=[],found=!1,recursePath=function(columnTree,dept){for(var i=0;i<columnTree.length;i++){if(found)return;var node=columnTree[i];node instanceof OriginalColumnGroup?(recursePath(node.getChildren(),dept+1),result[dept]=node):node===column&&(found=!0)}};return recursePath(balancedColumnTree,0),found?result:(console.warn(\"could not get path\"),null)},function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}([Bean(\"displayedGroupCreator\")],DisplayedGroupCreator)}(BeanStub),__extends$4=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$8=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},HeadlessService=function(_super){function HeadlessService(){return null!==_super&&_super.apply(this,arguments)||this}var HeadlessService_1;return __extends$4(HeadlessService,_super),HeadlessService_1=HeadlessService,HeadlessService.prototype.getHeaderRows=function(){return this.headerRows},HeadlessService.prototype.getRows=function(){return this.rows},HeadlessService.prototype.getCenterRowContainer=function(){return this.centerRowContainer},HeadlessService.prototype.postConstruct=function(){var _this=this;this.createHeaderRows(),this.onPageLoaded(),this.addManagedListener(this.eventService,Events.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,(function(){_this.createHeaderRows(),_this.onPageLoaded()}))},HeadlessService.prototype.createHeaderRows=function(){this.headerRows=[];for(var headerRowCount=this.columnController.getHeaderRowCount(),i=0;i<headerRowCount;i++)this.headerRows.push(this.createHeaderRow(i,i===headerRowCount-1));this.dispatchEvent({type:HeadlessService_1.EVENT_HEADERS_UPDATED})},HeadlessService.prototype.onPageLoaded=function(){var _this=this;this.rows=[];var firstRow=this.paginationProxy.getPageFirstRow(),lastRow=this.paginationProxy.getPageLastRow();if(!(firstRow<0||lastRow<0)){for(var displayedColumns=this.columnController.getDisplayedColumns(null),_loop_1=function(rowIndex){var rowNode=this_1.paginationProxy.getRow(rowIndex);if(!rowNode)return\"continue\";var cells=[],rowVo={cells:cells,index:rowIndex,id:rowNode.id,height:rowNode.rowHeight,top:rowNode.rowTop};displayedColumns.forEach((function(col){cells.push({value:_this.valueService.getValue(col,rowNode),colId:col.getId(),width:col.getActualWidth(),left:col.getLeft()})})),this_1.rows.push(rowVo)},this_1=this,rowIndex=firstRow;rowIndex<=lastRow;rowIndex++)_loop_1(rowIndex);this.dispatchEvent({type:HeadlessService_1.EVENT_ROWS_UPDATED}),this.centerRowContainer={height:Math.max(this.paginationProxy.getCurrentPageHeight(),1),width:this.columnController.getBodyContainerWidth()},this.dispatchEvent({type:HeadlessService_1.EVENT_ROW_CONTAINER_UPDATED})}},HeadlessService.prototype.createHeaderRow=function(depth,groupLevel){var _this=this;return{headerRowIndex:depth,groupLevel:groupLevel,columns:this.columnController.getVirtualHeaderGroupRow(null,depth).map((function(item){return{name:item instanceof Column?_this.columnController.getDisplayNameForColumn(item,\"header\"):_this.columnController.getDisplayNameForColumnGroup(item,\"header\"),id:item.getUniqueId()}}))}},HeadlessService.EVENT_ROWS_UPDATED=\"rowsUpdated\",HeadlessService.EVENT_HEADERS_UPDATED=\"headersUpdated\",HeadlessService.EVENT_ROW_CONTAINER_UPDATED=\"rowContainerUpdated\",__decorate$8([Autowired(\"columnController\")],HeadlessService.prototype,\"columnController\",void 0),__decorate$8([Autowired(\"paginationProxy\")],HeadlessService.prototype,\"paginationProxy\",void 0),__decorate$8([Autowired(\"valueService\")],HeadlessService.prototype,\"valueService\",void 0),__decorate$8([PostConstruct],HeadlessService.prototype,\"postConstruct\",null),HeadlessService_1=__decorate$8([Bean(\"headlessService\")],HeadlessService)}(BeanStub);function isBrowserIE(){return void 0===isIE&&(isIE=!!document.documentMode),isIE}function isBrowserEdge(){return void 0===isEdge&&(isEdge=!isBrowserIE()&&!!window.StyleMedia),isEdge}function isBrowserSafari(){return void 0===isSafari&&(isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),isSafari}function isBrowserChrome(){if(void 0===isChrome){var win=window;isChrome=!!win.chrome&&(!!win.chrome.webstore||!!win.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return isChrome}function isBrowserFirefox(){if(void 0===isFirefox){var win=window;isFirefox=void 0!==win.InstallTrigger}return isFirefox}function isIOSUserAgent(){return void 0===isIOS&&(isIOS=(/iPad|iPhone|iPod/.test(navigator.platform)||\"MacIntel\"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream),isIOS}function getTabIndex(el){if(!el)return null;var numberTabIndex=el.tabIndex,tabIndex=el.getAttribute(\"tabIndex\");return isBrowserIE()&&0===numberTabIndex&&null===tabIndex?!0==={a:!0,body:!0,button:!0,frame:!0,iframe:!0,img:!0,input:!0,isindex:!0,object:!0,select:!0,textarea:!0}[el.nodeName.toLowerCase()]?\"0\":null:-1!==numberTabIndex||null!==tabIndex&&(\"\"!==tabIndex||isBrowserFirefox())?numberTabIndex.toString():null}function getMaxDivHeight(){if(!document.body)return-1;var res=1e6,testUpTo=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,div=document.createElement(\"div\");for(document.body.appendChild(div);;){var test=2*res;if(div.style.height=test+\"px\",test>testUpTo||div.clientHeight!==test)break;res=test}return document.body.removeChild(div),res}function getScrollbarWidth(){return null==browserScrollbarWidth&&initScrollbarWidthAndVisibility(),browserScrollbarWidth}function initScrollbarWidthAndVisibility(){var body=document.body,div=document.createElement(\"div\");div.style.width=div.style.height=\"100px\",div.style.opacity=\"0\",div.style.overflow=\"scroll\",div.style.msOverflowStyle=\"scrollbar\",div.style.position=\"absolute\",body.appendChild(div);var width=div.offsetWidth-div.clientWidth;0===width&&0===div.clientWidth&&(width=null),div.parentNode&&div.parentNode.removeChild(div),null!=width&&(browserScrollbarWidth=width,invisibleScrollbar=0===width)}function isInvisibleScrollbar(){return null==invisibleScrollbar&&initScrollbarWidthAndVisibility(),invisibleScrollbar}function getBodyWidth(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1}function getBodyHeight(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1}var rtlNegativeScroll,BrowserUtils=Object.freeze({__proto__:null,isBrowserIE:isBrowserIE,isBrowserEdge:isBrowserEdge,isBrowserSafari:isBrowserSafari,isBrowserChrome:isBrowserChrome,isBrowserFirefox:isBrowserFirefox,isIOSUserAgent:isIOSUserAgent,getTabIndex:getTabIndex,getMaxDivHeight:getMaxDivHeight,getScrollbarWidth:getScrollbarWidth,isInvisibleScrollbar:isInvisibleScrollbar,hasOverflowScrolling:function(){var prefixes=[\"webkit\",\"moz\",\"o\",\"ms\"],div=document.createElement(\"div\"),found=!1;document.getElementsByTagName(\"body\")[0].appendChild(div),div.setAttribute(\"style\",prefixes.map((function(prefix){return\"-\"+prefix+\"-overflow-scrolling: touch\"})).concat(\"overflow-scrolling: touch\").join(\";\"));var computedStyle=window.getComputedStyle(div);if(\"touch\"===computedStyle.overflowScrolling&&(found=!0),!found)for(var _i=0,prefixes_1=prefixes;_i<prefixes_1.length;_i++)if(\"touch\"===computedStyle[prefixes_1[_i]+\"OverflowScrolling\"]){found=!0;break}return div.parentNode&&div.parentNode.removeChild(div),found},getBodyWidth:getBodyWidth,getBodyHeight:getBodyHeight});function addCssClass(element,className){if(element&&className&&0!==className.length){if(!(className.indexOf(\" \")>=0)){if(element.classList)element.classList.add(className);else if(element.className&&element.className.length>0){var cssClasses=element.className.split(\" \");cssClasses.indexOf(className)<0&&(cssClasses.push(className),element.setAttribute(\"class\",cssClasses.join(\" \")))}else element.setAttribute(\"class\",className);return element}className.split(\" \").forEach((function(value){return addCssClass(element,value)}))}}function removeCssClass(element,className){if(element&&className&&0!==className.length)if(className.indexOf(\" \")>=0)className.split(\" \").forEach((function(value){return removeCssClass(element,value)}));else if(element.classList)element.classList.remove(className);else if(element.className&&element.className.length>0){var newClassName=element.className.split(\" \").filter((function(c){return c!==className})).join(\" \");element.setAttribute(\"class\",newClassName)}}function addOrRemoveCssClass(element,className,addOrRemove){addOrRemove?addCssClass(element,className):removeCssClass(element,className)}function containsClass(element,className){if(element.classList)return element.classList.contains(className);if(element.className){var onlyClass=element.className===className,contains=element.className.indexOf(\" \"+className+\" \")>=0,startsWithClass=0===element.className.indexOf(className+\" \"),endsWithClass=element.className.lastIndexOf(\" \"+className)===element.className.length-className.length-1;return onlyClass||contains||startsWithClass||endsWithClass}return!1}function isFocusableFormField(element){var matches=Element.prototype.matches||Element.prototype.msMatchesSelector,isFocusable=matches.call(element,Constants.INPUT_SELECTOR),isNotFocusable=matches.call(element,Constants.FOCUSABLE_EXCLUDE),isElementVisible=isVisible(element);return isFocusable&&!isNotFocusable&&isElementVisible}function setDisplayed(element,displayed){addOrRemoveCssClass(element,\"ag-hidden\",!displayed)}function setVisible(element,visible){addOrRemoveCssClass(element,\"ag-invisible\",!visible)}function setDisabled(element,disabled){var addOrRemoveDisabledAttribute=disabled?function(e){return e.setAttribute(\"disabled\",\"\")}:function(e){return e.removeAttribute(\"disabled\")};addOrRemoveDisabledAttribute(element),nodeListForEach(element.querySelectorAll(\"input\"),(function(input){return addOrRemoveDisabledAttribute(input)}))}function isElementChildOfClass(element,cls,maxNest){for(var counter=0;element;){if(containsClass(element,cls))return!0;if(element=element.parentElement,maxNest&&++counter>maxNest)break}return!1}function getElementSize(el){var _a=window.getComputedStyle(el),width=_a.width,paddingTop=_a.paddingTop,paddingRight=_a.paddingRight,paddingBottom=_a.paddingBottom,paddingLeft=_a.paddingLeft,marginTop=_a.marginTop,marginRight=_a.marginRight,marginBottom=_a.marginBottom,marginLeft=_a.marginLeft,boxSizing=_a.boxSizing;return{height:parseFloat(_a.height),width:parseFloat(width),paddingTop:parseFloat(paddingTop),paddingRight:parseFloat(paddingRight),paddingBottom:parseFloat(paddingBottom),paddingLeft:parseFloat(paddingLeft),marginTop:parseFloat(marginTop),marginRight:parseFloat(marginRight),marginBottom:parseFloat(marginBottom),marginLeft:parseFloat(marginLeft),boxSizing:boxSizing}}function getInnerHeight(el){var size=getElementSize(el);return\"border-box\"===size.boxSizing?size.height-size.paddingTop-size.paddingBottom:size.height}function getInnerWidth(el){var size=getElementSize(el);return\"border-box\"===size.boxSizing?size.width-size.paddingLeft-size.paddingRight:size.width}function getAbsoluteHeight(el){var size=getElementSize(el);return Math.ceil(el.offsetHeight+(size.marginBottom+size.marginTop))}function getAbsoluteWidth(el){var size=getElementSize(el);return Math.ceil(el.offsetWidth+(size.marginLeft+size.marginRight))}function isRtlNegativeScroll(){if(\"boolean\"==typeof rtlNegativeScroll)return rtlNegativeScroll;var template=document.createElement(\"div\");return template.style.direction=\"rtl\",template.style.width=\"1px\",template.style.height=\"1px\",template.style.position=\"fixed\",template.style.top=\"0px\",template.style.overflow=\"hidden\",template.dir=\"rtl\",template.innerHTML='<div style=\"width: 2px\">\\n            <span style=\"display: inline-block; width: 1px\"></span>\\n            <span style=\"display: inline-block; width: 1px\"></span>\\n        </div>',document.body.appendChild(template),template.scrollLeft=1,rtlNegativeScroll=0===Math.floor(template.scrollLeft),document.body.removeChild(template),rtlNegativeScroll}function getScrollLeft(element,rtl){var scrollLeft=element.scrollLeft;return rtl&&(scrollLeft=Math.abs(scrollLeft),isBrowserChrome()&&!isRtlNegativeScroll()&&(scrollLeft=element.scrollWidth-element.clientWidth-scrollLeft)),scrollLeft}function setScrollLeft(element,value,rtl){rtl&&(isRtlNegativeScroll()?value*=-1:(isBrowserSafari()||isBrowserChrome())&&(value=element.scrollWidth-element.clientWidth-value)),element.scrollLeft=value}function clearElement(el){for(;el&&el.firstChild;)el.removeChild(el.firstChild)}function removeFromParent(node){node&&node.parentNode&&node.parentNode.removeChild(node)}function isVisible(element){return null!==element.offsetParent}function loadTemplate(template){var tempDiv=document.createElement(\"div\");return tempDiv.innerHTML=(template||\"\").trim(),tempDiv.firstChild}function offsetHeight(element){return element&&element.clientHeight?element.clientHeight:0}function offsetWidth(element){return element&&element.clientWidth?element.clientWidth:0}function ensureDomOrder(eContainer,eChild,eChildBefore){eChildBefore&&eChildBefore.nextSibling===eChild||(eChildBefore?eChildBefore.nextSibling?eContainer.insertBefore(eChild,eChildBefore.nextSibling):eContainer.appendChild(eChild):eContainer.firstChild&&eContainer.firstChild!==eChild&&eContainer.insertAdjacentElement(\"afterbegin\",eChild))}function setDomChildOrder(eContainer,orderedChildren){for(var i=0;i<orderedChildren.length;i++){var correctCellAtIndex=orderedChildren[i],actualCellAtIndex=eContainer.children[i];actualCellAtIndex!==correctCellAtIndex&&eContainer.insertBefore(correctCellAtIndex,actualCellAtIndex)}}function insertWithDomOrder(eContainer,eToInsert,eChildBefore){eChildBefore?eChildBefore.insertAdjacentElement(\"afterend\",eToInsert):eContainer.firstChild?eContainer.insertAdjacentElement(\"afterbegin\",eToInsert):eContainer.appendChild(eToInsert)}function addStylesToElement(eElement,styles){styles&&Object.keys(styles).forEach((function(key){var keyCamelCase=hyphenToCamelCase(key);keyCamelCase&&(eElement.style[keyCamelCase]=styles[key])}))}function isHorizontalScrollShowing(element){return element.clientWidth<element.scrollWidth}function isVerticalScrollShowing(element){return element.clientHeight<element.scrollHeight}function setElementWidth(element,width){\"flex\"===width?(element.style.removeProperty(\"width\"),element.style.removeProperty(\"minWidth\"),element.style.removeProperty(\"maxWidth\"),element.style.flex=\"1 1 auto\"):setFixedWidth(element,width)}function setFixedWidth(element,width){width=formatSize(width),element.style.width=width.toString(),element.style.maxWidth=width.toString(),element.style.minWidth=width.toString()}function setFixedHeight(element,height){height=formatSize(height),element.style.height=height.toString(),element.style.maxHeight=height.toString(),element.style.minHeight=height.toString()}function formatSize(size){return\"number\"==typeof size?size+\"px\":size}function isNode(o){return\"function\"==typeof Node?o instanceof Node:o&&\"object\"==typeof o&&\"number\"==typeof o.nodeType&&\"string\"==typeof o.nodeName}function isElement(o){return\"function\"==typeof HTMLElement?o instanceof HTMLElement:o&&isNonNullObject(o)&&1===o.nodeType&&\"string\"==typeof o.nodeName}function isNodeOrElement(o){return isNode(o)||isElement(o)}function copyNodeList(nodeList){if(null==nodeList)return[];var result=[];return nodeListForEach(nodeList,(function(node){return result.push(node)})),result}function iterateNamedNodeMap(map,callback){if(map)for(var i=0;i<map.length;i++){var attr=map[i];callback(attr.name,attr.value)}}function addOrRemoveAttribute(element,name,value){null==value?element.removeAttribute(name):element.setAttribute(name,value.toString())}function nodeListForEach(nodeList,action){if(null!=nodeList)for(var i=0;i<nodeList.length;i++)action(nodeList[i])}var DomUtils=Object.freeze({__proto__:null,addCssClass:addCssClass,removeCssClass:removeCssClass,addOrRemoveCssClass:addOrRemoveCssClass,radioCssClass:function(element,elementClass,otherElementClass){for(var parent=element.parentElement,sibling=parent&&parent.firstChild;sibling;)elementClass&&addOrRemoveCssClass(sibling,elementClass,sibling===element),otherElementClass&&addOrRemoveCssClass(sibling,otherElementClass,sibling!==element),sibling=sibling.nextSibling},containsClass:containsClass,isFocusableFormField:isFocusableFormField,setDisplayed:setDisplayed,setVisible:setVisible,setDisabled:setDisabled,isElementChildOfClass:isElementChildOfClass,getElementSize:getElementSize,getInnerHeight:getInnerHeight,getInnerWidth:getInnerWidth,getAbsoluteHeight:getAbsoluteHeight,getAbsoluteWidth:getAbsoluteWidth,isRtlNegativeScroll:isRtlNegativeScroll,getScrollLeft:getScrollLeft,setScrollLeft:setScrollLeft,clearElement:clearElement,removeElement:function(parent,cssSelector){removeFromParent(parent.querySelector(cssSelector))},removeFromParent:removeFromParent,isVisible:isVisible,loadTemplate:loadTemplate,appendHtml:function(eContainer,htmlTemplate){eContainer.lastChild?eContainer.insertAdjacentHTML(\"afterbegin\",htmlTemplate):eContainer.innerHTML=htmlTemplate},getElementAttribute:function(element,attributeName){return element.attributes&&element.attributes[attributeName]?element.attributes[attributeName].value:null},offsetHeight:offsetHeight,offsetWidth:offsetWidth,ensureDomOrder:ensureDomOrder,setDomChildOrder:setDomChildOrder,insertWithDomOrder:insertWithDomOrder,prependDC:function(parent,documentFragment){exists(parent.firstChild)?parent.insertBefore(documentFragment,parent.firstChild):parent.appendChild(documentFragment)},addStylesToElement:addStylesToElement,isHorizontalScrollShowing:isHorizontalScrollShowing,isVerticalScrollShowing:isVerticalScrollShowing,setElementWidth:setElementWidth,setFixedWidth:setFixedWidth,setElementHeight:function(element,height){\"flex\"===height?(element.style.removeProperty(\"height\"),element.style.removeProperty(\"minHeight\"),element.style.removeProperty(\"maxHeight\"),element.style.flex=\"1 1 auto\"):setFixedHeight(element,height)},setFixedHeight:setFixedHeight,formatSize:formatSize,isNode:isNode,isElement:isElement,isNodeOrElement:isNodeOrElement,copyNodeList:copyNodeList,iterateNamedNodeMap:iterateNamedNodeMap,setCheckboxState:function(eCheckbox,state){\"boolean\"==typeof state?(eCheckbox.checked=state,eCheckbox.indeterminate=!1):eCheckbox.indeterminate=!0},addOrRemoveAttribute:addOrRemoveAttribute,nodeListForEach:nodeListForEach}),TestHeadless=function(){function TestHeadless(){}return TestHeadless.prototype.doSomething=function(eDiv,gridOptions){var headlessService=gridOptions.api.headlessService,headerRows=headlessService.getHeaderRows(),rows=headlessService.getRows();clearElement(eDiv);var eTable=document.createElement(\"table\");headerRows.forEach((function(headerRow){var eTr=document.createElement(\"tr\");eTable.appendChild(eTr),headerRow.columns.forEach((function(col){var eTh=document.createElement(\"th\");eTr.appendChild(eTh),null!=col.name&&(eTh.innerText=col.name)}))})),rows.forEach((function(row){var eTr=document.createElement(\"tr\");eTable.appendChild(eTr),row.cells.forEach((function(cell){var eTd=document.createElement(\"td\");eTr.appendChild(eTd),null!=cell.value&&(eTd.innerText=cell.value.toString())}))})),eDiv.append(eTable),console.warn(\"TestHeadless.doSomething\")},TestHeadless}(),PropertyKeys=function(){function PropertyKeys(){}return PropertyKeys.STRING_PROPERTIES=[\"sortingOrder\",\"rowClass\",\"rowSelection\",\"overlayLoadingTemplate\",\"overlayNoRowsTemplate\",\"quickFilterText\",\"rowModelType\",\"editType\",\"domLayout\",\"clipboardDeliminator\",\"rowGroupPanelShow\",\"multiSortKey\",\"pivotColumnGroupTotals\",\"pivotRowTotals\",\"pivotPanelShow\",\"fillHandleDirection\",\"serverSideStoreType\"],PropertyKeys.OBJECT_PROPERTIES=[\"components\",\"frameworkComponents\",\"rowStyle\",\"context\",\"autoGroupColumnDef\",\"localeText\",\"icons\",\"datasource\",\"serverSideDatasource\",\"viewportDatasource\",\"groupRowRendererParams\",\"aggFuncs\",\"fullWidthCellRendererParams\",\"defaultColGroupDef\",\"defaultColDef\",\"defaultExportParams\",\"defaultCsvExportParams\",\"defaultExcelExportParams\",\"columnTypes\",\"rowClassRules\",\"detailGridOptions\",\"detailCellRendererParams\",\"loadingCellRendererParams\",\"loadingOverlayComponentParams\",\"noRowsOverlayComponentParams\",\"popupParent\",\"colResizeDefault\",\"reduxStore\",\"statusBar\",\"sideBar\",\"chartThemeOverrides\",\"customChartThemes\"],PropertyKeys.ARRAY_PROPERTIES=[\"alignedGrids\",\"rowData\",\"columnDefs\",\"excelStyles\",\"pinnedTopRowData\",\"pinnedBottomRowData\",\"chartThemes\"],PropertyKeys.NUMBER_PROPERTIES=[\"rowHeight\",\"detailRowHeight\",\"rowBuffer\",\"colWidth\",\"headerHeight\",\"groupHeaderHeight\",\"floatingFiltersHeight\",\"pivotHeaderHeight\",\"pivotGroupHeaderHeight\",\"groupDefaultExpanded\",\"minColWidth\",\"maxColWidth\",\"viewportRowModelPageSize\",\"viewportRowModelBufferSize\",\"autoSizePadding\",\"maxBlocksInCache\",\"maxConcurrentDatasourceRequests\",\"tooltipShowDelay\",\"cacheOverflowSize\",\"paginationPageSize\",\"cacheBlockSize\",\"infiniteInitialRowCount\",\"scrollbarWidth\",\"batchUpdateWaitMillis\",\"asyncTransactionWaitMillis\",\"blockLoadDebounceMillis\",\"keepDetailRowsCount\",\"undoRedoCellEditingLimit\",\"cellFlashDelay\",\"cellFadeDelay\",\"tabIndex\"],PropertyKeys.BOOLEAN_PROPERTIES=[\"suppressMakeColumnVisibleAfterUnGroup\",\"suppressRowClickSelection\",\"suppressCellSelection\",\"suppressHorizontalScroll\",\"alwaysShowHorizontalScroll\",\"alwaysShowVerticalScroll\",\"debug\",\"enableBrowserTooltips\",\"enableCellExpressions\",\"angularCompileRows\",\"angularCompileFilters\",\"groupSuppressAutoColumn\",\"groupSelectsChildren\",\"groupIncludeFooter\",\"groupIncludeTotalFooter\",\"groupUseEntireRow\",\"groupSuppressBlankHeader\",\"suppressMenuHide\",\"suppressRowDeselection\",\"unSortIcon\",\"suppressMultiSort\",\"singleClickEdit\",\"suppressLoadingOverlay\",\"suppressNoRowsOverlay\",\"suppressAutoSize\",\"skipHeaderOnAutoSize\",\"suppressParentsInRowNodes\",\"suppressColumnMoveAnimation\",\"suppressMovableColumns\",\"suppressFieldDotNotation\",\"enableRangeSelection\",\"enableRangeHandle\",\"enableFillHandle\",\"suppressClearOnFillReduction\",\"deltaSort\",\"suppressTouch\",\"suppressAsyncEvents\",\"allowContextMenuWithControlKey\",\"suppressContextMenu\",\"rememberGroupStateWhenNewData\",\"enableCellChangeFlash\",\"suppressDragLeaveHidesColumns\",\"suppressMiddleClickScrolls\",\"suppressPreventDefaultOnMouseWheel\",\"suppressCopyRowsToClipboard\",\"copyHeadersToClipboard\",\"pivotMode\",\"suppressAggFuncInHeader\",\"suppressColumnVirtualisation\",\"suppressAggAtRootLevel\",\"suppressFocusAfterRefresh\",\"functionsPassive\",\"functionsReadOnly\",\"animateRows\",\"groupSelectsFiltered\",\"groupRemoveSingleChildren\",\"groupRemoveLowestSingleChildren\",\"enableRtl\",\"suppressClickEdit\",\"rowDragManaged\",\"suppressRowDrag\",\"suppressMoveWhenRowDragging\",\"enableMultiRowDragging\",\"enableGroupEdit\",\"embedFullWidthRows\",\"deprecatedEmbedFullWidthRows\",\"suppressPaginationPanel\",\"floatingFilter\",\"groupHideOpenParents\",\"groupMultiAutoColumn\",\"pagination\",\"stopEditingWhenGridLosesFocus\",\"paginationAutoPageSize\",\"suppressScrollOnNewData\",\"purgeClosedRowNodes\",\"cacheQuickFilter\",\"deltaRowDataMode\",\"ensureDomOrder\",\"accentedSort\",\"suppressChangeDetection\",\"valueCache\",\"valueCacheNeverExpires\",\"aggregateOnlyChangedColumns\",\"suppressAnimationFrame\",\"suppressExcelExport\",\"suppressCsvExport\",\"treeData\",\"masterDetail\",\"suppressMultiRangeSelection\",\"enterMovesDownAfterEdit\",\"enterMovesDown\",\"suppressPropertyNamesCheck\",\"rowMultiSelectWithClick\",\"suppressEnterpriseResetOnNewColumns\",\"enableOldSetFilterModel\",\"suppressRowHoverHighlight\",\"suppressRowTransform\",\"suppressClipboardPaste\",\"suppressLastEmptyLineOnPaste\",\"serverSideSortingAlwaysResets\",\"reactNext\",\"suppressSetColumnStateEvents\",\"suppressColumnStateEvents\",\"enableCharts\",\"deltaColumnMode\",\"suppressMaintainUnsortedOrder\",\"enableCellTextSelection\",\"suppressBrowserResizeObserver\",\"suppressMaxRenderedRowRestriction\",\"excludeChildrenWhenTreeDataFiltering\",\"tooltipMouseTrack\",\"keepDetailRows\",\"paginateChildRows\",\"preventDefaultOnContextMenu\",\"undoRedoCellEditing\",\"allowDragFromColumnsToolPanel\",\"immutableData\",\"immutableColumns\",\"pivotSuppressAutoColumn\",\"suppressExpandablePivotGroups\",\"applyColumnDefOrder\",\"debounceVerticalScrollbar\",\"detailRowAutoHeight\",\"serverSideFilteringAlwaysResets\",\"suppressAggFilteredOnly\",\"showOpenedGroup\",\"suppressClipboardApi\",\"suppressModelUpdateAfterUpdateTransaction\",\"stopEditingWhenCellsLoseFocus\"],PropertyKeys.ALL_PROPERTIES=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r}(PropertyKeys.ARRAY_PROPERTIES,PropertyKeys.OBJECT_PROPERTIES,PropertyKeys.STRING_PROPERTIES,PropertyKeys.NUMBER_PROPERTIES,PropertyKeys.FUNCTION_PROPERTIES=[\"localeTextFunc\",\"groupRowInnerRenderer\",\"groupRowInnerRendererFramework\",\"dateComponent\",\"dateComponentFramework\",\"groupRowRenderer\",\"groupRowRendererFramework\",\"isExternalFilterPresent\",\"getRowHeight\",\"doesExternalFilterPass\",\"getRowClass\",\"getRowStyle\",\"getRowClassRules\",\"traverseNode\",\"getContextMenuItems\",\"getMainMenuItems\",\"processRowPostCreate\",\"processCellForClipboard\",\"groupRowAggNodes\",\"getRowNodeId\",\"isFullWidthCell\",\"fullWidthCellRenderer\",\"fullWidthCellRendererFramework\",\"processSecondaryColDef\",\"processSecondaryColGroupDef\",\"getBusinessKeyForNode\",\"sendToClipboard\",\"navigateToNextHeader\",\"tabToNextHeader\",\"navigateToNextCell\",\"tabToNextCell\",\"getDetailRowData\",\"processCellFromClipboard\",\"getDocument\",\"postProcessPopup\",\"getChildCount\",\"getDataPath\",\"loadingCellRenderer\",\"loadingCellRendererFramework\",\"loadingOverlayComponent\",\"loadingOverlayComponentFramework\",\"noRowsOverlayComponent\",\"noRowsOverlayComponentFramework\",\"detailCellRenderer\",\"detailCellRendererFramework\",\"defaultGroupSortComparator\",\"isRowMaster\",\"isRowSelectable\",\"postSort\",\"processHeaderForClipboard\",\"paginationNumberFormatter\",\"processDataFromClipboard\",\"getServerSideGroupKey\",\"isServerSideGroup\",\"suppressKeyboardEvent\",\"createChartContainer\",\"processChartOptions\",\"getChartToolbarItems\",\"fillOperation\",\"isApplyServerSideTransaction\",\"getServerSideStoreParams\",\"isServerSideGroupOpenByDefault\",\"isGroupOpenByDefault\"],PropertyKeys.BOOLEAN_PROPERTIES),PropertyKeys.FRAMEWORK_PROPERTIES=[\"__ob__\",\"__v_skip\",\"__metadata__\",\"mappedColumnProperties\",\"hasChildColumns\",\"toColDef\",\"createColDefFromGridColumn\"],PropertyKeys}(),__assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__spreadArrays$1=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},ComponentUtil=function(){function ComponentUtil(){}return ComponentUtil.getEventCallbacks=function(){return ComponentUtil.EVENT_CALLBACKS||(ComponentUtil.EVENT_CALLBACKS=ComponentUtil.EVENTS.map((function(event){return ComponentUtil.getCallbackForEvent(event)}))),ComponentUtil.EVENT_CALLBACKS},ComponentUtil.copyAttributesToGridOptions=function(gridOptions,component,skipEventDeprecationCheck){\"object\"!=typeof gridOptions&&(gridOptions={});var pGridOptions=gridOptions,keyExists=function(key){return void 0!==component[key]};return __spreadArrays$1(ComponentUtil.ARRAY_PROPERTIES,ComponentUtil.STRING_PROPERTIES,ComponentUtil.OBJECT_PROPERTIES,ComponentUtil.FUNCTION_PROPERTIES,ComponentUtil.getEventCallbacks()).filter(keyExists).forEach((function(key){return pGridOptions[key]=component[key]})),ComponentUtil.BOOLEAN_PROPERTIES.filter(keyExists).forEach((function(key){return pGridOptions[key]=ComponentUtil.toBoolean(component[key])})),ComponentUtil.NUMBER_PROPERTIES.filter(keyExists).forEach((function(key){return pGridOptions[key]=ComponentUtil.toNumber(component[key])})),gridOptions},ComponentUtil.getCallbackForEvent=function(eventName){return!eventName||eventName.length<2?eventName:\"on\"+eventName[0].toUpperCase()+eventName.substr(1)},ComponentUtil.processOnChange=function(changes,gridOptions,api,columnApi){if(changes){var changesToApply=__assign({},changes),pGridOptions=gridOptions,keyExists=function(key){return changesToApply[key]};__spreadArrays$1(ComponentUtil.ARRAY_PROPERTIES,ComponentUtil.OBJECT_PROPERTIES,ComponentUtil.STRING_PROPERTIES,ComponentUtil.getEventCallbacks()).filter(keyExists).forEach((function(key){return pGridOptions[key]=changesToApply[key].currentValue})),ComponentUtil.BOOLEAN_PROPERTIES.filter(keyExists).forEach((function(key){return pGridOptions[key]=ComponentUtil.toBoolean(changesToApply[key].currentValue)})),ComponentUtil.NUMBER_PROPERTIES.filter(keyExists).forEach((function(key){return pGridOptions[key]=ComponentUtil.toNumber(changesToApply[key].currentValue)})),changesToApply.enableCellTextSelection&&(api.setEnableCellTextSelection(ComponentUtil.toBoolean(changesToApply.enableCellTextSelection.currentValue)),delete changesToApply.enableCellTextSelection),changesToApply.quickFilterText&&(api.setQuickFilter(changesToApply.quickFilterText.currentValue),delete changesToApply.quickFilterText),changesToApply.autoGroupColumnDef&&(api.setAutoGroupColumnDef(changesToApply.autoGroupColumnDef.currentValue,\"gridOptionsChanged\"),delete changesToApply.autoGroupColumnDef),changesToApply.columnDefs&&(api.setColumnDefs(changesToApply.columnDefs.currentValue,\"gridOptionsChanged\"),delete changesToApply.columnDefs),changesToApply.paginationPageSize&&(api.paginationSetPageSize(ComponentUtil.toNumber(changesToApply.paginationPageSize.currentValue)),delete changesToApply.paginationPageSize),changesToApply.pivotMode&&(columnApi.setPivotMode(ComponentUtil.toBoolean(changesToApply.pivotMode.currentValue)),delete changesToApply.pivotMode),changesToApply.groupRemoveSingleChildren&&(api.setGroupRemoveSingleChildren(ComponentUtil.toBoolean(changesToApply.groupRemoveSingleChildren.currentValue)),delete changesToApply.groupRemoveSingleChildren),changesToApply.suppressRowDrag&&(api.setSuppressRowDrag(ComponentUtil.toBoolean(changesToApply.suppressRowDrag.currentValue)),delete changesToApply.suppressRowDrag),changesToApply.suppressMoveWhenRowDragging&&(api.setSuppressMoveWhenRowDragging(ComponentUtil.toBoolean(changesToApply.suppressMoveWhenRowDragging.currentValue)),delete changesToApply.suppressMoveWhenRowDragging),changesToApply.suppressRowClickSelection&&(api.setSuppressRowClickSelection(ComponentUtil.toBoolean(changesToApply.suppressRowClickSelection.currentValue)),delete changesToApply.suppressRowClickSelection),changesToApply.suppressClipboardPaste&&(api.setSuppressClipboardPaste(ComponentUtil.toBoolean(changesToApply.suppressClipboardPaste.currentValue)),delete changesToApply.suppressClipboardPaste),changesToApply.headerHeight&&(api.setHeaderHeight(ComponentUtil.toNumber(changesToApply.headerHeight.currentValue)),delete changesToApply.headerHeight);var dynamicApi=api;Object.keys(changesToApply).forEach((function(property){var setterName=\"set\"+property.charAt(0).toUpperCase()+property.substring(1);dynamicApi[setterName]&&dynamicApi[setterName](changes[property].currentValue)}));var event={type:Events.EVENT_COMPONENT_STATE_CHANGED,api:gridOptions.api,columnApi:gridOptions.columnApi};iterateObject(changes,(function(key,value){event[key]=value})),api.dispatchEvent(event)}},ComponentUtil.toBoolean=function(value){return\"boolean\"==typeof value?value:\"string\"==typeof value&&(\"TRUE\"===value.toUpperCase()||\"\"==value)},ComponentUtil.toNumber=function(value){return\"number\"==typeof value?value:\"string\"==typeof value?Number(value):void 0},ComponentUtil.EVENTS=[],ComponentUtil.STRING_PROPERTIES=PropertyKeys.STRING_PROPERTIES,ComponentUtil.OBJECT_PROPERTIES=PropertyKeys.OBJECT_PROPERTIES,ComponentUtil.ARRAY_PROPERTIES=PropertyKeys.ARRAY_PROPERTIES,ComponentUtil.NUMBER_PROPERTIES=PropertyKeys.NUMBER_PROPERTIES,ComponentUtil.BOOLEAN_PROPERTIES=PropertyKeys.BOOLEAN_PROPERTIES,ComponentUtil.FUNCTION_PROPERTIES=PropertyKeys.FUNCTION_PROPERTIES,ComponentUtil.ALL_PROPERTIES=PropertyKeys.ALL_PROPERTIES,ComponentUtil}();ComponentUtil.EVENTS=values(Events);var ColDefUtil=function(){function ColDefUtil(){}return ColDefUtil.STRING_PROPERTIES=[\"headerName\",\"columnGroupShow\",\"headerClass\",\"toolPanelClass\",\"headerValueGetter\",\"pivotKeys\",\"groupId\",\"colId\",\"sort\",\"initialSort\",\"field\",\"type\",\"tooltipComponent\",\"tooltipField\",\"headerTooltip\",\"cellClass\",\"showRowGroup\",\"template\",\"templateUrl\",\"filter\",\"initialAggFunc\",\"aggFunc\",\"cellRenderer\",\"cellEditor\",\"pinned\",\"initialPinned\",\"chartDataType\"],ColDefUtil.OBJECT_PROPERTIES=[\"headerGroupComponent\",\"headerGroupComponentFramework\",\"headerGroupComponentParams\",\"cellStyle\",\"cellRendererParams\",\"cellEditorFramework\",\"cellEditorParams\",\"pinnedRowCellRendererFramework\",\"pinnedRowCellRendererParams\",\"filterFramework\",\"filterParams\",\"pivotValueColumn\",\"headerComponent\",\"headerComponentFramework\",\"headerComponentParams\",\"floatingFilterComponent\",\"floatingFilterComponentParams\",\"floatingFilterComponentFramework\",\"tooltipComponent\",\"tooltipComponentParams\",\"tooltipComponentFramework\",\"refData\",\"columnsMenuParams\"],ColDefUtil.ARRAY_PROPERTIES=[\"children\",\"sortingOrder\",\"allowedAggFuncs\",\"menuTabs\",\"pivotTotalColumnIds\",\"cellClassRules\",\"icons\"],ColDefUtil.NUMBER_PROPERTIES=[\"sortedAt\",\"sortIndex\",\"initialSortIndex\",\"flex\",\"initialFlex\",\"width\",\"initialWidth\",\"minWidth\",\"maxWidth\",\"rowGroupIndex\",\"initialRowGroupIndex\",\"pivotIndex\",\"initialPivotIndex\"],ColDefUtil.BOOLEAN_PROPERTIES=[\"suppressCellFlash\",\"suppressColumnsToolPanel\",\"suppressFiltersToolPanel\",\"openByDefault\",\"marryChildren\",\"hide\",\"initialHide\",\"rowGroup\",\"initialRowGroup\",\"pivot\",\"initialPivot\",\"checkboxSelection\",\"headerCheckboxSelection\",\"headerCheckboxSelectionFilteredOnly\",\"suppressMenu\",\"suppressMovable\",\"lockPosition\",\"lockVisible\",\"lockPinned\",\"unSortIcon\",\"suppressSizeToFit\",\"suppressAutoSize\",\"enableRowGroup\",\"enablePivot\",\"enableValue\",\"editable\",\"suppressPaste\",\"suppressNavigable\",\"enableCellChangeFlash\",\"rowDrag\",\"dndSource\",\"autoHeight\",\"wrapText\",\"sortable\",\"resizable\",\"singleClickEdit\",\"floatingFilter\"],ColDefUtil.ALL_PROPERTIES=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r}(ColDefUtil.ARRAY_PROPERTIES,ColDefUtil.OBJECT_PROPERTIES,ColDefUtil.STRING_PROPERTIES,ColDefUtil.NUMBER_PROPERTIES,ColDefUtil.FUNCTION_PROPERTIES=[\"dndSourceOnRowDrag\",\"valueGetter\",\"valueSetter\",\"filterValueGetter\",\"keyCreator\",\"cellRenderer\",\"cellRendererFramework\",\"pinnedRowCellRenderer\",\"valueFormatter\",\"pinnedRowValueFormatter\",\"valueParser\",\"comparator\",\"equals\",\"pivotComparator\",\"suppressKeyboardEvent\",\"suppressHeaderKeyboardEvent\",\"colSpan\",\"rowSpan\",\"getQuickFilterText\",\"newValueHandler\",\"onCellValueChanged\",\"onCellClicked\",\"onCellDoubleClicked\",\"onCellContextMenu\",\"rowDragText\",\"tooltipValueGetter\",\"tooltipComponent\",\"tooltipComponentFramework\",\"cellRendererSelector\",\"cellEditorSelector\"],ColDefUtil.BOOLEAN_PROPERTIES),ColDefUtil.FRAMEWORK_PROPERTIES=[\"__ob__\",\"__v_skip\",\"__metadata__\",\"mappedColumnProperties\",\"hasChildColumns\",\"toColDef\",\"createColDefFromGridColumn\"],ColDefUtil}(),Color=function(){function Color(r,g,b,a){void 0===a&&(a=1),this.r=Math.min(1,Math.max(0,r||0)),this.g=Math.min(1,Math.max(0,g||0)),this.b=Math.min(1,Math.max(0,b||0)),this.a=Math.min(1,Math.max(0,a||0))}return Color.fromString=function(str){if(str.indexOf(\"#\")>=0)return Color.fromHexString(str);var hex=Color.nameToHex[str];if(hex)return Color.fromHexString(hex);if(str.indexOf(\"rgb\")>=0)return Color.fromRgbaString(str);throw new Error(\"Invalid color string: '\"+str+\"'\")},Color.fromHexString=function(str){var values=str.match(Color.hexRe);if(values)return new Color((r=parseInt(values[1],16))/255,(g=parseInt(values[2],16))/255,(b=parseInt(values[3],16))/255,(a=void 0!==values[4]?parseInt(values[4],16):255)/255);if(values=str.match(Color.shortHexRe)){var r=parseInt(values[1],16),g=parseInt(values[2],16),b=parseInt(values[3],16),a=void 0!==values[4]?parseInt(values[4],16):15;return new Color((r+=16*r)/255,(g+=16*g)/255,(b+=16*b)/255,(a+=16*a)/255)}throw new Error(\"Malformed hexadecimal color string: '\"+str+\"'\")},Color.fromRgbaString=function(str){var values=str.match(Color.rgbRe);if(values)return new Color(+values[1]/255,+values[2]/255,+values[3]/255);if(values=str.match(Color.rgbaRe))return new Color(+values[1]/255,+values[2]/255,+values[3]/255,+values[4]);throw new Error(\"Malformed rgb/rgba color string: '\"+str+\"'\")},Color.fromArray=function(arr){if(4===arr.length)return new Color(arr[0],arr[1],arr[2],arr[3]);if(3===arr.length)return new Color(arr[0],arr[1],arr[2]);throw new Error(\"The given array should contain 3 or 4 color components (numbers).\")},Color.fromHSB=function(h,s,b,alpha){void 0===alpha&&(alpha=1);var rgb=Color.HSBtoRGB(h,s,b);return new Color(rgb[0],rgb[1],rgb[2],alpha)},Color.padHex=function(str){return 1===str.length?\"0\"+str:str},Color.prototype.toHexString=function(){var hex=\"#\"+Color.padHex(Math.round(255*this.r).toString(16))+Color.padHex(Math.round(255*this.g).toString(16))+Color.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(hex+=Color.padHex(Math.round(255*this.a).toString(16))),hex},Color.prototype.toRgbaString=function(fractionDigits){void 0===fractionDigits&&(fractionDigits=3);var components=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],k=Math.pow(10,fractionDigits);return 1!==this.a?(components.push(Math.round(this.a*k)/k),\"rgba(\"+components.join(\", \")+\")\"):\"rgb(\"+components.join(\", \")+\")\"},Color.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},Color.prototype.toHSB=function(){return Color.RGBtoHSB(this.r,this.g,this.b)},Color.RGBtoHSB=function(r,g,b){var min=Math.min(r,g,b),max=Math.max(r,g,b),H=NaN;if(min!==max){var delta=max-min,rc=(max-r)/delta,gc=(max-g)/delta,bc=(max-b)/delta;H=r===max?bc-gc:g===max?2+rc-bc:4+gc-rc,(H/=6)<0&&(H+=1)}return[360*H,0!==max?(max-min)/max:0,max]},Color.HSBtoRGB=function(H,S,B){isNaN(H)&&(H=0),H=(H%360+360)%360/360;var r=0,g=0,b=0;if(0===S)r=g=b=B;else{var h=6*(H-Math.floor(H)),f=h-Math.floor(h),p=B*(1-S),q=B*(1-S*f),t=B*(1-S*(1-f));switch(h>>0){case 0:r=B,g=t,b=p;break;case 1:r=q,g=B,b=p;break;case 2:r=p,g=B,b=t;break;case 3:r=p,g=q,b=B;break;case 4:r=t,g=p,b=B;break;case 5:r=B,g=p,b=q}}return[r,g,b]},Color.prototype.derive=function(hueShift,saturationFactor,brightnessFactor,opacityFactor){var hsb=Color.RGBtoHSB(this.r,this.g,this.b),b=hsb[2];0==b&&brightnessFactor>1&&(b=.05);var h=((hsb[0]+hueShift)%360+360)%360,s=Math.max(Math.min(hsb[1]*saturationFactor,1),0);b=Math.max(Math.min(b*brightnessFactor,1),0);var a=Math.max(Math.min(this.a*opacityFactor,1),0),rgba=Color.HSBtoRGB(h,s,b);return rgba.push(a),Color.fromArray(rgba)},Color.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},Color.prototype.darker=function(){return this.derive(0,1,.7,1)},Color.hexRe=/\\s*#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?\\s*$/,Color.shortHexRe=/\\s*#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])?\\s*$/,Color.rgbRe=/\\s*rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)\\s*/,Color.rgbaRe=/\\s*rgba\\((\\d+),\\s*(\\d+),\\s*(\\d+),\\s*([.\\d]+)\\)\\s*/,Color.nameToHex=Object.freeze({aliceblue:\"#F0F8FF\",antiquewhite:\"#FAEBD7\",aqua:\"#00FFFF\",aquamarine:\"#7FFFD4\",azure:\"#F0FFFF\",beige:\"#F5F5DC\",bisque:\"#FFE4C4\",black:\"#000000\",blanchedalmond:\"#FFEBCD\",blue:\"#0000FF\",blueviolet:\"#8A2BE2\",brown:\"#A52A2A\",burlywood:\"#DEB887\",cadetblue:\"#5F9EA0\",chartreuse:\"#7FFF00\",chocolate:\"#D2691E\",coral:\"#FF7F50\",cornflowerblue:\"#6495ED\",cornsilk:\"#FFF8DC\",crimson:\"#DC143C\",cyan:\"#00FFFF\",darkblue:\"#00008B\",darkcyan:\"#008B8B\",darkgoldenrod:\"#B8860B\",darkgray:\"#A9A9A9\",darkgreen:\"#006400\",darkgrey:\"#A9A9A9\",darkkhaki:\"#BDB76B\",darkmagenta:\"#8B008B\",darkolivegreen:\"#556B2F\",darkorange:\"#FF8C00\",darkorchid:\"#9932CC\",darkred:\"#8B0000\",darksalmon:\"#E9967A\",darkseagreen:\"#8FBC8F\",darkslateblue:\"#483D8B\",darkslategray:\"#2F4F4F\",darkslategrey:\"#2F4F4F\",darkturquoise:\"#00CED1\",darkviolet:\"#9400D3\",deeppink:\"#FF1493\",deepskyblue:\"#00BFFF\",dimgray:\"#696969\",dimgrey:\"#696969\",dodgerblue:\"#1E90FF\",firebrick:\"#B22222\",floralwhite:\"#FFFAF0\",forestgreen:\"#228B22\",fuchsia:\"#FF00FF\",gainsboro:\"#DCDCDC\",ghostwhite:\"#F8F8FF\",gold:\"#FFD700\",goldenrod:\"#DAA520\",gray:\"#808080\",green:\"#008000\",greenyellow:\"#ADFF2F\",grey:\"#808080\",honeydew:\"#F0FFF0\",hotpink:\"#FF69B4\",indianred:\"#CD5C5C\",indigo:\"#4B0082\",ivory:\"#FFFFF0\",khaki:\"#F0E68C\",lavender:\"#E6E6FA\",lavenderblush:\"#FFF0F5\",lawngreen:\"#7CFC00\",lemonchiffon:\"#FFFACD\",lightblue:\"#ADD8E6\",lightcoral:\"#F08080\",lightcyan:\"#E0FFFF\",lightgoldenrodyellow:\"#FAFAD2\",lightgray:\"#D3D3D3\",lightgreen:\"#90EE90\",lightgrey:\"#D3D3D3\",lightpink:\"#FFB6C1\",lightsalmon:\"#FFA07A\",lightseagreen:\"#20B2AA\",lightskyblue:\"#87CEFA\",lightslategray:\"#778899\",lightslategrey:\"#778899\",lightsteelblue:\"#B0C4DE\",lightyellow:\"#FFFFE0\",lime:\"#00FF00\",limegreen:\"#32CD32\",linen:\"#FAF0E6\",magenta:\"#FF00FF\",maroon:\"#800000\",mediumaquamarine:\"#66CDAA\",mediumblue:\"#0000CD\",mediumorchid:\"#BA55D3\",mediumpurple:\"#9370DB\",mediumseagreen:\"#3CB371\",mediumslateblue:\"#7B68EE\",mediumspringgreen:\"#00FA9A\",mediumturquoise:\"#48D1CC\",mediumvioletred:\"#C71585\",midnightblue:\"#191970\",mintcream:\"#F5FFFA\",mistyrose:\"#FFE4E1\",moccasin:\"#FFE4B5\",navajowhite:\"#FFDEAD\",navy:\"#000080\",oldlace:\"#FDF5E6\",olive:\"#808000\",olivedrab:\"#6B8E23\",orange:\"#FFA500\",orangered:\"#FF4500\",orchid:\"#DA70D6\",palegoldenrod:\"#EEE8AA\",palegreen:\"#98FB98\",paleturquoise:\"#AFEEEE\",palevioletred:\"#DB7093\",papayawhip:\"#FFEFD5\",peachpuff:\"#FFDAB9\",peru:\"#CD853F\",pink:\"#FFC0CB\",plum:\"#DDA0DD\",powderblue:\"#B0E0E6\",purple:\"#800080\",rebeccapurple:\"#663399\",red:\"#FF0000\",rosybrown:\"#BC8F8F\",royalblue:\"#4169E1\",saddlebrown:\"#8B4513\",salmon:\"#FA8072\",sandybrown:\"#F4A460\",seagreen:\"#2E8B57\",seashell:\"#FFF5EE\",sienna:\"#A0522D\",silver:\"#C0C0C0\",skyblue:\"#87CEEB\",slateblue:\"#6A5ACD\",slategray:\"#708090\",slategrey:\"#708090\",snow:\"#FFFAFA\",springgreen:\"#00FF7F\",steelblue:\"#4682B4\",tan:\"#D2B48C\",teal:\"#008080\",thistle:\"#D8BFD8\",tomato:\"#FF6347\",turquoise:\"#40E0D0\",violet:\"#EE82EE\",wheat:\"#F5DEB3\",white:\"#FFFFFF\",whitesmoke:\"#F5F5F5\",yellow:\"#FFFF00\",yellowgreen:\"#9ACD32\"}),Color}();function stringToArray(strData,delimiter){void 0===delimiter&&(delimiter=\",\");var data=[],isNewline=function(char){return\"\\r\"===char||\"\\n\"===char},insideQuotedField=!1;if(\"\"===strData)return[[\"\"]];for(var out_row_1,out_column_1,out_position_1,_loop_1=function(row,column,position){var previousChar=strData[position-1],currentChar=strData[position],nextChar=strData[position+1],ensureDataExists=function(){data[row]||(data[row]=[]),data[row][column]||(data[row][column]=\"\")};if(ensureDataExists(),'\"'===currentChar){if(insideQuotedField)return'\"'===nextChar?(data[row][column]+='\"',position++):insideQuotedField=!1,out_row_1=row,out_column_1=column,out_position_1=position,\"continue\";if(void 0===previousChar||previousChar===delimiter||isNewline(previousChar))return insideQuotedField=!0,out_row_1=row,out_column_1=column,out_position_1=position,\"continue\"}if(!insideQuotedField){if(currentChar===delimiter)return column++,ensureDataExists(),out_row_1=row,out_column_1=column,out_position_1=position,\"continue\";if(isNewline(currentChar))return column=0,row++,ensureDataExists(),\"\\r\"===currentChar&&\"\\n\"===nextChar&&position++,out_row_1=row,out_column_1=column,out_position_1=position,\"continue\"}data[row][column]+=currentChar,out_row_1=row,out_column_1=column,out_position_1=position},row=0,column=0,position=0;position<strData.length;position++)_loop_1(row,column,position),row=out_row_1,column=out_column_1,position=out_position_1;return data}var CsvUtils=Object.freeze({__proto__:null,stringToArray:stringToArray});function cssStyleObjectToMarkup(stylesToUse){if(!stylesToUse)return\"\";var resParts=[];return iterateObject(stylesToUse,(function(styleKey,styleValue){var styleKeyDashed=camelCaseToHyphen(styleKey);resParts.push(styleKeyDashed+\": \"+styleValue+\";\")})),resParts.join(\" \")}function bindCellRendererToHtmlElement(cellRendererPromise,eTarget){cellRendererPromise.then((function(cellRenderer){var gui=cellRenderer.getGui();null!=gui&&(\"object\"==typeof gui?eTarget.appendChild(gui):eTarget.innerHTML=gui)}))}var GeneralUtils=Object.freeze({__proto__:null,getNameOfClass:function(theClass){var funcAsString=theClass.toString(),results=/function (.{1,})\\(/.exec(funcAsString);return results&&results.length>1?results[1]:\"\"},findLineByLeastSquares:function(values){var len=values.length,maxDecimals=0;if(len<=1)return values;for(var i=0;i<values.length;i++){var value=values[i];Math.floor(value)!==value&&(maxDecimals=Math.max(maxDecimals,value.toString().split(\".\")[1].length))}for(var sum_x=0,sum_y=0,sum_xy=0,sum_xx=0,y=0,x=0;x<len;x++)sum_x+=x,sum_y+=y=values[x],sum_xx+=x*x,sum_xy+=x*y;var m=(len*sum_xy-sum_x*sum_y)/(len*sum_xx-sum_x*sum_x),b=sum_y/len-m*sum_x/len,result=[];for(x=0;x<=len;x++)result.push(parseFloat((x*m+b).toFixed(maxDecimals)));return result},cssStyleObjectToMarkup:cssStyleObjectToMarkup,message:function(msg){var eMessage=document.createElement(\"div\"),eBox=document.querySelector(\"#__ag__message\");eMessage.innerHTML=msg,eBox||(eBox=loadTemplate('<div id=\"__ag__message\" style=\"display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;\"></div>'),document.body&&document.body.appendChild(eBox)),eBox.insertBefore(eMessage,eBox.children[0])},bindCellRendererToHtmlElement:bindCellRendererToHtmlElement});function setAriaAttribute(element,attribute,value){element.setAttribute(ariaAttributeName(attribute),value.toString())}function removeAriaAttribute(element,attribute){element.removeAttribute(ariaAttributeName(attribute))}function ariaAttributeName(attribute){return\"aria-\"+attribute}function getAriaSortState(column){return column.isSortAscending()?\"ascending\":column.isSortDescending()?\"descending\":\"none\"}function getAriaPosInSet(element){return parseInt(element.getAttribute(\"aria-posinset\"),10)}function getAriaDescribedBy(element){return element.getAttribute(\"aria-describedby\")||\"\"}function setAriaLabel(element,label){setAriaAttribute(element,\"label\",label)}function setAriaLabelledBy(element,labelledBy){setAriaAttribute(element,\"labelledby\",labelledBy)}function setAriaDescribedBy(element,describedby){setAriaAttribute(element,\"describedby\",describedby)}function setAriaDisabled(element,disabled){setAriaAttribute(element,\"disabled\",disabled)}function setAriaExpanded(element,expanded){setAriaAttribute(element,\"expanded\",expanded)}function removeAriaExpanded(element){removeAriaAttribute(element,\"expanded\")}function setAriaSetSize(element,setsize){setAriaAttribute(element,\"setsize\",setsize)}function setAriaPosInSet(element,position){setAriaAttribute(element,\"posinset\",position)}function setAriaMultiSelectable(element,multiSelectable){setAriaAttribute(element,\"multiselectable\",multiSelectable)}function setAriaRowCount(element,rowCount){setAriaAttribute(element,\"rowcount\",rowCount)}function setAriaRowIndex(element,rowIndex){setAriaAttribute(element,\"rowindex\",rowIndex)}function setAriaColCount(element,colCount){setAriaAttribute(element,\"colcount\",colCount)}function setAriaColIndex(element,colIndex){setAriaAttribute(element,\"colindex\",colIndex)}function setAriaColSpan(element,colSpan){setAriaAttribute(element,\"colspan\",colSpan)}function setAriaSort(element,sort){setAriaAttribute(element,\"sort\",sort)}function removeAriaSort(element){removeAriaAttribute(element,\"sort\")}function setAriaSelected(element,selected){selected?setAriaAttribute(element,\"selected\",selected):removeAriaAttribute(element,\"selected\")}function setAriaChecked(element,checked){setAriaAttribute(element,\"checked\",void 0===checked?\"mixed\":checked)}var AriaUtils=Object.freeze({__proto__:null,getAriaSortState:getAriaSortState,getAriaLevel:function(element){return parseInt(element.getAttribute(\"aria-level\"),10)},getAriaPosInSet:getAriaPosInSet,getAriaDescribedBy:getAriaDescribedBy,setAriaLabel:setAriaLabel,setAriaLabelledBy:setAriaLabelledBy,setAriaDescribedBy:setAriaDescribedBy,setAriaLevel:function(element,level){setAriaAttribute(element,\"level\",level)},setAriaDisabled:setAriaDisabled,setAriaExpanded:setAriaExpanded,removeAriaExpanded:removeAriaExpanded,setAriaSetSize:setAriaSetSize,setAriaPosInSet:setAriaPosInSet,setAriaMultiSelectable:setAriaMultiSelectable,setAriaRowCount:setAriaRowCount,setAriaRowIndex:setAriaRowIndex,setAriaColCount:setAriaColCount,setAriaColIndex:setAriaColIndex,setAriaColSpan:setAriaColSpan,setAriaSort:setAriaSort,removeAriaSort:removeAriaSort,setAriaSelected:setAriaSelected,setAriaChecked:setAriaChecked});function serialiseDate(date,includeTime,separator){if(void 0===includeTime&&(includeTime=!0),void 0===separator&&(separator=\"-\"),!date)return null;var serialised=[date.getFullYear(),date.getMonth()+1,date.getDate()].map((function(part){return padStartWidthZeros(part,2)})).join(separator);return includeTime&&(serialised+=\" \"+[date.getHours(),date.getMinutes(),date.getSeconds()].map((function(part){return padStartWidthZeros(part,2)})).join(\":\")),serialised}function parseDateTimeFromString(value){if(!value)return null;var _a=value.split(\" \"),dateStr=_a[0],timeStr=_a[1];if(!dateStr)return null;var fields=dateStr.split(\"-\").map((function(f){return parseInt(f,10)}));if(3!==fields.filter((function(f){return!isNaN(f)})).length)return null;var year=fields[0],month=fields[1],day=fields[2],date=new Date(year,month-1,day);if(date.getFullYear()!==year||date.getMonth()!==month-1||date.getDate()!==day)return null;if(!timeStr||\"00:00:00\"===timeStr)return date;var _b=timeStr.split(\":\").map((function(part){return parseInt(part,10)})),hours=_b[0],minutes=_b[1],seconds=_b[2];return hours>=0&&hours<24&&date.setHours(hours),minutes>=0&&minutes<60&&date.setMinutes(minutes),seconds>=0&&seconds<60&&date.setSeconds(seconds),date}var DateUtils=Object.freeze({__proto__:null,serialiseDate:serialiseDate,parseDateTimeFromString:parseDateTimeFromString});function fuzzyCheckStrings(inputValues,validValues,allSuggestions){var fuzzyMatches={},invalidInputs=inputValues.filter((function(inputValue){return!validValues.some((function(validValue){return validValue===inputValue}))}));return invalidInputs.length>0&&invalidInputs.forEach((function(invalidInput){return fuzzyMatches[invalidInput]=fuzzySuggestions(invalidInput,allSuggestions)})),fuzzyMatches}function fuzzySuggestions(inputValue,allSuggestions,hideIrrelevant,weighted){var search=weighted?string_weighted_distances:string_distances,thisSuggestions=allSuggestions.map((function(text){return{value:text,relevance:search(inputValue.toLowerCase(),text.toLocaleLowerCase())}}));return thisSuggestions.sort((function(a,b){return b.relevance-a.relevance})),hideIrrelevant&&(thisSuggestions=thisSuggestions.filter((function(suggestion){return 0!==suggestion.relevance}))),thisSuggestions.map((function(suggestion){return suggestion.value}))}function get_bigrams(from){var i,j,ref,s=from.toLowerCase(),v=new Array(s.length-1);for(i=j=0,ref=v.length;j<=ref;i=j+=1)v[i]=s.slice(i,i+2);return v}function string_distances(str1,str2){if(0===str1.length&&0===str2.length)return 0;var j,len,pairs1=get_bigrams(str1),pairs2=get_bigrams(str2),union=pairs1.length+pairs2.length,hit_count=0;for(j=0,len=pairs1.length;j<len;j++){var len1,x=pairs1[j],k=void 0;for(k=0,len1=pairs2.length;k<len1;k++)x===pairs2[k]&&hit_count++}return hit_count>0?2*hit_count/union:0}function string_weighted_distances(str1,str2){for(var a=str1.replace(/\\s/g,\"\"),b=str2.replace(/\\s/g,\"\"),weight=0,lastIndex=0,i=0;i<a.length;i++){var idx=b.indexOf(a[i],lastIndex);-1!==idx&&(weight+=100-100*(lastIndex=idx)/1e4*100)}return weight}var FuzzyMatchUtils=Object.freeze({__proto__:null,fuzzyCheckStrings:fuzzyCheckStrings,fuzzySuggestions:fuzzySuggestions,get_bigrams:get_bigrams,string_distances:string_distances,string_weighted_distances:string_weighted_distances}),iconNameClassMap={columnGroupOpened:\"expanded\",columnGroupClosed:\"contracted\",columnSelectClosed:\"tree-closed\",columnSelectOpen:\"tree-open\",columnSelectIndeterminate:\"tree-indeterminate\",columnMovePin:\"pin\",columnMoveHide:\"eye-slash\",columnMoveMove:\"arrows\",columnMoveLeft:\"left\",columnMoveRight:\"right\",columnMoveGroup:\"group\",columnMoveValue:\"aggregation\",columnMovePivot:\"pivot\",dropNotAllowed:\"not-allowed\",groupContracted:\"tree-closed\",groupExpanded:\"tree-open\",chart:\"chart\",close:\"cross\",cancel:\"cancel\",check:\"tick\",first:\"first\",previous:\"previous\",next:\"next\",last:\"last\",linked:\"linked\",unlinked:\"unlinked\",colorPicker:\"color-picker\",groupLoading:\"loading\",menu:\"menu\",filter:\"filter\",columns:\"columns\",maximize:\"maximize\",minimize:\"minimize\",menuPin:\"pin\",menuValue:\"aggregation\",menuAddRowGroup:\"group\",menuRemoveRowGroup:\"group\",clipboardCopy:\"copy\",clipboardPaste:\"paste\",pivotPanel:\"pivot\",rowGroupPanel:\"group\",valuePanel:\"aggregation\",columnDrag:\"grip\",rowDrag:\"grip\",save:\"save\",csvExport:\"csv\",excelExport:\"excel\",smallDown:\"small-down\",smallLeft:\"small-left\",smallRight:\"small-right\",smallUp:\"small-up\",sortAscending:\"asc\",sortDescending:\"desc\",sortUnSort:\"none\"};function createIcon(iconName,gridOptionsWrapper,column){var iconContents=createIconNoSpan(iconName,gridOptionsWrapper,column);if(iconContents&&iconContents.className.indexOf(\"ag-icon\")>-1)return iconContents;var eResult=document.createElement(\"span\");return eResult.appendChild(iconContents),eResult}function createIconNoSpan(iconName,gridOptionsWrapper,column,forceCreate){var userProvidedIcon=null,icons=column&&column.getColDef().icons;if(icons&&(userProvidedIcon=icons[iconName]),gridOptionsWrapper&&!userProvidedIcon){var optionsIcons=gridOptionsWrapper.getIcons();optionsIcons&&(userProvidedIcon=optionsIcons[iconName])}if(!userProvidedIcon){var span=document.createElement(\"span\"),cssClass=iconNameClassMap[iconName];return cssClass||(forceCreate?cssClass=iconName:(console.warn(\"AG Grid: Did not find icon \"+iconName),cssClass=\"\")),span.setAttribute(\"class\",\"ag-icon ag-icon-\"+cssClass),span.setAttribute(\"unselectable\",\"on\"),span.setAttribute(\"role\",\"presentation\"),span}var rendererResult=void 0;if(\"function\"==typeof userProvidedIcon)rendererResult=userProvidedIcon();else{if(\"string\"!=typeof userProvidedIcon)throw new Error(\"icon from grid options needs to be a string or a function\");rendererResult=userProvidedIcon}return\"string\"==typeof rendererResult?loadTemplate(rendererResult):isNodeOrElement(rendererResult)?rendererResult:void console.warn(\"AG Grid: iconRenderer should return back a string or a dom object\")}var IconUtils=Object.freeze({__proto__:null,iconNameClassMap:iconNameClassMap,createIcon:createIcon,createIconNoSpan:createIconNoSpan});function isKeyPressed(event,keyToCheck){return(event.which||event.keyCode)===keyToCheck}function isEventFromPrintableCharacter(event){if(event.altKey||event.ctrlKey||event.metaKey)return!1;var printableCharacter=1===event.key.length,numpadDelWithNumlockOnForEdgeOrIe=function(event){return(isBrowserEdge()||isBrowserIE())&&\"Del\"===event.key&&46===event.charCode}(event);return printableCharacter||numpadDelWithNumlockOnForEdgeOrIe}function isUserSuppressingKeyboardEvent(gridOptionsWrapper,keyboardEvent,rowNode,column,editing){var gridOptionsFunc=gridOptionsWrapper.getSuppressKeyboardEventFunc(),colDefFunc=column?column.getColDef().suppressKeyboardEvent:void 0;if(!gridOptionsFunc&&!colDefFunc)return!1;var params={event:keyboardEvent,editing:editing,column:column,api:gridOptionsWrapper.getApi(),node:rowNode,data:rowNode.data,colDef:column.getColDef(),context:gridOptionsWrapper.getContext(),columnApi:gridOptionsWrapper.getColumnApi()};return!(!colDefFunc||!colDefFunc(params))||!!gridOptionsFunc&&gridOptionsFunc(params)}function isUserSuppressingHeaderKeyboardEvent(gridOptionsWrapper,keyboardEvent,headerRowIndex,column){var colDef=column.getDefinition(),colDefFunc=colDef&&colDef.suppressHeaderKeyboardEvent;return!!exists(colDefFunc)&&!!colDefFunc({api:gridOptionsWrapper.getApi(),columnApi:gridOptionsWrapper.getColumnApi(),context:gridOptionsWrapper.getContext(),colDef:colDef,column:column,headerRowIndex:headerRowIndex,event:keyboardEvent})}var KeyboardUtils=Object.freeze({__proto__:null,isKeyPressed:isKeyPressed,isEventFromPrintableCharacter:isEventFromPrintableCharacter,isUserSuppressingKeyboardEvent:isUserSuppressingKeyboardEvent,isUserSuppressingHeaderKeyboardEvent:isUserSuppressingHeaderKeyboardEvent});function areEventsNear(e1,e2,pixelCount){if(0===pixelCount)return!1;var diffX=Math.abs(e1.clientX-e2.clientX),diffY=Math.abs(e1.clientY-e2.clientY);return Math.max(diffX,diffY)<=pixelCount}var MouseUtils=Object.freeze({__proto__:null,normalizeWheel:function(event){var sX=0,sY=0,pX=0,pY=0;return\"detail\"in event&&(sY=event.detail),\"wheelDelta\"in event&&(sY=-event.wheelDelta/120),\"wheelDeltaY\"in event&&(sY=-event.wheelDeltaY/120),\"wheelDeltaX\"in event&&(sX=-event.wheelDeltaX/120),\"axis\"in event&&event.axis===event.HORIZONTAL_AXIS&&(sX=sY,sY=0),pX=10*sX,pY=10*sY,\"deltaY\"in event&&(pY=event.deltaY),\"deltaX\"in event&&(pX=event.deltaX),(pX||pY)&&event.deltaMode&&(1==event.deltaMode?(pX*=40,pY*=40):(pX*=800,pY*=800)),pX&&!sX&&(sX=pX<1?-1:1),pY&&!sY&&(sY=pY<1?-1:1),{spinX:sX,spinY:sY,pixelX:pX,pixelY:pY}},isLeftClick:function(mouseEvent){return\"buttons\"in mouseEvent?1==mouseEvent.buttons:1==(mouseEvent.which||mouseEvent.button)},areEventsNear:areEventsNear}),RowNodeUtils=Object.freeze({__proto__:null,sortRowNodesByOrder:function(rowNodes,rowNodeOrder){if(rowNodes){for(var comparator=function(nodeA,nodeB){var positionA=rowNodeOrder[nodeA.id],positionB=rowNodeOrder[nodeB.id],aHasIndex=void 0!==positionA,bHasIndex=void 0!==positionB;return aHasIndex&&bHasIndex?positionA-positionB:aHasIndex||bHasIndex?aHasIndex?1:-1:nodeA.__objectId-nodeB.__objectId},atLeastOneOutOfOrder=!1,i=0;i<rowNodes.length-1;i++)if(comparator(rowNodes[i],rowNodes[i+1])>0){atLeastOneOutOfOrder=!0;break}atLeastOneOutOfOrder&&rowNodes.sort(comparator)}},traverseNodesWithKey:function(nodes,callback){var keyParts=[];!function recursiveSearchNodes(currentNodes){currentNodes&&currentNodes.forEach((function(node){if(node.group||node.hasChildren()){keyParts.push(node.key);var key=keyParts.join(\"|\");callback(node,key),recursiveSearchNodes(node.childrenAfterGroup),keyParts.pop()}}))}(nodes)}});function convertToSet(list){var set=new Set;return list.forEach((function(x){return set.add(x)})),set}var AgPromiseStatus,SetUtils=Object.freeze({__proto__:null,convertToSet:convertToSet}),__assign$1=function(){return(__assign$1=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},_=__assign$1(__assign$1(__assign$1(__assign$1(__assign$1(__assign$1(__assign$1(__assign$1(__assign$1(__assign$1(__assign$1(__assign$1(__assign$1(__assign$1(__assign$1(__assign$1(__assign$1(__assign$1(__assign$1(__assign$1({},GeneralUtils),AriaUtils),ArrayUtils),BrowserUtils),CsvUtils),DateUtils),DomUtils),EventUtils),FunctionUtils),FuzzyMatchUtils),GenericUtils),IconUtils),KeyboardUtils),MapUtils),MouseUtils),NumberUtils),ObjectUtils),RowNodeUtils),SetUtils),StringUtils),NumberSequence=function(){function NumberSequence(initValue,step){void 0===initValue&&(initValue=0),void 0===step&&(step=1),this.nextValue=initValue,this.step=step}return NumberSequence.prototype.next=function(){var valToReturn=this.nextValue;return this.nextValue+=this.step,valToReturn},NumberSequence.prototype.peek=function(){return this.nextValue},NumberSequence.prototype.skip=function(count){this.nextValue+=count},NumberSequence}();(AgPromiseStatus=exports.AgPromiseStatus||(exports.AgPromiseStatus={}))[AgPromiseStatus.IN_PROGRESS=0]=\"IN_PROGRESS\",AgPromiseStatus[AgPromiseStatus.RESOLVED=1]=\"RESOLVED\";var TooltipStates,AgPromise=function(){function AgPromise(callback){var _this=this;this.status=exports.AgPromiseStatus.IN_PROGRESS,this.resolution=null,this.waiters=[],callback((function(value){return _this.onDone(value)}),(function(params){return _this.onReject(params)}))}return AgPromise.all=function(promises){return new AgPromise((function(resolve){var remainingToResolve=promises.length,combinedValues=new Array(remainingToResolve);forEach(promises,(function(promise,index){promise.then((function(value){combinedValues[index]=value,0==--remainingToResolve&&resolve(combinedValues)}))}))}))},AgPromise.resolve=function(value){return void 0===value&&(value=null),new AgPromise((function(resolve){return resolve(value)}))},AgPromise.prototype.then=function(func){var _this=this;return new AgPromise((function(resolve){_this.status===exports.AgPromiseStatus.RESOLVED?resolve(func(_this.resolution)):_this.waiters.push((function(value){return resolve(func(value))}))}))},AgPromise.prototype.resolveNow=function(ifNotResolvedValue,ifResolved){return this.status===exports.AgPromiseStatus.RESOLVED?ifResolved(this.resolution):ifNotResolvedValue},AgPromise.prototype.onDone=function(value){this.status=exports.AgPromiseStatus.RESOLVED,this.resolution=value,forEach(this.waiters,(function(waiter){return waiter(value)}))},AgPromise.prototype.onReject=function(params){console.warn(\"TBI\")},AgPromise}(),Timer=function(){function Timer(){this.timestamp=(new Date).getTime()}return Timer.prototype.print=function(msg){var duration=(new Date).getTime()-this.timestamp;console.info(msg+\" = \"+duration),this.timestamp=(new Date).getTime()},Timer}(),__extends$5=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__assign$2=function(){return(__assign$2=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__decorate$9=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};!function(TooltipStates){TooltipStates[TooltipStates.NOTHING=0]=\"NOTHING\",TooltipStates[TooltipStates.WAITING_TO_SHOW=1]=\"WAITING_TO_SHOW\",TooltipStates[TooltipStates.SHOWING=2]=\"SHOWING\"}(TooltipStates||(TooltipStates={}));var elementGettingCreated,TooltipFeature=function(_super){function TooltipFeature(parentComp){var _this=_super.call(this)||this;return _this.DEFAULT_HIDE_TOOLTIP_TIMEOUT=1e4,_this.SHOW_QUICK_TOOLTIP_DIFF=1e3,_this.FADE_OUT_TOOLTIP_TIMEOUT=1e3,_this.state=TooltipStates.NOTHING,_this.tooltipInstanceCount=0,_this.tooltipMouseTrack=!1,_this.parentComp=parentComp,_this}return __extends$5(TooltipFeature,_super),TooltipFeature.prototype.postConstruct=function(){this.tooltipShowDelay=this.gridOptionsWrapper.getTooltipShowDelay()||2e3,this.tooltipMouseTrack=this.gridOptionsWrapper.isTooltipMouseTrack();var el=this.parentComp.getGui();this.addManagedListener(el,\"mouseenter\",this.onMouseEnter.bind(this)),this.addManagedListener(el,\"mouseleave\",this.onMouseLeave.bind(this)),this.addManagedListener(el,\"mousemove\",this.onMouseMove.bind(this)),this.addManagedListener(el,\"mousedown\",this.onMouseDown.bind(this)),this.addManagedListener(el,\"keydown\",this.onKeyDown.bind(this))},TooltipFeature.prototype.destroy=function(){this.setToDoNothing(),_super.prototype.destroy.call(this)},TooltipFeature.prototype.onMouseEnter=function(e){if(this.state==TooltipStates.NOTHING){var delay=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),delay),this.lastMouseEvent=e,this.state=TooltipStates.WAITING_TO_SHOW}},TooltipFeature.prototype.onMouseLeave=function(){this.setToDoNothing()},TooltipFeature.prototype.onKeyDown=function(){this.setToDoNothing()},TooltipFeature.prototype.setToDoNothing=function(){this.state===TooltipStates.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=TooltipStates.NOTHING},TooltipFeature.prototype.onMouseMove=function(e){this.lastMouseEvent=e,this.tooltipMouseTrack&&this.state===TooltipStates.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},TooltipFeature.prototype.onMouseDown=function(){this.setToDoNothing()},TooltipFeature.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),TooltipFeature.lastTooltipHideTime=(new Date).getTime()),this.state=TooltipStates.NOTHING},TooltipFeature.prototype.destroyTooltipComp=function(){var _this=this;addCssClass(this.tooltipComp.getGui(),\"ag-tooltip-hiding\");var tooltipPopupDestroyFunc=this.tooltipPopupDestroyFunc,tooltipComp=this.tooltipComp;window.setTimeout((function(){tooltipPopupDestroyFunc(),_this.getContext().destroyBean(tooltipComp)}),this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},TooltipFeature.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-TooltipFeature.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},TooltipFeature.prototype.showTooltip=function(){var params=__assign$2({api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()},this.parentComp.getTooltipParams());if(exists(params.value)){this.state=TooltipStates.SHOWING,this.tooltipInstanceCount++;var callback=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.newTooltipComponent(params).then(callback)}else this.setToDoNothing()},TooltipFeature.prototype.newTooltipComponentCallback=function(tooltipInstanceCopy,tooltipComp){if(this.state!==TooltipStates.SHOWING||this.tooltipInstanceCount!==tooltipInstanceCopy)this.getContext().destroyBean(tooltipComp);else{var eGui=tooltipComp.getGui();this.tooltipComp=tooltipComp,containsClass(eGui,\"ag-tooltip\")||addCssClass(eGui,\"ag-tooltip-custom\");var addPopupRes=this.popupService.addPopup({eChild:eGui});addPopupRes&&(this.tooltipPopupDestroyFunc=addPopupRes.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.DEFAULT_HIDE_TOOLTIP_TIMEOUT)}},TooltipFeature.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:\"tooltip\",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18})},TooltipFeature.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},__decorate$9([Autowired(\"popupService\")],TooltipFeature.prototype,\"popupService\",void 0),__decorate$9([Autowired(\"userComponentFactory\")],TooltipFeature.prototype,\"userComponentFactory\",void 0),__decorate$9([Autowired(\"columnApi\")],TooltipFeature.prototype,\"columnApi\",void 0),__decorate$9([Autowired(\"gridApi\")],TooltipFeature.prototype,\"gridApi\",void 0),__decorate$9([PostConstruct],TooltipFeature.prototype,\"postConstruct\",null),TooltipFeature}(BeanStub),__extends$6=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$a=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},compIdSequence=new NumberSequence,Component=function(_super){function Component(template){var _this=_super.call(this)||this;return _this.annotatedGuiListeners=[],_this.displayed=!0,_this.visible=!0,_this.compId=compIdSequence.next(),_this.cssClassStates={},template&&_this.setTemplate(template),_this}return __extends$6(Component,_super),Component.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsWrapper.isEnableBrowserTooltips()},Component.prototype.getCompId=function(){return this.compId},Component.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:\"UNKNOWN\"}},Component.prototype.setTooltip=function(newTooltipText){this.tooltipText!=newTooltipText&&(this.tooltipText&&(this.usingBrowserTooltips?this.getGui().removeAttribute(\"title\"):this.tooltipFeature=this.destroyBean(this.tooltipFeature)),null!=newTooltipText&&(this.tooltipText=newTooltipText,this.tooltipText&&(this.usingBrowserTooltips?this.getGui().setAttribute(\"title\",this.tooltipText):this.tooltipFeature=this.createBean(new TooltipFeature(this)))))},Component.prototype.createChildComponentsFromTags=function(parentNode,paramsMap){var _this=this;forEach(copyNodeList(parentNode.childNodes),(function(childNode){if(childNode instanceof HTMLElement){var childComp=_this.createComponentFromElement(childNode,(function(comp){_this.copyAttributesFromNode(childNode,comp.getGui())}),paramsMap);if(childComp){if(childComp.addItems&&childNode.children.length){_this.createChildComponentsFromTags(childNode,paramsMap);var items=Array.prototype.slice.call(childNode.children);childComp.addItems(items)}_this.swapComponentForNode(childComp,parentNode,childNode)}else childNode.childNodes&&_this.createChildComponentsFromTags(childNode,paramsMap)}}))},Component.prototype.createComponentFromElement=function(element,afterPreCreateCallback,paramsMap){var key=element.nodeName,componentParams=paramsMap?paramsMap[element.getAttribute(\"ref\")]:void 0,ComponentClass=this.agStackComponentsRegistry.getComponentClass(key);if(ComponentClass){elementGettingCreated=element;var newComponent=new ComponentClass(componentParams);return newComponent.setParentComponent(this),this.createBean(newComponent,null,afterPreCreateCallback),newComponent}return null},Component.prototype.copyAttributesFromNode=function(source,dest){iterateNamedNodeMap(source.attributes,(function(name,value){return dest.setAttribute(name,value)}))},Component.prototype.swapComponentForNode=function(newComponent,parentNode,childNode){var eComponent=newComponent.getGui();parentNode.replaceChild(eComponent,childNode),parentNode.insertBefore(document.createComment(childNode.nodeName),eComponent),this.addDestroyFunc(this.destroyBean.bind(this,newComponent)),this.swapInComponentForQuerySelectors(newComponent,childNode)},Component.prototype.swapInComponentForQuerySelectors=function(newComponent,childNode){var thisNoType=this;this.iterateOverQuerySelectors((function(querySelector){thisNoType[querySelector.attributeName]===childNode&&(thisNoType[querySelector.attributeName]=newComponent)}))},Component.prototype.iterateOverQuerySelectors=function(action){for(var thisPrototype=Object.getPrototypeOf(this);null!=thisPrototype;){var metaData=thisPrototype.__agComponentMetaData,currentProtoName=getFunctionName(thisPrototype.constructor);metaData&&metaData[currentProtoName]&&metaData[currentProtoName].querySelectors&&forEach(metaData[currentProtoName].querySelectors,(function(querySelector){return action(querySelector)})),thisPrototype=Object.getPrototypeOf(thisPrototype)}},Component.prototype.setTemplate=function(template,paramsMap){var eGui=loadTemplate(template);this.setTemplateFromElement(eGui,paramsMap)},Component.prototype.setTemplateFromElement=function(element,paramsMap){this.eGui=element,this.eGui.__agComponent=this,this.addAnnotatedGuiEventListeners(),this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),paramsMap)},Component.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},Component.prototype.wireQuerySelectors=function(){var _this=this;if(this.eGui){var thisNoType=this;this.iterateOverQuerySelectors((function(querySelector){var setResult=function(result){return thisNoType[querySelector.attributeName]=result};if(querySelector.refSelector&&_this.eGui.getAttribute(\"ref\")===querySelector.refSelector)setResult(_this.eGui);else{var resultOfQuery=_this.eGui.querySelector(querySelector.querySelector);resultOfQuery&&setResult(resultOfQuery.__agComponent||resultOfQuery)}}))}},Component.prototype.addAnnotatedGuiEventListeners=function(){var _this=this;if(this.removeAnnotatedGuiEventListeners(),this.eGui){var listenerMethods=this.getAgComponentMetaData(\"guiListenerMethods\");listenerMethods&&(this.annotatedGuiListeners||(this.annotatedGuiListeners=[]),listenerMethods.forEach((function(meta){var element=_this.getRefElement(meta.ref);if(element){var listener=_this[meta.methodName].bind(_this);element.addEventListener(meta.eventName,listener),_this.annotatedGuiListeners.push({eventName:meta.eventName,listener:listener,element:element})}})))}},Component.prototype.addAnnotatedGridEventListeners=function(){var _this=this,listenerMetas=this.getAgComponentMetaData(\"gridListenerMethods\");listenerMetas&&listenerMetas.forEach((function(meta){var listener=_this[meta.methodName].bind(_this);_this.addManagedListener(_this.eventService,meta.eventName,listener)}))},Component.prototype.getAgComponentMetaData=function(key){for(var res=[],thisProto=Object.getPrototypeOf(this);null!=thisProto;){var metaData=thisProto.__agComponentMetaData,currentProtoName=getFunctionName(thisProto.constructor);metaData&&metaData[currentProtoName]&&metaData[currentProtoName][key]&&(res=res.concat(metaData[currentProtoName][key])),thisProto=Object.getPrototypeOf(thisProto)}return res},Component.prototype.removeAnnotatedGuiEventListeners=function(){this.annotatedGuiListeners&&(forEach(this.annotatedGuiListeners,(function(e){e.element.removeEventListener(e.eventName,e.listener)})),this.annotatedGuiListeners=[])},Component.prototype.getGui=function(){return this.eGui},Component.prototype.getFocusableElement=function(){return this.eGui},Component.prototype.setParentComponent=function(component){this.parentComponent=component},Component.prototype.getParentComponent=function(){return this.parentComponent},Component.prototype.setGui=function(eGui){this.eGui=eGui},Component.prototype.queryForHtmlElement=function(cssSelector){return this.eGui.querySelector(cssSelector)},Component.prototype.queryForHtmlInputElement=function(cssSelector){return this.eGui.querySelector(cssSelector)},Component.prototype.appendChild=function(newChild,container){if(container||(container=this.eGui),null!=newChild)if(isNodeOrElement(newChild))container.appendChild(newChild);else{var childComponent=newChild;container.appendChild(childComponent.getGui()),this.addDestroyFunc(this.destroyBean.bind(this,childComponent))}},Component.prototype.isDisplayed=function(){return this.displayed},Component.prototype.setVisible=function(visible){visible!==this.visible&&(this.visible=visible,setVisible(this.eGui,visible))},Component.prototype.setDisplayed=function(displayed){displayed!==this.displayed&&(this.displayed=displayed,setDisplayed(this.eGui,displayed),this.dispatchEvent({type:Component.EVENT_DISPLAYED_CHANGED,visible:this.displayed}))},Component.prototype.destroy=function(){this.removeAnnotatedGuiEventListeners(),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),_super.prototype.destroy.call(this)},Component.prototype.addGuiEventListener=function(event,listener){var _this=this;this.eGui.addEventListener(event,listener),this.addDestroyFunc((function(){return _this.eGui.removeEventListener(event,listener)}))},Component.prototype.addCssClass=function(className){!0!==this.cssClassStates[className]&&(addCssClass(this.eGui,className),this.cssClassStates[className]=!0)},Component.prototype.removeCssClass=function(className){!1!==this.cssClassStates[className]&&(removeCssClass(this.eGui,className),this.cssClassStates[className]=!1)},Component.prototype.addOrRemoveCssClass=function(className,addOrRemove){this.cssClassStates[className]!==addOrRemove&&(addOrRemoveCssClass(this.eGui,className,addOrRemove),this.cssClassStates[className]=addOrRemove)},Component.prototype.getAttribute=function(key){var eGui=this.eGui;return eGui?eGui.getAttribute(key):null},Component.prototype.getRefElement=function(refName){return this.queryForHtmlElement('[ref=\"'+refName+'\"]')},Component.EVENT_DISPLAYED_CHANGED=\"displayedChanged\",__decorate$a([Autowired(\"agStackComponentsRegistry\")],Component.prototype,\"agStackComponentsRegistry\",void 0),__decorate$a([PreConstruct],Component.prototype,\"preConstructOnComponent\",null),__decorate$a([PreConstruct],Component.prototype,\"createChildComponentsPreConstruct\",null),__decorate$a([PostConstruct],Component.prototype,\"addAnnotatedGridEventListeners\",null),Component}(BeanStub),__extends$7=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),PopupComponent=function(_super){function PopupComponent(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$7(PopupComponent,_super),PopupComponent.prototype.isPopup=function(){return!0},PopupComponent.prototype.setParentComponent=function(container){addCssClass(container.getGui(),\"ag-has-popup\"),_super.prototype.setParentComponent.call(this,container)},PopupComponent.prototype.destroy=function(){var parentComp=this.parentComponent;parentComp&&parentComp.isAlive()&&removeCssClass(parentComp.getGui(),\"ag-has-popup\"),_super.prototype.destroy.call(this)},PopupComponent}(Component);function RefSelector(ref){return querySelectorFunc.bind(this,\"[ref=\"+ref+\"]\",ref)}function querySelectorFunc(selector,refSelector,classPrototype,methodOrAttributeName,index){null!==selector?\"number\"!=typeof index?addToObjectProps(classPrototype,\"querySelectors\",{attributeName:methodOrAttributeName,querySelector:selector,refSelector:refSelector}):console.error(\"AG Grid: QuerySelector should be on an attribute\"):console.error(\"AG Grid: QuerySelector selector should not be null\")}function gridListenerFunc(eventName,target,methodName){null!=eventName?addToObjectProps(target,\"gridListenerMethods\",{methodName:methodName,eventName:eventName}):console.error(\"AG Grid: GridListener eventName is missing\")}function guiListenerFunc(ref,eventName,target,methodName){null!=eventName?addToObjectProps(target,\"guiListenerMethods\",{methodName:methodName,eventName:eventName,ref:ref}):console.error(\"AG Grid: GuiListener eventName is missing\")}function addToObjectProps(target,key,value){var props=function(target,instanceName){return target.__agComponentMetaData||(target.__agComponentMetaData={}),target.__agComponentMetaData[instanceName]||(target.__agComponentMetaData[instanceName]={}),target.__agComponentMetaData[instanceName]}(target,getFunctionName(target.constructor));props[key]||(props[key]=[]),props[key].push(value)}var ConditionPosition,KeyCode=function(){function KeyCode(){}return KeyCode.BACKSPACE=8,KeyCode.TAB=9,KeyCode.ENTER=13,KeyCode.SHIFT=16,KeyCode.ESCAPE=27,KeyCode.SPACE=32,KeyCode.LEFT=37,KeyCode.UP=38,KeyCode.RIGHT=39,KeyCode.DOWN=40,KeyCode.DELETE=46,KeyCode.A=65,KeyCode.C=67,KeyCode.V=86,KeyCode.D=68,KeyCode.Z=90,KeyCode.Y=89,KeyCode.F2=113,KeyCode.PAGE_UP=33,KeyCode.PAGE_DOWN=34,KeyCode.PAGE_HOME=36,KeyCode.PAGE_END=35,KeyCode}(),__extends$8=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),TextCellEditor=function(_super){function TextCellEditor(){return _super.call(this,TextCellEditor.TEMPLATE)||this}return __extends$8(TextCellEditor,_super),TextCellEditor.prototype.init=function(params){this.params=params;var startValue,eInput=this.eInput;params.cellStartedEdit?(this.focusAfterAttached=!0,params.keyPress===KeyCode.BACKSPACE||params.keyPress===KeyCode.DELETE?startValue=\"\":params.charPress?startValue=params.charPress:(startValue=this.getStartValue(params),params.keyPress!==KeyCode.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,startValue=this.getStartValue(params)),null!=startValue&&eInput.setValue(startValue,!0),this.addManagedListener(eInput.getGui(),\"keydown\",(function(event){var keyCode=event.keyCode;keyCode!==KeyCode.PAGE_UP&&keyCode!==KeyCode.PAGE_DOWN||event.preventDefault()}))},TextCellEditor.prototype.afterGuiAttached=function(){var translate=this.gridOptionsWrapper.getLocaleTextFunc(),eInput=this.eInput;if(eInput.setInputAriaLabel(translate(\"ariaInputEditor\",\"Input Editor\")),this.focusAfterAttached){isBrowserSafari()||eInput.getFocusableElement().focus();var inputEl=eInput.getInputElement();if(this.highlightAllOnFocus)inputEl.select();else{var value=eInput.getValue(),len=exists(value)&&value.length||0;len&&inputEl.setSelectionRange(len,len)}}},TextCellEditor.prototype.focusIn=function(){var eInput=this.eInput,focusEl=eInput.getFocusableElement(),inputEl=eInput.getInputElement();focusEl.focus(),inputEl.select()},TextCellEditor.prototype.focusOut=function(){var inputEl=this.eInput.getInputElement();isBrowserIE()&&inputEl.setSelectionRange(0,0)},TextCellEditor.prototype.getValue=function(){return this.params.parseValue(this.eInput.getValue())},TextCellEditor.prototype.getStartValue=function(params){return params.useFormatter||params.column.getColDef().refData?params.formatValue(params.value):params.value},TextCellEditor.prototype.isPopup=function(){return!1},TextCellEditor.TEMPLATE='<div class=\"ag-cell-edit-wrapper\"><ag-input-text-field class=\"ag-cell-editor\" ref=\"eInput\"></ag-input-text-field></div>',function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);c>3&&r&&Object.defineProperty(target,key,r)}([RefSelector(\"eInput\")],TextCellEditor.prototype,\"eInput\",void 0),TextCellEditor}(PopupComponent),DateCompWrapper=function(){function DateCompWrapper(context,userComponentFactory,dateComponentParams,eParent){var _this=this;this.alive=!0,this.context=context,userComponentFactory.newDateComponent(dateComponentParams).then((function(dateComp){_this.alive?(_this.dateComp=dateComp,dateComp&&(eParent.appendChild(dateComp.getGui()),dateComp.afterGuiAttached&&dateComp.afterGuiAttached(),_this.tempValue&&dateComp.setDate(_this.tempValue))):context.destroyBean(dateComp)}))}return DateCompWrapper.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},DateCompWrapper.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},DateCompWrapper.prototype.setDate=function(value){this.dateComp?this.dateComp.setDate(value):this.tempValue=value},DateCompWrapper.prototype.setInputPlaceholder=function(placeholder){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(placeholder)},DateCompWrapper.prototype.setInputAriaLabel=function(label){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(label)},DateCompWrapper.prototype.afterGuiAttached=function(params){this.dateComp&&\"function\"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(params)},DateCompWrapper}(),OptionsFactory=function(){function OptionsFactory(){this.customFilterOptions={}}return OptionsFactory.prototype.init=function(params,defaultOptions){this.filterOptions=params.filterOptions||defaultOptions,this.mapCustomOptions(),this.selectDefaultItem(params)},OptionsFactory.prototype.getFilterOptions=function(){return this.filterOptions},OptionsFactory.prototype.mapCustomOptions=function(){var _this=this;this.filterOptions&&this.filterOptions.forEach((function(filterOption){\"string\"!=typeof filterOption&&every([\"displayKey\",\"displayName\",\"test\"],(function(key){return!!filterOption[key]||(console.warn(\"AG Grid: ignoring FilterOptionDef as it doesn't contain a '\"+key+\"'\"),!1)}))&&(_this.customFilterOptions[filterOption.displayKey]=filterOption)}))},OptionsFactory.prototype.selectDefaultItem=function(params){if(params.defaultOption)this.defaultOption=params.defaultOption;else if(this.filterOptions.length>=1){var firstFilterOption=this.filterOptions[0];\"string\"==typeof firstFilterOption?this.defaultOption=firstFilterOption:firstFilterOption.displayKey?this.defaultOption=firstFilterOption.displayKey:console.warn(\"AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'\")}else console.warn(\"AG Grid: no filter options for filter\")},OptionsFactory.prototype.getDefaultOption=function(){return this.defaultOption},OptionsFactory.prototype.getCustomOption=function(name){return this.customFilterOptions[name]},OptionsFactory}(),DEFAULT_FILTER_LOCALE_TEXT={applyFilter:\"Apply\",clearFilter:\"Clear\",resetFilter:\"Reset\",cancelFilter:\"Cancel\",textFilter:\"Text Filter\",numberFilter:\"Number Filter\",dateFilter:\"Date Filter\",setFilter:\"Set Filter\",filterOoo:\"Filter...\",empty:\"Choose One\",equals:\"Equals\",notEqual:\"Not equal\",lessThan:\"Less than\",greaterThan:\"Greater than\",inRange:\"In range\",inRangeStart:\"From\",inRangeEnd:\"To\",lessThanOrEqual:\"Less than or equals\",greaterThanOrEqual:\"Greater than or equals\",contains:\"Contains\",notContains:\"Not contains\",startsWith:\"Starts with\",endsWith:\"Ends with\",andCondition:\"AND\",orCondition:\"OR\",dateFormatOoo:\"yyyy-mm-dd\"},__extends$9=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$c=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},ManagedFocusComponent=function(_super){function ManagedFocusComponent(template,isFocusableContainer){void 0===isFocusableContainer&&(isFocusableContainer=!1);var _this=_super.call(this,template)||this;return _this.isFocusableContainer=isFocusableContainer,_this.skipTabGuardFocus=!1,_this}return __extends$9(ManagedFocusComponent,_super),ManagedFocusComponent.prototype.postConstruct=function(){var _this=this,focusableElement=this.getFocusableElement();focusableElement&&(addCssClass(focusableElement,ManagedFocusComponent.FOCUS_MANAGED_CLASS),this.isFocusableContainer&&(this.topTabGuard=this.createTabGuard(\"top\"),this.bottomTabGuard=this.createTabGuard(\"bottom\"),this.addTabGuards(),this.activateTabGuards(),this.forEachTabGuard((function(guard){return _this.addManagedListener(guard,\"focus\",_this.onFocus.bind(_this))}))),this.addKeyDownListeners(focusableElement),this.addManagedListener(focusableElement,\"focusin\",this.onFocusIn.bind(this)),this.addManagedListener(focusableElement,\"focusout\",this.onFocusOut.bind(this)))},ManagedFocusComponent.prototype.focusInnerElement=function(fromBottom){void 0===fromBottom&&(fromBottom=!1);var focusable=this.focusController.findFocusableElements(this.getFocusableElement());this.isFocusableContainer&&this.tabGuardsAreActive()&&(focusable.splice(0,1),focusable.splice(focusable.length-1,1)),focusable.length&&focusable[fromBottom?focusable.length-1:0].focus()},ManagedFocusComponent.prototype.onTabKeyDown=function(e){var _this=this;if(!e.defaultPrevented){var tabGuardsAreActive=this.tabGuardsAreActive();this.isFocusableContainer&&tabGuardsAreActive&&this.deactivateTabGuards();var nextRoot=this.focusController.findNextFocusableElement(this.getFocusableElement(),!1,e.shiftKey);this.isFocusableContainer&&tabGuardsAreActive&&setTimeout((function(){return _this.activateTabGuards()}),0),nextRoot&&(nextRoot.focus(),e.preventDefault())}},ManagedFocusComponent.prototype.onFocusIn=function(e){this.isFocusableContainer&&this.deactivateTabGuards()},ManagedFocusComponent.prototype.onFocusOut=function(e){this.isFocusableContainer&&!this.getFocusableElement().contains(e.relatedTarget)&&this.activateTabGuards()},ManagedFocusComponent.prototype.forceFocusOutOfContainer=function(up){if(void 0===up&&(up=!1),this.isFocusableContainer){this.activateTabGuards(),this.skipTabGuardFocus=!0;var tabGuardToFocus=up?this.topTabGuard:this.bottomTabGuard;tabGuardToFocus&&tabGuardToFocus.focus()}},ManagedFocusComponent.prototype.appendChild=function(newChild,container){if(this.isFocusableContainer){isNodeOrElement(newChild)||(newChild=newChild.getGui());var bottomTabGuard=this.bottomTabGuard;bottomTabGuard?bottomTabGuard.insertAdjacentElement(\"beforebegin\",newChild):_super.prototype.appendChild.call(this,newChild,container)}else _super.prototype.appendChild.call(this,newChild,container)},ManagedFocusComponent.prototype.createTabGuard=function(side){var tabGuard=document.createElement(\"div\");return tabGuard.classList.add(\"ag-tab-guard\"),tabGuard.classList.add(\"ag-tab-guard-\"+side),tabGuard.setAttribute(\"role\",\"presentation\"),tabGuard},ManagedFocusComponent.prototype.addTabGuards=function(){var focusableEl=this.getFocusableElement();focusableEl.insertAdjacentElement(\"afterbegin\",this.topTabGuard),focusableEl.insertAdjacentElement(\"beforeend\",this.bottomTabGuard)},ManagedFocusComponent.prototype.forEachTabGuard=function(callback){this.topTabGuard&&callback(this.topTabGuard),this.bottomTabGuard&&callback(this.bottomTabGuard)},ManagedFocusComponent.prototype.addKeyDownListeners=function(eGui){var _this=this;this.addManagedListener(eGui,\"keydown\",(function(e){e.defaultPrevented||isStopPropagationForAgGrid(e)||(_this.shouldStopEventPropagation(e)?stopPropagationForAgGrid(e):e.keyCode===KeyCode.TAB?_this.onTabKeyDown(e):_this.handleKeyDown&&_this.handleKeyDown(e))}))},ManagedFocusComponent.prototype.shouldStopEventPropagation=function(e){return!1},ManagedFocusComponent.prototype.onFocus=function(e){this.skipTabGuardFocus?this.skipTabGuardFocus=!1:this.focusInnerElement(e.target===this.bottomTabGuard)},ManagedFocusComponent.prototype.activateTabGuards=function(){var _this=this;this.forEachTabGuard((function(guard){return guard.setAttribute(\"tabIndex\",_this.gridOptionsWrapper.getGridTabIndex())}))},ManagedFocusComponent.prototype.deactivateTabGuards=function(){this.forEachTabGuard((function(guard){return guard.removeAttribute(\"tabIndex\")}))},ManagedFocusComponent.prototype.tabGuardsAreActive=function(){return!!this.topTabGuard&&this.topTabGuard.hasAttribute(\"tabIndex\")},ManagedFocusComponent.prototype.clearGui=function(){var tabGuardsAreActive=this.tabGuardsAreActive();clearElement(this.getFocusableElement()),this.isFocusableContainer&&(this.addTabGuards(),tabGuardsAreActive&&this.activateTabGuards())},ManagedFocusComponent.FOCUS_MANAGED_CLASS=\"ag-focus-managed\",__decorate$c([Autowired(\"focusController\")],ManagedFocusComponent.prototype,\"focusController\",void 0),__decorate$c([PostConstruct],ManagedFocusComponent.prototype,\"postConstruct\",null),ManagedFocusComponent}(Component),__extends$a=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$d=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},ProvidedFilter=function(_super){function ProvidedFilter(filterNameKey){var _this=_super.call(this)||this;return _this.filterNameKey=filterNameKey,_this.applyActive=!1,_this.hidePopup=null,_this.appliedModel=null,_this}return __extends$a(ProvidedFilter,_super),ProvidedFilter.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},ProvidedFilter.prototype.onFilterChanged=function(){console.warn(\"AG Grid: you should not call onFilterChanged() directly on the filter, please call\\n        gridApi.onFilterChanged() instead. onFilterChanged is not part of the exposed filter interface (it was\\n        a method that existed on an old version of the filters that was not intended for public use.\"),this.providedFilterParams.filterChangedCallback()},ProvidedFilter.prototype.isFilterActive=function(){return!!this.appliedModel},ProvidedFilter.prototype.postConstruct=function(){this.resetTemplate(),_super.prototype.postConstruct.call(this)},ProvidedFilter.prototype.resetTemplate=function(paramsMap){var templateString='\\n            <div class=\"ag-filter-wrapper\">\\n                <div class=\"ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper\">\\n                    '+this.createBodyTemplate()+\"\\n                </div>\\n            </div>\";this.setTemplate(templateString,paramsMap)},ProvidedFilter.prototype.init=function(params){var _this=this;this.setParams(params),this.resetUiToDefaults(!0).then((function(){_this.updateUiVisibility(),_this.setupOnBtApplyDebounce()}))},ProvidedFilter.prototype.setParams=function(params){ProvidedFilter.checkForDeprecatedParams(params),this.providedFilterParams=params,this.newRowsActionKeep=\"keep\"===params.newRowsAction||\"clear\"!==params.newRowsAction&&[Constants.ROW_MODEL_TYPE_SERVER_SIDE,Constants.ROW_MODEL_TYPE_INFINITE].indexOf(this.rowModel.getType())>=0,this.applyActive=ProvidedFilter.isUseApplyButton(params),this.createButtonPanel()},ProvidedFilter.prototype.createButtonPanel=function(){var _this=this,buttons=this.providedFilterParams.buttons;if(buttons&&!(buttons.length<1)){var eButtonsPanel=document.createElement(\"div\");addCssClass(eButtonsPanel,\"ag-filter-apply-panel\"),convertToSet(buttons).forEach((function(type){return function(type){var text,clickListener;switch(type){case\"apply\":text=_this.translate(\"applyFilter\"),clickListener=function(e){return _this.onBtApply(!1,!1,e)};break;case\"clear\":text=_this.translate(\"clearFilter\"),clickListener=function(){return _this.onBtClear()};break;case\"reset\":text=_this.translate(\"resetFilter\"),clickListener=function(){return _this.onBtReset()};break;case\"cancel\":text=_this.translate(\"cancelFilter\"),clickListener=function(e){_this.onBtCancel(e)};break;default:return void console.warn(\"Unknown button type specified\")}var button=loadTemplate('<button\\n                    type=\"button\"\\n                    ref=\"'+type+'FilterButton\"\\n                    class=\"ag-standard-button ag-filter-apply-panel-button\"\\n                >'+text+\"\\n                </button>\");eButtonsPanel.appendChild(button),_this.addManagedListener(button,\"click\",clickListener)}(type)})),this.getGui().appendChild(eButtonsPanel)}},ProvidedFilter.checkForDeprecatedParams=function(params){var buttons=params.buttons||[];if(!(buttons.length>0)){var applyButton=params.applyButton,resetButton=params.resetButton;params.clearButton&&(console.warn(\"AG Grid: as of AG Grid v23.2, filterParams.clearButton is deprecated. Please use filterParams.buttons instead\"),buttons.push(\"clear\")),resetButton&&(console.warn(\"AG Grid: as of AG Grid v23.2, filterParams.resetButton is deprecated. Please use filterParams.buttons instead\"),buttons.push(\"reset\")),applyButton&&(console.warn(\"AG Grid: as of AG Grid v23.2, filterParams.applyButton is deprecated. Please use filterParams.buttons instead\"),buttons.push(\"apply\")),params.apply&&(console.warn(\"AG Grid: as of AG Grid v21, filterParams.apply is deprecated. Please use filterParams.buttons instead\"),buttons.push(\"apply\")),params.buttons=buttons}},ProvidedFilter.prototype.getDefaultDebounceMs=function(){return 0},ProvidedFilter.prototype.setupOnBtApplyDebounce=function(){var debounceMs=ProvidedFilter.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=debounce(this.onBtApply.bind(this),debounceMs)},ProvidedFilter.prototype.getModel=function(){return this.appliedModel},ProvidedFilter.prototype.setModel=function(model){var _this=this;return(model?this.setModelIntoUi(model):this.resetUiToDefaults()).then((function(){_this.updateUiVisibility(),_this.applyModel()}))},ProvidedFilter.prototype.onBtCancel=function(e){var _this=this,currentModel=this.getModel(),afterAppliedFunc=function(){_this.onUiChanged(!1,\"prevent\"),_this.providedFilterParams.closeOnApply&&_this.close(e)};null!=currentModel?this.setModelIntoUi(currentModel).then(afterAppliedFunc):this.resetUiToDefaults().then(afterAppliedFunc)},ProvidedFilter.prototype.onBtClear=function(){var _this=this;this.resetUiToDefaults().then((function(){return _this.onUiChanged()}))},ProvidedFilter.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},ProvidedFilter.prototype.applyModel=function(){var newModel=this.getModelFromUi();if(!this.isModelValid(newModel))return!1;var previousModel=this.appliedModel;return this.appliedModel=newModel,!this.areModelsEqual(previousModel,newModel)},ProvidedFilter.prototype.isModelValid=function(model){return!0},ProvidedFilter.prototype.onBtApply=function(afterFloatingFilter,afterDataChange,e){void 0===afterFloatingFilter&&(afterFloatingFilter=!1),void 0===afterDataChange&&(afterDataChange=!1),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:afterFloatingFilter,afterDataChange:afterDataChange}),this.providedFilterParams.closeOnApply&&this.applyActive&&!afterFloatingFilter&&!afterDataChange&&this.close(e)},ProvidedFilter.prototype.onNewRowsLoaded=function(){var _this=this;this.newRowsActionKeep||this.resetUiToDefaults().then((function(){return _this.appliedModel=null}))},ProvidedFilter.prototype.close=function(e){if(this.hidePopup){var params,key=e&&e.key;\"Enter\"!==key&&\"Space\"!==key||(params={keyboardEvent:e}),this.hidePopup(params),this.hidePopup=null}},ProvidedFilter.prototype.isNewRowsActionKeep=function(){return this.newRowsActionKeep},ProvidedFilter.prototype.onUiChanged=function(fromFloatingFilter,apply){if(void 0===fromFloatingFilter&&(fromFloatingFilter=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive){var isValid=this.isModelValid(this.getModelFromUi());setDisabled(this.getRefElement(\"applyFilterButton\"),!isValid)}fromFloatingFilter&&!apply||\"immediately\"===apply?this.onBtApply(fromFloatingFilter):(this.applyActive||apply)&&\"debounce\"!==apply||this.onBtApplyDebounce()},ProvidedFilter.prototype.afterGuiAttached=function(params){null!=params&&(this.hidePopup=params.hidePopup)},ProvidedFilter.getDebounceMs=function(params,debounceDefault){return ProvidedFilter.isUseApplyButton(params)?(null!=params.debounceMs&&console.warn(\"AG Grid: debounceMs is ignored when apply button is present\"),0):null!=params.debounceMs?params.debounceMs:debounceDefault},ProvidedFilter.isUseApplyButton=function(params){return ProvidedFilter.checkForDeprecatedParams(params),!!params.buttons&&params.buttons.indexOf(\"apply\")>=0},ProvidedFilter.prototype.destroy=function(){this.hidePopup=null,_super.prototype.destroy.call(this)},ProvidedFilter.prototype.translate=function(key){return this.gridOptionsWrapper.getLocaleTextFunc()(key,DEFAULT_FILTER_LOCALE_TEXT[key])},__decorate$d([Autowired(\"rowModel\")],ProvidedFilter.prototype,\"rowModel\",void 0),__decorate$d([PostConstruct],ProvidedFilter.prototype,\"postConstruct\",null),ProvidedFilter}(ManagedFocusComponent),__extends$b=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$e=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};!function(ConditionPosition){ConditionPosition[ConditionPosition.One=0]=\"One\",ConditionPosition[ConditionPosition.Two=1]=\"Two\"}(ConditionPosition||(ConditionPosition={}));var ComponentSource,SimpleFilter=function(_super){function SimpleFilter(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$b(SimpleFilter,_super),SimpleFilter.prototype.showValueFrom=function(type){return!this.doesFilterHaveHiddenInput(type)&&type!==SimpleFilter.EMPTY},SimpleFilter.prototype.showValueTo=function(type){return type===SimpleFilter.IN_RANGE},SimpleFilter.prototype.onFloatingFilterChanged=function(type,value){this.setTypeFromFloatingFilter(type),this.setValueFromFloatingFilter(value),this.onUiChanged(!0)},SimpleFilter.prototype.setTypeFromFloatingFilter=function(type){this.eType1.setValue(type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),(this.isDefaultOperator(\"AND\")?this.eJoinOperatorAnd:this.eJoinOperatorOr).setValue(!0)},SimpleFilter.prototype.getModelFromUi=function(){return this.isConditionUiComplete(ConditionPosition.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(ConditionPosition.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(ConditionPosition.One),condition2:this.createCondition(ConditionPosition.Two)}:this.createCondition(ConditionPosition.One):null},SimpleFilter.prototype.getCondition1Type=function(){return this.eType1.getValue()},SimpleFilter.prototype.getCondition2Type=function(){return this.eType2.getValue()},SimpleFilter.prototype.getJoinOperator=function(){return!0===this.eJoinOperatorOr.getValue()?\"OR\":\"AND\"},SimpleFilter.prototype.areModelsEqual=function(a,b){if(!a&&!b)return!0;if(!a&&b||a&&!b)return!1;var res,aIsSimple=!a.operator,bIsSimple=!b.operator;if(!aIsSimple&&bIsSimple||aIsSimple&&!bIsSimple)return!1;if(aIsSimple)res=this.areSimpleModelsEqual(a,b);else{var aCombined=a,bCombined=b;res=aCombined.operator===bCombined.operator&&this.areSimpleModelsEqual(aCombined.condition1,bCombined.condition1)&&this.areSimpleModelsEqual(aCombined.condition2,bCombined.condition2)}return res},SimpleFilter.prototype.setModelIntoUi=function(model){if(model.operator){var combinedModel=model,orChecked=\"OR\"===combinedModel.operator;this.eJoinOperatorAnd.setValue(!orChecked),this.eJoinOperatorOr.setValue(orChecked),this.eType1.setValue(combinedModel.condition1.type),this.eType2.setValue(combinedModel.condition2.type),this.setConditionIntoUi(combinedModel.condition1,ConditionPosition.One),this.setConditionIntoUi(combinedModel.condition2,ConditionPosition.Two)}else{var simpleModel=model;this.eJoinOperatorAnd.setValue(this.isDefaultOperator(\"AND\")),this.eJoinOperatorOr.setValue(this.isDefaultOperator(\"OR\")),this.eType1.setValue(simpleModel.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(simpleModel,ConditionPosition.One),this.setConditionIntoUi(null,ConditionPosition.Two)}return AgPromise.resolve()},SimpleFilter.prototype.doesFilterPass=function(params){var _this=this,model=this.getModel();if(null==model)return!0;var operator=model.operator,models=[];return operator?models.push(model.condition1,model.condition2):models.push(model),(operator&&\"OR\"===operator?some:every)(models,(function(m){return _this.individualConditionPasses(params,m)}))},SimpleFilter.prototype.setParams=function(params){_super.prototype.setParams.call(this,params),this.optionsFactory=new OptionsFactory,this.optionsFactory.init(params,this.getDefaultFilterOptions()),this.allowTwoConditions=!params.suppressAndOrCondition,this.alwaysShowBothConditions=!!params.alwaysShowBothConditions,this.defaultJoinOperator=this.getDefaultJoinOperator(params.defaultJoinOperator),this.putOptionsIntoDropdown(),this.addChangedListeners()},SimpleFilter.prototype.getDefaultJoinOperator=function(defaultJoinOperator){return includes([\"AND\",\"OR\"],defaultJoinOperator)?defaultJoinOperator:\"AND\"},SimpleFilter.prototype.putOptionsIntoDropdown=function(){var _this=this,filterOptions=this.optionsFactory.getFilterOptions();forEach(filterOptions,(function(option){var value,text;if(\"string\"==typeof option)text=_this.translate(value=option);else{var customOption=_this.optionsFactory.getCustomOption(value=option.displayKey);text=customOption?_this.gridOptionsWrapper.getLocaleTextFunc()(customOption.displayKey,customOption.displayName):_this.translate(value)}var createOption=function(){return{value:value,text:text}};_this.eType1.addOption(createOption()),_this.eType2.addOption(createOption())}));var readOnly=filterOptions.length<=1;this.eType1.setDisabled(readOnly),this.eType2.setDisabled(readOnly)},SimpleFilter.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},SimpleFilter.prototype.createBodyTemplate=function(){return'\\n            <ag-select class=\"ag-filter-select\" ref=\"eOptions1\"></ag-select>\\n            '+this.createValueTemplate(ConditionPosition.One)+'\\n            <div class=\"ag-filter-condition\" ref=\"eJoinOperatorPanel\">\\n               <ag-radio-button ref=\"eJoinOperatorAnd\" class=\"ag-filter-condition-operator ag-filter-condition-operator-and\"></ag-radio-button>\\n               <ag-radio-button ref=\"eJoinOperatorOr\" class=\"ag-filter-condition-operator ag-filter-condition-operator-or\"></ag-radio-button>\\n            </div>\\n            <ag-select class=\"ag-filter-select\" ref=\"eOptions2\"></ag-select>\\n            '+this.createValueTemplate(ConditionPosition.Two)},SimpleFilter.prototype.getCssIdentifier=function(){return\"simple-filter\"},SimpleFilter.prototype.updateUiVisibility=function(){var isCondition2Enabled=this.isCondition2Enabled();this.alwaysShowBothConditions?(this.eJoinOperatorAnd.setDisabled(!isCondition2Enabled),this.eJoinOperatorOr.setDisabled(!isCondition2Enabled),this.eType2.setDisabled(!isCondition2Enabled),setDisabled(this.eCondition2Body,!isCondition2Enabled)):(setDisplayed(this.eJoinOperatorPanel,isCondition2Enabled),setDisplayed(this.eType2.getGui(),isCondition2Enabled),setDisplayed(this.eCondition2Body,isCondition2Enabled))},SimpleFilter.prototype.isCondition2Enabled=function(){return this.allowTwoConditions&&this.isConditionUiComplete(ConditionPosition.One)},SimpleFilter.prototype.resetUiToDefaults=function(silent){var filteringLabel=this.gridOptionsWrapper.getLocaleTextFunc()(\"ariaFilteringOperator\",\"Filtering operator\"),uniqueGroupId=\"ag-simple-filter-and-or-\"+this.getCompId(),defaultOption=this.optionsFactory.getDefaultOption();return this.eType1.setValue(defaultOption,silent).setAriaLabel(filteringLabel),this.eType2.setValue(defaultOption,silent).setAriaLabel(filteringLabel),this.eJoinOperatorAnd.setValue(this.isDefaultOperator(\"AND\"),silent).setName(uniqueGroupId).setLabel(this.translate(\"andCondition\")),this.eJoinOperatorOr.setValue(this.isDefaultOperator(\"OR\"),silent).setName(uniqueGroupId).setLabel(this.translate(\"orCondition\")),AgPromise.resolve()},SimpleFilter.prototype.isDefaultOperator=function(operator){return operator===this.defaultJoinOperator},SimpleFilter.prototype.addChangedListeners=function(){var _this=this,listener=function(){return _this.onUiChanged()};this.eType1.onValueChange(listener),this.eType2.onValueChange(listener),this.eJoinOperatorOr.onValueChange(listener),this.eJoinOperatorAnd.onValueChange(listener)},SimpleFilter.prototype.doesFilterHaveHiddenInput=function(filterType){var customFilterOption=this.optionsFactory.getCustomOption(filterType);return customFilterOption&&customFilterOption.hideFilterInput},SimpleFilter.EMPTY=\"empty\",SimpleFilter.EQUALS=\"equals\",SimpleFilter.NOT_EQUAL=\"notEqual\",SimpleFilter.LESS_THAN=\"lessThan\",SimpleFilter.LESS_THAN_OR_EQUAL=\"lessThanOrEqual\",SimpleFilter.GREATER_THAN=\"greaterThan\",SimpleFilter.GREATER_THAN_OR_EQUAL=\"greaterThanOrEqual\",SimpleFilter.IN_RANGE=\"inRange\",SimpleFilter.CONTAINS=\"contains\",SimpleFilter.NOT_CONTAINS=\"notContains\",SimpleFilter.STARTS_WITH=\"startsWith\",SimpleFilter.ENDS_WITH=\"endsWith\",__decorate$e([RefSelector(\"eOptions1\")],SimpleFilter.prototype,\"eType1\",void 0),__decorate$e([RefSelector(\"eOptions2\")],SimpleFilter.prototype,\"eType2\",void 0),__decorate$e([RefSelector(\"eJoinOperatorPanel\")],SimpleFilter.prototype,\"eJoinOperatorPanel\",void 0),__decorate$e([RefSelector(\"eJoinOperatorAnd\")],SimpleFilter.prototype,\"eJoinOperatorAnd\",void 0),__decorate$e([RefSelector(\"eJoinOperatorOr\")],SimpleFilter.prototype,\"eJoinOperatorOr\",void 0),__decorate$e([RefSelector(\"eCondition1Body\")],SimpleFilter.prototype,\"eCondition1Body\",void 0),__decorate$e([RefSelector(\"eCondition2Body\")],SimpleFilter.prototype,\"eCondition2Body\",void 0),SimpleFilter}(ProvidedFilter),__extends$c=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),ScalarFilter=function(_super){function ScalarFilter(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$c(ScalarFilter,_super),ScalarFilter.prototype.setParams=function(params){_super.prototype.setParams.call(this,params),this.scalarFilterParams=params,this.checkDeprecatedParams()},ScalarFilter.prototype.checkDeprecatedParams=function(){this.scalarFilterParams.nullComparator&&(console.warn(\"AG Grid: Since v21.0, the property filterParams.nullComparator is deprecated. Please use filterParams.includeBlanksInEquals, filterParams.includeBlanksInLessThan and filterParams.includeBlanksInGreaterThan instead.\"),this.scalarFilterParams.includeBlanksInEquals=this.scalarFilterParams.nullComparator.equals,this.scalarFilterParams.includeBlanksInLessThan=this.scalarFilterParams.nullComparator.lessThan,this.scalarFilterParams.includeBlanksInGreaterThan=this.scalarFilterParams.nullComparator.greaterThan)},ScalarFilter.prototype.individualConditionPasses=function(params,filterModel){var cellValue=this.scalarFilterParams.valueGetter(params.node),range=this.mapRangeFromModel(filterModel),filterValue=range.from,filterValueTo=range.to,filterType=filterModel.type,customFilterOption=this.optionsFactory.getCustomOption(filterType);if(customFilterOption&&(null!=filterValue||customFilterOption.hideFilterInput))return customFilterOption.test(filterValue,cellValue);if(null==cellValue){switch(filterType){case ScalarFilter.EQUALS:case ScalarFilter.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case ScalarFilter.GREATER_THAN:case ScalarFilter.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case ScalarFilter.LESS_THAN:case ScalarFilter.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case ScalarFilter.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0}return!1}var comparator=this.comparator(),compareResult=comparator(filterValue,cellValue);switch(filterType){case ScalarFilter.EQUALS:return 0===compareResult;case ScalarFilter.NOT_EQUAL:return 0!==compareResult;case ScalarFilter.GREATER_THAN:return compareResult>0;case ScalarFilter.GREATER_THAN_OR_EQUAL:return compareResult>=0;case ScalarFilter.LESS_THAN:return compareResult<0;case ScalarFilter.LESS_THAN_OR_EQUAL:return compareResult<=0;case ScalarFilter.IN_RANGE:var compareToResult=comparator(filterValueTo,cellValue);return this.scalarFilterParams.inRangeInclusive?compareResult>=0&&compareToResult<=0:compareResult>0&&compareToResult<0;default:return console.warn('AG Grid: Unexpected type of filter \"'+filterType+'\", it looks like the filter was configured with incorrect Filter Options'),!0}},ScalarFilter}(SimpleFilter),__extends$d=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$f=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},DateFilter=function(_super){function DateFilter(){return _super.call(this,\"dateFilter\")||this}return __extends$d(DateFilter,_super),DateFilter.prototype.afterGuiAttached=function(params){_super.prototype.afterGuiAttached.call(this,params),this.dateCondition1FromComp.afterGuiAttached(params)},DateFilter.prototype.mapRangeFromModel=function(filterModel){return{from:parseDateTimeFromString(filterModel.dateFrom),to:parseDateTimeFromString(filterModel.dateTo)}},DateFilter.prototype.setValueFromFloatingFilter=function(value){this.dateCondition1FromComp.setDate(null==value?null:parseDateTimeFromString(value)),this.dateCondition1ToComp.setDate(null),this.dateCondition2FromComp.setDate(null),this.dateCondition2ToComp.setDate(null)},DateFilter.prototype.setConditionIntoUi=function(model,position){var _a=model?[parseDateTimeFromString(model.dateFrom),parseDateTimeFromString(model.dateTo)]:[null,null],dateFrom=_a[0],dateTo=_a[1],_b=this.getFromToComponents(position),compTo=_b[1];_b[0].setDate(dateFrom),compTo.setDate(dateTo)},DateFilter.prototype.resetUiToDefaults=function(silent){var _this=this;return _super.prototype.resetUiToDefaults.call(this,silent).then((function(){_this.dateCondition1FromComp.setDate(null),_this.dateCondition1ToComp.setDate(null),_this.dateCondition2FromComp.setDate(null),_this.dateCondition2ToComp.setDate(null)}))},DateFilter.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},DateFilter.prototype.defaultComparator=function(filterDate,cellValue){return null==cellValue||cellValue<filterDate?-1:cellValue>filterDate?1:0},DateFilter.prototype.setParams=function(params){_super.prototype.setParams.call(this,params),this.dateFilterParams=params,this.createDateComponents()},DateFilter.prototype.createDateComponents=function(){var _this=this,createDateCompWrapper=function(element){return new DateCompWrapper(_this.getContext(),_this.userComponentFactory,{onDateChanged:function(){return _this.onUiChanged()},filterParams:_this.dateFilterParams},element)};this.dateCondition1FromComp=createDateCompWrapper(this.eCondition1PanelFrom),this.dateCondition1ToComp=createDateCompWrapper(this.eCondition1PanelTo),this.dateCondition2FromComp=createDateCompWrapper(this.eCondition2PanelFrom),this.dateCondition2ToComp=createDateCompWrapper(this.eCondition2PanelTo),this.addDestroyFunc((function(){_this.dateCondition1FromComp.destroy(),_this.dateCondition1ToComp.destroy(),_this.dateCondition2FromComp.destroy(),_this.dateCondition2ToComp.destroy()}))},DateFilter.prototype.getDefaultFilterOptions=function(){return DateFilter.DEFAULT_FILTER_OPTIONS},DateFilter.prototype.createValueTemplate=function(position){var pos=position===ConditionPosition.One?\"1\":\"2\";return('\\n            <div class=\"ag-filter-body\" ref=\"eCondition'+pos+'Body\">\\n                <div class=\"ag-filter-from ag-filter-date-from\" ref=\"eCondition'+pos+'PanelFrom\"></div>\\n                <div class=\"ag-filter-to ag-filter-date-to\" ref=\"eCondition'+pos+'PanelTo\"></div>\\n            </div>')},DateFilter.prototype.isConditionUiComplete=function(position){var option=position===ConditionPosition.One?this.getCondition1Type():this.getCondition2Type();if(option===SimpleFilter.EMPTY)return!1;if(this.doesFilterHaveHiddenInput(option))return!0;var _a=this.getFromToComponents(position),compTo=_a[1],minValidYear=null==this.dateFilterParams.minValidYear?1e3:this.dateFilterParams.minValidYear,isValidDate=function(value){return null!=value&&value.getUTCFullYear()>minValidYear};return isValidDate(_a[0].getDate())&&(!this.showValueTo(option)||isValidDate(compTo.getDate()))},DateFilter.prototype.areSimpleModelsEqual=function(aSimple,bSimple){return aSimple.dateFrom===bSimple.dateFrom&&aSimple.dateTo===bSimple.dateTo&&aSimple.type===bSimple.type},DateFilter.prototype.getFilterType=function(){return\"date\"},DateFilter.prototype.createCondition=function(position){var type=position===ConditionPosition.One?this.getCondition1Type():this.getCondition2Type(),_a=this.getFromToComponents(position),compTo=_a[1];return{dateFrom:serialiseDate(_a[0].getDate()),dateTo:serialiseDate(compTo.getDate()),type:type,filterType:this.getFilterType()}},DateFilter.prototype.resetPlaceholder=function(){var globalTranslate=this.gridOptionsWrapper.getLocaleTextFunc(),placeholder=this.translate(\"dateFormatOoo\"),ariaLabel=globalTranslate(\"ariaFilterValue\",\"Filter Value\");this.dateCondition1FromComp.setInputPlaceholder(placeholder),this.dateCondition1FromComp.setInputAriaLabel(ariaLabel),this.dateCondition1ToComp.setInputPlaceholder(placeholder),this.dateCondition1ToComp.setInputAriaLabel(ariaLabel),this.dateCondition2FromComp.setInputPlaceholder(placeholder),this.dateCondition2FromComp.setInputAriaLabel(ariaLabel),this.dateCondition2ToComp.setInputPlaceholder(placeholder),this.dateCondition2ToComp.setInputAriaLabel(ariaLabel)},DateFilter.prototype.updateUiVisibility=function(){_super.prototype.updateUiVisibility.call(this),this.resetPlaceholder();var condition1Type=this.getCondition1Type();setDisplayed(this.eCondition1PanelFrom,this.showValueFrom(condition1Type)),setDisplayed(this.eCondition1PanelTo,this.showValueTo(condition1Type));var condition2Type=this.getCondition2Type();setDisplayed(this.eCondition2PanelFrom,this.showValueFrom(condition2Type)),setDisplayed(this.eCondition2PanelTo,this.showValueTo(condition2Type))},DateFilter.prototype.getFromToComponents=function(position){return position===ConditionPosition.One?[this.dateCondition1FromComp,this.dateCondition1ToComp]:[this.dateCondition2FromComp,this.dateCondition2ToComp]},DateFilter.DEFAULT_FILTER_OPTIONS=[ScalarFilter.EQUALS,ScalarFilter.GREATER_THAN,ScalarFilter.LESS_THAN,ScalarFilter.NOT_EQUAL,ScalarFilter.IN_RANGE],__decorate$f([RefSelector(\"eCondition1PanelFrom\")],DateFilter.prototype,\"eCondition1PanelFrom\",void 0),__decorate$f([RefSelector(\"eCondition1PanelTo\")],DateFilter.prototype,\"eCondition1PanelTo\",void 0),__decorate$f([RefSelector(\"eCondition2PanelFrom\")],DateFilter.prototype,\"eCondition2PanelFrom\",void 0),__decorate$f([RefSelector(\"eCondition2PanelTo\")],DateFilter.prototype,\"eCondition2PanelTo\",void 0),__decorate$f([Autowired(\"userComponentFactory\")],DateFilter.prototype,\"userComponentFactory\",void 0),DateFilter}(ScalarFilter),TouchListener=function(){function TouchListener(eElement,preventMouseClick){var _this=this;void 0===preventMouseClick&&(preventMouseClick=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new EventService,this.eElement=eElement,this.preventMouseClick=preventMouseClick;var startListener=this.onTouchStart.bind(this),moveListener=this.onTouchMove.bind(this),endListener=this.onTouchEnd.bind(this);this.eElement.addEventListener(\"touchstart\",startListener,{passive:!0}),this.eElement.addEventListener(\"touchmove\",moveListener,{passive:!0}),this.eElement.addEventListener(\"touchend\",endListener,{passive:!1}),this.destroyFuncs.push((function(){_this.eElement.removeEventListener(\"touchstart\",startListener,{passive:!0}),_this.eElement.removeEventListener(\"touchmove\",moveListener,{passive:!0}),_this.eElement.removeEventListener(\"touchend\",endListener,{passive:!1})}))}return TouchListener.prototype.getActiveTouch=function(touchList){for(var i=0;i<touchList.length;i++)if(touchList[i].identifier===this.touchStart.identifier)return touchList[i];return null},TouchListener.prototype.addEventListener=function(eventType,listener){this.eventService.addEventListener(eventType,listener)},TouchListener.prototype.removeEventListener=function(eventType,listener){this.eventService.removeEventListener(eventType,listener)},TouchListener.prototype.onTouchStart=function(touchEvent){var _this=this;if(!this.touching){this.touchStart=touchEvent.touches[0],this.touching=!0,this.moved=!1;var touchStartCopy=this.touchStart;window.setTimeout((function(){_this.touching&&_this.touchStart===touchStartCopy&&!_this.moved&&(_this.moved=!0,_this.eventService.dispatchEvent({type:TouchListener.EVENT_LONG_TAP,touchStart:_this.touchStart,touchEvent:touchEvent}))}),500)}},TouchListener.prototype.onTouchMove=function(touchEvent){if(this.touching){var touch=this.getActiveTouch(touchEvent.touches);touch&&!areEventsNear(touch,this.touchStart,4)&&(this.moved=!0)}},TouchListener.prototype.onTouchEnd=function(touchEvent){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:TouchListener.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&touchEvent.preventDefault(),this.touching=!1)},TouchListener.prototype.checkForDoubleTap=function(){var now=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&now-this.lastTapTime>TouchListener.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:TouchListener.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=now},TouchListener.prototype.destroy=function(){this.destroyFuncs.forEach((function(func){return func()}))},TouchListener.EVENT_TAP=\"tap\",TouchListener.EVENT_DOUBLE_TAP=\"doubleTap\",TouchListener.EVENT_LONG_TAP=\"longTap\",TouchListener.DOUBLE_TAP_MILLIS=500,TouchListener}(),__extends$e=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$g=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},HeaderComp=function(_super){function HeaderComp(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.lastMovingChanged=0,_this}return __extends$e(HeaderComp,_super),HeaderComp.prototype.destroy=function(){_super.prototype.destroy.call(this)},HeaderComp.prototype.refresh=function(params){return this.params=params,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&(this.setDisplayName(params),!0)},HeaderComp.prototype.workOutTemplate=function(){var template=firstExistingValue(this.params.template,HeaderComp.TEMPLATE);return template&&template.trim?template.trim():template},HeaderComp.prototype.init=function(params){this.params=params,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(params.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(params)},HeaderComp.prototype.setDisplayName=function(params){if(this.currentDisplayName!=params.displayName){this.currentDisplayName=params.displayName;var displayNameSanitised=escapeString(this.currentDisplayName);this.eText&&(this.eText.innerHTML=displayNameSanitised)}},HeaderComp.prototype.setupIcons=function(column){this.addInIcon(\"sortAscending\",this.eSortAsc,column),this.addInIcon(\"sortDescending\",this.eSortDesc,column),this.addInIcon(\"sortUnSort\",this.eSortNone,column),this.addInIcon(\"menu\",this.eMenu,column),this.addInIcon(\"filter\",this.eFilter,column)},HeaderComp.prototype.addInIcon=function(iconName,eParent,column){if(null!=eParent){var eIcon=createIconNoSpan(iconName,this.gridOptionsWrapper,column);eIcon&&eParent.appendChild(eIcon)}},HeaderComp.prototype.setupTap=function(){var _this=this,options=this.gridOptionsWrapper;if(!options.isSuppressTouch()){var touchListener=new TouchListener(this.getGui(),!0),suppressMenuHide=options.isSuppressMenuHide(),tapMenuButton=suppressMenuHide&&exists(this.eMenu),menuTouchListener=tapMenuButton?new TouchListener(this.eMenu,!0):touchListener;this.params.enableMenu&&this.addManagedListener(menuTouchListener,TouchListener[tapMenuButton?\"EVENT_TAP\":\"EVENT_LONG_TAP\"],(function(event){options.getApi().showColumnMenuAfterMouseClick(_this.params.column,event.touchStart)})),this.params.enableSorting&&this.addManagedListener(touchListener,TouchListener.EVENT_TAP,(function(event){suppressMenuHide&&_this.eMenu.contains(event.touchStart.target)||_this.sortController.progressSort(_this.params.column,!1,\"uiColumnSorted\")})),this.addDestroyFunc((function(){return touchListener.destroy()})),tapMenuButton&&this.addDestroyFunc((function(){return menuTouchListener.destroy()}))}},HeaderComp.prototype.workOutShowMenu=function(){var menuHides=!this.gridOptionsWrapper.isSuppressMenuHide(),onIpadAndMenuHides=isIOSUserAgent()&&menuHides;return this.params.enableMenu&&!onIpadAndMenuHides},HeaderComp.prototype.setMenu=function(){var _this=this;if(this.eMenu)if(this.currentShowMenu=this.workOutShowMenu(),this.currentShowMenu){var suppressMenuHide=this.gridOptionsWrapper.isSuppressMenuHide();this.addManagedListener(this.eMenu,\"click\",(function(){return _this.showMenu(_this.eMenu)})),addOrRemoveCssClass(this.eMenu,\"ag-header-menu-always-show\",suppressMenuHide)}else removeFromParent(this.eMenu)},HeaderComp.prototype.showMenu=function(eventSource){eventSource||(eventSource=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,eventSource)},HeaderComp.prototype.removeSortIcons=function(){removeFromParent(this.eSortAsc),removeFromParent(this.eSortDesc),removeFromParent(this.eSortNone),removeFromParent(this.eSortOrder)},HeaderComp.prototype.workOutSort=function(){return this.params.enableSorting},HeaderComp.prototype.setupSort=function(){var _this=this;if(this.currentSort=this.params.enableSorting,this.currentSort){var sortUsingCtrl=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addManagedListener(this.params.column,Column.EVENT_MOVING_CHANGED,(function(){_this.lastMovingChanged=(new Date).getTime()})),this.eLabel&&this.addManagedListener(this.eLabel,\"click\",(function(event){var moving=_this.params.column.isMoving(),nowTime=(new Date).getTime();moving||nowTime-_this.lastMovingChanged<50||_this.params.progressSort(sortUsingCtrl?event.ctrlKey||event.metaKey:event.shiftKey)})),this.addManagedListener(this.params.column,Column.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.onSortChanged(),this.addManagedListener(this.eventService,Events.EVENT_SORT_CHANGED,this.setMultiSortOrder.bind(this)),this.setMultiSortOrder()}else this.removeSortIcons()},HeaderComp.prototype.onSortChanged=function(){if(addOrRemoveCssClass(this.getGui(),\"ag-header-cell-sorted-asc\",this.params.column.isSortAscending()),addOrRemoveCssClass(this.getGui(),\"ag-header-cell-sorted-desc\",this.params.column.isSortDescending()),addOrRemoveCssClass(this.getGui(),\"ag-header-cell-sorted-none\",this.params.column.isSortNone()),this.eSortAsc&&addOrRemoveCssClass(this.eSortAsc,\"ag-hidden\",!this.params.column.isSortAscending()),this.eSortDesc&&addOrRemoveCssClass(this.eSortDesc,\"ag-hidden\",!this.params.column.isSortDescending()),this.eSortNone){var alwaysHideNoSort=!this.params.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon();addOrRemoveCssClass(this.eSortNone,\"ag-hidden\",alwaysHideNoSort||!this.params.column.isSortNone())}},HeaderComp.prototype.setMultiSortOrder=function(){if(this.eSortOrder){var col=this.params.column,allColumnsWithSorting=this.sortController.getColumnsWithSortingOrdered(),indexThisCol=allColumnsWithSorting.indexOf(col),moreThanOneColSorting=allColumnsWithSorting.length>1,showIndex=col.isSorting()&&moreThanOneColSorting;setDisplayed(this.eSortOrder,showIndex),indexThisCol>=0?this.eSortOrder.innerHTML=(indexThisCol+1).toString():clearElement(this.eSortOrder)}},HeaderComp.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,Column.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},HeaderComp.prototype.onFilterChanged=function(){var filterPresent=this.params.column.isFilterActive();addOrRemoveCssClass(this.eFilter,\"ag-hidden\",!filterPresent)},HeaderComp.TEMPLATE='<div class=\"ag-cell-label-container\" role=\"presentation\">\\n            <span ref=\"eMenu\" class=\"ag-header-icon ag-header-cell-menu-button\" aria-hidden=\"true\"></span>\\n            <div ref=\"eLabel\" class=\"ag-header-cell-label\" role=\"presentation\" unselectable=\"on\">\\n                <span ref=\"eText\" class=\"ag-header-cell-text\" unselectable=\"on\"></span>\\n                <span ref=\"eFilter\" class=\"ag-header-icon ag-header-label-icon ag-filter-icon\" aria-hidden=\"true\"></span>\\n                <span ref=\"eSortOrder\" class=\"ag-header-icon ag-header-label-icon ag-sort-order\" aria-hidden=\"true\"></span>\\n                <span ref=\"eSortAsc\" class=\"ag-header-icon ag-header-label-icon ag-sort-ascending-icon\" aria-hidden=\"true\"></span>\\n                <span ref=\"eSortDesc\" class=\"ag-header-icon ag-header-label-icon ag-sort-descending-icon\" aria-hidden=\"true\"></span>\\n                <span ref=\"eSortNone\" class=\"ag-header-icon ag-header-label-icon ag-sort-none-icon\" aria-hidden=\"true\"></span>\\n            </div>\\n        </div>',__decorate$g([Autowired(\"sortController\")],HeaderComp.prototype,\"sortController\",void 0),__decorate$g([Autowired(\"menuFactory\")],HeaderComp.prototype,\"menuFactory\",void 0),__decorate$g([RefSelector(\"eFilter\")],HeaderComp.prototype,\"eFilter\",void 0),__decorate$g([RefSelector(\"eSortAsc\")],HeaderComp.prototype,\"eSortAsc\",void 0),__decorate$g([RefSelector(\"eSortDesc\")],HeaderComp.prototype,\"eSortDesc\",void 0),__decorate$g([RefSelector(\"eSortNone\")],HeaderComp.prototype,\"eSortNone\",void 0),__decorate$g([RefSelector(\"eSortOrder\")],HeaderComp.prototype,\"eSortOrder\",void 0),__decorate$g([RefSelector(\"eMenu\")],HeaderComp.prototype,\"eMenu\",void 0),__decorate$g([RefSelector(\"eLabel\")],HeaderComp.prototype,\"eLabel\",void 0),__decorate$g([RefSelector(\"eText\")],HeaderComp.prototype,\"eText\",void 0),HeaderComp}(Component),__extends$f=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$h=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},HeaderGroupComp=function(_super){function HeaderGroupComp(){return _super.call(this,HeaderGroupComp.TEMPLATE)||this}return __extends$f(HeaderGroupComp,_super),HeaderGroupComp.prototype.destroy=function(){_super.prototype.destroy.call(this)},HeaderGroupComp.prototype.init=function(params){this.params=params,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},HeaderGroupComp.prototype.checkWarnings=function(){this.params.template&&doOnce((function(){return console.warn(\"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)\")}),\"HeaderGroupComp.templateNotSupported\")},HeaderGroupComp.prototype.setupExpandIcons=function(){var _this=this;this.addInIcon(\"columnGroupOpened\",\"agOpened\"),this.addInIcon(\"columnGroupClosed\",\"agClosed\");var expandAction=function(event){if(!isStopPropagationForAgGrid(event)){var newExpandedValue=!_this.params.columnGroup.isExpanded();_this.columnController.setColumnGroupOpened(_this.params.columnGroup.getOriginalColumnGroup(),newExpandedValue,\"uiColumnExpanded\")}};this.addTouchAndClickListeners(this.eCloseIcon,expandAction),this.addTouchAndClickListeners(this.eOpenIcon,expandAction);var stopPropagationAction=function(event){stopPropagationForAgGrid(event)};this.addManagedListener(this.eCloseIcon,\"dblclick\",stopPropagationAction),this.addManagedListener(this.eOpenIcon,\"dblclick\",stopPropagationAction),this.addManagedListener(this.getGui(),\"dblclick\",expandAction),this.updateIconVisibility();var originalColumnGroup=this.params.columnGroup.getOriginalColumnGroup();this.addManagedListener(originalColumnGroup,OriginalColumnGroup.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(originalColumnGroup,OriginalColumnGroup.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},HeaderGroupComp.prototype.addTouchAndClickListeners=function(eElement,action){var touchListener=new TouchListener(eElement,!0);this.addManagedListener(touchListener,TouchListener.EVENT_TAP,action),this.addDestroyFunc((function(){return touchListener.destroy()})),this.addManagedListener(eElement,\"click\",action)},HeaderGroupComp.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var expanded=this.params.columnGroup.isExpanded();setDisplayed(this.eOpenIcon,expanded),setDisplayed(this.eCloseIcon,!expanded)}else setDisplayed(this.eOpenIcon,!1),setDisplayed(this.eCloseIcon,!1)},HeaderGroupComp.prototype.addInIcon=function(iconName,refName){var eIcon=createIconNoSpan(iconName,this.gridOptionsWrapper,null);eIcon&&this.getRefElement(refName).appendChild(eIcon)},HeaderGroupComp.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return setDisplayed(this.eOpenIcon,!1),void setDisplayed(this.eCloseIcon,!1)},HeaderGroupComp.prototype.setupLabel=function(){var displayName=this.params.displayName;if(exists(displayName)){var displayNameSanitised=escapeString(displayName);this.getRefElement(\"agLabel\").innerHTML=displayNameSanitised}},HeaderGroupComp.TEMPLATE='<div class=\"ag-header-group-cell-label\" ref=\"agContainer\" role=\"presentation\">\\n            <span ref=\"agLabel\" class=\"ag-header-group-text\" role=\"presentation\"></span>\\n            <span ref=\"agOpened\" class=\"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded\"></span>\\n            <span ref=\"agClosed\" class=\"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed\"></span>\\n        </div>',__decorate$h([Autowired(\"columnController\")],HeaderGroupComp.prototype,\"columnController\",void 0),__decorate$h([RefSelector(\"agOpened\")],HeaderGroupComp.prototype,\"eOpenIcon\",void 0),__decorate$h([RefSelector(\"agClosed\")],HeaderGroupComp.prototype,\"eCloseIcon\",void 0),HeaderGroupComp}(Component),__decorate$i=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},RowNode=function(){function RowNode(){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=RowNode.OBJECT_ID_SEQUENCE++,this.alreadyRendered=!1,this.highlighted=null,this.selected=!1}return RowNode.prototype.setData=function(data){this.setDataCommon(data,!1)},RowNode.prototype.updateData=function(data){this.setDataCommon(data,!0)},RowNode.prototype.setDataCommon=function(data,update){var oldData=this.data;this.data=data,this.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var event=this.createDataChangedEvent(data,oldData,update);this.dispatchLocalEvent(event)},RowNode.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},RowNode.prototype.createDataChangedEvent=function(newData,oldData,update){return{type:RowNode.EVENT_DATA_CHANGED,node:this,oldData:oldData,newData:newData,update:update}},RowNode.prototype.createLocalRowEvent=function(type){return{type:type,node:this}},RowNode.prototype.getRowIndexString=function(){return this.rowPinned===Constants.PINNED_TOP?\"t-\"+this.rowIndex:this.rowPinned===Constants.PINNED_BOTTOM?\"b-\"+this.rowIndex:this.rowIndex.toString()},RowNode.prototype.createDaemonNode=function(){var oldNode=new RowNode;return this.context.createBean(oldNode),oldNode.id=this.id,oldNode.data=this.data,oldNode.daemon=!0,oldNode.selected=this.selected,oldNode.level=this.level,oldNode},RowNode.prototype.setDataAndId=function(data,id){var oldNode=exists(this.id)?this.createDaemonNode():null,oldData=this.data;this.data=data,this.updateDataOnDetailNode(),this.setId(id),this.selectionController.syncInRowNode(this,oldNode),this.checkRowSelectable();var event=this.createDataChangedEvent(data,oldData,!1);this.dispatchLocalEvent(event)},RowNode.prototype.checkRowSelectable=function(){var isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc();this.setRowSelectable(!isRowSelectableFunc||isRowSelectableFunc(this))},RowNode.prototype.setRowSelectable=function(newVal){this.selectable!==newVal&&(this.selectable=newVal,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_SELECTABLE_CHANGED)))},RowNode.prototype.setId=function(id){var getRowNodeId=this.gridOptionsWrapper.getRowNodeIdFunc();getRowNodeId?this.data?(this.id=getRowNodeId(this.data),this.id&&\"string\"==typeof this.id&&startsWith(this.id,RowNode.ID_PREFIX_ROW_GROUP)&&console.error(\"AG Grid: Row ID's cannot start with \"+RowNode.ID_PREFIX_ROW_GROUP+\", this is a reserved prefix for AG Grid's row grouping feature.\")):this.id=void 0:this.id=id},RowNode.prototype.isPixelInRange=function(pixel){return!(!exists(this.rowTop)||!exists(this.rowHeight))&&pixel>=this.rowTop&&pixel<this.rowTop+this.rowHeight},RowNode.prototype.setFirstChild=function(firstChild){this.firstChild!==firstChild&&(this.firstChild=firstChild,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_FIRST_CHILD_CHANGED)))},RowNode.prototype.setLastChild=function(lastChild){this.lastChild!==lastChild&&(this.lastChild=lastChild,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_LAST_CHILD_CHANGED)))},RowNode.prototype.setChildIndex=function(childIndex){this.childIndex!==childIndex&&(this.childIndex=childIndex,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_CHILD_INDEX_CHANGED)))},RowNode.prototype.setRowTop=function(rowTop){this.oldRowTop=this.rowTop,this.rowTop!==rowTop&&(this.rowTop=rowTop,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_TOP_CHANGED)),this.setDisplayed(null!==rowTop))},RowNode.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},RowNode.prototype.setDisplayed=function(displayed){this.displayed!==displayed&&(this.displayed=displayed,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_DISPLAYED_CHANGED)))},RowNode.prototype.setDragging=function(dragging){this.dragging!==dragging&&(this.dragging=dragging,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_DRAGGING_CHANGED)))},RowNode.prototype.setHighlighted=function(highlighted){highlighted!==this.highlighted&&(this.highlighted=highlighted,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_HIGHLIGHT_CHANGED)))},RowNode.prototype.setAllChildrenCount=function(allChildrenCount){this.allChildrenCount!==allChildrenCount&&(this.allChildrenCount=allChildrenCount,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},RowNode.prototype.setMaster=function(master){this.master!==master&&(this.master&&!master&&(this.expanded=!1),this.master=master,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_MASTER_CHANGED)))},RowNode.prototype.setRowHeight=function(rowHeight,estimated){void 0===estimated&&(estimated=!1),this.rowHeight=rowHeight,this.rowHeightEstimated=estimated,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_HEIGHT_CHANGED))},RowNode.prototype.setRowIndex=function(rowIndex){this.rowIndex!==rowIndex&&(this.rowIndex=rowIndex,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_ROW_INDEX_CHANGED)))},RowNode.prototype.setUiLevel=function(uiLevel){this.uiLevel!==uiLevel&&(this.uiLevel=uiLevel,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_UI_LEVEL_CHANGED)))},RowNode.prototype.setExpanded=function(expanded){if(this.expanded!==expanded){this.expanded=expanded,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_EXPANDED_CHANGED));var event=assign({},this.createGlobalRowEvent(Events.EVENT_ROW_GROUP_OPENED),{expanded:expanded});this.mainEventService.dispatchEvent(event),this.gridOptionsWrapper.isGroupIncludeFooter()&&this.rowRenderer.refreshCells({rowNodes:[this]})}},RowNode.prototype.createGlobalRowEvent=function(type){return{type:type,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},RowNode.prototype.dispatchLocalEvent=function(event){this.eventService&&this.eventService.dispatchEvent(event)},RowNode.prototype.setDataValue=function(colKey,newValue){var column=this.columnController.getPrimaryColumn(colKey),oldValue=this.valueService.getValue(column,this);this.valueService.setValue(this,column,newValue),this.dispatchCellChangedEvent(column,newValue,oldValue)},RowNode.prototype.setGroupValue=function(colKey,newValue){var column=this.columnController.getGridColumn(colKey);missing(this.groupData)&&(this.groupData={});var columnId=column.getColId(),oldValue=this.groupData[columnId];oldValue!==newValue&&(this.groupData[columnId]=newValue,this.dispatchCellChangedEvent(column,newValue,oldValue))},RowNode.prototype.setAggData=function(newAggData){var _this=this,colIds=getAllKeysInObjects([this.aggData,newAggData]),oldAggData=this.aggData;this.aggData=newAggData,this.eventService&&colIds.forEach((function(colId){var column=_this.columnController.getGridColumn(colId);_this.dispatchCellChangedEvent(column,_this.aggData?_this.aggData[colId]:void 0,oldAggData?oldAggData[colId]:void 0)}))},RowNode.prototype.updateHasChildren=function(){var newValue=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;newValue!==this.__hasChildren&&(this.__hasChildren=!!newValue,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_HAS_CHILDREN_CHANGED)))},RowNode.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},RowNode.prototype.isEmptyRowGroupNode=function(){return this.group&&missingOrEmpty(this.childrenAfterGroup)},RowNode.prototype.dispatchCellChangedEvent=function(column,newValue,oldValue){this.dispatchLocalEvent({type:RowNode.EVENT_CELL_CHANGED,node:this,column:column,newValue:newValue,oldValue:oldValue})},RowNode.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},RowNode.prototype.isExpandable=function(){return!(!this.hasChildren()&&!this.master)},RowNode.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},RowNode.prototype.depthFirstSearch=function(callback){this.childrenAfterGroup&&this.childrenAfterGroup.forEach((function(child){return child.depthFirstSearch(callback)})),callback(this)},RowNode.prototype.calculateSelectedFromChildren=function(){var atLeastOneSelected=!1,atLeastOneDeSelected=!1,atLeastOneMixed=!1;if(this.childrenAfterGroup)for(var i=0;i<this.childrenAfterGroup.length;i++){var child=this.childrenAfterGroup[i];if(child.selectable)switch(child.isSelected()){case!0:atLeastOneSelected=!0;break;case!1:atLeastOneDeSelected=!0;break;default:atLeastOneMixed=!0}}this.selectThisNode(atLeastOneMixed?void 0:!(!atLeastOneSelected||atLeastOneDeSelected)||!(!atLeastOneSelected&&atLeastOneDeSelected)&&void 0)},RowNode.prototype.setSelectedInitialValue=function(selected){this.selected=selected},RowNode.prototype.setSelected=function(newValue,clearSelection,suppressFinishActions){void 0===clearSelection&&(clearSelection=!1),void 0===suppressFinishActions&&(suppressFinishActions=!1),this.setSelectedParams({newValue:newValue,clearSelection:clearSelection,suppressFinishActions:suppressFinishActions,rangeSelect:!1})},RowNode.prototype.isRowPinned=function(){return this.rowPinned===Constants.PINNED_TOP||this.rowPinned===Constants.PINNED_BOTTOM},RowNode.prototype.setSelectedParams=function(params){var groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),newValue=!0===params.newValue,clearSelection=!0===params.clearSelection,suppressFinishActions=!0===params.suppressFinishActions,rangeSelect=!0===params.rangeSelect,groupSelectsFiltered=groupSelectsChildren&&!0===params.groupSelectsFiltered;if(void 0===this.id)return console.warn(\"AG Grid: cannot select node until id for node is known\"),0;if(this.rowPinned)return console.warn(\"AG Grid: cannot select pinned rows\"),0;if(this.footer)return this.sibling.setSelectedParams(params);if(rangeSelect&&this.selectionController.getLastSelectedNode()){var newRowClicked=this.selectionController.getLastSelectedNode()!==this,allowMultiSelect=this.gridOptionsWrapper.isRowSelectionMulti();if(newRowClicked&&allowMultiSelect){var nodesChanged=this.doRowRangeSelection(params.newValue);return this.selectionController.setLastSelectedNode(this),nodesChanged}}var updatedCount=0;return groupSelectsFiltered&&this.group||this.selectThisNode(newValue)&&updatedCount++,groupSelectsChildren&&this.group&&(updatedCount+=this.selectChildNodes(newValue,groupSelectsFiltered)),suppressFinishActions||(newValue&&(clearSelection||!this.gridOptionsWrapper.isRowSelectionMulti())&&(updatedCount+=this.selectionController.clearOtherNodes(this)),updatedCount>0&&(this.selectionController.updateGroupsFromChildrenSelections(),this.mainEventService.dispatchEvent({type:Events.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})),newValue&&this.selectionController.setLastSelectedNode(this)),updatedCount},RowNode.prototype.doRowRangeSelection=function(value){var _this=this;void 0===value&&(value=!0);var groupsSelectChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),lastSelectedNode=this.selectionController.getLastSelectedNode(),nodesToSelect=this.rowModel.getNodesInRangeForSelection(this,lastSelectedNode),updatedCount=0;return nodesToSelect.forEach((function(rowNode){rowNode.group&&groupsSelectChildren||!1===value&&_this===rowNode||rowNode.selectThisNode(value)&&updatedCount++})),this.selectionController.updateGroupsFromChildrenSelections(),this.mainEventService.dispatchEvent({type:Events.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi}),updatedCount},RowNode.prototype.isParentOfNode=function(potentialParent){for(var parentNode=this.parent;parentNode;){if(parentNode===potentialParent)return!0;parentNode=parentNode.parent}return!1},RowNode.prototype.selectThisNode=function(newValue){if(!this.selectable&&newValue||this.selected===newValue)return!1;this.selected=newValue,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(RowNode.EVENT_ROW_SELECTED));var event=this.createGlobalRowEvent(Events.EVENT_ROW_SELECTED);return this.mainEventService.dispatchEvent(event),!0},RowNode.prototype.selectChildNodes=function(newValue,groupSelectsFiltered){var children=groupSelectsFiltered?this.childrenAfterFilter:this.childrenAfterGroup;if(missing(children))return 0;for(var updatedCount=0,i=0;i<children.length;i++)updatedCount+=children[i].setSelectedParams({newValue:newValue,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:groupSelectsFiltered});return updatedCount},RowNode.prototype.addEventListener=function(eventType,listener){this.eventService||(this.eventService=new EventService),this.eventService.addEventListener(eventType,listener)},RowNode.prototype.removeEventListener=function(eventType,listener){this.eventService&&(this.eventService.removeEventListener(eventType,listener),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},RowNode.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(RowNode.EVENT_MOUSE_ENTER))},RowNode.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(RowNode.EVENT_MOUSE_LEAVE))},RowNode.prototype.getFirstChildOfFirstChild=function(rowGroupColumn){for(var currentRowNode=this,isCandidate=!0,foundFirstChildPath=!1,nodeToSwapIn=null;isCandidate&&!foundFirstChildPath;){var parentRowNode=currentRowNode.parent;exists(parentRowNode)&&currentRowNode.firstChild?parentRowNode.rowGroupColumn===rowGroupColumn&&(foundFirstChildPath=!0,nodeToSwapIn=parentRowNode):isCandidate=!1,currentRowNode=parentRowNode}return foundFirstChildPath?nodeToSwapIn:null},RowNode.prototype.isFullWidthCell=function(){var isFullWidthCellFunc=this.gridOptionsWrapper.getIsFullWidthCellFunc();return!!isFullWidthCellFunc&&isFullWidthCellFunc(this)},RowNode.prototype.getRoute=function(){if(null!=this.key){for(var res=[],pointer=this;null!=pointer.key;)res.push(pointer.key),pointer=pointer.parent;return res.reverse()}},RowNode.ID_PREFIX_ROW_GROUP=\"row-group-\",RowNode.ID_PREFIX_TOP_PINNED=\"t-\",RowNode.ID_PREFIX_BOTTOM_PINNED=\"b-\",RowNode.OBJECT_ID_SEQUENCE=0,RowNode.EVENT_ROW_SELECTED=\"rowSelected\",RowNode.EVENT_DATA_CHANGED=\"dataChanged\",RowNode.EVENT_CELL_CHANGED=\"cellChanged\",RowNode.EVENT_ALL_CHILDREN_COUNT_CHANGED=\"allChildrenCountChanged\",RowNode.EVENT_MASTER_CHANGED=\"masterChanged\",RowNode.EVENT_MOUSE_ENTER=\"mouseEnter\",RowNode.EVENT_MOUSE_LEAVE=\"mouseLeave\",RowNode.EVENT_HEIGHT_CHANGED=\"heightChanged\",RowNode.EVENT_TOP_CHANGED=\"topChanged\",RowNode.EVENT_DISPLAYED_CHANGED=\"displayedChanged\",RowNode.EVENT_FIRST_CHILD_CHANGED=\"firstChildChanged\",RowNode.EVENT_LAST_CHILD_CHANGED=\"lastChildChanged\",RowNode.EVENT_CHILD_INDEX_CHANGED=\"childIndexChanged\",RowNode.EVENT_ROW_INDEX_CHANGED=\"rowIndexChanged\",RowNode.EVENT_EXPANDED_CHANGED=\"expandedChanged\",RowNode.EVENT_HAS_CHILDREN_CHANGED=\"hasChildrenChanged\",RowNode.EVENT_SELECTABLE_CHANGED=\"selectableChanged\",RowNode.EVENT_UI_LEVEL_CHANGED=\"uiLevelChanged\",RowNode.EVENT_HIGHLIGHT_CHANGED=\"rowHighlightChanged\",RowNode.EVENT_DRAGGING_CHANGED=\"draggingChanged\",__decorate$i([Autowired(\"eventService\")],RowNode.prototype,\"mainEventService\",void 0),__decorate$i([Autowired(\"rowRenderer\")],RowNode.prototype,\"rowRenderer\",void 0),__decorate$i([Autowired(\"gridOptionsWrapper\")],RowNode.prototype,\"gridOptionsWrapper\",void 0),__decorate$i([Autowired(\"selectionController\")],RowNode.prototype,\"selectionController\",void 0),__decorate$i([Autowired(\"columnController\")],RowNode.prototype,\"columnController\",void 0),__decorate$i([Autowired(\"valueService\")],RowNode.prototype,\"valueService\",void 0),__decorate$i([Autowired(\"rowModel\")],RowNode.prototype,\"rowModel\",void 0),__decorate$i([Autowired(\"context\")],RowNode.prototype,\"context\",void 0),__decorate$i([Autowired(\"valueCache\")],RowNode.prototype,\"valueCache\",void 0),__decorate$i([Autowired(\"columnApi\")],RowNode.prototype,\"columnApi\",void 0),__decorate$i([Autowired(\"gridApi\")],RowNode.prototype,\"gridApi\",void 0),RowNode}(),__extends$g=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$j=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},CheckboxSelectionComponent=function(_super){function CheckboxSelectionComponent(){return _super.call(this,'\\n            <div class=\"ag-selection-checkbox\" role=\"presentation\">\\n                <ag-checkbox role=\"presentation\" ref=\"eCheckbox\"></ag-checkbox>\\n            </div>')||this}return __extends$g(CheckboxSelectionComponent,_super),CheckboxSelectionComponent.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},CheckboxSelectionComponent.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},CheckboxSelectionComponent.prototype.onDataChanged=function(){this.onSelectionChanged()},CheckboxSelectionComponent.prototype.onSelectableChanged=function(){this.showOrHideSelect()},CheckboxSelectionComponent.prototype.onSelectionChanged=function(){var translate=this.gridOptionsWrapper.getLocaleTextFunc(),state=this.rowNode.isSelected(),stateName=void 0===state?translate(\"ariaIndeterminate\",\"indeterminate\"):!0===state?translate(\"ariaChecked\",\"checked\"):translate(\"ariaUnchecked\",\"unchecked\"),ariaLabel=translate(\"ariaRowToggleSelection\",\"Press Space to toggle row selection\");this.eCheckbox.setValue(state,!0),this.eCheckbox.setInputAriaLabel(ariaLabel+\" (\"+stateName+\")\")},CheckboxSelectionComponent.prototype.onCheckedClicked=function(event){var groupSelectsFiltered=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!1,rangeSelect:event.shiftKey,groupSelectsFiltered:groupSelectsFiltered})},CheckboxSelectionComponent.prototype.onUncheckedClicked=function(event){var groupSelectsFiltered=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:event.shiftKey,groupSelectsFiltered:groupSelectsFiltered})},CheckboxSelectionComponent.prototype.init=function(params){var _this=this;if(this.rowNode=params.rowNode,this.column=params.column,this.onSelectionChanged(),this.addGuiEventListener(\"click\",(function(event){return stopPropagationForAgGrid(event)})),this.addGuiEventListener(\"dblclick\",(function(event){return stopPropagationForAgGrid(event)})),this.addManagedListener(this.eCheckbox.getInputElement(),\"click\",(function(event){var isSelected=_this.eCheckbox.getValue();void 0===_this.eCheckbox.getPreviousValue()?0===_this.onUncheckedClicked(event||{})&&_this.onCheckedClicked(event):isSelected?_this.onCheckedClicked(event):_this.onUncheckedClicked(event||{})})),this.addManagedListener(this.rowNode,RowNode.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsWrapper.getIsRowSelectableFunc()||this.checkboxCallbackExists()){var showOrHideSelectListener=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,showOrHideSelectListener),this.addManagedListener(this.rowNode,RowNode.EVENT_DATA_CHANGED,showOrHideSelectListener),this.addManagedListener(this.rowNode,RowNode.EVENT_CELL_CHANGED,showOrHideSelectListener),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute(\"tabindex\",\"-1\")},CheckboxSelectionComponent.prototype.showOrHideSelect=function(){var selectable=this.rowNode.selectable;selectable&&this.checkboxCallbackExists()&&(selectable=this.column.isCellCheckboxSelection(this.rowNode)),this.setVisible(selectable)},CheckboxSelectionComponent.prototype.checkboxCallbackExists=function(){var colDef=this.column?this.column.getColDef():null;return!!colDef&&\"function\"==typeof colDef.checkboxSelection},__decorate$j([RefSelector(\"eCheckbox\")],CheckboxSelectionComponent.prototype,\"eCheckbox\",void 0),__decorate$j([PostConstruct],CheckboxSelectionComponent.prototype,\"postConstruct\",null),CheckboxSelectionComponent}(Component),DateComponent={propertyName:\"dateComponent\",isCellRenderer:function(){return!1}},HeaderComponent={propertyName:\"headerComponent\",isCellRenderer:function(){return!1}},HeaderGroupComponent={propertyName:\"headerGroupComponent\",isCellRenderer:function(){return!1}},CellRendererComponent={propertyName:\"cellRenderer\",isCellRenderer:function(){return!0}},PinnedRowCellRendererComponent={propertyName:\"pinnedRowCellRenderer\",isCellRenderer:function(){return!0}},CellEditorComponent={propertyName:\"cellEditor\",isCellRenderer:function(){return!1}},InnerRendererComponent={propertyName:\"innerRenderer\",isCellRenderer:function(){return!0}},LoadingOverlayComponent={propertyName:\"loadingOverlayComponent\",isCellRenderer:function(){return!1}},NoRowsOverlayComponent={propertyName:\"noRowsOverlayComponent\",isCellRenderer:function(){return!1}},TooltipComponent={propertyName:\"tooltipComponent\",isCellRenderer:function(){return!1}},FilterComponent={propertyName:\"filter\",isCellRenderer:function(){return!1}},FloatingFilterComponent={propertyName:\"floatingFilterComponent\",isCellRenderer:function(){return!1}},ToolPanelComponent={propertyName:\"toolPanel\",isCellRenderer:function(){return!1}},StatusPanelComponent={propertyName:\"statusPanel\",isCellRenderer:function(){return!1}},__extends$h=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$k=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};!function(ComponentSource){ComponentSource[ComponentSource.DEFAULT=0]=\"DEFAULT\",ComponentSource[ComponentSource.REGISTERED_BY_NAME=1]=\"REGISTERED_BY_NAME\",ComponentSource[ComponentSource.HARDCODED=2]=\"HARDCODED\"}(ComponentSource||(ComponentSource={}));var DragSourceType,VerticalDirection,HorizontalDirection,UserComponentFactory=function(_super){function UserComponentFactory(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$h(UserComponentFactory,_super),UserComponentFactory.prototype.newDateComponent=function(params){return this.createAndInitUserComponent(this.gridOptions,params,DateComponent,\"agDateInput\")},UserComponentFactory.prototype.newHeaderComponent=function(params){return this.createAndInitUserComponent(params.column.getColDef(),params,HeaderComponent,\"agColumnHeader\")},UserComponentFactory.prototype.newHeaderGroupComponent=function(params){return this.createAndInitUserComponent(params.columnGroup.getColGroupDef(),params,HeaderGroupComponent,\"agColumnGroupHeader\")},UserComponentFactory.prototype.newFullWidthGroupRowInnerCellRenderer=function(params){return this.createAndInitUserComponent(this.gridOptions.groupRowRendererParams,params,InnerRendererComponent,null,!0)},UserComponentFactory.prototype.newFullWidthCellRenderer=function(params,cellRendererType,cellRendererName){return this.createAndInitUserComponent(null,params,{propertyName:cellRendererType,isCellRenderer:function(){return!0}},cellRendererName)},UserComponentFactory.prototype.newCellRenderer=function(target,params,isPinned){return void 0===isPinned&&(isPinned=!1),this.createAndInitUserComponent(target,params,isPinned?PinnedRowCellRendererComponent:CellRendererComponent,null,!0)},UserComponentFactory.prototype.newCellEditor=function(colDef,params){return this.createAndInitUserComponent(colDef,params,CellEditorComponent,\"agCellEditor\")},UserComponentFactory.prototype.newInnerCellRenderer=function(target,params){return this.createAndInitUserComponent(target,params,InnerRendererComponent,null)},UserComponentFactory.prototype.newLoadingOverlayComponent=function(params){return this.createAndInitUserComponent(this.gridOptions,params,LoadingOverlayComponent,\"agLoadingOverlay\")},UserComponentFactory.prototype.newNoRowsOverlayComponent=function(params){return this.createAndInitUserComponent(this.gridOptions,params,NoRowsOverlayComponent,\"agNoRowsOverlay\")},UserComponentFactory.prototype.newTooltipComponent=function(params){return this.createAndInitUserComponent(params.colDef,params,TooltipComponent,\"agTooltipComponent\")},UserComponentFactory.prototype.newFilterComponent=function(def,params,defaultFilter){return this.createAndInitUserComponent(def,params,FilterComponent,defaultFilter,!1)},UserComponentFactory.prototype.newSetFilterCellRenderer=function(target,params){return this.createAndInitUserComponent(target,params,CellRendererComponent,null,!0)},UserComponentFactory.prototype.newFloatingFilterComponent=function(def,params,defaultFloatingFilter){return this.createAndInitUserComponent(def,params,FloatingFilterComponent,defaultFloatingFilter,!0)},UserComponentFactory.prototype.newToolPanelComponent=function(toolPanelDef,params){return this.createAndInitUserComponent(toolPanelDef,params,ToolPanelComponent)},UserComponentFactory.prototype.newStatusPanelComponent=function(def,params){return this.createAndInitUserComponent(def,params,StatusPanelComponent)},UserComponentFactory.prototype.createAndInitUserComponent=function(definitionObject,paramsFromGrid,componentType,defaultComponentName,optional){void 0===optional&&(optional=!1),definitionObject||(definitionObject=this.gridOptions);var componentAndParams=this.createComponentInstance(definitionObject,componentType,paramsFromGrid,defaultComponentName,optional);if(!componentAndParams)return null;var componentInstance=componentAndParams.componentInstance,params=this.createFinalParams(definitionObject,componentType.propertyName,paramsFromGrid,componentAndParams.paramsFromSelector);this.addReactHacks(params);var deferredInit=this.initComponent(componentInstance,params);return null==deferredInit?AgPromise.resolve(componentInstance):deferredInit.then((function(){return componentInstance}))},UserComponentFactory.prototype.addReactHacks=function(params){var agGridReact=this.context.getBean(\"agGridReact\");agGridReact&&(params.agGridReact=cloneObject(agGridReact));var frameworkComponentWrapper=this.context.getBean(\"frameworkComponentWrapper\");frameworkComponentWrapper&&(params.frameworkComponentWrapper=frameworkComponentWrapper)},UserComponentFactory.prototype.createUserComponentFromConcreteClass=function(clazz,agGridParams){var internalComponent=new clazz;return this.initComponent(internalComponent,agGridParams),internalComponent},UserComponentFactory.prototype.lookupComponentClassDef=function(definitionObject,propertyName,params,defaultComponentName){void 0===params&&(params=null);var hardcodedNameComponent=null,HardcodedJsComponent=null,hardcodedJsFunction=null,HardcodedFwComponent=null,componentSelectorFunc=null;if(null!=definitionObject){var componentPropertyValue=definitionObject[propertyName];null==componentPropertyValue||!0===componentPropertyValue||(\"string\"==typeof componentPropertyValue?hardcodedNameComponent=componentPropertyValue:\"boolean\"==typeof componentPropertyValue||(this.agComponentUtils.doesImplementIComponent(componentPropertyValue)?HardcodedJsComponent=componentPropertyValue:hardcodedJsFunction=componentPropertyValue)),HardcodedFwComponent=definitionObject[propertyName+\"Framework\"],componentSelectorFunc=definitionObject[propertyName+\"Selector\"]}if(HardcodedJsComponent&&HardcodedFwComponent||hardcodedNameComponent&&HardcodedFwComponent||hardcodedJsFunction&&HardcodedFwComponent)throw Error(\"ag-grid: you are trying to specify: \"+propertyName+\" twice as a component.\");if(HardcodedFwComponent&&!this.frameworkComponentWrapper)throw Error(\"ag-grid: you are specifying a framework component but you are not using a framework version of ag-grid for : \"+propertyName);if(componentSelectorFunc&&(hardcodedNameComponent||HardcodedJsComponent||hardcodedJsFunction||HardcodedFwComponent))throw Error(\"ag-grid: you can't specify both, the selector and the component of ag-grid for : \"+propertyName);if(HardcodedFwComponent)return{componentFromFramework:!0,component:HardcodedFwComponent,source:ComponentSource.HARDCODED,paramsFromSelector:null};if(HardcodedJsComponent)return{componentFromFramework:!1,component:HardcodedJsComponent,source:ComponentSource.HARDCODED,paramsFromSelector:null};if(hardcodedJsFunction)return this.agComponentUtils.adaptFunction(propertyName,hardcodedJsFunction,!1,ComponentSource.HARDCODED);var componentNameToUse,selectorResult=componentSelectorFunc?componentSelectorFunc(params):null;if(!(componentNameToUse=selectorResult&&selectorResult.component?selectorResult.component:hardcodedNameComponent||defaultComponentName))return null;var registeredCompClassDef=this.lookupFromRegisteredComponents(propertyName,componentNameToUse);return registeredCompClassDef?{componentFromFramework:registeredCompClassDef.componentFromFramework,component:registeredCompClassDef.component,source:registeredCompClassDef.source,paramsFromSelector:selectorResult?selectorResult.params:null}:null},UserComponentFactory.prototype.lookupFromRegisteredComponents=function(propertyName,componentNameOpt){var registeredComponent=this.userComponentRegistry.retrieve(null!=componentNameOpt?componentNameOpt:propertyName);return null==registeredComponent?null:registeredComponent.componentFromFramework?{component:registeredComponent.component,componentFromFramework:!0,source:ComponentSource.REGISTERED_BY_NAME,paramsFromSelector:null}:this.agComponentUtils.doesImplementIComponent(registeredComponent.component)?{component:registeredComponent.component,componentFromFramework:!1,source:registeredComponent.source==RegisteredComponentSource.REGISTERED?ComponentSource.REGISTERED_BY_NAME:ComponentSource.DEFAULT,paramsFromSelector:null}:this.agComponentUtils.adaptFunction(propertyName,registeredComponent.component,registeredComponent.componentFromFramework,registeredComponent.source==RegisteredComponentSource.REGISTERED?ComponentSource.REGISTERED_BY_NAME:ComponentSource.DEFAULT)},UserComponentFactory.prototype.createFinalParams=function(definitionObject,propertyName,paramsFromGrid,paramsFromSelector){void 0===paramsFromSelector&&(paramsFromSelector=null);var params={};mergeDeep(params,paramsFromGrid);var userParams=definitionObject?definitionObject[propertyName+\"Params\"]:null;return null!=userParams&&(\"function\"==typeof userParams?mergeDeep(params,userParams(paramsFromGrid)):\"object\"==typeof userParams&&mergeDeep(params,userParams)),mergeDeep(params,paramsFromSelector),params},UserComponentFactory.prototype.createComponentInstance=function(holder,componentType,paramsForSelector,defaultComponentName,optional){var componentInstance,propertyName=componentType.propertyName,componentToUse=this.lookupComponentClassDef(holder,propertyName,paramsForSelector,defaultComponentName);if(!componentToUse||!componentToUse.component)return optional||console.error(\"Could not find component \"+((holder?holder[propertyName]:defaultComponentName)||defaultComponentName)+\", did you forget to configure this component?\"),null;if(componentToUse.componentFromFramework){var FrameworkComponentRaw=componentToUse.component,thisComponentConfig=this.componentMetadataProvider.retrieve(propertyName);componentInstance=this.frameworkComponentWrapper.wrap(FrameworkComponentRaw,thisComponentConfig.mandatoryMethodList,thisComponentConfig.optionalMethodList,componentType,defaultComponentName)}else componentInstance=new componentToUse.component;return{componentInstance:componentInstance,paramsFromSelector:componentToUse.paramsFromSelector}},UserComponentFactory.prototype.initComponent=function(component,params){if(this.context.createBean(component),null!=component.init)return component.init(params)},__decorate$k([Autowired(\"gridOptions\")],UserComponentFactory.prototype,\"gridOptions\",void 0),__decorate$k([Autowired(\"agComponentUtils\")],UserComponentFactory.prototype,\"agComponentUtils\",void 0),__decorate$k([Autowired(\"componentMetadataProvider\")],UserComponentFactory.prototype,\"componentMetadataProvider\",void 0),__decorate$k([Autowired(\"userComponentRegistry\")],UserComponentFactory.prototype,\"userComponentRegistry\",void 0),__decorate$k([Optional(\"frameworkComponentWrapper\")],UserComponentFactory.prototype,\"frameworkComponentWrapper\",void 0),__decorate$k([Bean(\"userComponentFactory\")],UserComponentFactory)}(BeanStub),__extends$i=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$l=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};(DragSourceType=exports.DragSourceType||(exports.DragSourceType={}))[DragSourceType.ToolPanel=0]=\"ToolPanel\",DragSourceType[DragSourceType.HeaderCell=1]=\"HeaderCell\",DragSourceType[DragSourceType.RowDrag=2]=\"RowDrag\",DragSourceType[DragSourceType.ChartPanel=3]=\"ChartPanel\",(VerticalDirection=exports.VerticalDirection||(exports.VerticalDirection={}))[VerticalDirection.Up=0]=\"Up\",VerticalDirection[VerticalDirection.Down=1]=\"Down\",(HorizontalDirection=exports.HorizontalDirection||(exports.HorizontalDirection={}))[HorizontalDirection.Left=0]=\"Left\",HorizontalDirection[HorizontalDirection.Right=1]=\"Right\";var RegisteredComponentSource,DragAndDropService=function(_super){function DragAndDropService(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.dragSourceAndParamsList=[],_this.dropTargets=[],_this}var DragAndDropService_1;return __extends$i(DragAndDropService,_super),DragAndDropService_1=DragAndDropService,DragAndDropService.prototype.init=function(){this.ePinnedIcon=createIcon(\"columnMovePin\",this.gridOptionsWrapper,null),this.eHideIcon=createIcon(\"columnMoveHide\",this.gridOptionsWrapper,null),this.eMoveIcon=createIcon(\"columnMoveMove\",this.gridOptionsWrapper,null),this.eLeftIcon=createIcon(\"columnMoveLeft\",this.gridOptionsWrapper,null),this.eRightIcon=createIcon(\"columnMoveRight\",this.gridOptionsWrapper,null),this.eGroupIcon=createIcon(\"columnMoveGroup\",this.gridOptionsWrapper,null),this.eAggregateIcon=createIcon(\"columnMoveValue\",this.gridOptionsWrapper,null),this.ePivotIcon=createIcon(\"columnMovePivot\",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=createIcon(\"dropNotAllowed\",this.gridOptionsWrapper,null)},DragAndDropService.prototype.addDragSource=function(dragSource,allowTouch){void 0===allowTouch&&(allowTouch=!1);var params={eElement:dragSource.eElement,dragStartPixels:dragSource.dragStartPixels,onDragStart:this.onDragStart.bind(this,dragSource),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:params,dragSource:dragSource}),this.dragService.addDragSource(params,allowTouch)},DragAndDropService.prototype.removeDragSource=function(dragSource){var sourceAndParams=find(this.dragSourceAndParamsList,(function(item){return item.dragSource===dragSource}));sourceAndParams&&(this.dragService.removeDragSource(sourceAndParams.params),removeFromArray(this.dragSourceAndParamsList,sourceAndParams))},DragAndDropService.prototype.clearDragSourceParamsList=function(){var _this=this;this.dragSourceAndParamsList.forEach((function(sourceAndParams){return _this.dragService.removeDragSource(sourceAndParams.params)})),this.dragSourceAndParamsList.length=0},DragAndDropService.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},DragAndDropService.prototype.onDragStart=function(dragSource,mouseEvent){this.dragging=!0,this.dragSource=dragSource,this.eventLastTime=mouseEvent,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},DragAndDropService.prototype.onDragStop=function(mouseEvent){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var draggingEvent=this.createDropTargetEvent(this.lastDropTarget,mouseEvent,null,null,!1);this.lastDropTarget.onDragStop(draggingEvent)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},DragAndDropService.prototype.onDragging=function(mouseEvent,fromNudge){var _this=this,hDirection=this.getHorizontalDirection(mouseEvent),vDirection=this.getVerticalDirection(mouseEvent);this.eventLastTime=mouseEvent,this.positionGhost(mouseEvent);var validDropTargets=this.dropTargets.filter((function(target){return _this.isMouseOnDropTarget(mouseEvent,target)})),len=validDropTargets.length,dropTarget=null;if(len>0&&(dropTarget=1===len?validDropTargets[0]:validDropTargets.reduce((function(prevTarget,currTarget){if(!prevTarget)return currTarget;var prevContainer=prevTarget.getContainer(),currContainer=currTarget.getContainer();return prevContainer.contains(currContainer)?currTarget:prevTarget}))),dropTarget!==this.lastDropTarget)this.leaveLastTargetIfExists(mouseEvent,hDirection,vDirection,fromNudge),this.enterDragTargetIfExists(dropTarget,mouseEvent,hDirection,vDirection,fromNudge),this.lastDropTarget=dropTarget;else if(dropTarget&&dropTarget.onDragging){var draggingEvent=this.createDropTargetEvent(dropTarget,mouseEvent,hDirection,vDirection,fromNudge);dropTarget.onDragging(draggingEvent)}},DragAndDropService.prototype.enterDragTargetIfExists=function(dropTarget,mouseEvent,hDirection,vDirection,fromNudge){if(dropTarget){if(dropTarget.onDragEnter){var dragEnterEvent=this.createDropTargetEvent(dropTarget,mouseEvent,hDirection,vDirection,fromNudge);dropTarget.onDragEnter(dragEnterEvent)}this.setGhostIcon(dropTarget.getIconName?dropTarget.getIconName():null)}},DragAndDropService.prototype.leaveLastTargetIfExists=function(mouseEvent,hDirection,vDirection,fromNudge){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var dragLeaveEvent=this.createDropTargetEvent(this.lastDropTarget,mouseEvent,hDirection,vDirection,fromNudge);this.lastDropTarget.onDragLeave(dragLeaveEvent)}this.setGhostIcon(null)}},DragAndDropService.prototype.getAllContainersFromDropTarget=function(dropTarget){var containers=[dropTarget.getContainer()],secondaryContainers=dropTarget.getSecondaryContainers?dropTarget.getSecondaryContainers():null;return secondaryContainers&&(containers=containers.concat(secondaryContainers)),containers},DragAndDropService.prototype.isMouseOnDropTarget=function(mouseEvent,dropTarget){var mouseOverTarget=!1;return this.getAllContainersFromDropTarget(dropTarget).filter((function(eContainer){return eContainer})).forEach((function(eContainer){var rect=eContainer.getBoundingClientRect();0!==rect.width&&0!==rect.height&&mouseEvent.clientX>=rect.left&&mouseEvent.clientX<rect.right&&mouseEvent.clientY>=rect.top&&mouseEvent.clientY<rect.bottom&&(mouseOverTarget=!0)})),mouseOverTarget&&dropTarget.isInterestedIn(this.dragSource.type)},DragAndDropService.prototype.addDropTarget=function(dropTarget){this.dropTargets.push(dropTarget)},DragAndDropService.prototype.removeDropTarget=function(dropTarget){this.dropTargets=this.dropTargets.filter((function(target){return target.getContainer()!==dropTarget.getContainer()}))},DragAndDropService.prototype.hasExternalDropZones=function(){return this.dropTargets.some((function(zones){return zones.external}))},DragAndDropService.prototype.findExternalZone=function(params){return find(this.dropTargets.filter((function(target){return target.external})),(function(zone){return zone.getContainer()===params.getContainer()}))},DragAndDropService.prototype.getHorizontalDirection=function(event){var clientX=this.eventLastTime&&this.eventLastTime.clientX,eClientX=event.clientX;return clientX===eClientX?null:clientX>eClientX?exports.HorizontalDirection.Left:exports.HorizontalDirection.Right},DragAndDropService.prototype.getVerticalDirection=function(event){var clientY=this.eventLastTime&&this.eventLastTime.clientY,eClientY=event.clientY;return clientY===eClientY?null:clientY>eClientY?exports.VerticalDirection.Up:exports.VerticalDirection.Down},DragAndDropService.prototype.createDropTargetEvent=function(dropTarget,event,hDirection,vDirection,fromNudge){var dropZoneTarget=dropTarget.getContainer(),rect=dropZoneTarget.getBoundingClientRect();return{event:event,x:event.clientX-rect.left,y:event.clientY-rect.top,vDirection:vDirection,hDirection:hDirection,dragSource:this.dragSource,fromNudge:fromNudge,dragItem:this.dragItem,api:this.gridApi,columnApi:this.columnApi,dropZoneTarget:dropZoneTarget}},DragAndDropService.prototype.positionGhost=function(event){var ghost=this.eGhost;if(ghost){var ghostHeight=ghost.getBoundingClientRect().height,browserWidth=getBodyWidth()-2,browserHeight=getBodyHeight()-2,top=event.pageY-ghostHeight/2,left=event.pageX-10,usrDocument=this.gridOptionsWrapper.getDocument(),windowScrollY=window.pageYOffset||usrDocument.documentElement.scrollTop,windowScrollX=window.pageXOffset||usrDocument.documentElement.scrollLeft;browserWidth>0&&left+ghost.clientWidth>browserWidth+windowScrollX&&(left=browserWidth+windowScrollX-ghost.clientWidth),left<0&&(left=0),browserHeight>0&&top+ghost.clientHeight>browserHeight+windowScrollY&&(top=browserHeight+windowScrollY-ghost.clientHeight),top<0&&(top=0),ghost.style.left=left+\"px\",ghost.style.top=top+\"px\"}},DragAndDropService.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},DragAndDropService.prototype.createGhost=function(){this.eGhost=loadTemplate(DragAndDropService_1.GHOST_TEMPLATE);var theme=this.environment.getTheme().theme;theme&&addCssClass(this.eGhost,theme),this.eGhostIcon=this.eGhost.querySelector(\".ag-dnd-ghost-icon\"),this.setGhostIcon(null);var eText=this.eGhost.querySelector(\".ag-dnd-ghost-label\"),dragItemName=this.dragSource.dragItemName;isFunction(dragItemName)&&(dragItemName=dragItemName()),eText.innerHTML=escapeString(dragItemName)||\"\",this.eGhost.style.height=\"25px\",this.eGhost.style.top=\"20px\",this.eGhost.style.left=\"20px\";var usrDocument=this.gridOptionsWrapper.getDocument(),targetEl=usrDocument.fullscreenElement||usrDocument.querySelector(\"body\");this.eGhostParent=targetEl,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn(\"AG Grid: could not find document body, it is needed for dragging columns\")},DragAndDropService.prototype.setGhostIcon=function(iconName,shake){void 0===shake&&(shake=!1),clearElement(this.eGhostIcon);var eIcon=null;switch(iconName||(iconName=this.dragSource.defaultIconName||DragAndDropService_1.ICON_NOT_ALLOWED),iconName){case DragAndDropService_1.ICON_PINNED:eIcon=this.ePinnedIcon;break;case DragAndDropService_1.ICON_MOVE:eIcon=this.eMoveIcon;break;case DragAndDropService_1.ICON_LEFT:eIcon=this.eLeftIcon;break;case DragAndDropService_1.ICON_RIGHT:eIcon=this.eRightIcon;break;case DragAndDropService_1.ICON_GROUP:eIcon=this.eGroupIcon;break;case DragAndDropService_1.ICON_AGGREGATE:eIcon=this.eAggregateIcon;break;case DragAndDropService_1.ICON_PIVOT:eIcon=this.ePivotIcon;break;case DragAndDropService_1.ICON_NOT_ALLOWED:eIcon=this.eDropNotAllowedIcon;break;case DragAndDropService_1.ICON_HIDE:eIcon=this.eHideIcon}addOrRemoveCssClass(this.eGhostIcon,\"ag-shake-left-to-right\",shake),eIcon===this.eHideIcon&&this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()||eIcon&&this.eGhostIcon.appendChild(eIcon)},DragAndDropService.ICON_PINNED=\"pinned\",DragAndDropService.ICON_MOVE=\"move\",DragAndDropService.ICON_LEFT=\"left\",DragAndDropService.ICON_RIGHT=\"right\",DragAndDropService.ICON_GROUP=\"group\",DragAndDropService.ICON_AGGREGATE=\"aggregate\",DragAndDropService.ICON_PIVOT=\"pivot\",DragAndDropService.ICON_NOT_ALLOWED=\"notAllowed\",DragAndDropService.ICON_HIDE=\"hide\",DragAndDropService.GHOST_TEMPLATE='<div class=\"ag-dnd-ghost ag-unselectable\">\\n            <span class=\"ag-dnd-ghost-icon ag-shake-left-to-right\"></span>\\n            <div class=\"ag-dnd-ghost-label\"></div>\\n        </div>',__decorate$l([Autowired(\"dragService\")],DragAndDropService.prototype,\"dragService\",void 0),__decorate$l([Autowired(\"environment\")],DragAndDropService.prototype,\"environment\",void 0),__decorate$l([Autowired(\"columnApi\")],DragAndDropService.prototype,\"columnApi\",void 0),__decorate$l([Autowired(\"gridApi\")],DragAndDropService.prototype,\"gridApi\",void 0),__decorate$l([PostConstruct],DragAndDropService.prototype,\"init\",null),__decorate$l([PreDestroy],DragAndDropService.prototype,\"clearDragSourceParamsList\",null),DragAndDropService_1=__decorate$l([Bean(\"dragAndDropService\")],DragAndDropService)}(BeanStub),__extends$j=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$m=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},RowDragComp=function(_super){function RowDragComp(cellValueFn,rowNode,column,customGui,dragStartPixels){var _this=_super.call(this)||this;return _this.cellValueFn=cellValueFn,_this.rowNode=rowNode,_this.column=column,_this.customGui=customGui,_this.dragStartPixels=dragStartPixels,_this.isCustomGui=!1,_this.dragSource=null,_this}return __extends$j(RowDragComp,_super),RowDragComp.prototype.postConstruct=function(){this.customGui?(this.isCustomGui=!0,this.setDragElement(this.customGui,this.dragStartPixels)):(this.setTemplate('<div class=\"ag-drag-handle ag-row-drag\" aria-hidden=\"true\"></div>'),this.getGui().appendChild(createIconNoSpan(\"rowDrag\",this.beans.gridOptionsWrapper,null)),this.addDragSource()),this.checkCompatibility();var strategy=this.beans.gridOptionsWrapper.isRowDragManaged()?new ManagedVisibilityStrategy(this,this.beans,this.rowNode,this.column):new NonManagedVisibilityStrategy(this,this.beans,this.rowNode,this.column);this.createManagedBean(strategy,this.beans.context)},RowDragComp.prototype.setDragElement=function(dragElement,dragStartPixels){this.setTemplateFromElement(dragElement),this.addDragSource(dragStartPixels)},RowDragComp.prototype.getSelectedCount=function(){if(!this.beans.gridOptionsWrapper.isEnableMultiRowDragging())return 1;var selection=this.beans.selectionController.getSelectedNodes();return-1!==selection.indexOf(this.rowNode)?selection.length:1},RowDragComp.prototype.checkCompatibility=function(){var managed=this.beans.gridOptionsWrapper.isRowDragManaged();this.beans.gridOptionsWrapper.isTreeData()&&managed&&doOnce((function(){return console.warn(\"AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true\")}),\"RowDragComp.managedAndTreeData\")},RowDragComp.prototype.addDragSource=function(dragStartPixels){var _this=this;void 0===dragStartPixels&&(dragStartPixels=4),this.dragSource&&this.removeDragSource();var dragItem={rowNode:this.rowNode,columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()},rowDragText=this.column&&this.column.getColDef().rowDragText;this.dragSource={type:exports.DragSourceType.RowDrag,eElement:this.getGui(),dragItemName:function(){var dragItemCount=_this.getSelectedCount();return rowDragText?rowDragText(dragItem,dragItemCount):1===dragItemCount?_this.cellValueFn():dragItemCount+\" rows\"},getDragItem:function(){return dragItem},dragStartPixels:dragStartPixels,dragSourceDomDataKey:this.beans.gridOptionsWrapper.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},RowDragComp.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},__decorate$m([Autowired(\"beans\")],RowDragComp.prototype,\"beans\",void 0),__decorate$m([PostConstruct],RowDragComp.prototype,\"postConstruct\",null),__decorate$m([PreDestroy],RowDragComp.prototype,\"removeDragSource\",null),RowDragComp}(Component),VisibilityStrategy=function(_super){function VisibilityStrategy(parent,rowNode,column){var _this=_super.call(this)||this;return _this.parent=parent,_this.column=column,_this.rowNode=rowNode,_this}return __extends$j(VisibilityStrategy,_super),VisibilityStrategy.prototype.setDisplayedOrVisible=function(neverDisplayed){if(neverDisplayed)this.parent.setDisplayed(!1);else{var shown=!0,isShownSometimes=!1;this.column&&(shown=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui,isShownSometimes=isFunction(this.column.getColDef().rowDrag)),isShownSometimes?(this.parent.setDisplayed(!0),this.parent.setVisible(shown)):this.parent.setDisplayed(shown)}},VisibilityStrategy}(BeanStub),NonManagedVisibilityStrategy=function(_super){function NonManagedVisibilityStrategy(parent,beans,rowNode,column){var _this=_super.call(this,parent,rowNode,column)||this;return _this.beans=beans,_this}return __extends$j(NonManagedVisibilityStrategy,_super),NonManagedVisibilityStrategy.prototype.postConstruct=function(){this.addManagedListener(this.beans.gridOptionsWrapper,\"suppressRowDrag\",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.workOutVisibility()},NonManagedVisibilityStrategy.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},NonManagedVisibilityStrategy.prototype.workOutVisibility=function(){var neverDisplayed=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(neverDisplayed)},__decorate$m([PostConstruct],NonManagedVisibilityStrategy.prototype,\"postConstruct\",null),NonManagedVisibilityStrategy}(VisibilityStrategy),ManagedVisibilityStrategy=function(_super){function ManagedVisibilityStrategy(parent,beans,rowNode,column){var _this=_super.call(this,parent,rowNode,column)||this;return _this.beans=beans,_this}return __extends$j(ManagedVisibilityStrategy,_super),ManagedVisibilityStrategy.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,Events.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Events.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,\"suppressRowDrag\",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},ManagedVisibilityStrategy.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},ManagedVisibilityStrategy.prototype.workOutVisibility=function(){var rowDragFeature=this.beans.controllersService.getGridBodyController().getRowDragFeature(),shouldPreventRowMove=rowDragFeature&&rowDragFeature.shouldPreventRowMove(),suppressRowDrag=this.beans.gridOptionsWrapper.isSuppressRowDrag(),hasExternalDropZones=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(shouldPreventRowMove&&!hasExternalDropZones||suppressRowDrag)},__decorate$m([PostConstruct],ManagedVisibilityStrategy.prototype,\"postConstruct\",null),ManagedVisibilityStrategy}(VisibilityStrategy),__extends$k=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$n=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},GroupCellRenderer=function(_super){function GroupCellRenderer(){return _super.call(this,GroupCellRenderer.TEMPLATE)||this}return __extends$k(GroupCellRenderer,_super),GroupCellRenderer.prototype.isTopLevelFooter=function(){if(!this.gridOptionsWrapper.isGroupIncludeTotalFooter())return!1;if(null!=this.params.value||-1!=this.params.node.level)return!1;var colDef=this.params.colDef;if(null==colDef)return!0;if(!0===colDef.showRowGroup)return!0;var rowGroupCols=this.columnController.getRowGroupColumns();return!rowGroupCols||0===rowGroupCols.length||rowGroupCols[0].getId()===colDef.showRowGroup},GroupCellRenderer.prototype.init=function(params){this.params=params;var topLevelFooter=this.isTopLevelFooter(),embeddedRowMismatch=this.isEmbeddedRowMismatch(),nullValue=null==params.value,skipCell=!1;if(this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridOptionsWrapper.isGroupHideOpenParents()){var node=params.node;node.footer&&(skipCell=(params.colDef&&params.colDef.showRowGroup)!==(node.rowGroupColumn&&node.rowGroupColumn.getColId()))}this.cellIsBlank=!topLevelFooter&&(embeddedRowMismatch||nullValue||skipCell),this.cellIsBlank||(this.setupDragOpenParents(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent())},GroupCellRenderer.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsWrapper.isEmbedFullWidthRows())return!1;var pinnedLeftCell=this.params.pinned===Constants.PINNED_LEFT,pinnedRightCell=this.params.pinned===Constants.PINNED_RIGHT,bodyCell=!pinnedLeftCell&&!pinnedRightCell;return this.gridOptionsWrapper.isEnableRtl()?this.columnController.isPinningLeft()?!pinnedRightCell:!bodyCell:this.columnController.isPinningLeft()?!pinnedLeftCell:!bodyCell},GroupCellRenderer.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var params=this.params,paddingCount=params.colDef&&!0!==params.colDef.showRowGroup?0:params.node.uiLevel;params.padding>=0?this.setPaddingDeprecatedWay(paddingCount,params.padding):(this.indentClass&&this.removeCssClass(this.indentClass),this.indentClass=\"ag-row-group-indent-\"+paddingCount,this.addCssClass(this.indentClass))}},GroupCellRenderer.prototype.setPaddingDeprecatedWay=function(paddingCount,padding){doOnce((function(){return console.warn(\"AG Grid: since v14.2, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the AG Grid documentation page for Themes, in particular the property $row-group-indent-size.\")}),\"groupCellRenderer->doDeprecatedWay\");var paddingPx=paddingCount*padding,eGui=this.getGui(),paddingSide=this.gridOptionsWrapper.isEnableRtl()?\"paddingRight\":\"paddingLeft\";eGui.style[paddingSide]=paddingPx+\"px\"},GroupCellRenderer.prototype.setupIndent=function(){this.params.suppressPadding||(this.addManagedListener(this.params.node,RowNode.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},GroupCellRenderer.prototype.addValueElement=function(){this.displayedGroup.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},GroupCellRenderer.prototype.addFooterValue=function(){var footerValue,footerValueGetter=this.params.footerValueGetter;if(footerValueGetter){var paramsClone=cloneObject(this.params);paramsClone.value=this.params.value,\"function\"==typeof footerValueGetter?footerValue=footerValueGetter(paramsClone):\"string\"==typeof footerValueGetter?footerValue=this.expressionService.evaluate(footerValueGetter,paramsClone):console.warn(\"AG Grid: footerValueGetter should be either a function or a string (expression)\")}else footerValue=\"Total \"+(null!=this.params.value?this.params.value:\"\");this.eValue.innerHTML=footerValue},GroupCellRenderer.prototype.addGroupValue=function(){var rendererPromise,_this=this,params=this.params,columnToUse=this.displayedGroup.rowGroupColumn||params.column,valueFormatted=columnToUse?this.valueFormatterService.formatValue(columnToUse,params.node,params.scope,this.params.value):null;params.valueFormatted=valueFormatted,(rendererPromise=params.fullWidth?this.useFullWidth(params):this.useInnerRenderer(this.params.colDef.cellRendererParams,columnToUse.getColDef(),params))&&rendererPromise.then((function(value){_this.innerCellRenderer=value}))},GroupCellRenderer.prototype.useInnerRenderer=function(groupCellRendererParams,groupedColumnDef,params){var _this=this,cellRendererPromise=null,groupInnerRendererClass=this.userComponentFactory.lookupComponentClassDef(groupCellRendererParams,\"innerRenderer\");if(groupInnerRendererClass&&null!=groupInnerRendererClass.component&&groupInnerRendererClass.source!=ComponentSource.DEFAULT)cellRendererPromise=this.userComponentFactory.newInnerCellRenderer(groupCellRendererParams,params);else{var groupColumnRendererClass=this.userComponentFactory.lookupComponentClassDef(groupedColumnDef,\"cellRenderer\");cellRendererPromise=groupColumnRendererClass&&groupColumnRendererClass.source!=ComponentSource.DEFAULT?this.userComponentFactory.newCellRenderer(groupedColumnDef,params):groupColumnRendererClass&&groupColumnRendererClass.source==ComponentSource.DEFAULT&&get(groupedColumnDef,\"cellRendererParams.innerRenderer\",null)?this.userComponentFactory.newInnerCellRenderer(groupedColumnDef.cellRendererParams,params):this.userComponentFactory.newCellRenderer({},params)}return null!=cellRendererPromise?cellRendererPromise.then((function(rendererToUse){null!=rendererToUse?bindCellRendererToHtmlElement(cellRendererPromise,_this.eValue):_this.eValue.innerText=null!=params.valueFormatted?params.valueFormatted:params.value})):this.eValue.innerText=null!=params.valueFormatted?params.valueFormatted:params.value,cellRendererPromise},GroupCellRenderer.prototype.useFullWidth=function(params){var cellRendererPromise=this.userComponentFactory.newFullWidthGroupRowInnerCellRenderer(params);return null!=cellRendererPromise?bindCellRendererToHtmlElement(cellRendererPromise,this.eValue):this.eValue.innerText=null!=params.valueFormatted?params.valueFormatted:params.value,cellRendererPromise},GroupCellRenderer.prototype.addFullWidthRowDraggerIfNeeded=function(){var _this=this;if(this.params.fullWidth&&this.params.rowDrag){var rowDragComp=new RowDragComp((function(){return _this.params.value}),this.params.node);this.createManagedBean(rowDragComp,this.context),this.getGui().insertAdjacentElement(\"afterbegin\",rowDragComp.getGui())}},GroupCellRenderer.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroup,RowNode.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},GroupCellRenderer.prototype.updateChildCount=function(){var allChildrenCount=this.displayedGroup.allChildrenCount,showingGroupForThisNode=this.isShowRowGroupForThisRow();this.eChildCount.innerHTML=showingGroupForThisNode&&null!=allChildrenCount&&allChildrenCount>=0?\"(\"+allChildrenCount+\")\":\"\"},GroupCellRenderer.prototype.isUserWantsSelected=function(){var paramsCheckbox=this.params.checkbox;return\"function\"==typeof paramsCheckbox?paramsCheckbox(this.params):!0===paramsCheckbox},GroupCellRenderer.prototype.addCheckboxIfNeeded=function(){var _this=this,rowNode=this.displayedGroup,checkboxNeeded=this.isUserWantsSelected()&&!rowNode.footer&&!rowNode.rowPinned&&!rowNode.detail;if(checkboxNeeded){var cbSelectionComponent_1=new CheckboxSelectionComponent;this.getContext().createBean(cbSelectionComponent_1),cbSelectionComponent_1.init({rowNode:rowNode,column:this.params.column}),this.eCheckbox.appendChild(cbSelectionComponent_1.getGui()),this.addDestroyFunc((function(){return _this.getContext().destroyBean(cbSelectionComponent_1)}))}addOrRemoveCssClass(this.eCheckbox,\"ag-invisible\",!checkboxNeeded)},GroupCellRenderer.prototype.addExpandAndContract=function(){var params=this.params,eGroupCell=params.eGridCell,eExpandedIcon=createIconNoSpan(\"groupExpanded\",this.gridOptionsWrapper,null),eContractedIcon=createIconNoSpan(\"groupContracted\",this.gridOptionsWrapper,null);setAriaExpanded(eGroupCell,!!params.node.expanded),eExpandedIcon&&this.eExpanded.appendChild(eExpandedIcon),eContractedIcon&&this.eContracted.appendChild(eContractedIcon),this.addManagedListener(this.eExpanded,\"click\",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,\"click\",this.onExpandClicked.bind(this)),this.addManagedListener(eGroupCell,\"keydown\",this.onKeyDown.bind(this)),this.addManagedListener(params.node,RowNode.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var expandableChangedListener=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroup,RowNode.EVENT_ALL_CHILDREN_COUNT_CHANGED,expandableChangedListener),this.addManagedListener(this.displayedGroup,RowNode.EVENT_MASTER_CHANGED,expandableChangedListener),this.addManagedListener(this.displayedGroup,RowNode.EVENT_HAS_CHILDREN_CHANGED,expandableChangedListener),this.gridOptionsWrapper.isEnableGroupEdit()||!this.isExpandable()||params.suppressDoubleClickExpand||this.addManagedListener(eGroupCell,\"dblclick\",this.onCellDblClicked.bind(this))},GroupCellRenderer.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent()},GroupCellRenderer.prototype.onKeyDown=function(event){isKeyPressed(event,KeyCode.ENTER)&&!this.params.suppressEnterExpand&&(this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract())},GroupCellRenderer.prototype.setupDragOpenParents=function(){var column=this.params.column,rowNode=this.params.node;if(this.gridOptionsWrapper.isGroupHideOpenParents())if(rowNode.hasChildren()){var rowGroupColumn=rowNode.rowGroupColumn;this.draggedFromHideOpenParents=!!rowGroupColumn&&!column.isRowGroupDisplayed(rowGroupColumn.getId())}else this.draggedFromHideOpenParents=!0;else this.draggedFromHideOpenParents=!1;if(this.draggedFromHideOpenParents)for(var pointer=rowNode.parent;!missing(pointer);){if(pointer.rowGroupColumn&&column.isRowGroupDisplayed(pointer.rowGroupColumn.getId())){this.displayedGroup=pointer;break}pointer=pointer.parent}missing(this.displayedGroup)&&(this.displayedGroup=rowNode)},GroupCellRenderer.prototype.onExpandClicked=function(mouseEvent){isStopPropagationForAgGrid(mouseEvent)||(stopPropagationForAgGrid(mouseEvent),this.onExpandOrContract())},GroupCellRenderer.prototype.onCellDblClicked=function(mouseEvent){isStopPropagationForAgGrid(mouseEvent)||isElementInEventPath(this.eExpanded,mouseEvent)||isElementInEventPath(this.eContracted,mouseEvent)||this.onExpandOrContract()},GroupCellRenderer.prototype.onExpandOrContract=function(){var rowNode=this.displayedGroup,params=this.params,nextExpandState=!rowNode.expanded;rowNode.setExpanded(nextExpandState),setAriaExpanded(params.eGridCell,nextExpandState)},GroupCellRenderer.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsWrapper.isTreeData())return!0;var rowGroupColumn=this.displayedGroup.rowGroupColumn;if(!rowGroupColumn)return!1;var column=this.params.column;return null==column||column.isRowGroupDisplayed(rowGroupColumn.getId())},GroupCellRenderer.prototype.isExpandable=function(){if(this.draggedFromHideOpenParents)return!0;var rowNode=this.displayedGroup,reducedLeafNode=this.columnController.isPivotMode()&&rowNode.leafGroup;if(!rowNode.isExpandable()||rowNode.footer||reducedLeafNode)return!1;var column=this.params.column;return null==column||\"string\"!=typeof column.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},GroupCellRenderer.prototype.showExpandAndContractIcons=function(){var _a=this,eContracted=_a.eContracted,eExpanded=_a.eExpanded,params=_a.params,displayedGroup=_a.displayedGroup,columnController=_a.columnController,eGridCell=params.eGridCell,node=params.node,isExpandable=this.isExpandable();if(isExpandable){var expanded=!!this.draggedFromHideOpenParents||node.expanded;setDisplayed(eContracted,!expanded),setDisplayed(eExpanded,expanded)}else removeAriaExpanded(eGridCell),setDisplayed(eExpanded,!1),setDisplayed(eContracted,!1);var pivotMode=columnController.isPivotMode(),pivotModeAndLeafGroup=pivotMode&&displayedGroup.leafGroup,addExpandableCss=isExpandable&&!pivotModeAndLeafGroup,isTotalFooterNode=node.footer&&-1===node.level;this.addOrRemoveCssClass(\"ag-cell-expandable\",addExpandableCss),this.addOrRemoveCssClass(\"ag-row-group\",addExpandableCss),pivotMode?this.addOrRemoveCssClass(\"ag-pivot-leaf-group\",pivotModeAndLeafGroup):isTotalFooterNode||this.addOrRemoveCssClass(\"ag-row-group-leaf-indent\",!addExpandableCss)},GroupCellRenderer.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),_super.prototype.destroy.call(this)},GroupCellRenderer.prototype.refresh=function(){return!1},GroupCellRenderer.TEMPLATE='<span class=\"ag-cell-wrapper\">\\n            <span class=\"ag-group-expanded\" ref=\"eExpanded\"></span>\\n            <span class=\"ag-group-contracted\" ref=\"eContracted\"></span>\\n            <span class=\"ag-group-checkbox ag-invisible\" ref=\"eCheckbox\"></span>\\n            <span class=\"ag-group-value\" ref=\"eValue\"></span>\\n            <span class=\"ag-group-child-count\" ref=\"eChildCount\"></span>\\n        </span>',__decorate$n([Autowired(\"rowRenderer\")],GroupCellRenderer.prototype,\"rowRenderer\",void 0),__decorate$n([Autowired(\"expressionService\")],GroupCellRenderer.prototype,\"expressionService\",void 0),__decorate$n([Autowired(\"valueFormatterService\")],GroupCellRenderer.prototype,\"valueFormatterService\",void 0),__decorate$n([Autowired(\"columnController\")],GroupCellRenderer.prototype,\"columnController\",void 0),__decorate$n([Autowired(\"userComponentFactory\")],GroupCellRenderer.prototype,\"userComponentFactory\",void 0),__decorate$n([RefSelector(\"eExpanded\")],GroupCellRenderer.prototype,\"eExpanded\",void 0),__decorate$n([RefSelector(\"eContracted\")],GroupCellRenderer.prototype,\"eContracted\",void 0),__decorate$n([RefSelector(\"eCheckbox\")],GroupCellRenderer.prototype,\"eCheckbox\",void 0),__decorate$n([RefSelector(\"eValue\")],GroupCellRenderer.prototype,\"eValue\",void 0),__decorate$n([RefSelector(\"eChildCount\")],GroupCellRenderer.prototype,\"eChildCount\",void 0),GroupCellRenderer}(Component),__extends$l=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),AnimateShowChangeCellRenderer=function(_super){function AnimateShowChangeCellRenderer(){var _this=_super.call(this,AnimateShowChangeCellRenderer.TEMPLATE)||this;return _this.refreshCount=0,_this}return __extends$l(AnimateShowChangeCellRenderer,_super),AnimateShowChangeCellRenderer.prototype.init=function(params){this.eValue=this.queryForHtmlElement(\".ag-value-change-value\"),this.eDelta=this.queryForHtmlElement(\".ag-value-change-delta\"),this.refresh(params)},AnimateShowChangeCellRenderer.prototype.showDelta=function(params,delta){var absDelta=Math.abs(delta),valueFormatted=params.formatValue(absDelta),valueToUse=exists(valueFormatted)?valueFormatted:absDelta,deltaUp=delta>=0;this.eDelta.innerHTML=deltaUp?\"\"+valueToUse:\"\"+valueToUse,addOrRemoveCssClass(this.eDelta,\"ag-value-change-delta-up\",deltaUp),addOrRemoveCssClass(this.eDelta,\"ag-value-change-delta-down\",!deltaUp)},AnimateShowChangeCellRenderer.prototype.setTimerToRemoveDelta=function(){var _this=this;this.refreshCount++;var refreshCountCopy=this.refreshCount;window.setTimeout((function(){refreshCountCopy===_this.refreshCount&&_this.hideDeltaValue()}),2e3)},AnimateShowChangeCellRenderer.prototype.hideDeltaValue=function(){removeCssClass(this.eValue,\"ag-value-change-value-highlight\"),clearElement(this.eDelta)},AnimateShowChangeCellRenderer.prototype.refresh=function(params){var value=params.value;return value!==this.lastValue&&(exists(params.valueFormatted)?this.eValue.innerHTML=params.valueFormatted:exists(params.value)?this.eValue.innerHTML=value:clearElement(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(\"number\"==typeof value&&\"number\"==typeof this.lastValue&&this.showDelta(params,value-this.lastValue),this.lastValue&&addCssClass(this.eValue,\"ag-value-change-value-highlight\"),this.setTimerToRemoveDelta(),this.lastValue=value,!0))},AnimateShowChangeCellRenderer.TEMPLATE='<span><span class=\"ag-value-change-delta\"></span><span class=\"ag-value-change-value\"></span></span>',function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);c>3&&r&&Object.defineProperty(target,key,r)}([Autowired(\"filterManager\")],AnimateShowChangeCellRenderer.prototype,\"filterManager\",void 0),AnimateShowChangeCellRenderer}(Component),__extends$m=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),AnimateSlideCellRenderer=function(_super){function AnimateSlideCellRenderer(){var _this=_super.call(this,AnimateSlideCellRenderer.TEMPLATE)||this;return _this.refreshCount=0,_this.eCurrent=_this.queryForHtmlElement(\".ag-value-slide-current\"),_this}return __extends$m(AnimateSlideCellRenderer,_super),AnimateSlideCellRenderer.prototype.init=function(params){this.refresh(params)},AnimateSlideCellRenderer.prototype.addSlideAnimation=function(){var _this=this;this.refreshCount++;var refreshCountCopy=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=loadTemplate('<span class=\"ag-value-slide-previous ag-value-slide-out\"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout((function(){refreshCountCopy===_this.refreshCount&&addCssClass(_this.ePrevious,\"ag-value-slide-out-end\")}),50),window.setTimeout((function(){refreshCountCopy===_this.refreshCount&&(_this.getGui().removeChild(_this.ePrevious),_this.ePrevious=null)}),3e3)},AnimateSlideCellRenderer.prototype.refresh=function(params){var value=params.value;return missing(value)&&(value=\"\"),value!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=value,exists(params.valueFormatted)?this.eCurrent.innerHTML=params.valueFormatted:exists(params.value)?this.eCurrent.innerHTML=value:clearElement(this.eCurrent),!0)},AnimateSlideCellRenderer.TEMPLATE='<span>\\n            <span class=\"ag-value-slide-current\"></span>\\n        </span>',function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);c>3&&r&&Object.defineProperty(target,key,r)}([Autowired(\"filterManager\")],AnimateSlideCellRenderer.prototype,\"filterManager\",void 0),AnimateSlideCellRenderer}(Component),__extends$n=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$q=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},LoadingCellRenderer=function(_super){function LoadingCellRenderer(){return _super.call(this,LoadingCellRenderer.TEMPLATE)||this}return __extends$n(LoadingCellRenderer,_super),LoadingCellRenderer.prototype.init=function(params){params.node.failedLoad?this.setupFailed():this.setupLoading()},LoadingCellRenderer.prototype.setupFailed=function(){this.eLoadingText.innerText=\"ERR\"},LoadingCellRenderer.prototype.setupLoading=function(){var eLoadingIcon=createIconNoSpan(\"groupLoading\",this.gridOptionsWrapper,null);eLoadingIcon&&this.eLoadingIcon.appendChild(eLoadingIcon);var localeTextFunc=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=localeTextFunc(\"loadingOoo\",\"Loading\")},LoadingCellRenderer.prototype.refresh=function(params){return!1},LoadingCellRenderer.TEMPLATE='<div class=\"ag-loading\">\\n            <span class=\"ag-loading-icon\" ref=\"eLoadingIcon\"></span>\\n            <span class=\"ag-loading-text\" ref=\"eLoadingText\"></span>\\n        </div>',__decorate$q([RefSelector(\"eLoadingIcon\")],LoadingCellRenderer.prototype,\"eLoadingIcon\",void 0),__decorate$q([RefSelector(\"eLoadingText\")],LoadingCellRenderer.prototype,\"eLoadingText\",void 0),LoadingCellRenderer}(Component),__extends$o=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$r=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},SelectCellEditor=function(_super){function SelectCellEditor(){var _this=_super.call(this,'<div class=\"ag-cell-edit-wrapper\"><ag-select class=\"ag-cell-editor\" ref=\"eSelect\"></ag-select></div>')||this;return _this.startedByEnter=!1,_this}return __extends$o(SelectCellEditor,_super),SelectCellEditor.prototype.init=function(params){var _this=this;if(this.focusAfterAttached=params.cellStartedEdit,missing(params.values))console.warn(\"AG Grid: no values found for select cellEditor\");else{this.startedByEnter=params.keyPress===KeyCode.ENTER;var hasValue=!1;params.values.forEach((function(value){var option={value:value},valueFormatted=_this.valueFormatterService.formatValue(params.column,null,null,value);option.text=null!=valueFormatted?valueFormatted:value,_this.eSelect.addOption(option),hasValue=hasValue||params.value===value})),hasValue?this.eSelect.setValue(params.value,!0):params.values.length&&this.eSelect.setValue(params.values[0],!0),this.gridOptionsWrapper.isFullRowEdit()||this.eSelect.onValueChange((function(){return params.stopEditing()}))}},SelectCellEditor.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},SelectCellEditor.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},SelectCellEditor.prototype.getValue=function(){return this.eSelect.getValue()},SelectCellEditor.prototype.isPopup=function(){return!1},__decorate$r([Autowired(\"valueFormatterService\")],SelectCellEditor.prototype,\"valueFormatterService\",void 0),__decorate$r([RefSelector(\"eSelect\")],SelectCellEditor.prototype,\"eSelect\",void 0),SelectCellEditor}(PopupComponent),__extends$p=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),PopupTextCellEditor=function(_super){function PopupTextCellEditor(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$p(PopupTextCellEditor,_super),PopupTextCellEditor.prototype.isPopup=function(){return!0},PopupTextCellEditor}(TextCellEditor),__extends$q=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),PopupSelectCellEditor=function(_super){function PopupSelectCellEditor(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$q(PopupSelectCellEditor,_super),PopupSelectCellEditor.prototype.isPopup=function(){return!0},PopupSelectCellEditor}(SelectCellEditor),__extends$r=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),LargeTextCellEditor=function(_super){function LargeTextCellEditor(){return _super.call(this,LargeTextCellEditor.TEMPLATE)||this}return __extends$r(LargeTextCellEditor,_super),LargeTextCellEditor.prototype.init=function(params){this.params=params,this.focusAfterAttached=params.cellStartedEdit,this.eTextArea.setMaxLength(params.maxLength||200).setCols(params.cols||60).setRows(params.rows||10),exists(params.value)&&this.eTextArea.setValue(params.value.toString(),!0),this.addGuiEventListener(\"keydown\",this.onKeyDown.bind(this))},LargeTextCellEditor.prototype.onKeyDown=function(event){var key=event.which||event.keyCode;(key===KeyCode.LEFT||key===KeyCode.UP||key===KeyCode.RIGHT||key===KeyCode.DOWN||event.shiftKey&&key===KeyCode.ENTER)&&event.stopPropagation()},LargeTextCellEditor.prototype.afterGuiAttached=function(){var translate=this.gridOptionsWrapper.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(translate(\"ariaInputEditor\",\"Input Editor\")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},LargeTextCellEditor.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},LargeTextCellEditor.TEMPLATE='<div class=\"ag-large-text\" tabindex=\"0\">\\n            <ag-input-text-area ref=\"eTextArea\" class=\"ag-large-text-input\"></ag-input-text-area>\\n        </div>',function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);c>3&&r&&Object.defineProperty(target,key,r)}([RefSelector(\"eTextArea\")],LargeTextCellEditor.prototype,\"eTextArea\",void 0),LargeTextCellEditor}(PopupComponent),__extends$s=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$t=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},NumberFilter=function(_super){function NumberFilter(){return _super.call(this,\"numberFilter\")||this}return __extends$s(NumberFilter,_super),NumberFilter.prototype.mapRangeFromModel=function(filterModel){return{from:filterModel.filter,to:filterModel.filterTo}},NumberFilter.prototype.getDefaultDebounceMs=function(){return 500},NumberFilter.prototype.resetUiToDefaults=function(silent){var _this=this;return _super.prototype.resetUiToDefaults.call(this,silent).then((function(){[_this.eValueFrom1,_this.eValueFrom2,_this.eValueTo1,_this.eValueTo2].forEach((function(field){return field.setValue(null,silent)})),_this.resetPlaceholder()}))},NumberFilter.prototype.setConditionIntoUi=function(model,position){var positionOne=position===ConditionPosition.One,eValueTo=positionOne?this.eValueTo1:this.eValueTo2;(positionOne?this.eValueFrom1:this.eValueFrom2).setValue(model?\"\"+model.filter:null),eValueTo.setValue(model?\"\"+model.filterTo:null)},NumberFilter.prototype.setValueFromFloatingFilter=function(value){this.eValueFrom1.setValue(value),this.eValueTo1.setValue(null),this.eValueFrom2.setValue(null),this.eValueTo2.setValue(null)},NumberFilter.prototype.comparator=function(){return function(left,right){return left===right?0:left<right?1:-1}},NumberFilter.prototype.setParams=function(params){this.numberFilterParams=params;var allowedCharPattern=this.getAllowedCharPattern();if(allowedCharPattern){var config={allowedCharPattern:allowedCharPattern};this.resetTemplate({eValueFrom1:config,eValueTo1:config,eValueFrom2:config,eValueTo2:config})}_super.prototype.setParams.call(this,params),this.addValueChangedListeners()},NumberFilter.prototype.addValueChangedListeners=function(){var _this=this,listener=function(){return _this.onUiChanged()};this.eValueFrom1.onValueChange(listener),this.eValueTo1.onValueChange(listener),this.eValueFrom2.onValueChange(listener),this.eValueTo2.onValueChange(listener)},NumberFilter.prototype.resetPlaceholder=function(){var globalTranslate=this.gridOptionsWrapper.getLocaleTextFunc(),isRange1=this.showValueTo(this.getCondition1Type()),isRange2=this.showValueTo(this.getCondition2Type());this.eValueFrom1.setInputPlaceholder(this.translate(isRange1?\"inRangeStart\":\"filterOoo\")),this.eValueFrom1.setInputAriaLabel(isRange1?globalTranslate(\"ariaFilterFromValue\",\"Filter from value\"):globalTranslate(\"ariaFilterValue\",\"Filter Value\")),this.eValueTo1.setInputPlaceholder(this.translate(\"inRangeEnd\")),this.eValueTo1.setInputAriaLabel(globalTranslate(\"ariaFilterToValue\",\"Filter to Value\")),this.eValueFrom2.setInputPlaceholder(this.translate(isRange2?\"inRangeStart\":\"filterOoo\")),this.eValueFrom2.setInputAriaLabel(isRange2?globalTranslate(\"ariaFilterFromValue\",\"Filter from value\"):globalTranslate(\"ariaFilterValue\",\"Filter Value\")),this.eValueTo2.setInputPlaceholder(this.translate(\"inRangeEnd\")),this.eValueTo2.setInputAriaLabel(globalTranslate(\"ariaFilterToValue\",\"Filter to Value\"))},NumberFilter.prototype.afterGuiAttached=function(params){_super.prototype.afterGuiAttached.call(this,params),this.resetPlaceholder(),params&&params.suppressFocus||this.eValueFrom1.getInputElement().focus()},NumberFilter.prototype.getDefaultFilterOptions=function(){return NumberFilter.DEFAULT_FILTER_OPTIONS},NumberFilter.prototype.createValueTemplate=function(position){var pos=position===ConditionPosition.One?\"1\":\"2\",agElementTag=this.getAllowedCharPattern()?\"ag-input-text-field\":\"ag-input-number-field\";return'\\n            <div class=\"ag-filter-body\" ref=\"eCondition'+pos+'Body\" role=\"presentation\">\\n                <'+agElementTag+' class=\"ag-filter-from ag-filter-filter\" ref=\"eValueFrom'+pos+'\"></'+agElementTag+\">\\n                <\"+agElementTag+' class=\"ag-filter-to ag-filter-filter\" ref=\"eValueTo'+pos+'\"></'+agElementTag+\">\\n            </div>\"},NumberFilter.prototype.isConditionUiComplete=function(position){var positionOne=position===ConditionPosition.One,option=positionOne?this.getCondition1Type():this.getCondition2Type();if(option===SimpleFilter.EMPTY)return!1;if(this.doesFilterHaveHiddenInput(option))return!0;var eValueTo=positionOne?this.eValueTo1:this.eValueTo2;return null!=this.stringToFloat((positionOne?this.eValueFrom1:this.eValueFrom2).getValue())&&(!this.showValueTo(option)||null!=this.stringToFloat(eValueTo.getValue()))},NumberFilter.prototype.areSimpleModelsEqual=function(aSimple,bSimple){return aSimple.filter===bSimple.filter&&aSimple.filterTo===bSimple.filterTo&&aSimple.type===bSimple.type},NumberFilter.prototype.getFilterType=function(){return\"number\"},NumberFilter.prototype.stringToFloat=function(value){if(\"number\"==typeof value)return value;var filterText=makeNull(value);return null!=filterText&&\"\"===filterText.trim()&&(filterText=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(filterText):null==filterText||\"-\"===filterText.trim()?null:parseFloat(filterText)},NumberFilter.prototype.createCondition=function(position){var positionOne=position===ConditionPosition.One,type=positionOne?this.getCondition1Type():this.getCondition2Type(),value=this.stringToFloat((positionOne?this.eValueFrom1:this.eValueFrom2).getValue()),model={filterType:this.getFilterType(),type:type};if(!this.doesFilterHaveHiddenInput(type)&&(model.filter=value,this.showValueTo(type))){var valueTo=this.stringToFloat((positionOne?this.eValueTo1:this.eValueTo2).getValue());model.filterTo=valueTo}return model},NumberFilter.prototype.updateUiVisibility=function(){_super.prototype.updateUiVisibility.call(this),this.resetPlaceholder();var condition1Type=this.getCondition1Type(),condition2Type=this.getCondition2Type();setDisplayed(this.eValueFrom1.getGui(),this.showValueFrom(condition1Type)),setDisplayed(this.eValueTo1.getGui(),this.showValueTo(condition1Type)),setDisplayed(this.eValueFrom2.getGui(),this.showValueFrom(condition2Type)),setDisplayed(this.eValueTo2.getGui(),this.showValueTo(condition2Type))},NumberFilter.prototype.getAllowedCharPattern=function(){return(this.numberFilterParams||{}).allowedCharPattern||(isBrowserChrome()||isBrowserEdge()?null:\"\\\\d\\\\-\\\\.\")},NumberFilter.DEFAULT_FILTER_OPTIONS=[ScalarFilter.EQUALS,ScalarFilter.NOT_EQUAL,ScalarFilter.LESS_THAN,ScalarFilter.LESS_THAN_OR_EQUAL,ScalarFilter.GREATER_THAN,ScalarFilter.GREATER_THAN_OR_EQUAL,ScalarFilter.IN_RANGE],__decorate$t([RefSelector(\"eValueFrom1\")],NumberFilter.prototype,\"eValueFrom1\",void 0),__decorate$t([RefSelector(\"eValueTo1\")],NumberFilter.prototype,\"eValueTo1\",void 0),__decorate$t([RefSelector(\"eValueFrom2\")],NumberFilter.prototype,\"eValueFrom2\",void 0),__decorate$t([RefSelector(\"eValueTo2\")],NumberFilter.prototype,\"eValueTo2\",void 0),NumberFilter}(ScalarFilter),__extends$t=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),LoadingOverlayComponent$1=function(_super){function LoadingOverlayComponent(){return _super.call(this)||this}return __extends$t(LoadingOverlayComponent,_super),LoadingOverlayComponent.prototype.destroy=function(){_super.prototype.destroy.call(this)},LoadingOverlayComponent.prototype.init=function(params){var template=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():LoadingOverlayComponent.DEFAULT_LOADING_OVERLAY_TEMPLATE,localeTextFunc=this.gridOptionsWrapper.getLocaleTextFunc(),localisedTemplate=template.replace(\"[LOADING...]\",localeTextFunc(\"loadingOoo\",\"Loading...\"));this.setTemplate(localisedTemplate)},LoadingOverlayComponent.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class=\"ag-overlay-loading-center\">[LOADING...]</span>',LoadingOverlayComponent}(Component),__extends$u=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),NoRowsOverlayComponent$1=function(_super){function NoRowsOverlayComponent(){return _super.call(this)||this}return __extends$u(NoRowsOverlayComponent,_super),NoRowsOverlayComponent.prototype.destroy=function(){_super.prototype.destroy.call(this)},NoRowsOverlayComponent.prototype.init=function(params){var template=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():NoRowsOverlayComponent.DEFAULT_NO_ROWS_TEMPLATE,localeTextFunc=this.gridOptionsWrapper.getLocaleTextFunc(),localisedTemplate=template.replace(\"[NO_ROWS_TO_SHOW]\",localeTextFunc(\"noRowsToShow\",\"No Rows To Show\"));this.setTemplate(localisedTemplate)},NoRowsOverlayComponent.DEFAULT_NO_ROWS_TEMPLATE='<span class=\"ag-overlay-no-rows-center\">[NO_ROWS_TO_SHOW]</span>',NoRowsOverlayComponent}(Component),__extends$v=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),TooltipComponent$1=function(_super){function TooltipComponent(){return _super.call(this,'<div class=\"ag-tooltip\"></div>')||this}return __extends$v(TooltipComponent,_super),TooltipComponent.prototype.init=function(params){var value=params.value;this.getGui().innerHTML=value},TooltipComponent}(PopupComponent),__extends$w=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),DefaultDateComponent=function(_super){function DefaultDateComponent(){return _super.call(this,'\\n            <div class=\"ag-filter-filter\">\\n                <ag-input-text-field class=\"ag-date-filter\" ref=\"eDateInput\"></ag-input-text-field>\\n            </div>')||this}return __extends$w(DefaultDateComponent,_super),DefaultDateComponent.prototype.destroy=function(){_super.prototype.destroy.call(this)},DefaultDateComponent.prototype.init=function(params){var inputElement=this.eDateInput.getInputElement();this.shouldUseBrowserDatePicker(params)&&(isBrowserIE()?console.warn(\"ag-grid: browserDatePicker is specified to true, but it is not supported in IE 11; reverting to text date picker\"):inputElement.type=\"date\"),this.addManagedListener(inputElement,\"mousedown\",(function(){return inputElement.focus()})),this.addManagedListener(this.eDateInput.getInputElement(),\"input\",(function(e){e.target===document.activeElement&&params.onDateChanged()}))},DefaultDateComponent.prototype.getDate=function(){return parseDateTimeFromString(this.eDateInput.getValue())},DefaultDateComponent.prototype.setDate=function(date){this.eDateInput.setValue(serialiseDate(date,!1))},DefaultDateComponent.prototype.setInputPlaceholder=function(placeholder){this.eDateInput.setInputPlaceholder(placeholder)},DefaultDateComponent.prototype.afterGuiAttached=function(params){params&&params.suppressFocus||this.eDateInput.getInputElement().focus()},DefaultDateComponent.prototype.shouldUseBrowserDatePicker=function(params){return params.filterParams&&null!=params.filterParams.browserDatePicker?params.filterParams.browserDatePicker:isBrowserChrome()||isBrowserFirefox()},function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);c>3&&r&&Object.defineProperty(target,key,r)}([RefSelector(\"eDateInput\")],DefaultDateComponent.prototype,\"eDateInput\",void 0),DefaultDateComponent}(Component),__extends$x=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),SimpleFloatingFilter=function(_super){function SimpleFloatingFilter(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$x(SimpleFloatingFilter,_super),SimpleFloatingFilter.prototype.getDefaultDebounceMs=function(){return 0},SimpleFloatingFilter.prototype.destroy=function(){_super.prototype.destroy.call(this)},SimpleFloatingFilter.prototype.getTextFromModel=function(model){if(!model)return null;if(model.operator){var combinedModel=model,con1Str=this.conditionToString(combinedModel.condition1),con2Str=this.conditionToString(combinedModel.condition2);return con1Str+\" \"+combinedModel.operator+\" \"+con2Str}var condition=model,customOption=this.optionsFactory.getCustomOption(condition.type);return customOption&&customOption.hideFilterInput?(this.gridOptionsWrapper.getLocaleTextFunc()(customOption.displayKey,customOption.displayName),customOption.displayName):this.conditionToString(condition)},SimpleFloatingFilter.prototype.isEventFromFloatingFilter=function(event){return event&&event.afterFloatingFilter},SimpleFloatingFilter.prototype.getLastType=function(){return this.lastType},SimpleFloatingFilter.prototype.setLastTypeFromModel=function(model){this.lastType=model?(model.operator?model.condition1:model).type:this.optionsFactory.getDefaultOption()},SimpleFloatingFilter.prototype.canWeEditAfterModelFromParentFilter=function(model){return model?!model.operator&&this.isTypeEditable(model.type):this.isTypeEditable(this.lastType)},SimpleFloatingFilter.prototype.init=function(params){this.optionsFactory=new OptionsFactory,this.optionsFactory.init(params.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption();var editable=this.isTypeEditable(this.lastType);this.setEditable(editable)},SimpleFloatingFilter.prototype.doesFilterHaveHiddenInput=function(filterType){var customFilterOption=this.optionsFactory.getCustomOption(filterType);return customFilterOption&&customFilterOption.hideFilterInput},SimpleFloatingFilter.prototype.isTypeEditable=function(type){return!!type&&!this.doesFilterHaveHiddenInput(type)&&type!==SimpleFilter.IN_RANGE&&type!==SimpleFilter.EMPTY},SimpleFloatingFilter}(Component),__extends$y=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$v=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},DateFloatingFilter=function(_super){function DateFloatingFilter(){return _super.call(this,'\\n            <div class=\"ag-floating-filter-input\" role=\"presentation\">\\n                <ag-input-text-field ref=\"eReadOnlyText\"></ag-input-text-field>\\n                <div ref=\"eDateWrapper\" style=\"display: flex;\"></div>\\n            </div>')||this}return __extends$y(DateFloatingFilter,_super),DateFloatingFilter.prototype.getDefaultFilterOptions=function(){return DateFilter.DEFAULT_FILTER_OPTIONS},DateFloatingFilter.prototype.conditionToString=function(condition){var type=condition.type,dateFrom=parseDateTimeFromString(condition.dateFrom);if(type===SimpleFilter.IN_RANGE){var dateTo=parseDateTimeFromString(condition.dateTo);return serialiseDate(dateFrom,!1)+\"-\"+serialiseDate(dateTo,!1)}return null==dateFrom?\"\"+type:\"\"+serialiseDate(dateFrom,!1)},DateFloatingFilter.prototype.init=function(params){_super.prototype.init.call(this,params),this.params=params,this.createDateComponent();var translate=this.gridOptionsWrapper.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(translate(\"ariaDateFilterInput\",\"Date Filter Input\"))},DateFloatingFilter.prototype.setEditable=function(editable){setDisplayed(this.eDateWrapper,editable),setDisplayed(this.eReadOnlyText.getGui(),!editable)},DateFloatingFilter.prototype.onParentModelChanged=function(model,event){if(!this.isEventFromFloatingFilter(event)){_super.prototype.setLastTypeFromModel.call(this,model);var allowEditing=this.canWeEditAfterModelFromParentFilter(model);this.setEditable(allowEditing),allowEditing?(this.dateComp.setDate(model?parseDateTimeFromString(model.dateFrom):null),this.eReadOnlyText.setValue(\"\")):(this.eReadOnlyText.setValue(this.getTextFromModel(model)),this.dateComp.setDate(null))}},DateFloatingFilter.prototype.onDateChanged=function(){var _this=this,filterValueText=serialiseDate(this.dateComp.getDate());this.params.parentFilterInstance((function(filterInstance){filterInstance&&filterInstance.onFloatingFilterChanged(_this.getLastType(),filterValueText)}))},DateFloatingFilter.prototype.createDateComponent=function(){var _this=this,debounceMs=ProvidedFilter.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),dateComponentParams={onDateChanged:debounce(this.onDateChanged.bind(this),debounceMs),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new DateCompWrapper(this.getContext(),this.userComponentFactory,dateComponentParams,this.eDateWrapper),this.addDestroyFunc((function(){return _this.dateComp.destroy()}))},__decorate$v([Autowired(\"userComponentFactory\")],DateFloatingFilter.prototype,\"userComponentFactory\",void 0),__decorate$v([RefSelector(\"eReadOnlyText\")],DateFloatingFilter.prototype,\"eReadOnlyText\",void 0),__decorate$v([RefSelector(\"eDateWrapper\")],DateFloatingFilter.prototype,\"eDateWrapper\",void 0),DateFloatingFilter}(SimpleFloatingFilter),__extends$z=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$w=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},TextFilter=function(_super){function TextFilter(){return _super.call(this,\"textFilter\")||this}return __extends$z(TextFilter,_super),TextFilter.trimInput=function(value){var trimmedInput=value&&value.trim();return\"\"===trimmedInput?value:trimmedInput},TextFilter.prototype.getDefaultDebounceMs=function(){return 500},TextFilter.prototype.getCleanValue=function(inputField){var value=makeNull(inputField.getValue());return this.textFilterParams.trimInput?TextFilter.trimInput(value):value},TextFilter.prototype.addValueChangedListeners=function(){var _this=this,listener=function(){return _this.onUiChanged()};this.eValue1.onValueChange(listener),this.eValue2.onValueChange(listener)},TextFilter.prototype.setParams=function(params){_super.prototype.setParams.call(this,params),this.textFilterParams=params,this.comparator=this.textFilterParams.textCustomComparator||TextFilter.DEFAULT_COMPARATOR,this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?TextFilter.DEFAULT_FORMATTER:TextFilter.DEFAULT_LOWERCASE_FORMATTER),this.addValueChangedListeners()},TextFilter.prototype.setConditionIntoUi=function(model,position){(position===ConditionPosition.One?this.eValue1:this.eValue2).setValue(model?model.filter:null)},TextFilter.prototype.createCondition=function(position){var positionOne=position===ConditionPosition.One,type=positionOne?this.getCondition1Type():this.getCondition2Type(),eValue=positionOne?this.eValue1:this.eValue2,value=this.getCleanValue(eValue);eValue.setValue(value,!0);var model={filterType:this.getFilterType(),type:type};return this.doesFilterHaveHiddenInput(type)||(model.filter=value),model},TextFilter.prototype.getFilterType=function(){return\"text\"},TextFilter.prototype.areSimpleModelsEqual=function(aSimple,bSimple){return aSimple.filter===bSimple.filter&&aSimple.type===bSimple.type},TextFilter.prototype.resetUiToDefaults=function(silent){var _this=this;return _super.prototype.resetUiToDefaults.call(this,silent).then((function(){_this.forEachInput((function(field){return field.setValue(null,silent)})),_this.resetPlaceholder()}))},TextFilter.prototype.resetPlaceholder=function(){var globalTranslate=this.gridOptionsWrapper.getLocaleTextFunc(),placeholder=this.translate(\"filterOoo\");this.forEachInput((function(field){field.setInputPlaceholder(placeholder),field.setInputAriaLabel(globalTranslate(\"ariaFilterValue\",\"Filter Value\"))}))},TextFilter.prototype.forEachInput=function(action){forEach([this.eValue1,this.eValue2],action)},TextFilter.prototype.setValueFromFloatingFilter=function(value){this.eValue1.setValue(value),this.eValue2.setValue(null)},TextFilter.prototype.getDefaultFilterOptions=function(){return TextFilter.DEFAULT_FILTER_OPTIONS},TextFilter.prototype.createValueTemplate=function(position){var pos=position===ConditionPosition.One?\"1\":\"2\";return('\\n            <div class=\"ag-filter-body\" ref=\"eCondition'+pos+'Body\" role=\"presentation\">\\n                <ag-input-text-field class=\"ag-filter-filter\" ref=\"eValue'+pos+'\"></ag-input-text-field>\\n            </div>')},TextFilter.prototype.updateUiVisibility=function(){_super.prototype.updateUiVisibility.call(this),setDisplayed(this.eCondition1Body,this.showValueFrom(this.getCondition1Type())),setDisplayed(this.eCondition2Body,this.isCondition2Enabled()&&this.showValueFrom(this.getCondition2Type()))},TextFilter.prototype.afterGuiAttached=function(params){_super.prototype.afterGuiAttached.call(this,params),this.resetPlaceholder(),params&&params.suppressFocus||this.eValue1.getInputElement().focus()},TextFilter.prototype.isConditionUiComplete=function(position){var positionOne=position===ConditionPosition.One,option=positionOne?this.getCondition1Type():this.getCondition2Type();return option!==SimpleFilter.EMPTY&&(!!this.doesFilterHaveHiddenInput(option)||null!=this.getCleanValue(positionOne?this.eValue1:this.eValue2))},TextFilter.prototype.individualConditionPasses=function(params,filterModel){var filterText=filterModel.filter,filterOption=filterModel.type,cellValue=this.textFilterParams.valueGetter(params.node),cellValueFormatted=this.formatter(cellValue),customFilterOption=this.optionsFactory.getCustomOption(filterOption);if(customFilterOption&&(null!=filterText||customFilterOption.hideFilterInput))return customFilterOption.test(filterText,cellValueFormatted);if(null==cellValue)return filterOption===SimpleFilter.NOT_EQUAL||filterOption===SimpleFilter.NOT_CONTAINS;var filterTextFormatted=this.formatter(filterText);return this.comparator(filterOption,cellValueFormatted,filterTextFormatted)},TextFilter.DEFAULT_FILTER_OPTIONS=[SimpleFilter.CONTAINS,SimpleFilter.NOT_CONTAINS,SimpleFilter.EQUALS,SimpleFilter.NOT_EQUAL,SimpleFilter.STARTS_WITH,SimpleFilter.ENDS_WITH],TextFilter.DEFAULT_FORMATTER=function(from){return from},TextFilter.DEFAULT_LOWERCASE_FORMATTER=function(from){return null==from?null:from.toString().toLowerCase()},TextFilter.DEFAULT_COMPARATOR=function(filter,value,filterText){switch(filter){case TextFilter.CONTAINS:return value.indexOf(filterText)>=0;case TextFilter.NOT_CONTAINS:return value.indexOf(filterText)<0;case TextFilter.EQUALS:return value===filterText;case TextFilter.NOT_EQUAL:return value!=filterText;case TextFilter.STARTS_WITH:return 0===value.indexOf(filterText);case TextFilter.ENDS_WITH:var index=value.lastIndexOf(filterText);return index>=0&&index===value.length-filterText.length;default:return console.warn('AG Grid: Unexpected type of filter \"'+filter+'\", it looks like the filter was configured with incorrect Filter Options'),!1}},__decorate$w([RefSelector(\"eValue1\")],TextFilter.prototype,\"eValue1\",void 0),__decorate$w([RefSelector(\"eValue2\")],TextFilter.prototype,\"eValue2\",void 0),TextFilter}(SimpleFilter),__extends$A=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$x=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},TextInputFloatingFilter=function(_super){function TextInputFloatingFilter(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$A(TextInputFloatingFilter,_super),TextInputFloatingFilter.prototype.postConstruct=function(){this.setTemplate('\\n            <div class=\"ag-floating-filter-input\" role=\"presentation\">\\n                <ag-input-text-field ref=\"eFloatingFilterInput\"></ag-input-text-field>\\n            </div>')},TextInputFloatingFilter.prototype.getDefaultDebounceMs=function(){return 500},TextInputFloatingFilter.prototype.onParentModelChanged=function(model,event){this.isEventFromFloatingFilter(event)||(this.setLastTypeFromModel(model),this.eFloatingFilterInput.setValue(this.getTextFromModel(model)),this.setEditable(this.canWeEditAfterModelFromParentFilter(model)))},TextInputFloatingFilter.prototype.init=function(params){_super.prototype.init.call(this,params),this.params=params,this.applyActive=ProvidedFilter.isUseApplyButton(this.params.filterParams);var debounceMs=ProvidedFilter.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),toDebounce=debounce(this.syncUpWithParentFilter.bind(this),debounceMs),filterGui=this.eFloatingFilterInput.getGui();this.addManagedListener(filterGui,\"input\",toDebounce),this.addManagedListener(filterGui,\"keypress\",toDebounce),this.addManagedListener(filterGui,\"keydown\",toDebounce);var columnDef=params.column.getDefinition();columnDef.filterParams&&columnDef.filterParams.filterOptions&&1===columnDef.filterParams.filterOptions.length&&\"inRange\"===columnDef.filterParams.filterOptions[0]&&this.eFloatingFilterInput.setDisabled(!0);var displayName=this.columnController.getDisplayNameForColumn(params.column,\"header\",!0),translate=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterInput.setInputAriaLabel(displayName+\" \"+translate(\"ariaFilterInput\",\"Filter Input\"))},TextInputFloatingFilter.prototype.syncUpWithParentFilter=function(e){var _this=this,enterKeyPressed=isKeyPressed(e,KeyCode.ENTER);if(!this.applyActive||enterKeyPressed){var value=this.eFloatingFilterInput.getValue();this.params.filterParams.trimInput&&(value=TextFilter.trimInput(value),this.eFloatingFilterInput.setValue(value,!0)),this.params.parentFilterInstance((function(filterInstance){filterInstance&&filterInstance.onFloatingFilterChanged(_this.getLastType(),value)}))}},TextInputFloatingFilter.prototype.setEditable=function(editable){this.eFloatingFilterInput.setDisabled(!editable)},__decorate$x([Autowired(\"columnController\")],TextInputFloatingFilter.prototype,\"columnController\",void 0),__decorate$x([RefSelector(\"eFloatingFilterInput\")],TextInputFloatingFilter.prototype,\"eFloatingFilterInput\",void 0),__decorate$x([PostConstruct],TextInputFloatingFilter.prototype,\"postConstruct\",null),TextInputFloatingFilter}(SimpleFloatingFilter),__extends$B=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),NumberFloatingFilter=function(_super){function NumberFloatingFilter(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$B(NumberFloatingFilter,_super),NumberFloatingFilter.prototype.getDefaultFilterOptions=function(){return NumberFilter.DEFAULT_FILTER_OPTIONS},NumberFloatingFilter.prototype.conditionToString=function(condition){return condition.type==SimpleFilter.IN_RANGE?condition.filter+\"-\"+condition.filterTo:null!=condition.filter?\"\"+condition.filter:\"\"+condition.type},NumberFloatingFilter}(TextInputFloatingFilter),__extends$C=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),TextFloatingFilter=function(_super){function TextFloatingFilter(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$C(TextFloatingFilter,_super),TextFloatingFilter.prototype.conditionToString=function(condition){return null!=condition.filter?\"\"+condition.filter:\"\"+condition.type},TextFloatingFilter.prototype.getDefaultFilterOptions=function(){return TextFilter.DEFAULT_FILTER_OPTIONS},TextFloatingFilter}(TextInputFloatingFilter),__extends$D=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$y=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};!function(RegisteredComponentSource){RegisteredComponentSource[RegisteredComponentSource.DEFAULT=0]=\"DEFAULT\",RegisteredComponentSource[RegisteredComponentSource.REGISTERED=1]=\"REGISTERED\"}(RegisteredComponentSource||(RegisteredComponentSource={}));var UserComponentRegistry=function(_super){function UserComponentRegistry(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.agGridDefaults={agDateInput:DefaultDateComponent,agColumnHeader:HeaderComp,agColumnGroupHeader:HeaderGroupComp,agTextColumnFloatingFilter:TextFloatingFilter,agNumberColumnFloatingFilter:NumberFloatingFilter,agDateColumnFloatingFilter:DateFloatingFilter,agAnimateShowChangeCellRenderer:AnimateShowChangeCellRenderer,agAnimateSlideCellRenderer:AnimateSlideCellRenderer,agGroupCellRenderer:GroupCellRenderer,agGroupRowRenderer:GroupCellRenderer,agLoadingCellRenderer:LoadingCellRenderer,agCellEditor:TextCellEditor,agTextCellEditor:TextCellEditor,agSelectCellEditor:SelectCellEditor,agPopupTextCellEditor:PopupTextCellEditor,agPopupSelectCellEditor:PopupSelectCellEditor,agLargeTextCellEditor:LargeTextCellEditor,agTextColumnFilter:TextFilter,agNumberColumnFilter:NumberFilter,agDateColumnFilter:DateFilter,agLoadingOverlay:LoadingOverlayComponent$1,agNoRowsOverlay:NoRowsOverlayComponent$1,agTooltipComponent:TooltipComponent$1},_this.agDeprecatedNames={set:{newComponentName:\"agSetColumnFilter\",propertyHolder:\"filter\"},text:{newComponentName:\"agTextColumnFilter\",propertyHolder:\"filter\"},number:{newComponentName:\"agNumberColumnFilter\",propertyHolder:\"filter\"},date:{newComponentName:\"agDateColumnFilter\",propertyHolder:\"filter\"},group:{newComponentName:\"agGroupCellRenderer\",propertyHolder:\"cellRenderer\"},animateShowChange:{newComponentName:\"agAnimateShowChangeCellRenderer\",propertyHolder:\"cellRenderer\"},animateSlide:{newComponentName:\"agAnimateSlideCellRenderer\",propertyHolder:\"cellRenderer\"},select:{newComponentName:\"agSelectCellEditor\",propertyHolder:\"cellEditor\"},largeText:{newComponentName:\"agLargeTextCellEditor\",propertyHolder:\"cellEditor\"},popupSelect:{newComponentName:\"agPopupSelectCellEditor\",propertyHolder:\"cellEditor\"},popupText:{newComponentName:\"agPopupTextCellEditor\",propertyHolder:\"cellEditor\"},richSelect:{newComponentName:\"agRichSelectCellEditor\",propertyHolder:\"cellEditor\"},headerComponent:{newComponentName:\"agColumnHeader\",propertyHolder:\"headerComponent\"}},_this.jsComponents={},_this.frameworkComponents={},_this}return __extends$D(UserComponentRegistry,_super),UserComponentRegistry.prototype.init=function(){var _this=this;null!=this.gridOptions.components&&iterateObject(this.gridOptions.components,(function(key,component){return _this.registerComponent(key,component)})),null!=this.gridOptions.frameworkComponents&&iterateObject(this.gridOptions.frameworkComponents,(function(key,component){return _this.registerFwComponent(key,component)}))},UserComponentRegistry.prototype.registerDefaultComponent=function(rawName,component){var name=this.translateIfDeprecated(rawName);this.agGridDefaults[name]?console.error(\"Trying to overwrite a default component. You should call registerComponent\"):this.agGridDefaults[name]=component},UserComponentRegistry.prototype.registerComponent=function(rawName,component){var name=this.translateIfDeprecated(rawName);this.frameworkComponents[name]?console.error(\"Trying to register a component that you have already registered for frameworks: \"+name):this.jsComponents[name]=component},UserComponentRegistry.prototype.registerFwComponent=function(rawName,component){var name=this.translateIfDeprecated(rawName);this.jsComponents[name]?console.error(\"Trying to register a component that you have already registered for plain javascript: \"+name):this.frameworkComponents[name]=component},UserComponentRegistry.prototype.retrieve=function(rawName){var name=this.translateIfDeprecated(rawName),frameworkComponent=this.frameworkComponents[name];if(frameworkComponent)return{componentFromFramework:!0,component:frameworkComponent,source:RegisteredComponentSource.REGISTERED};var jsComponent=this.jsComponents[name];if(jsComponent)return{componentFromFramework:!1,component:jsComponent,source:RegisteredComponentSource.REGISTERED};var defaultComponent=this.agGridDefaults[name];return defaultComponent?{componentFromFramework:!1,component:defaultComponent,source:RegisteredComponentSource.DEFAULT}:(Object.keys(this.agGridDefaults).indexOf(name)<0&&console.warn(\"AG Grid: Looking for component [\"+name+\"] but it wasn't found.\"),null)},UserComponentRegistry.prototype.translateIfDeprecated=function(raw){var deprecatedInfo=this.agDeprecatedNames[raw];return null!=deprecatedInfo?(doOnce((function(){console.warn(\"ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename \"+deprecatedInfo.propertyHolder+\":\"+raw+\" to \"+deprecatedInfo.propertyHolder+\":\"+deprecatedInfo.newComponentName)}),\"DEPRECATE_COMPONENT_\"+raw),deprecatedInfo.newComponentName):raw},__decorate$y([Autowired(\"gridOptions\")],UserComponentRegistry.prototype,\"gridOptions\",void 0),__decorate$y([PostConstruct],UserComponentRegistry.prototype,\"init\",null),__decorate$y([Bean(\"userComponentRegistry\")],UserComponentRegistry)}(BeanStub),SideBarDefParser=function(){function SideBarDefParser(){}return SideBarDefParser.parse=function(toParse){if(!toParse)return null;if(!0===toParse)return{toolPanels:[SideBarDefParser.DEFAULT_COLUMN_COMP,SideBarDefParser.DEFAULT_FILTER_COMP],defaultToolPanel:\"columns\"};if(\"string\"==typeof toParse)return SideBarDefParser.parse([toParse]);if(Array.isArray(toParse)){var comps_1=[];return toParse.forEach((function(key){var lookupResult=SideBarDefParser.DEFAULT_BY_KEY[key];lookupResult?comps_1.push(lookupResult):console.warn(\"ag-grid: the key \"+key+\" is not a valid key for specifying a tool panel, valid keys are: \"+Object.keys(SideBarDefParser.DEFAULT_BY_KEY).join(\",\"))})),0===comps_1.length?null:{toolPanels:comps_1,defaultToolPanel:comps_1[0].id}}return{toolPanels:SideBarDefParser.parseComponents(toParse.toolPanels),defaultToolPanel:toParse.defaultToolPanel,hiddenByDefault:toParse.hiddenByDefault,position:toParse.position}},SideBarDefParser.parseComponents=function(from){var result=[];return from?(from.forEach((function(it){var toAdd=null;if(\"string\"==typeof it){var lookupResult=SideBarDefParser.DEFAULT_BY_KEY[it];if(!lookupResult)return void console.warn(\"ag-grid: the key \"+it+\" is not a valid key for specifying a tool panel, valid keys are: \"+Object.keys(SideBarDefParser.DEFAULT_BY_KEY).join(\",\"));toAdd=lookupResult}else toAdd=it;result.push(toAdd)})),result):result},SideBarDefParser.DEFAULT_BY_KEY={columns:SideBarDefParser.DEFAULT_COLUMN_COMP={id:\"columns\",labelDefault:\"Columns\",labelKey:\"columns\",iconKey:\"columns\",toolPanel:\"agColumnsToolPanel\"},filters:SideBarDefParser.DEFAULT_FILTER_COMP={id:\"filters\",labelDefault:\"Filters\",labelKey:\"filters\",iconKey:\"filter\",toolPanel:\"agFiltersToolPanel\"}},SideBarDefParser}(),__decorate$z=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param$3=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},__spreadArrays$3=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r};function isTrue(value){return!0===value||\"true\"===value}function oneOrGreater(value,defaultValue){var valueNumber=parseInt(value,10);return isNumeric(valueNumber)&&valueNumber>0?valueNumber:defaultValue}var RowType,GridOptionsWrapper=function(){function GridOptionsWrapper(){this.propertyEventService=new EventService,this.domDataKey=\"__AG_\"+Math.random().toString(),this.destroyed=!1}var GridOptionsWrapper_1;return GridOptionsWrapper_1=GridOptionsWrapper,GridOptionsWrapper.prototype.agWire=function(gridApi,columnApi){this.gridOptions.api=gridApi,this.gridOptions.columnApi=columnApi,this.checkForDeprecated(),this.checkForViolations()},GridOptionsWrapper.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.removeEventListener(GridOptionsWrapper_1.PROP_DOM_LAYOUT,this.updateLayoutClassesListener),this.destroyed=!0},GridOptionsWrapper.prototype.init=function(){var _this=this;!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),null!=this.gridOptions.sideBar&&(this.gridOptions.sideBar=SideBarDefParser.parse(this.gridOptions.sideBar));var async=this.useAsyncEvents();if(this.eventService.addGlobalListener(this.globalEventHandler.bind(this),async),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn(\"AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work\"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn(\"AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense\"),this.isRowModelServerSide()&&console.warn(\"AG Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.\")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn(\"AG Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to us these together on our support forum either you will get the same answer!\"),this.isRowModelServerSide()){var msg=function(prop){return\"AG Grid: '\"+prop+\"' is not supported on the Server-Side Row Model\"};exists(this.gridOptions.groupDefaultExpanded)&&console.warn(msg(\"groupDefaultExpanded\")),exists(this.gridOptions.groupDefaultExpanded)&&console.warn(msg(\"groupIncludeFooter\")),exists(this.gridOptions.groupDefaultExpanded)&&console.warn(msg(\"groupIncludeTotalFooter\"))}this.isEnableRangeSelection()&&ModuleRegistry.assertRegistered(exports.ModuleNames.RangeSelectionModule,\"enableRangeSelection\"),this.isEnableRangeSelection()||!this.isEnableRangeHandle()&&!this.isEnableFillHandle()||console.warn(\"AG Grid: 'enableRangeHandle' and 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true\");var warnOfDeprecaredIcon=function(name){_this.gridOptions.icons&&_this.gridOptions.icons[name]&&console.warn(\"gridOptions.icons.\"+name+\" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/\")};warnOfDeprecaredIcon(\"radioButtonOff\"),warnOfDeprecaredIcon(\"radioButtonOn\"),warnOfDeprecaredIcon(\"checkboxChecked\"),warnOfDeprecaredIcon(\"checkboxUnchecked\"),warnOfDeprecaredIcon(\"checkboxIndeterminate\"),this.getScrollbarWidth()},GridOptionsWrapper.prototype.checkColumnDefProperties=function(){var _this=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach((function(colDef){var userProperties=Object.getOwnPropertyNames(colDef),validProperties=__spreadArrays$3(ColDefUtil.ALL_PROPERTIES,ColDefUtil.FRAMEWORK_PROPERTIES);_this.checkProperties(userProperties,validProperties,validProperties,\"colDef\",\"https://www.ag-grid.com/javascript-grid-column-properties/\")}))},GridOptionsWrapper.prototype.checkGridOptionsProperties=function(){var userProperties=Object.getOwnPropertyNames(this.gridOptions),validProperties=__spreadArrays$3(PropertyKeys.ALL_PROPERTIES,PropertyKeys.FRAMEWORK_PROPERTIES,values(Events).map((function(event){return ComponentUtil.getCallbackForEvent(event)}))),validPropertiesAndExceptions=__spreadArrays$3(validProperties,[\"api\",\"columnApi\"]);this.checkProperties(userProperties,validPropertiesAndExceptions,validProperties,\"gridOptions\",\"https://www.ag-grid.com/javascript-grid-properties/\")},GridOptionsWrapper.prototype.checkProperties=function(userProperties,validPropertiesAndExceptions,validProperties,containerName,docsUrl){var invalidProperties=fuzzyCheckStrings(userProperties,validPropertiesAndExceptions,validProperties);iterateObject(invalidProperties,(function(key,value){console.warn(\"ag-grid: invalid \"+containerName+\" property '\"+key+\"' did you mean any of these: \"+value.slice(0,8).join(\", \"))})),Object.keys(invalidProperties).length>0&&console.warn(\"ag-grid: to see all the valid \"+containerName+\" properties please check: \"+docsUrl)},GridOptionsWrapper.prototype.getDomDataKey=function(){return this.domDataKey},GridOptionsWrapper.prototype.getDomData=function(element,key){var domData=element[this.getDomDataKey()];return domData?domData[key]:void 0},GridOptionsWrapper.prototype.setDomData=function(element,key,value){var domDataKey=this.getDomDataKey(),domData=element[domDataKey];missing(domData)&&(element[domDataKey]=domData={}),domData[key]=value},GridOptionsWrapper.prototype.isRowSelection=function(){return\"single\"===this.gridOptions.rowSelection||\"multiple\"===this.gridOptions.rowSelection},GridOptionsWrapper.prototype.isSuppressRowDeselection=function(){return isTrue(this.gridOptions.suppressRowDeselection)},GridOptionsWrapper.prototype.isRowSelectionMulti=function(){return\"multiple\"===this.gridOptions.rowSelection},GridOptionsWrapper.prototype.isRowMultiSelectWithClick=function(){return isTrue(this.gridOptions.rowMultiSelectWithClick)},GridOptionsWrapper.prototype.getContext=function(){return this.gridOptions.context},GridOptionsWrapper.prototype.isPivotMode=function(){return isTrue(this.gridOptions.pivotMode)},GridOptionsWrapper.prototype.isSuppressExpandablePivotGroups=function(){return isTrue(this.gridOptions.suppressExpandablePivotGroups)},GridOptionsWrapper.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},GridOptionsWrapper.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},GridOptionsWrapper.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===Constants.ROW_MODEL_TYPE_INFINITE},GridOptionsWrapper.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===Constants.ROW_MODEL_TYPE_VIEWPORT},GridOptionsWrapper.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===Constants.ROW_MODEL_TYPE_SERVER_SIDE},GridOptionsWrapper.prototype.isRowModelDefault=function(){return missing(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===Constants.ROW_MODEL_TYPE_CLIENT_SIDE},GridOptionsWrapper.prototype.isFullRowEdit=function(){return\"fullRow\"===this.gridOptions.editType},GridOptionsWrapper.prototype.isSuppressFocusAfterRefresh=function(){return isTrue(this.gridOptions.suppressFocusAfterRefresh)},GridOptionsWrapper.prototype.isSuppressBrowserResizeObserver=function(){return isTrue(this.gridOptions.suppressBrowserResizeObserver)},GridOptionsWrapper.prototype.isSuppressMaintainUnsortedOrder=function(){return isTrue(this.gridOptions.suppressMaintainUnsortedOrder)},GridOptionsWrapper.prototype.isSuppressClearOnFillReduction=function(){return isTrue(this.gridOptions.suppressClearOnFillReduction)},GridOptionsWrapper.prototype.isShowToolPanel=function(){return isTrue(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},GridOptionsWrapper.prototype.getSideBar=function(){return this.gridOptions.sideBar},GridOptionsWrapper.prototype.isSuppressTouch=function(){return isTrue(this.gridOptions.suppressTouch)},GridOptionsWrapper.prototype.isApplyColumnDefOrder=function(){return isTrue(this.gridOptions.applyColumnDefOrder)},GridOptionsWrapper.prototype.isSuppressRowTransform=function(){return isTrue(this.gridOptions.suppressRowTransform)},GridOptionsWrapper.prototype.isSuppressColumnStateEvents=function(){return isTrue(this.gridOptions.suppressColumnStateEvents)},GridOptionsWrapper.prototype.isAllowDragFromColumnsToolPanel=function(){return isTrue(this.gridOptions.allowDragFromColumnsToolPanel)},GridOptionsWrapper.prototype.useAsyncEvents=function(){return!isTrue(this.gridOptions.suppressAsyncEvents)},GridOptionsWrapper.prototype.isEnableCellChangeFlash=function(){return isTrue(this.gridOptions.enableCellChangeFlash)},GridOptionsWrapper.prototype.getCellFlashDelay=function(){return this.gridOptions.cellFlashDelay||500},GridOptionsWrapper.prototype.getCellFadeDelay=function(){return this.gridOptions.cellFadeDelay||1e3},GridOptionsWrapper.prototype.isGroupSelectsChildren=function(){var result=isTrue(this.gridOptions.groupSelectsChildren);return result&&this.isTreeData()?(console.warn(\"AG Grid: groupSelectsChildren does not work with tree data\"),!1):result},GridOptionsWrapper.prototype.isSuppressRowHoverHighlight=function(){return isTrue(this.gridOptions.suppressRowHoverHighlight)},GridOptionsWrapper.prototype.isGroupSelectsFiltered=function(){return isTrue(this.gridOptions.groupSelectsFiltered)},GridOptionsWrapper.prototype.isGroupHideOpenParents=function(){return isTrue(this.gridOptions.groupHideOpenParents)},GridOptionsWrapper.prototype.isGroupMultiAutoColumn=function(){return isTrue(this.gridOptions.groupMultiAutoColumn)||isTrue(this.gridOptions.groupHideOpenParents)},GridOptionsWrapper.prototype.isGroupRemoveSingleChildren=function(){return isTrue(this.gridOptions.groupRemoveSingleChildren)},GridOptionsWrapper.prototype.isGroupRemoveLowestSingleChildren=function(){return isTrue(this.gridOptions.groupRemoveLowestSingleChildren)},GridOptionsWrapper.prototype.isGroupIncludeFooter=function(){return isTrue(this.gridOptions.groupIncludeFooter)},GridOptionsWrapper.prototype.isGroupIncludeTotalFooter=function(){return isTrue(this.gridOptions.groupIncludeTotalFooter)},GridOptionsWrapper.prototype.isGroupSuppressBlankHeader=function(){return isTrue(this.gridOptions.groupSuppressBlankHeader)},GridOptionsWrapper.prototype.isSuppressRowClickSelection=function(){return isTrue(this.gridOptions.suppressRowClickSelection)},GridOptionsWrapper.prototype.isSuppressCellSelection=function(){return isTrue(this.gridOptions.suppressCellSelection)},GridOptionsWrapper.prototype.isSuppressMultiSort=function(){return isTrue(this.gridOptions.suppressMultiSort)},GridOptionsWrapper.prototype.isMultiSortKeyCtrl=function(){return\"ctrl\"===this.gridOptions.multiSortKey},GridOptionsWrapper.prototype.isGroupSuppressAutoColumn=function(){return isTrue(this.gridOptions.groupSuppressAutoColumn)},GridOptionsWrapper.prototype.isPivotSuppressAutoColumn=function(){return isTrue(this.gridOptions.pivotSuppressAutoColumn)},GridOptionsWrapper.prototype.isSuppressDragLeaveHidesColumns=function(){return isTrue(this.gridOptions.suppressDragLeaveHidesColumns)},GridOptionsWrapper.prototype.isSuppressScrollOnNewData=function(){return isTrue(this.gridOptions.suppressScrollOnNewData)},GridOptionsWrapper.prototype.isRowDragManaged=function(){return isTrue(this.gridOptions.rowDragManaged)},GridOptionsWrapper.prototype.isSuppressRowDrag=function(){return isTrue(this.gridOptions.suppressRowDrag)},GridOptionsWrapper.prototype.isSuppressMoveWhenRowDragging=function(){return isTrue(this.gridOptions.suppressMoveWhenRowDragging)},GridOptionsWrapper.prototype.isEnableMultiRowDragging=function(){return isTrue(this.gridOptions.enableMultiRowDragging)},GridOptionsWrapper.prototype.getDomLayout=function(){var domLayout=this.gridOptions.domLayout||Constants.DOM_LAYOUT_NORMAL;return-1===[Constants.DOM_LAYOUT_PRINT,Constants.DOM_LAYOUT_AUTO_HEIGHT,Constants.DOM_LAYOUT_NORMAL].indexOf(domLayout)?(doOnce((function(){return console.warn(\"AG Grid: \"+domLayout+\" is not valid for DOM Layout, valid values are \"+Constants.DOM_LAYOUT_NORMAL+\", \"+Constants.DOM_LAYOUT_AUTO_HEIGHT+\" and \"+Constants.DOM_LAYOUT_PRINT)}),\"warn about dom layout values\"),Constants.DOM_LAYOUT_NORMAL):domLayout},GridOptionsWrapper.prototype.isSuppressHorizontalScroll=function(){return isTrue(this.gridOptions.suppressHorizontalScroll)},GridOptionsWrapper.prototype.isSuppressMaxRenderedRowRestriction=function(){return isTrue(this.gridOptions.suppressMaxRenderedRowRestriction)},GridOptionsWrapper.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return isTrue(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},GridOptionsWrapper.prototype.isAlwaysShowHorizontalScroll=function(){return isTrue(this.gridOptions.alwaysShowHorizontalScroll)},GridOptionsWrapper.prototype.isAlwaysShowVerticalScroll=function(){return isTrue(this.gridOptions.alwaysShowVerticalScroll)},GridOptionsWrapper.prototype.isDebounceVerticalScrollbar=function(){return isTrue(this.gridOptions.debounceVerticalScrollbar)},GridOptionsWrapper.prototype.isSuppressLoadingOverlay=function(){return isTrue(this.gridOptions.suppressLoadingOverlay)},GridOptionsWrapper.prototype.isSuppressNoRowsOverlay=function(){return isTrue(this.gridOptions.suppressNoRowsOverlay)},GridOptionsWrapper.prototype.isSuppressFieldDotNotation=function(){return isTrue(this.gridOptions.suppressFieldDotNotation)},GridOptionsWrapper.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},GridOptionsWrapper.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},GridOptionsWrapper.prototype.isFunctionsPassive=function(){return isTrue(this.gridOptions.functionsPassive)},GridOptionsWrapper.prototype.isSuppressChangeDetection=function(){return isTrue(this.gridOptions.suppressChangeDetection)},GridOptionsWrapper.prototype.isSuppressAnimationFrame=function(){return isTrue(this.gridOptions.suppressAnimationFrame)},GridOptionsWrapper.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},GridOptionsWrapper.prototype.isCacheQuickFilter=function(){return isTrue(this.gridOptions.cacheQuickFilter)},GridOptionsWrapper.prototype.isUnSortIcon=function(){return isTrue(this.gridOptions.unSortIcon)},GridOptionsWrapper.prototype.isSuppressMenuHide=function(){return isTrue(this.gridOptions.suppressMenuHide)},GridOptionsWrapper.prototype.isEnterMovesDownAfterEdit=function(){return isTrue(this.gridOptions.enterMovesDownAfterEdit)},GridOptionsWrapper.prototype.isEnterMovesDown=function(){return isTrue(this.gridOptions.enterMovesDown)},GridOptionsWrapper.prototype.isUndoRedoCellEditing=function(){return isTrue(this.gridOptions.undoRedoCellEditing)},GridOptionsWrapper.prototype.getUndoRedoCellEditingLimit=function(){return this.gridOptions.undoRedoCellEditingLimit},GridOptionsWrapper.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},GridOptionsWrapper.prototype.getRowClass=function(){return this.gridOptions.rowClass},GridOptionsWrapper.prototype.getRowStyleFunc=function(){return this.gridOptions.getRowStyle},GridOptionsWrapper.prototype.getRowClassFunc=function(){return this.gridOptions.getRowClass},GridOptionsWrapper.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},GridOptionsWrapper.prototype.getServerSideStoreType=function(){return this.gridOptions.serverSideStoreType},GridOptionsWrapper.prototype.getServerSideStoreParamsFunc=function(){return this.gridOptions.getServerSideStoreParams},GridOptionsWrapper.prototype.getCreateChartContainerFunc=function(){return this.gridOptions.createChartContainer},GridOptionsWrapper.prototype.getPopupParent=function(){return this.gridOptions.popupParent},GridOptionsWrapper.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},GridOptionsWrapper.prototype.getPostProcessPopupFunc=function(){return this.gridOptions.postProcessPopup},GridOptionsWrapper.prototype.getPaginationNumberFormatterFunc=function(){return this.gridOptions.paginationNumberFormatter},GridOptionsWrapper.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},GridOptionsWrapper.prototype.getIsApplyServerSideTransactionFunc=function(){return this.gridOptions.isApplyServerSideTransaction},GridOptionsWrapper.prototype.getDefaultGroupSortComparator=function(){return this.gridOptions.defaultGroupSortComparator},GridOptionsWrapper.prototype.getIsFullWidthCellFunc=function(){return this.gridOptions.isFullWidthCell},GridOptionsWrapper.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},GridOptionsWrapper.prototype.isEmbedFullWidthRows=function(){return isTrue(this.gridOptions.embedFullWidthRows)||isTrue(this.gridOptions.deprecatedEmbedFullWidthRows)},GridOptionsWrapper.prototype.isDetailRowAutoHeight=function(){return isTrue(this.gridOptions.detailRowAutoHeight)},GridOptionsWrapper.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},GridOptionsWrapper.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},GridOptionsWrapper.prototype.getApi=function(){return this.gridOptions.api},GridOptionsWrapper.prototype.getColumnApi=function(){return this.gridOptions.columnApi},GridOptionsWrapper.prototype.isImmutableData=function(){return isTrue(this.gridOptions.immutableData)},GridOptionsWrapper.prototype.isEnsureDomOrder=function(){return isTrue(this.gridOptions.ensureDomOrder)},GridOptionsWrapper.prototype.isEnableCharts=function(){return!!isTrue(this.gridOptions.enableCharts)&&ModuleRegistry.assertRegistered(exports.ModuleNames.GridChartsModule,\"enableCharts\")},GridOptionsWrapper.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},GridOptionsWrapper.prototype.isSingleClickEdit=function(){return isTrue(this.gridOptions.singleClickEdit)},GridOptionsWrapper.prototype.isSuppressClickEdit=function(){return isTrue(this.gridOptions.suppressClickEdit)},GridOptionsWrapper.prototype.isStopEditingWhenCellsLoseFocus=function(){return isTrue(this.gridOptions.stopEditingWhenCellsLoseFocus)},GridOptionsWrapper.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},GridOptionsWrapper.prototype.getMaxConcurrentDatasourceRequests=function(){return this.gridOptions.maxConcurrentDatasourceRequests},GridOptionsWrapper.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},GridOptionsWrapper.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},GridOptionsWrapper.prototype.getPaginationPageSize=function(){return\"number\"==typeof(value=this.gridOptions.paginationPageSize)?value:\"string\"==typeof value?parseInt(value,10):void 0;var value},GridOptionsWrapper.prototype.isPaginateChildRows=function(){return!(!this.isGroupRemoveSingleChildren()&&!this.isGroupRemoveLowestSingleChildren())||isTrue(this.gridOptions.paginateChildRows)},GridOptionsWrapper.prototype.getCacheBlockSize=function(){return oneOrGreater(this.gridOptions.cacheBlockSize)},GridOptionsWrapper.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},GridOptionsWrapper.prototype.isPurgeClosedRowNodes=function(){return isTrue(this.gridOptions.purgeClosedRowNodes)},GridOptionsWrapper.prototype.isSuppressPaginationPanel=function(){return isTrue(this.gridOptions.suppressPaginationPanel)},GridOptionsWrapper.prototype.getRowData=function(){return this.gridOptions.rowData},GridOptionsWrapper.prototype.isGroupUseEntireRow=function(pivotMode){return!pivotMode&&isTrue(this.gridOptions.groupUseEntireRow)},GridOptionsWrapper.prototype.isEnableRtl=function(){return isTrue(this.gridOptions.enableRtl)},GridOptionsWrapper.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},GridOptionsWrapper.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},GridOptionsWrapper.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},GridOptionsWrapper.prototype.isAngularCompileRows=function(){return isTrue(this.gridOptions.angularCompileRows)},GridOptionsWrapper.prototype.isAngularCompileFilters=function(){return isTrue(this.gridOptions.angularCompileFilters)},GridOptionsWrapper.prototype.isDebug=function(){return isTrue(this.gridOptions.debug)},GridOptionsWrapper.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},GridOptionsWrapper.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},GridOptionsWrapper.prototype.getDatasource=function(){return this.gridOptions.datasource},GridOptionsWrapper.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},GridOptionsWrapper.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},GridOptionsWrapper.prototype.isAccentedSort=function(){return isTrue(this.gridOptions.accentedSort)},GridOptionsWrapper.prototype.isEnableBrowserTooltips=function(){return isTrue(this.gridOptions.enableBrowserTooltips)},GridOptionsWrapper.prototype.isEnableCellExpressions=function(){return isTrue(this.gridOptions.enableCellExpressions)},GridOptionsWrapper.prototype.isEnableGroupEdit=function(){return isTrue(this.gridOptions.enableGroupEdit)},GridOptionsWrapper.prototype.isSuppressMiddleClickScrolls=function(){return isTrue(this.gridOptions.suppressMiddleClickScrolls)},GridOptionsWrapper.prototype.isPreventDefaultOnContextMenu=function(){return isTrue(this.gridOptions.preventDefaultOnContextMenu)},GridOptionsWrapper.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return isTrue(this.gridOptions.suppressPreventDefaultOnMouseWheel)},GridOptionsWrapper.prototype.isSuppressColumnVirtualisation=function(){return isTrue(this.gridOptions.suppressColumnVirtualisation)},GridOptionsWrapper.prototype.isSuppressContextMenu=function(){return isTrue(this.gridOptions.suppressContextMenu)},GridOptionsWrapper.prototype.isAllowContextMenuWithControlKey=function(){return isTrue(this.gridOptions.allowContextMenuWithControlKey)},GridOptionsWrapper.prototype.isSuppressCopyRowsToClipboard=function(){return isTrue(this.gridOptions.suppressCopyRowsToClipboard)},GridOptionsWrapper.prototype.isCopyHeadersToClipboard=function(){return isTrue(this.gridOptions.copyHeadersToClipboard)},GridOptionsWrapper.prototype.isSuppressClipboardPaste=function(){return isTrue(this.gridOptions.suppressClipboardPaste)},GridOptionsWrapper.prototype.isSuppressLastEmptyLineOnPaste=function(){return isTrue(this.gridOptions.suppressLastEmptyLineOnPaste)},GridOptionsWrapper.prototype.isPagination=function(){return isTrue(this.gridOptions.pagination)},GridOptionsWrapper.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return isTrue(this.gridOptions.suppressEnterpriseResetOnNewColumns)},GridOptionsWrapper.prototype.getProcessDataFromClipboardFunc=function(){return this.gridOptions.processDataFromClipboard},GridOptionsWrapper.prototype.getAsyncTransactionWaitMillis=function(){return exists(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:Constants.BATCH_WAIT_MILLIS},GridOptionsWrapper.prototype.isSuppressMovableColumns=function(){return isTrue(this.gridOptions.suppressMovableColumns)},GridOptionsWrapper.prototype.isAnimateRows=function(){return!this.isEnsureDomOrder()&&isTrue(this.gridOptions.animateRows)},GridOptionsWrapper.prototype.isSuppressColumnMoveAnimation=function(){return isTrue(this.gridOptions.suppressColumnMoveAnimation)},GridOptionsWrapper.prototype.isSuppressAggFuncInHeader=function(){return isTrue(this.gridOptions.suppressAggFuncInHeader)},GridOptionsWrapper.prototype.isSuppressAggAtRootLevel=function(){return isTrue(this.gridOptions.suppressAggAtRootLevel)},GridOptionsWrapper.prototype.isSuppressAggFilteredOnly=function(){return isTrue(this.gridOptions.suppressAggFilteredOnly)},GridOptionsWrapper.prototype.isShowOpenedGroup=function(){return isTrue(this.gridOptions.showOpenedGroup)},GridOptionsWrapper.prototype.isEnableRangeSelection=function(){return ModuleRegistry.isRegistered(exports.ModuleNames.RangeSelectionModule)&&isTrue(this.gridOptions.enableRangeSelection)},GridOptionsWrapper.prototype.isEnableRangeHandle=function(){return isTrue(this.gridOptions.enableRangeHandle)},GridOptionsWrapper.prototype.isEnableFillHandle=function(){return isTrue(this.gridOptions.enableFillHandle)},GridOptionsWrapper.prototype.getFillHandleDirection=function(){var direction=this.gridOptions.fillHandleDirection;return direction?\"x\"!==direction&&\"y\"!==direction&&\"xy\"!==direction?(doOnce((function(){return console.warn(\"AG Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.\")}),\"warn invalid fill direction\"),\"xy\"):direction:\"xy\"},GridOptionsWrapper.prototype.getFillOperation=function(){return this.gridOptions.fillOperation},GridOptionsWrapper.prototype.isSuppressMultiRangeSelection=function(){return isTrue(this.gridOptions.suppressMultiRangeSelection)},GridOptionsWrapper.prototype.isPaginationAutoPageSize=function(){return isTrue(this.gridOptions.paginationAutoPageSize)},GridOptionsWrapper.prototype.isRememberGroupStateWhenNewData=function(){return isTrue(this.gridOptions.rememberGroupStateWhenNewData)},GridOptionsWrapper.prototype.getIcons=function(){return this.gridOptions.icons},GridOptionsWrapper.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},GridOptionsWrapper.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},GridOptionsWrapper.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},GridOptionsWrapper.prototype.isMasterDetail=function(){return!!isTrue(this.gridOptions.masterDetail)&&ModuleRegistry.assertRegistered(exports.ModuleNames.MasterDetailModule,\"masterDetail\")},GridOptionsWrapper.prototype.isKeepDetailRows=function(){return isTrue(this.gridOptions.keepDetailRows)},GridOptionsWrapper.prototype.getKeepDetailRowsCount=function(){var keepDetailRowsCount=this.gridOptions.keepDetailRowsCount;return exists(keepDetailRowsCount)&&keepDetailRowsCount>0?this.gridOptions.keepDetailRowsCount:10},GridOptionsWrapper.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},GridOptionsWrapper.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},GridOptionsWrapper.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},GridOptionsWrapper.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},GridOptionsWrapper.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},GridOptionsWrapper.prototype.isSuppressAutoSize=function(){return isTrue(this.gridOptions.suppressAutoSize)},GridOptionsWrapper.prototype.isEnableCellTextSelection=function(){return isTrue(this.gridOptions.enableCellTextSelection)},GridOptionsWrapper.prototype.isSuppressParentsInRowNodes=function(){return isTrue(this.gridOptions.suppressParentsInRowNodes)},GridOptionsWrapper.prototype.isSuppressClipboardApi=function(){return isTrue(this.gridOptions.suppressClipboardApi)},GridOptionsWrapper.prototype.isFunctionsReadOnly=function(){return isTrue(this.gridOptions.functionsReadOnly)},GridOptionsWrapper.prototype.isFloatingFilter=function(){return this.gridOptions.floatingFilter},GridOptionsWrapper.prototype.isEnableCellTextSelect=function(){return isTrue(this.gridOptions.enableCellTextSelection)},GridOptionsWrapper.prototype.isEnableOldSetFilterModel=function(){return isTrue(this.gridOptions.enableOldSetFilterModel)},GridOptionsWrapper.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},GridOptionsWrapper.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},GridOptionsWrapper.prototype.getDefaultExportParams=function(type){return this.gridOptions.defaultExportParams?(console.warn(\"AG Grid: Since v25.2 `defaultExportParams`  has been replaced by `default\"+capitalise(type)+\"ExportParams`'\"),this.gridOptions.defaultExportParams):\"csv\"===type&&this.gridOptions.defaultCsvExportParams?this.gridOptions.defaultCsvExportParams:\"excel\"===type&&this.gridOptions.defaultExcelExportParams?this.gridOptions.defaultExcelExportParams:void 0},GridOptionsWrapper.prototype.isSuppressCsvExport=function(){return isTrue(this.gridOptions.suppressCsvExport)},GridOptionsWrapper.prototype.isAllowShowChangeAfterFilter=function(){return isTrue(this.gridOptions.allowShowChangeAfterFilter)},GridOptionsWrapper.prototype.isSuppressExcelExport=function(){return isTrue(this.gridOptions.suppressExcelExport)},GridOptionsWrapper.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return isTrue(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},GridOptionsWrapper.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},GridOptionsWrapper.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},GridOptionsWrapper.prototype.getIsServerSideGroupOpenByDefaultFunc=function(){return this.gridOptions.isServerSideGroupOpenByDefault},GridOptionsWrapper.prototype.getIsGroupOpenByDefaultFunc=function(){return this.gridOptions.isGroupOpenByDefault},GridOptionsWrapper.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},GridOptionsWrapper.prototype.getGroupRowAggNodesFunc=function(){return this.gridOptions.groupRowAggNodes},GridOptionsWrapper.prototype.getContextMenuItemsFunc=function(){return this.gridOptions.getContextMenuItems},GridOptionsWrapper.prototype.getMainMenuItemsFunc=function(){return this.gridOptions.getMainMenuItems},GridOptionsWrapper.prototype.getRowNodeIdFunc=function(){return this.gridOptions.getRowNodeId},GridOptionsWrapper.prototype.getNavigateToNextHeaderFunc=function(){return this.gridOptions.navigateToNextHeader},GridOptionsWrapper.prototype.getTabToNextHeaderFunc=function(){return this.gridOptions.tabToNextHeader},GridOptionsWrapper.prototype.getNavigateToNextCellFunc=function(){return this.gridOptions.navigateToNextCell},GridOptionsWrapper.prototype.getTabToNextCellFunc=function(){return this.gridOptions.tabToNextCell},GridOptionsWrapper.prototype.getGridTabIndex=function(){return(this.gridOptions.tabIndex||0).toString()},GridOptionsWrapper.prototype.isTreeData=function(){return!!isTrue(this.gridOptions.treeData)&&ModuleRegistry.assertRegistered(exports.ModuleNames.RowGroupingModule,\"Tree Data\")},GridOptionsWrapper.prototype.isValueCache=function(){return isTrue(this.gridOptions.valueCache)},GridOptionsWrapper.prototype.isValueCacheNeverExpires=function(){return isTrue(this.gridOptions.valueCacheNeverExpires)},GridOptionsWrapper.prototype.isDeltaSort=function(){return isTrue(this.gridOptions.deltaSort)},GridOptionsWrapper.prototype.isAggregateOnlyChangedColumns=function(){return isTrue(this.gridOptions.aggregateOnlyChangedColumns)},GridOptionsWrapper.prototype.getProcessSecondaryColDefFunc=function(){return this.gridOptions.processSecondaryColDef},GridOptionsWrapper.prototype.getProcessSecondaryColGroupDefFunc=function(){return this.gridOptions.processSecondaryColGroupDef},GridOptionsWrapper.prototype.getSendToClipboardFunc=function(){return this.gridOptions.sendToClipboard},GridOptionsWrapper.prototype.getProcessRowPostCreateFunc=function(){return this.gridOptions.processRowPostCreate},GridOptionsWrapper.prototype.getProcessCellForClipboardFunc=function(){return this.gridOptions.processCellForClipboard},GridOptionsWrapper.prototype.getProcessHeaderForClipboardFunc=function(){return this.gridOptions.processHeaderForClipboard},GridOptionsWrapper.prototype.getProcessCellFromClipboardFunc=function(){return this.gridOptions.processCellFromClipboard},GridOptionsWrapper.prototype.getViewportRowModelPageSize=function(){return oneOrGreater(this.gridOptions.viewportRowModelPageSize,5)},GridOptionsWrapper.prototype.getViewportRowModelBufferSize=function(){return(value=this.gridOptions.viewportRowModelBufferSize)>=0?value:5;var value},GridOptionsWrapper.prototype.isServerSideSortingAlwaysResets=function(){return isTrue(this.gridOptions.serverSideSortingAlwaysResets)},GridOptionsWrapper.prototype.isServerSideFilteringAlwaysResets=function(){return isTrue(this.gridOptions.serverSideFilteringAlwaysResets)},GridOptionsWrapper.prototype.getPostSortFunc=function(){return this.gridOptions.postSort},GridOptionsWrapper.prototype.getChartToolbarItemsFunc=function(){return this.gridOptions.getChartToolbarItems},GridOptionsWrapper.prototype.getChartThemeOverrides=function(){return this.gridOptions.chartThemeOverrides},GridOptionsWrapper.prototype.getCustomChartThemes=function(){return this.gridOptions.customChartThemes},GridOptionsWrapper.prototype.getChartThemes=function(){return this.gridOptions.chartThemes||[\"ag-default\",\"ag-material\",\"ag-pastel\",\"ag-vivid\",\"ag-solar\"]},GridOptionsWrapper.prototype.getProcessChartOptionsFunc=function(){return this.gridOptions.processChartOptions},GridOptionsWrapper.prototype.getClipboardDeliminator=function(){return exists(this.gridOptions.clipboardDeliminator)?this.gridOptions.clipboardDeliminator:\"\\t\"},GridOptionsWrapper.prototype.setProperty=function(key,value,force){void 0===force&&(force=!1);var gridOptionsNoType=this.gridOptions,previousValue=gridOptionsNoType[key];(force||previousValue!==value)&&(gridOptionsNoType[key]=value,this.propertyEventService.dispatchEvent({type:key,currentValue:value,previousValue:previousValue}))},GridOptionsWrapper.prototype.addEventListener=function(key,listener){this.propertyEventService.addEventListener(key,listener)},GridOptionsWrapper.prototype.removeEventListener=function(key,listener){this.propertyEventService.removeEventListener(key,listener)},GridOptionsWrapper.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},GridOptionsWrapper.prototype.getAutoSizePadding=function(){var value=this.gridOptions.autoSizePadding;return null!=value&&value>=0?value:20},GridOptionsWrapper.prototype.getHeaderHeight=function(){return\"number\"==typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:this.getFromTheme(25,\"headerHeight\")},GridOptionsWrapper.prototype.getFloatingFiltersHeight=function(){return\"number\"==typeof this.gridOptions.floatingFiltersHeight?this.gridOptions.floatingFiltersHeight:this.getFromTheme(25,\"headerHeight\")},GridOptionsWrapper.prototype.getGroupHeaderHeight=function(){return\"number\"==typeof this.gridOptions.groupHeaderHeight?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},GridOptionsWrapper.prototype.getPivotHeaderHeight=function(){return\"number\"==typeof this.gridOptions.pivotHeaderHeight?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},GridOptionsWrapper.prototype.getPivotGroupHeaderHeight=function(){return\"number\"==typeof this.gridOptions.pivotGroupHeaderHeight?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},GridOptionsWrapper.prototype.isExternalFilterPresent=function(){return\"function\"==typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent()},GridOptionsWrapper.prototype.doesExternalFilterPass=function(node){return\"function\"==typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(node)},GridOptionsWrapper.prototype.getTooltipShowDelay=function(){var tooltipShowDelay=this.gridOptions.tooltipShowDelay;return exists(tooltipShowDelay)?(tooltipShowDelay<0&&console.warn(\"ag-grid: tooltipShowDelay should not be lower than 0\"),Math.max(200,tooltipShowDelay)):null},GridOptionsWrapper.prototype.isTooltipMouseTrack=function(){return isTrue(this.gridOptions.tooltipMouseTrack)},GridOptionsWrapper.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(){return isTrue(this.gridOptions.suppressModelUpdateAfterUpdateTransaction)},GridOptionsWrapper.prototype.getDocument=function(){var result=null;return this.gridOptions.getDocument&&exists(this.gridOptions.getDocument)&&(result=this.gridOptions.getDocument()),result&&exists(result)?result:document},GridOptionsWrapper.prototype.getMinColWidth=function(){var minColWidth=this.gridOptions.minColWidth;if(exists(minColWidth)&&minColWidth>GridOptionsWrapper_1.MIN_COL_WIDTH)return this.gridOptions.minColWidth;var measuredMin=this.getFromTheme(null,\"headerCellMinWidth\");return exists(measuredMin)?Math.max(measuredMin,GridOptionsWrapper_1.MIN_COL_WIDTH):GridOptionsWrapper_1.MIN_COL_WIDTH},GridOptionsWrapper.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>GridOptionsWrapper_1.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},GridOptionsWrapper.prototype.getColWidth=function(){return\"number\"!=typeof this.gridOptions.colWidth||this.gridOptions.colWidth<GridOptionsWrapper_1.MIN_COL_WIDTH?200:this.gridOptions.colWidth},GridOptionsWrapper.prototype.getRowBuffer=function(){var rowBuffer=this.gridOptions.rowBuffer;return\"number\"==typeof rowBuffer?rowBuffer<0&&(doOnce((function(){return console.warn(\"AG Grid: rowBuffer should not be negative\")}),\"warn rowBuffer negative\"),this.gridOptions.rowBuffer=rowBuffer=0):rowBuffer=Constants.ROW_BUFFER_SIZE,rowBuffer},GridOptionsWrapper.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.getRowHeightAsNumber()},GridOptionsWrapper.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var scrollbarWidth=\"number\"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:getScrollbarWidth();null!=scrollbarWidth&&(this.scrollbarWidth=scrollbarWidth,this.eventService.dispatchEvent({type:Events.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},GridOptionsWrapper.prototype.checkForDeprecated=function(){var options=this.gridOptions;options.deprecatedEmbedFullWidthRows&&console.warn(\"AG Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows.\"),options.enableOldSetFilterModel&&console.warn(\"AG Grid: since v22.x, enableOldSetFilterModel is deprecated. Please move to the new Set Filter Model as the old one may not be supported in v23 onwards.\"),options.floatingFilter&&(console.warn(\"AG Grid: since v23.1, floatingFilter on the gridOptions is deprecated. Please use floatingFilter on the colDef instead.\"),options.defaultColDef||(options.defaultColDef={}),null==options.defaultColDef.floatingFilter&&(options.defaultColDef.floatingFilter=!0)),options.rowDeselection&&console.warn(\"AG Grid: since v24.x, rowDeselection is deprecated and the behaviour is true by default. Please use `suppressRowDeselection` to prevent rows from being deselected.\");var checkRenamedProperty=function(oldProp,newProp,version){null!=options[oldProp]&&(console.warn(\"ag-grid: since version \"+version+\", '\"+oldProp+\"' is deprecated / renamed, please use the new property name '\"+newProp+\"' instead.\"),null==options[newProp]&&(options[newProp]=options[oldProp]))};if(checkRenamedProperty(\"batchUpdateWaitMillis\",\"asyncTransactionWaitMillis\",\"23.1.x\"),checkRenamedProperty(\"deltaRowDataMode\",\"immutableData\",\"23.1.x\"),(options.immutableColumns||options.deltaColumnMode)&&console.warn(\"AG Grid: since v24.0, immutableColumns and deltaColumnMode properties are gone. The grid now works like this as default. To keep column order maintained, set grid property applyColumnDefOrder=true\"),checkRenamedProperty(\"suppressSetColumnStateEvents\",\"suppressColumnStateEvents\",\"24.0.x\"),options.groupRowInnerRenderer||options.groupRowInnerRendererParams||options.groupRowInnerRendererFramework){console.warn(\"AG Grid: since v24.0, grid properties groupRowInnerRenderer, groupRowInnerRendererFramework and groupRowInnerRendererParams are no longer used.\"),console.warn(\"  Instead use the grid properties groupRowRendererParams.innerRenderer, groupRowRendererParams.innerRendererFramework and groupRowRendererParams.innerRendererParams.\"),console.warn(\"  For example instead of this:\"),console.warn('    groupRowInnerRenderer: \"myRenderer\"'),console.warn(\"    groupRowInnerRendererParams: {x: a}\"),console.warn(\"  Replace with this:\"),console.warn(\"    groupRowRendererParams: {\"),console.warn('      innerRenderer: \"myRenderer\",'),console.warn(\"      innerRendererParams: {x: a}\"),console.warn(\"    }\"),console.warn(\"  We have copied the properties over for you. However to stop this error message, please change your application code.\"),options.groupRowRendererParams||(options.groupRowRendererParams={});var params=options.groupRowRendererParams;options.groupRowInnerRenderer&&(params.innerRenderer=options.groupRowInnerRenderer),options.groupRowInnerRendererParams&&(params.innerRendererParams=options.groupRowInnerRendererParams),options.groupRowInnerRendererFramework&&(params.innerRendererFramework=options.groupRowInnerRendererFramework)}options.rememberGroupStateWhenNewData&&console.warn(\"AG Grid: since v24.0, grid property rememberGroupStateWhenNewData is deprecated. This feature was provided before Transaction Updates worked (which keep group state). Now that transaction updates are possible and they keep group state, this feature is no longer needed.\"),options.detailCellRendererParams&&options.detailCellRendererParams.autoHeight&&(console.warn(\"AG Grid: since v24.1, grid property detailCellRendererParams.autoHeight is replaced with grid property detailRowAutoHeight. This allows this feature to work when you provide a custom DetailCellRenderer\"),options.detailRowAutoHeight=!0),options.suppressKeyboardEvent&&console.warn(\"AG Grid: since v24.1 suppressKeyboardEvent in the gridOptions has been deprecated and will be removed in\\n                 future versions of AG Grid. If you need this to be set for every column use the defaultColDef property.\"),options.suppressEnterpriseResetOnNewColumns&&(console.warn(\"AG Grid: since v25, grid property suppressEnterpriseResetOnNewColumns is deprecated. This was a temporary property to allow changing columns in Server Side Row Model without triggering a reload. Now that it is possible to dynamically change columns in the grid, this is no longer needed.\"),options.detailRowAutoHeight=!0),options.suppressColumnStateEvents&&(console.warn('AG Grid: since v25, grid property suppressColumnStateEvents no longer works due to a refactor that we did. It should be possible to achieve similar using event.source, which would be \"api\" if the event was due to setting column state via the API'),options.detailRowAutoHeight=!0),options.defaultExportParams&&console.warn(\"AG Grid: since v25.2, the grid property `defaultExportParams` has been replaced by `defaultCsvExportParams` and `defaultExcelExportParams`.\"),options.stopEditingWhenGridLosesFocus&&(console.warn(\"AG Grid: since v25.2.2, the grid property `stopEditingWhenGridLosesFocus`.\"),options.stopEditingWhenCellsLoseFocus=!0)},GridOptionsWrapper.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},GridOptionsWrapper.prototype.treeDataViolations=function(){this.isRowModelDefault()&&missing(this.getDataPathFunc())&&console.warn(\"AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data.\"),this.isRowModelServerSide()&&(missing(this.getIsServerSideGroupFunc())&&console.warn(\"AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data.\"),missing(this.getServerSideGroupKeyFunc())&&console.warn(\"AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data.\"))},GridOptionsWrapper.prototype.getLocaleTextFunc=function(){if(this.gridOptions.localeTextFunc)return this.gridOptions.localeTextFunc;var localeText=this.gridOptions.localeText;return function(key,defaultValue){return localeText&&localeText[key]?localeText[key]:defaultValue}},GridOptionsWrapper.prototype.globalEventHandler=function(eventName,event){if(!this.destroyed){var callbackMethodName=ComponentUtil.getCallbackForEvent(eventName);\"function\"==typeof this.gridOptions[callbackMethodName]&&this.gridOptions[callbackMethodName](event)}},GridOptionsWrapper.prototype.getRowHeightAsNumber=function(){return!this.gridOptions.rowHeight||missing(this.gridOptions.rowHeight)?this.getDefaultRowHeight():this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:(console.warn(\"AG Grid row height must be a number if not using standard row model\"),this.getDefaultRowHeight())},GridOptionsWrapper.prototype.getRowHeightForNode=function(rowNode,allowEstimate){if(void 0===allowEstimate&&(allowEstimate=!1),\"function\"==typeof this.gridOptions.getRowHeight){if(allowEstimate)return{height:this.getDefaultRowHeight(),estimated:!0};var height=this.gridOptions.getRowHeight({node:rowNode,data:rowNode.data,api:this.gridOptions.api,context:this.gridOptions.context});if(this.isNumeric(height))return 0===height&&doOnce((function(){return console.warn(\"AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.\")}),\"invalidRowHeight\"),{height:Math.max(1,height),estimated:!1}}if(rowNode.detail&&this.isMasterDetail())return this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1};var defaultRowHeight=this.getDefaultRowHeight(),rowHeight=this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:defaultRowHeight,minRowHeight=exists(rowHeight)?Math.min(defaultRowHeight,rowHeight):defaultRowHeight;if(this.columnController.isAutoRowHeightActive()){if(allowEstimate)return{height:rowHeight,estimated:!0};var autoHeight=this.autoHeightCalculator.getPreferredHeightForRow(rowNode);return{height:Math.max(autoHeight,minRowHeight),estimated:!1}}return{height:rowHeight,estimated:!1}},GridOptionsWrapper.prototype.isDynamicRowHeight=function(){return\"function\"==typeof this.gridOptions.getRowHeight},GridOptionsWrapper.prototype.getListItemHeight=function(){return this.getFromTheme(20,\"listItemHeight\")},GridOptionsWrapper.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},GridOptionsWrapper.prototype.isNumeric=function(value){return!isNaN(value)&&\"number\"==typeof value&&isFinite(value)},GridOptionsWrapper.prototype.getFromTheme=function(defaultValue,sassVariableName){var theme=this.environment.getTheme().theme;return theme&&0===theme.indexOf(\"ag-theme\")?this.environment.getSassVariable(theme,sassVariableName):defaultValue},GridOptionsWrapper.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,\"rowHeight\")},GridOptionsWrapper.MIN_COL_WIDTH=10,GridOptionsWrapper.PROP_HEADER_HEIGHT=\"headerHeight\",GridOptionsWrapper.PROP_GROUP_REMOVE_SINGLE_CHILDREN=\"groupRemoveSingleChildren\",GridOptionsWrapper.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN=\"groupRemoveLowestSingleChildren\",GridOptionsWrapper.PROP_PIVOT_HEADER_HEIGHT=\"pivotHeaderHeight\",GridOptionsWrapper.PROP_SUPPRESS_CLIPBOARD_PASTE=\"suppressClipboardPaste\",GridOptionsWrapper.PROP_GROUP_HEADER_HEIGHT=\"groupHeaderHeight\",GridOptionsWrapper.PROP_PIVOT_GROUP_HEADER_HEIGHT=\"pivotGroupHeaderHeight\",GridOptionsWrapper.PROP_NAVIGATE_TO_NEXT_CELL=\"navigateToNextCell\",GridOptionsWrapper.PROP_TAB_TO_NEXT_CELL=\"tabToNextCell\",GridOptionsWrapper.PROP_NAVIGATE_TO_NEXT_HEADER=\"navigateToNextHeader\",GridOptionsWrapper.PROP_TAB_TO_NEXT_HEADER=\"tabToNextHeader\",GridOptionsWrapper.PROP_IS_EXTERNAL_FILTER_PRESENT=\"isExternalFilterPresentFunc\",GridOptionsWrapper.PROP_DOES_EXTERNAL_FILTER_PASS=\"doesExternalFilterPass\",GridOptionsWrapper.PROP_FLOATING_FILTERS_HEIGHT=\"floatingFiltersHeight\",GridOptionsWrapper.PROP_SUPPRESS_ROW_CLICK_SELECTION=\"suppressRowClickSelection\",GridOptionsWrapper.PROP_SUPPRESS_ROW_DRAG=\"suppressRowDrag\",GridOptionsWrapper.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG=\"suppressMoveWhenRowDragging\",GridOptionsWrapper.PROP_GET_ROW_CLASS=\"getRowClass\",GridOptionsWrapper.PROP_GET_ROW_STYLE=\"getRowStyle\",GridOptionsWrapper.PROP_GET_ROW_HEIGHT=\"getRowHeight\",GridOptionsWrapper.PROP_POPUP_PARENT=\"popupParent\",GridOptionsWrapper.PROP_DOM_LAYOUT=\"domLayout\",GridOptionsWrapper.PROP_FILL_HANDLE_DIRECTION=\"fillHandleDirection\",GridOptionsWrapper.PROP_GROUP_ROW_AGG_NODES=\"groupRowAggNodes\",GridOptionsWrapper.PROP_GET_BUSINESS_KEY_FOR_NODE=\"getBusinessKeyForNode\",GridOptionsWrapper.PROP_GET_CHILD_COUNT=\"getChildCount\",GridOptionsWrapper.PROP_PROCESS_ROW_POST_CREATE=\"processRowPostCreate\",GridOptionsWrapper.PROP_GET_ROW_NODE_ID=\"getRowNodeId\",GridOptionsWrapper.PROP_IS_FULL_WIDTH_CELL=\"isFullWidthCell\",GridOptionsWrapper.PROP_IS_ROW_SELECTABLE=\"isRowSelectable\",GridOptionsWrapper.PROP_IS_ROW_MASTER=\"isRowMaster\",GridOptionsWrapper.PROP_POST_SORT=\"postSort\",GridOptionsWrapper.PROP_GET_DOCUMENT=\"getDocument\",GridOptionsWrapper.PROP_POST_PROCESS_POPUP=\"postProcessPopup\",GridOptionsWrapper.PROP_DEFAULT_GROUP_SORT_COMPARATOR=\"defaultGroupSortComparator\",GridOptionsWrapper.PROP_PAGINATION_NUMBER_FORMATTER=\"paginationNumberFormatter\",GridOptionsWrapper.PROP_GET_CONTEXT_MENU_ITEMS=\"getContextMenuItems\",GridOptionsWrapper.PROP_GET_MAIN_MENU_ITEMS=\"getMainMenuItems\",GridOptionsWrapper.PROP_PROCESS_CELL_FOR_CLIPBOARD=\"processCellForClipboard\",GridOptionsWrapper.PROP_PROCESS_CELL_FROM_CLIPBOARD=\"processCellFromClipboard\",GridOptionsWrapper.PROP_SEND_TO_CLIPBOARD=\"sendToClipboard\",GridOptionsWrapper.PROP_PROCESS_TO_SECONDARY_COLDEF=\"processSecondaryColDef\",GridOptionsWrapper.PROP_PROCESS_SECONDARY_COL_GROUP_DEF=\"processSecondaryColGroupDef\",GridOptionsWrapper.PROP_PROCESS_CHART_OPTIONS=\"processChartOptions\",GridOptionsWrapper.PROP_GET_CHART_TOOLBAR_ITEMS=\"getChartToolbarItems\",GridOptionsWrapper.PROP_GET_SERVER_SIDE_STORE_PARAMS=\"getServerSideStoreParams\",GridOptionsWrapper.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT=\"isServerSideGroupOpenByDefault\",GridOptionsWrapper.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION=\"isApplyServerSideTransaction\",GridOptionsWrapper.PROP_IS_SERVER_SIDE_GROUP=\"isServerSideGroup\",GridOptionsWrapper.PROP_GET_SERVER_SIDE_GROUP_KEY=\"getServerSideGroupKey\",__decorate$z([Autowired(\"gridOptions\")],GridOptionsWrapper.prototype,\"gridOptions\",void 0),__decorate$z([Autowired(\"columnController\")],GridOptionsWrapper.prototype,\"columnController\",void 0),__decorate$z([Autowired(\"eventService\")],GridOptionsWrapper.prototype,\"eventService\",void 0),__decorate$z([Autowired(\"environment\")],GridOptionsWrapper.prototype,\"environment\",void 0),__decorate$z([Autowired(\"autoHeightCalculator\")],GridOptionsWrapper.prototype,\"autoHeightCalculator\",void 0),__decorate$z([__param$3(0,Qualifier(\"gridApi\")),__param$3(1,Qualifier(\"columnApi\"))],GridOptionsWrapper.prototype,\"agWire\",null),__decorate$z([PreDestroy],GridOptionsWrapper.prototype,\"destroy\",null),__decorate$z([PostConstruct],GridOptionsWrapper.prototype,\"init\",null),GridOptionsWrapper_1=__decorate$z([Bean(\"gridOptionsWrapper\")],GridOptionsWrapper)}(),ChangedPath=function(){function ChangedPath(keepingColumns,rootNode){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=keepingColumns,this.pathRoot={rowNode:rootNode,children:null},this.mapToItems[rootNode.id]=this.pathRoot}return ChangedPath.prototype.setInactive=function(){this.active=!1},ChangedPath.prototype.isActive=function(){return this.active},ChangedPath.prototype.depthFirstSearchChangedPath=function(pathItem,callback){if(pathItem.children)for(var i=0;i<pathItem.children.length;i++)this.depthFirstSearchChangedPath(pathItem.children[i],callback);callback(pathItem.rowNode)},ChangedPath.prototype.depthFirstSearchEverything=function(rowNode,callback,traverseEverything){if(rowNode.childrenAfterGroup)for(var i=0;i<rowNode.childrenAfterGroup.length;i++){var childNode=rowNode.childrenAfterGroup[i];childNode.childrenAfterGroup?this.depthFirstSearchEverything(rowNode.childrenAfterGroup[i],callback,traverseEverything):traverseEverything&&callback(childNode)}callback(rowNode)},ChangedPath.prototype.forEachChangedNodeDepthFirst=function(callback,traverseLeafNodes){void 0===traverseLeafNodes&&(traverseLeafNodes=!1),this.active?this.depthFirstSearchChangedPath(this.pathRoot,callback):this.depthFirstSearchEverything(this.pathRoot.rowNode,callback,traverseLeafNodes)},ChangedPath.prototype.executeFromRootNode=function(callback){callback(this.pathRoot.rowNode)},ChangedPath.prototype.createPathItems=function(rowNode){for(var pointer=rowNode,newEntryCount=0;!this.mapToItems[pointer.id];)this.mapToItems[pointer.id]={rowNode:pointer,children:null},newEntryCount++,pointer=pointer.parent;return newEntryCount},ChangedPath.prototype.populateColumnsMap=function(rowNode,columns){var _this=this;if(this.keepingColumns&&columns)for(var pointer=rowNode;pointer;)this.nodeIdsToColumns[pointer.id]||(this.nodeIdsToColumns[pointer.id]={}),columns.forEach((function(col){return _this.nodeIdsToColumns[pointer.id][col.getId()]=!0})),pointer=pointer.parent},ChangedPath.prototype.linkPathItems=function(rowNode,newEntryCount){for(var pointer=rowNode,i=0;i<newEntryCount;i++){var thisItem=this.mapToItems[pointer.id],parentItem=this.mapToItems[pointer.parent.id];parentItem.children||(parentItem.children=[]),parentItem.children.push(thisItem),pointer=pointer.parent}},ChangedPath.prototype.addParentNode=function(rowNode,columns){if(rowNode&&!rowNode.isRowPinned()){var newEntryCount=this.createPathItems(rowNode);this.linkPathItems(rowNode,newEntryCount),this.populateColumnsMap(rowNode,columns)}},ChangedPath.prototype.canSkip=function(rowNode){return this.active&&!this.mapToItems[rowNode.id]},ChangedPath.prototype.getValueColumnsForNode=function(rowNode,valueColumns){if(!this.keepingColumns)return valueColumns;var colsForThisNode=this.nodeIdsToColumns[rowNode.id];return valueColumns.filter((function(col){return colsForThisNode[col.getId()]}))},ChangedPath.prototype.getNotValueColumnsForNode=function(rowNode,valueColumns){if(!this.keepingColumns)return null;var colsForThisNode=this.nodeIdsToColumns[rowNode.id];return valueColumns.filter((function(col){return!colsForThisNode[col.getId()]}))},ChangedPath}(),__extends$E=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$A=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},SelectionController=function(_super){function SelectionController(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$E(SelectionController,_super),SelectionController.prototype.setBeans=function(loggerFactory){this.logger=loggerFactory.create(\"SelectionController\"),this.reset(),this.gridOptionsWrapper.isRowModelDefault()&&this.addManagedListener(this.eventService,Events.EVENT_ROW_DATA_CHANGED,this.reset.bind(this))},SelectionController.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.addManagedListener(this.eventService,Events.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},SelectionController.prototype.setLastSelectedNode=function(rowNode){this.lastSelectedNode=rowNode},SelectionController.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},SelectionController.prototype.getSelectedNodes=function(){var selectedNodes=[];return iterateObject(this.selectedNodes,(function(key,rowNode){rowNode&&selectedNodes.push(rowNode)})),selectedNodes},SelectionController.prototype.getSelectedRows=function(){var selectedRows=[];return iterateObject(this.selectedNodes,(function(key,rowNode){rowNode&&rowNode.data&&selectedRows.push(rowNode.data)})),selectedRows},SelectionController.prototype.removeGroupsFromSelection=function(){var _this=this;iterateObject(this.selectedNodes,(function(key,rowNode){rowNode&&rowNode.group&&(_this.selectedNodes[rowNode.id]=void 0)}))},SelectionController.prototype.updateGroupsFromChildrenSelections=function(changedPath){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===Constants.ROW_MODEL_TYPE_CLIENT_SIDE){var rootNode=this.rowModel.getRootNode();changedPath||(changedPath=new ChangedPath(!0,rootNode)).setInactive(),changedPath.forEachChangedNodeDepthFirst((function(rowNode){rowNode!==rootNode&&rowNode.calculateSelectedFromChildren()}))}},SelectionController.prototype.getNodeForIdIfSelected=function(id){return this.selectedNodes[id]},SelectionController.prototype.clearOtherNodes=function(rowNodeToKeepSelected){var _this=this,groupsToRefresh={},updatedCount=0;return iterateObject(this.selectedNodes,(function(key,otherRowNode){otherRowNode&&otherRowNode.id!==rowNodeToKeepSelected.id&&(updatedCount+=_this.selectedNodes[otherRowNode.id].setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),_this.groupSelectsChildren&&otherRowNode.parent&&(groupsToRefresh[otherRowNode.parent.id]=otherRowNode.parent))})),iterateObject(groupsToRefresh,(function(key,group){group.calculateSelectedFromChildren()})),updatedCount},SelectionController.prototype.onRowSelected=function(event){var rowNode=event.node;this.groupSelectsChildren&&rowNode.group||(this.selectedNodes[rowNode.id]=rowNode.isSelected()?rowNode:void 0)},SelectionController.prototype.syncInRowNode=function(rowNode,oldNode){this.syncInOldRowNode(rowNode,oldNode),this.syncInNewRowNode(rowNode)},SelectionController.prototype.syncInOldRowNode=function(rowNode,oldNode){exists(oldNode)&&rowNode.id!==oldNode.id&&oldNode&&exists(this.selectedNodes[oldNode.id])&&(this.selectedNodes[oldNode.id]=oldNode)},SelectionController.prototype.syncInNewRowNode=function(rowNode){exists(this.selectedNodes[rowNode.id])?(rowNode.setSelectedInitialValue(!0),this.selectedNodes[rowNode.id]=rowNode):rowNode.setSelectedInitialValue(!1)},SelectionController.prototype.reset=function(){this.logger.log(\"reset\"),this.selectedNodes={},this.lastSelectedNode=null},SelectionController.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()===Constants.ROW_MODEL_TYPE_CLIENT_SIDE){var topLevelNodes=this.rowModel.getTopLevelNodes();if(null!==topLevelNodes){var result=[];return function traverse(nodes){for(var i=0,l=nodes.length;i<l;i++){var node=nodes[i];node.isSelected()?result.push(node):node.group&&node.children&&traverse(node.children)}}(topLevelNodes),result}console.warn(\"selectAll not available doing rowModel=virtual\")}else console.warn(\"getBestCostNodeSelection is only available when using normal row model\")},SelectionController.prototype.setRowModel=function(rowModel){this.rowModel=rowModel},SelectionController.prototype.isEmpty=function(){var count=0;return iterateObject(this.selectedNodes,(function(nodeId,rowNode){rowNode&&count++})),0===count},SelectionController.prototype.deselectAllRowNodes=function(justFiltered){void 0===justFiltered&&(justFiltered=!1);var callback=function(rowNode){return rowNode.selectThisNode(!1)},rowModelClientSide=this.rowModel.getType()===Constants.ROW_MODEL_TYPE_CLIENT_SIDE;if(justFiltered){if(!rowModelClientSide)return void console.error(\"AG Grid: selecting just filtered only works with In Memory Row Model\");this.rowModel.forEachNodeAfterFilter(callback)}else iterateObject(this.selectedNodes,(function(id,rowNode){rowNode&&callback(rowNode)})),this.reset();rowModelClientSide&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:Events.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},SelectionController.prototype.selectAllRowNodes=function(justFiltered){if(void 0===justFiltered&&(justFiltered=!1),this.rowModel.getType()!==Constants.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error(\"selectAll only available with normal row model, ie not \"+this.rowModel.getType());var clientSideRowModel=this.rowModel,callback=function(rowNode){return rowNode.selectThisNode(!0)};justFiltered?clientSideRowModel.forEachNodeAfterFilter(callback):clientSideRowModel.forEachNode(callback),this.rowModel.getType()===Constants.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:Events.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},SelectionController.prototype.selectNode=function(rowNode,tryMulti){rowNode&&rowNode.setSelectedParams({newValue:!0,clearSelection:!tryMulti})},SelectionController.prototype.deselectIndex=function(rowIndex){var node=this.rowModel.getRow(rowIndex);this.deselectNode(node)},SelectionController.prototype.deselectNode=function(rowNode){rowNode&&rowNode.setSelectedParams({newValue:!1,clearSelection:!1})},SelectionController.prototype.selectIndex=function(index,tryMulti){var node=this.rowModel.getRow(index);this.selectNode(node,tryMulti)},__decorate$A([Autowired(\"rowModel\")],SelectionController.prototype,\"rowModel\",void 0),__decorate$A([Autowired(\"columnApi\")],SelectionController.prototype,\"columnApi\",void 0),__decorate$A([Autowired(\"gridApi\")],SelectionController.prototype,\"gridApi\",void 0),__decorate$A([(0,decorator=Qualifier(\"loggerFactory\"),function(target,key){decorator(target,key,0)})],SelectionController.prototype,\"setBeans\",null),__decorate$A([PostConstruct],SelectionController.prototype,\"init\",null),__decorate$A([Bean(\"selectionController\")],SelectionController);var decorator}(BeanStub),__decorate$B=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},ColumnApi=function(){function ColumnApi(){}return ColumnApi.prototype.sizeColumnsToFit=function(gridWidth){void 0===gridWidth&&console.error(\"AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)\"),this.columnController.sizeColumnsToFit(gridWidth,\"api\")},ColumnApi.prototype.setColumnGroupOpened=function(group,newValue){this.columnController.setColumnGroupOpened(group,newValue,\"api\")},ColumnApi.prototype.getColumnGroup=function(name,instanceId){return this.columnController.getColumnGroup(name,instanceId)},ColumnApi.prototype.getOriginalColumnGroup=function(name){return this.columnController.getOriginalColumnGroup(name)},ColumnApi.prototype.getDisplayNameForColumn=function(column,location){return this.columnController.getDisplayNameForColumn(column,location)||\"\"},ColumnApi.prototype.getDisplayNameForColumnGroup=function(columnGroup,location){return this.columnController.getDisplayNameForColumnGroup(columnGroup,location)||\"\"},ColumnApi.prototype.getColumn=function(key){return this.columnController.getPrimaryColumn(key)},ColumnApi.prototype.applyColumnState=function(params){return this.columnController.applyColumnState(params,\"api\")},ColumnApi.prototype.getColumnState=function(){return this.columnController.getColumnState()},ColumnApi.prototype.resetColumnState=function(){this.columnController.resetColumnState(\"api\")},ColumnApi.prototype.getColumnGroupState=function(){return this.columnController.getColumnGroupState()},ColumnApi.prototype.setColumnGroupState=function(stateItems){this.columnController.setColumnGroupState(stateItems,\"api\")},ColumnApi.prototype.resetColumnGroupState=function(){this.columnController.resetColumnGroupState(\"api\")},ColumnApi.prototype.isPinning=function(){return this.columnController.isPinningLeft()||this.columnController.isPinningRight()},ColumnApi.prototype.isPinningLeft=function(){return this.columnController.isPinningLeft()},ColumnApi.prototype.isPinningRight=function(){return this.columnController.isPinningRight()},ColumnApi.prototype.getDisplayedColAfter=function(col){return this.columnController.getDisplayedColAfter(col)},ColumnApi.prototype.getDisplayedColBefore=function(col){return this.columnController.getDisplayedColBefore(col)},ColumnApi.prototype.setColumnVisible=function(key,visible){this.columnController.setColumnVisible(key,visible,\"api\")},ColumnApi.prototype.setColumnsVisible=function(keys,visible){this.columnController.setColumnsVisible(keys,visible,\"api\")},ColumnApi.prototype.setColumnPinned=function(key,pinned){this.columnController.setColumnPinned(key,pinned,\"api\")},ColumnApi.prototype.setColumnsPinned=function(keys,pinned){this.columnController.setColumnsPinned(keys,pinned,\"api\")},ColumnApi.prototype.getAllColumns=function(){return this.columnController.getAllPrimaryColumns()},ColumnApi.prototype.getAllGridColumns=function(){return this.columnController.getAllGridColumns()},ColumnApi.prototype.getDisplayedLeftColumns=function(){return this.columnController.getDisplayedLeftColumns()},ColumnApi.prototype.getDisplayedCenterColumns=function(){return this.columnController.getDisplayedCenterColumns()},ColumnApi.prototype.getDisplayedRightColumns=function(){return this.columnController.getDisplayedRightColumns()},ColumnApi.prototype.getAllDisplayedColumns=function(){return this.columnController.getAllDisplayedColumns()},ColumnApi.prototype.getAllDisplayedVirtualColumns=function(){return this.columnController.getViewportColumns()},ColumnApi.prototype.moveColumn=function(key,toIndex){\"number\"==typeof key?(console.warn(\"AG Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead\"),this.columnController.moveColumnByIndex(key,toIndex,\"api\")):this.columnController.moveColumn(key,toIndex,\"api\")},ColumnApi.prototype.moveColumnByIndex=function(fromIndex,toIndex){this.columnController.moveColumnByIndex(fromIndex,toIndex,\"api\")},ColumnApi.prototype.moveColumns=function(columnsToMoveKeys,toIndex){this.columnController.moveColumns(columnsToMoveKeys,toIndex,\"api\")},ColumnApi.prototype.moveRowGroupColumn=function(fromIndex,toIndex){this.columnController.moveRowGroupColumn(fromIndex,toIndex)},ColumnApi.prototype.setColumnAggFunc=function(key,aggFunc){this.columnController.setColumnAggFunc(key,aggFunc)},ColumnApi.prototype.setColumnWidth=function(key,newWidth,finished){void 0===finished&&(finished=!0),this.columnController.setColumnWidths([{key:key,newWidth:newWidth}],!1,finished)},ColumnApi.prototype.setColumnWidths=function(columnWidths,finished){void 0===finished&&(finished=!0),this.columnController.setColumnWidths(columnWidths,!1,finished)},ColumnApi.prototype.setPivotMode=function(pivotMode){this.columnController.setPivotMode(pivotMode)},ColumnApi.prototype.isPivotMode=function(){return this.columnController.isPivotMode()},ColumnApi.prototype.getSecondaryPivotColumn=function(pivotKeys,valueColKey){return this.columnController.getSecondaryPivotColumn(pivotKeys,valueColKey)},ColumnApi.prototype.setValueColumns=function(colKeys){this.columnController.setValueColumns(colKeys,\"api\")},ColumnApi.prototype.getValueColumns=function(){return this.columnController.getValueColumns()},ColumnApi.prototype.removeValueColumn=function(colKey){this.columnController.removeValueColumn(colKey,\"api\")},ColumnApi.prototype.removeValueColumns=function(colKeys){this.columnController.removeValueColumns(colKeys,\"api\")},ColumnApi.prototype.addValueColumn=function(colKey){this.columnController.addValueColumn(colKey,\"api\")},ColumnApi.prototype.addValueColumns=function(colKeys){this.columnController.addValueColumns(colKeys,\"api\")},ColumnApi.prototype.setRowGroupColumns=function(colKeys){this.columnController.setRowGroupColumns(colKeys,\"api\")},ColumnApi.prototype.removeRowGroupColumn=function(colKey){this.columnController.removeRowGroupColumn(colKey,\"api\")},ColumnApi.prototype.removeRowGroupColumns=function(colKeys){this.columnController.removeRowGroupColumns(colKeys,\"api\")},ColumnApi.prototype.addRowGroupColumn=function(colKey){this.columnController.addRowGroupColumn(colKey,\"api\")},ColumnApi.prototype.addRowGroupColumns=function(colKeys){this.columnController.addRowGroupColumns(colKeys,\"api\")},ColumnApi.prototype.getRowGroupColumns=function(){return this.columnController.getRowGroupColumns()},ColumnApi.prototype.setPivotColumns=function(colKeys){this.columnController.setPivotColumns(colKeys,\"api\")},ColumnApi.prototype.removePivotColumn=function(colKey){this.columnController.removePivotColumn(colKey,\"api\")},ColumnApi.prototype.removePivotColumns=function(colKeys){this.columnController.removePivotColumns(colKeys,\"api\")},ColumnApi.prototype.addPivotColumn=function(colKey){this.columnController.addPivotColumn(colKey,\"api\")},ColumnApi.prototype.addPivotColumns=function(colKeys){this.columnController.addPivotColumns(colKeys,\"api\")},ColumnApi.prototype.getPivotColumns=function(){return this.columnController.getPivotColumns()},ColumnApi.prototype.getLeftDisplayedColumnGroups=function(){return this.columnController.getDisplayedTreeLeft()},ColumnApi.prototype.getCenterDisplayedColumnGroups=function(){return this.columnController.getDisplayedTreeCentre()},ColumnApi.prototype.getRightDisplayedColumnGroups=function(){return this.columnController.getDisplayedTreeRight()},ColumnApi.prototype.getAllDisplayedColumnGroups=function(){return this.columnController.getAllDisplayedTrees()},ColumnApi.prototype.autoSizeColumn=function(key,skipHeader){return this.columnController.autoSizeColumn(key,skipHeader,\"api\")},ColumnApi.prototype.autoSizeColumns=function(keys,skipHeader){return this.columnController.autoSizeColumns(keys,skipHeader,\"api\")},ColumnApi.prototype.autoSizeAllColumns=function(skipHeader){this.columnController.autoSizeAllColumns(skipHeader,\"api\")},ColumnApi.prototype.setSecondaryColumns=function(colDefs){this.columnController.setSecondaryColumns(colDefs,\"api\")},ColumnApi.prototype.getSecondaryColumns=function(){return this.columnController.getSecondaryColumns()},ColumnApi.prototype.getPrimaryColumns=function(){return this.columnController.getAllPrimaryColumns()},ColumnApi.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(_.removeAllReferences.bind(window,this,\"Column API\"),100)},ColumnApi.prototype.columnGroupOpened=function(group,newValue){console.error(\"AG Grid: columnGroupOpened no longer exists, use setColumnGroupOpened\"),this.setColumnGroupOpened(group,newValue)},ColumnApi.prototype.hideColumns=function(colIds,hide){console.error(\"AG Grid: hideColumns is deprecated, use setColumnsVisible\"),this.columnController.setColumnsVisible(colIds,!hide,\"api\")},ColumnApi.prototype.hideColumn=function(colId,hide){console.error(\"AG Grid: hideColumn is deprecated, use setColumnVisible\"),this.columnController.setColumnVisible(colId,!hide,\"api\")},ColumnApi.prototype.setState=function(columnState){return console.error(\"AG Grid: setState is deprecated, use setColumnState\"),this.setColumnState(columnState)},ColumnApi.prototype.getState=function(){return console.error(\"AG Grid: getState is deprecated, use getColumnState\"),this.getColumnState()},ColumnApi.prototype.resetState=function(){console.error(\"AG Grid: resetState is deprecated, use resetColumnState\"),this.resetColumnState()},ColumnApi.prototype.getAggregationColumns=function(){return console.error(\"AG Grid: getAggregationColumns is deprecated, use getValueColumns\"),this.columnController.getValueColumns()},ColumnApi.prototype.removeAggregationColumn=function(colKey){console.error(\"AG Grid: removeAggregationColumn is deprecated, use removeValueColumn\"),this.columnController.removeValueColumn(colKey,\"api\")},ColumnApi.prototype.removeAggregationColumns=function(colKeys){console.error(\"AG Grid: removeAggregationColumns is deprecated, use removeValueColumns\"),this.columnController.removeValueColumns(colKeys,\"api\")},ColumnApi.prototype.addAggregationColumn=function(colKey){console.error(\"AG Grid: addAggregationColumn is deprecated, use addValueColumn\"),this.columnController.addValueColumn(colKey,\"api\")},ColumnApi.prototype.addAggregationColumns=function(colKeys){console.error(\"AG Grid: addAggregationColumns is deprecated, use addValueColumns\"),this.columnController.addValueColumns(colKeys,\"api\")},ColumnApi.prototype.setColumnAggFunction=function(column,aggFunc){console.error(\"AG Grid: setColumnAggFunction is deprecated, use setColumnAggFunc\"),this.columnController.setColumnAggFunc(column,aggFunc,\"api\")},ColumnApi.prototype.getDisplayNameForCol=function(column){return console.error(\"AG Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn\"),this.getDisplayNameForColumn(column,null)},ColumnApi.prototype.setColumnState=function(columnState){return this.columnController.applyColumnState({state:columnState,applyOrder:!0},\"api\")},__decorate$B([Autowired(\"columnController\")],ColumnApi.prototype,\"columnController\",void 0),__decorate$B([PreDestroy],ColumnApi.prototype,\"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid\",null),__decorate$B([Bean(\"columnApi\")],ColumnApi)}(),__assign$3=function(){return(__assign$3=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},AngularRowUtils=function(){function AngularRowUtils(){}return AngularRowUtils.createChildScopeOrNull=function(rowNode,parentScope,gridOptionsWrapper){if(!gridOptionsWrapper.isAngularCompileRows())return null;var newChildScope=parentScope.$new();return newChildScope.data=__assign$3({},rowNode.data),newChildScope.rowNode=rowNode,newChildScope.context=gridOptionsWrapper.getContext(),{scope:newChildScope,scopeDestroyFunc:function(){newChildScope.$destroy(),newChildScope.data=null,newChildScope.rowNode=null,newChildScope.context=null}}},AngularRowUtils}(),__extends$F=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();!function(RowType){RowType.Normal=\"Normal\",RowType.FullWidth=\"FullWidth\",RowType.FullWidthLoading=\"FullWidthLoading\",RowType.FullWidthGroup=\"FullWidthGroup\",RowType.FullWidthDetail=\"FullWidthDetail\"}(RowType||(RowType={}));var SelectionHandleType,CellRangeType,FullWidthRenderers=convertToMap([[RowType.FullWidthLoading,\"agLoadingCellRenderer\"],[RowType.FullWidthGroup,\"agGroupRowRenderer\"],[RowType.FullWidthDetail,\"agDetailCellRenderer\"]]),FullWidthKeys=convertToMap([[RowType.FullWidth,\"fullWidthCellRenderer\"],[RowType.FullWidthLoading,\"loadingCellRenderer\"],[RowType.FullWidthGroup,\"groupRowRenderer\"],[RowType.FullWidthDetail,\"detailCellRenderer\"]]),instanceIdSequence=0,RowController=function(_super){function RowController(parentScope,rowNode,beans,animateIn,useAnimationFrameForCreate,printLayout){var _this=_super.call(this)||this;return _this.instanceId=instanceIdSequence++,_this.allRowComps=[],_this.active=!0,_this.centerCols=[],_this.leftCols=[],_this.rightCols=[],_this.lastMouseDownOnDragger=!1,_this.updateColumnListsPending=!1,_this.parentScope=parentScope,_this.beans=beans,_this.rowNode=rowNode,_this.rowIsEven=_this.rowNode.rowIndex%2==0,_this.paginationPage=_this.beans.paginationProxy.getCurrentPage(),_this.useAnimationFrameForCreate=useAnimationFrameForCreate,_this.printLayout=printLayout,_this.setAnimateFlags(animateIn),_this.rowFocused=_this.beans.focusController.isRowFocused(_this.rowNode.rowIndex,_this.rowNode.rowPinned),_this.setupAngular1Scope(),_this.rowLevel=_this.beans.rowCssClassCalculator.calculateRowLevel(_this.rowNode),_this.setRowType(),_this.updateColumnLists(!_this.useAnimationFrameForCreate),_this.addListeners(),_this.slideRowIn&&executeNextVMTurn(_this.onTopChanged.bind(_this)),_this.fadeRowIn&&executeNextVMTurn((function(){_this.allRowComps.forEach((function(rowComp){return removeCssClass(rowComp.getGui(),\"ag-opacity-zero\")}))})),_this}return __extends$F(RowController,_super),RowController.prototype.getInstanceId=function(){return this.instanceId},RowController.prototype.setLeftRowComp=function(rowComp){this.leftRowComp&&console.error(\"AG Grid - should not set leftRowComp twice\"),this.leftRowComp=rowComp,this.allRowComps.push(rowComp)},RowController.prototype.setRightRowComp=function(rowComp){this.rightRowComp&&console.error(\"AG Grid - should not set rightRowComp twice\"),this.rightRowComp=rowComp,this.allRowComps.push(rowComp)},RowController.prototype.setCenterRowComp=function(rowComp){this.centerRowComp&&console.error(\"AG Grid - should not set centerRowComp twice\"),this.centerRowComp=rowComp,this.allRowComps.push(rowComp)},RowController.prototype.setFullWidthRowComp=function(rowComp){this.fullWidthRowComp&&console.error(\"AG Grid - should not set fullWidthRowComp twice\"),this.fullWidthRowComp=rowComp,this.allRowComps.push(rowComp)},RowController.prototype.getColsForRowComp=function(pinned){switch(pinned){case Constants.PINNED_RIGHT:return this.rightCols;case Constants.PINNED_LEFT:return this.leftCols;default:return this.centerCols}},RowController.prototype.getScope=function(){return this.scope},RowController.prototype.isPrintLayout=function(){return this.printLayout},RowController.prototype.setupAngular1Scope=function(){var scopeResult=AngularRowUtils.createChildScopeOrNull(this.rowNode,this.parentScope,this.beans.gridOptionsWrapper);scopeResult&&(this.scope=scopeResult.scope,this.addDestroyFunc(scopeResult.scopeDestroyFunc))},RowController.prototype.getCellForCol=function(column){var cellComp=this.getRenderedCellForColumn(column);return cellComp?cellComp.getGui():null},RowController.prototype.executeProcessRowPostCreateFunc=function(){var func=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();func&&func({eRow:this.centerRowComp?this.centerRowComp.getGui():void 0,ePinnedLeftRow:this.leftRowComp?this.leftRowComp.getGui():void 0,ePinnedRightRow:this.rightRowComp?this.rightRowComp.getGui():void 0,node:this.rowNode,api:this.beans.gridOptionsWrapper.getApi(),rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()})},RowController.prototype.setRowType=function(){var isStub=this.rowNode.stub,isFullWidthCell=this.rowNode.isFullWidthCell(),isDetailCell=this.beans.doingMasterDetail&&this.rowNode.detail,pivotMode=this.beans.columnController.isPivotMode(),isFullWidthGroup=!!this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(pivotMode);this.rowType=isStub?RowType.FullWidthLoading:isDetailCell?RowType.FullWidthDetail:isFullWidthCell?RowType.FullWidth:isFullWidthGroup?RowType.FullWidthGroup:RowType.Normal},RowController.prototype.updateColumnLists=function(suppressAnimationFrame){var _this=this;void 0===suppressAnimationFrame&&(suppressAnimationFrame=!1),this.isFullWidth()||(suppressAnimationFrame||this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout?this.updateColumnListsImpl():this.updateColumnListsPending||(this.beans.taskQueue.createTask((function(){_this.active&&_this.updateColumnListsImpl()}),this.rowNode.rowIndex,\"createTasksP1\"),this.updateColumnListsPending=!0))},RowController.prototype.updateColumnListsImpl=function(){this.updateColumnListsPending=!1,this.printLayout?(this.centerCols=this.beans.columnController.getAllDisplayedColumns(),this.leftCols=[],this.rightCols=[]):(this.centerCols=this.beans.columnController.getViewportCenterColumnsForRow(this.rowNode),this.leftCols=this.beans.columnController.getDisplayedLeftColumnsForRow(this.rowNode),this.rightCols=this.beans.columnController.getDisplayedRightColumnsForRow(this.rowNode)),this.allRowComps.forEach((function(rc){return rc.onColumnChanged()}))},RowController.prototype.setAnimateFlags=function(animateIn){if(animateIn){var oldRowTopExists=exists(this.rowNode.oldRowTop);this.slideRowIn=oldRowTopExists,this.fadeRowIn=!oldRowTopExists}else this.slideRowIn=!1,this.fadeRowIn=!1},RowController.prototype.isEditing=function(){return this.editingRow},RowController.prototype.stopRowEditing=function(cancel){this.stopEditing(cancel)},RowController.prototype.isFullWidth=function(){return this.rowType!==RowType.Normal},RowController.prototype.getRowType=function(){return this.rowType},RowController.prototype.refreshFullWidth=function(){var _this=this,tryRefresh=function(rowComp,pinned){if(!rowComp)return!0;var cellComp=rowComp.getFullWidthRowComp();if(!cellComp)return!0;if(!cellComp.refresh)return!1;var params=_this.createFullWidthParams(rowComp.getGui(),pinned);return cellComp.refresh(params)},normalSuccess=tryRefresh(this.fullWidthRowComp,null),bodySuccess=tryRefresh(this.centerRowComp,null),leftSuccess=tryRefresh(this.leftRowComp,Constants.PINNED_LEFT),rightSuccess=tryRefresh(this.rightRowComp,Constants.PINNED_RIGHT);return normalSuccess&&bodySuccess&&leftSuccess&&rightSuccess},RowController.prototype.addListeners=function(){this.addManagedListener(this.rowNode,RowNode.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var eventService=this.beans.eventService;this.addManagedListener(eventService,Events.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(eventService,Events.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(eventService,Events.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(eventService,Events.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(eventService,Events.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(eventService,Events.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(eventService,Events.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},RowController.prototype.onColumnMoved=function(){this.updateColumnLists()},RowController.prototype.addListenersForCellComps=function(){var _this=this;this.addManagedListener(this.rowNode,RowNode.EVENT_ROW_INDEX_CHANGED,(function(){_this.forEachCellComp((function(cellComp){return cellComp.onRowIndexChanged()}))})),this.addManagedListener(this.rowNode,RowNode.EVENT_CELL_CHANGED,(function(event){_this.forEachCellComp((function(cellComp){return cellComp.onCellChanged(event)}))}))},RowController.prototype.onRowNodeDataChanged=function(event){this.forEachCellComp((function(cellComp){return cellComp.refreshCell({suppressFlash:!event.update,newData:!event.update})})),this.onRowSelected(),this.postProcessCss()},RowController.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},RowController.prototype.postProcessCss=function(){this.postProcessStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},RowController.prototype.onRowNodeHighlightChanged=function(){var highlighted=this.rowNode.highlighted;this.allRowComps.forEach((function(rowComp){var eGui=rowComp.getGui();removeCssClass(eGui,\"ag-row-highlight-above\"),removeCssClass(eGui,\"ag-row-highlight-below\"),highlighted&&addCssClass(eGui,\"ag-row-highlight-\"+highlighted)}))},RowController.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},RowController.prototype.postProcessRowDragging=function(){var dragging=this.rowNode.dragging;this.allRowComps.forEach((function(rowComp){return addOrRemoveCssClass(rowComp.getGui(),\"ag-row-dragging\",dragging)}))},RowController.prototype.updateExpandedCss=function(){var expandable=this.rowNode.isExpandable(),expanded=1==this.rowNode.expanded;this.allRowComps.forEach((function(rowComp){var eRow=rowComp.getGui();addOrRemoveCssClass(eRow,\"ag-row-group\",expandable),addOrRemoveCssClass(eRow,\"ag-row-group-expanded\",expandable&&expanded),addOrRemoveCssClass(eRow,\"ag-row-group-contracted\",expandable&&!expanded),setAriaExpanded(eRow,expandable&&expanded)}))},RowController.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0)},RowController.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists()},RowController.prototype.getRowPosition=function(){return{rowPinned:this.rowNode.rowPinned,rowIndex:this.rowNode.rowIndex}},RowController.prototype.onKeyboardNavigate=function(keyboardEvent){var currentFullWidthComp=find(this.allRowComps,(function(rowComp){return rowComp.getGui().contains(keyboardEvent.target)}));if((currentFullWidthComp?currentFullWidthComp.getGui():null)===keyboardEvent.target){var node=this.rowNode,lastFocusedCell=this.beans.focusController.getFocusedCell();this.beans.rowRenderer.navigateToNextCell(keyboardEvent,keyboardEvent.keyCode,{rowIndex:node.rowIndex,rowPinned:node.rowPinned,column:lastFocusedCell&&lastFocusedCell.column},!0),keyboardEvent.preventDefault()}},RowController.prototype.onTabKeyDown=function(keyboardEvent){if(!keyboardEvent.defaultPrevented&&!isStopPropagationForAgGrid(keyboardEvent)){var currentFullWidthComp=find(this.allRowComps,(function(rowComp){return rowComp.getGui().contains(keyboardEvent.target)})),currentFullWidthContainer=currentFullWidthComp?currentFullWidthComp.getGui():null,isFullWidthContainerFocused=currentFullWidthContainer===keyboardEvent.target,nextEl=null;isFullWidthContainerFocused||(nextEl=this.beans.focusController.findNextFocusableElement(currentFullWidthContainer,!1,keyboardEvent.shiftKey)),(this.isFullWidth()&&isFullWidthContainerFocused||!nextEl)&&this.beans.rowRenderer.onTabKeyDown(this,keyboardEvent)}},RowController.prototype.onFullWidthRowFocused=function(event){var node=this.rowNode,isFocused=this.isFullWidth()&&event.rowIndex===node.rowIndex&&event.rowPinned==node.rowPinned,element=this.fullWidthRowComp?this.fullWidthRowComp.getGui():this.centerRowComp.getGui();addOrRemoveCssClass(element,\"ag-full-width-focus\",isFocused),isFocused&&element.focus({preventScroll:!0})},RowController.prototype.refreshCell=function(cellComp){this.allRowComps.forEach((function(rc){return rc.destroyCells([cellComp])})),this.updateColumnLists()},RowController.prototype.onMouseEvent=function(eventName,mouseEvent){switch(eventName){case\"dblclick\":this.onRowDblClick(mouseEvent);break;case\"click\":this.onRowClick(mouseEvent);break;case\"mousedown\":this.onRowMouseDown(mouseEvent)}},RowController.prototype.createRowEvent=function(type,domEvent){return{type:type,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:domEvent}},RowController.prototype.createRowEventWithSource=function(type,domEvent){var event=this.createRowEvent(type,domEvent);return event.source=this,event},RowController.prototype.onRowDblClick=function(mouseEvent){if(!isStopPropagationForAgGrid(mouseEvent)){var agEvent=this.createRowEventWithSource(Events.EVENT_ROW_DOUBLE_CLICKED,mouseEvent);this.beans.eventService.dispatchEvent(agEvent)}},RowController.prototype.onRowMouseDown=function(mouseEvent){if(this.lastMouseDownOnDragger=isElementChildOfClass(mouseEvent.target,\"ag-row-drag\",3),this.isFullWidth()){var node=this.rowNode;this.beans.focusController.setFocusedCell(node.rowIndex,this.beans.columnController.getAllDisplayedColumns()[0],node.rowPinned,!0)}},RowController.prototype.onRowClick=function(mouseEvent){if(!isStopPropagationForAgGrid(mouseEvent)&&!this.lastMouseDownOnDragger){var agEvent=this.createRowEventWithSource(Events.EVENT_ROW_CLICKED,mouseEvent);this.beans.eventService.dispatchEvent(agEvent);var multiSelectKeyPressed=mouseEvent.ctrlKey||mouseEvent.metaKey,shiftKeyPressed=mouseEvent.shiftKey;if(!(this.beans.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsWrapper.isRowSelection()||this.beans.gridOptionsWrapper.isSuppressRowClickSelection())){var multiSelectOnClick=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),rowDeselectionWithCtrl=!this.beans.gridOptionsWrapper.isSuppressRowDeselection();this.rowNode.isSelected()?multiSelectOnClick?this.rowNode.setSelectedParams({newValue:!1}):multiSelectKeyPressed?rowDeselectionWithCtrl&&this.rowNode.setSelectedParams({newValue:!1}):this.rowNode.setSelectedParams({newValue:!shiftKeyPressed,clearSelection:!shiftKeyPressed,rangeSelect:shiftKeyPressed}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!multiSelectOnClick&&!multiSelectKeyPressed,rangeSelect:shiftKeyPressed})}}},RowController.prototype.setupDetailRowAutoHeight=function(eDetailGui){var _this=this;if(this.beans.gridOptionsWrapper.isDetailRowAutoHeight()){var checkRowSizeFunc=function(){var clientHeight=eDetailGui.clientHeight;null!=clientHeight&&clientHeight>0&&_this.beans.frameworkOverrides.setTimeout((function(){_this.rowNode.setRowHeight(clientHeight),_this.beans.clientSideRowModel?_this.beans.clientSideRowModel.onRowHeightChanged():_this.beans.serverSideRowModel&&_this.beans.serverSideRowModel.onRowHeightChanged()}),0)},resizeObserverDestroyFunc=this.beans.resizeObserverService.observeResize(eDetailGui,checkRowSizeFunc);this.addDestroyFunc(resizeObserverDestroyFunc),checkRowSizeFunc()}},RowController.prototype.createFullWidthParams=function(eRow,pinned){var _this=this;return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,$scope:this.scope?this.scope:this.parentScope,$compile:this.beans.$compile,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:eRow,eParentOfValue:eRow,pinned:pinned,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(rowDraggerElement,dragStartPixels,value){return _this.addFullWidthRowDragging(rowDraggerElement,dragStartPixels,value)}}},RowController.prototype.addFullWidthRowDragging=function(rowDraggerElement,dragStartPixels,value){if(void 0===value&&(value=\"\"),this.isFullWidth()){var rowDragComp=new RowDragComp((function(){return value}),this.rowNode,void 0,rowDraggerElement,dragStartPixels);this.createManagedBean(rowDragComp,this.beans.context)}},RowController.prototype.onUiLevelChanged=function(){var newLevel=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=newLevel){var classToAdd_1=\"ag-row-level-\"+newLevel,classToRemove_1=\"ag-row-level-\"+this.rowLevel;this.allRowComps.forEach((function(rowComp){var eGui=rowComp.getGui();addCssClass(eGui,classToAdd_1),removeCssClass(eGui,classToRemove_1)}))}this.rowLevel=newLevel},RowController.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},RowController.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},RowController.prototype.onModelUpdated=function(){var newFirst=this.isFirstRowOnPage(),newLast=this.isLastRowOnPage();this.firstRowOnPage!==newFirst&&(this.firstRowOnPage=newFirst,this.allRowComps.forEach((function(rowComp){return addOrRemoveCssClass(rowComp.getGui(),\"ag-row-first\",newFirst)}))),this.lastRowOnPage!==newLast&&(this.lastRowOnPage=newLast,this.allRowComps.forEach((function(rowComp){return addOrRemoveCssClass(rowComp.getGui(),\"ag-row-last\",newLast)})))},RowController.prototype.stopEditing=function(cancel){if(void 0===cancel&&(cancel=!1),this.forEachCellComp((function(renderedCell){renderedCell.stopEditing(cancel)})),this.editingRow){if(!cancel){var event_1=this.createRowEvent(Events.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(event_1)}this.setEditingRow(!1)}},RowController.prototype.setEditingRow=function(value){this.editingRow=value,this.allRowComps.forEach((function(rowComp){return addOrRemoveCssClass(rowComp.getGui(),\"ag-row-editing\",value)}));var event=this.createRowEvent(value?Events.EVENT_ROW_EDITING_STARTED:Events.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(event)},RowController.prototype.startRowEditing=function(keyPress,charPress,sourceRenderedCell){void 0===keyPress&&(keyPress=null),void 0===charPress&&(charPress=null),void 0===sourceRenderedCell&&(sourceRenderedCell=null),this.editingRow||(this.forEachCellComp((function(renderedCell){var cellStartedEdit=renderedCell===sourceRenderedCell;cellStartedEdit?renderedCell.startEditingIfEnabled(keyPress,charPress,cellStartedEdit):renderedCell.startEditingIfEnabled(null,null,cellStartedEdit)})),this.setEditingRow(!0))},RowController.prototype.forEachCellComp=function(callback){this.allRowComps.forEach((function(rc){return rc.forEachCellComp(callback)}))},RowController.prototype.postProcessClassesFromGridOptions=function(){var _this=this,cssClasses=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode,this.scope);cssClasses&&cssClasses.length&&cssClasses.forEach((function(classStr){_this.allRowComps.forEach((function(rowComp){return addCssClass(rowComp.getGui(),classStr)}))}))},RowController.prototype.postProcessRowClassRules=function(){var _this=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,this.scope,(function(className){_this.allRowComps.forEach((function(rowComp){return addCssClass(rowComp.getGui(),className)}))}),(function(className){_this.allRowComps.forEach((function(rowComp){return removeCssClass(rowComp.getGui(),className)}))}))},RowController.prototype.postProcessStylesFromGridOptions=function(){var rowStyles=this.processStylesFromGridOptions();this.allRowComps.forEach((function(rowComp){return addStylesToElement(rowComp.getGui(),rowStyles)}))},RowController.prototype.getInitialRowTopStyle=function(){if(this.printLayout)return\"\";var pixels=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,afterPaginationPixels=this.applyPaginationOffset(pixels),afterScalingPixels=this.rowNode.isRowPinned()?afterPaginationPixels:this.beans.rowContainerHeightService.getRealPixelPosition(afterPaginationPixels);return this.beans.gridOptionsWrapper.isSuppressRowTransform()?\"top: \"+afterScalingPixels+\"px; \":\"transform: translateY(\"+afterScalingPixels+\"px);\"},RowController.prototype.getRowBusinessKey=function(){var businessKeyForNodeFunc=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if(\"function\"==typeof businessKeyForNodeFunc)return businessKeyForNodeFunc(this.rowNode)},RowController.prototype.getInitialRowClasses=function(pinned){var params={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeRowIn,rowIsEven:this.rowIsEven,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),scope:this.scope,pinned:pinned};return this.beans.rowCssClassCalculator.getInitialRowClasses(params)},RowController.prototype.preProcessStylesFromGridOptions=function(){return cssStyleObjectToMarkup(this.processStylesFromGridOptions())},RowController.prototype.processStylesFromGridOptions=function(){var rowStyle=this.beans.gridOptionsWrapper.getRowStyle();if(!rowStyle||\"function\"!=typeof rowStyle){var rowStyleFuncResult,rowStyleFunc=this.beans.gridOptionsWrapper.getRowStyleFunc();return rowStyleFunc&&(rowStyleFuncResult=rowStyleFunc({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()})),assign({},rowStyle,rowStyleFuncResult)}console.warn(\"AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead\")},RowController.prototype.onRowSelected=function(){var _this=this,selected=this.rowNode.isSelected();this.allRowComps.forEach((function(rowComp){var eGui=rowComp.getGui();setAriaSelected(eGui,selected),addOrRemoveCssClass(eGui,\"ag-row-selected\",selected),_this.refreshAriaLabel(eGui,selected)}))},RowController.prototype.refreshAriaLabel=function(node,selected){selected&&this.beans.gridOptionsWrapper.isSuppressRowDeselection()?node.removeAttribute(\"aria-label\"):setAriaLabel(node,this.beans.gridOptionsWrapper.getLocaleTextFunc()(selected?\"ariaRowDeselect\":\"ariaRowSelect\",\"Press SPACE to \"+(selected?\"deselect\":\"select\")+\" this row.\"))},RowController.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},RowController.prototype.addHoverFunctionality=function(eRow){var _this=this;this.active&&(this.addManagedListener(eRow,\"mouseenter\",(function(){return _this.rowNode.onMouseEnter()})),this.addManagedListener(eRow,\"mouseleave\",(function(){return _this.rowNode.onMouseLeave()})),this.addManagedListener(this.rowNode,RowNode.EVENT_MOUSE_ENTER,(function(){_this.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||addCssClass(eRow,\"ag-row-hover\")})),this.addManagedListener(this.rowNode,RowNode.EVENT_MOUSE_LEAVE,(function(){removeCssClass(eRow,\"ag-row-hover\")})))},RowController.prototype.roundRowTopToBounds=function(rowTop){var range=this.beans.controllersService.getGridBodyController().getScrollFeature().getVScrollPosition(),minPixel=this.applyPaginationOffset(range.top,!0)-100,maxPixel=this.applyPaginationOffset(range.bottom,!0)+100;return Math.min(Math.max(minPixel,rowTop),maxPixel)},RowController.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},RowController.prototype.onRowHeightChanged=function(){if(exists(this.rowNode.rowHeight)){var heightPx_1=this.rowNode.rowHeight+\"px\";this.allRowComps.forEach((function(rowComp){return rowComp.getGui().style.height=heightPx_1}))}},RowController.prototype.addEventListener=function(eventType,listener){\"renderedRowRemoved\"!==eventType&&\"rowRemoved\"!==eventType||(eventType=Events.EVENT_VIRTUAL_ROW_REMOVED,console.warn(\"AG Grid: Since version 11, event renderedRowRemoved is now called \"+Events.EVENT_VIRTUAL_ROW_REMOVED)),_super.prototype.addEventListener.call(this,eventType,listener)},RowController.prototype.removeEventListener=function(eventType,listener){\"renderedRowRemoved\"!==eventType&&\"rowRemoved\"!==eventType||(eventType=Events.EVENT_VIRTUAL_ROW_REMOVED,console.warn(\"AG Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called \"+Events.EVENT_VIRTUAL_ROW_REMOVED)),_super.prototype.removeEventListener.call(this,eventType,listener)},RowController.prototype.destroyFirstPass=function(){this.active=!1,this.setupRemoveAnimation();var event=this.createRowEvent(Events.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(event),this.beans.eventService.dispatchEvent(event),_super.prototype.destroy.call(this)},RowController.prototype.setupRemoveAnimation=function(){if(null!=this.rowNode.rowTop){var rowTop=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(rowTop)}else this.allRowComps.forEach((function(rowComp){addCssClass(rowComp.getGui(),\"ag-opacity-zero\")}))},RowController.prototype.destroySecondPass=function(){this.allRowComps.forEach((function(c){return c.destroy()})),this.allRowComps.length=0},RowController.prototype.onCellFocusChanged=function(){var rowFocused=this.beans.focusController.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);rowFocused!==this.rowFocused&&(this.allRowComps.forEach((function(rowComp){var eRow=rowComp.getGui();addOrRemoveCssClass(eRow,\"ag-row-focus\",rowFocused),addOrRemoveCssClass(eRow,\"ag-row-no-focus\",!rowFocused)})),this.rowFocused=rowFocused),!rowFocused&&this.editingRow&&this.stopEditing(!1)},RowController.prototype.onPaginationChanged=function(){var currentPage=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==currentPage&&(this.paginationPage=currentPage,this.onTopChanged())},RowController.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},RowController.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},RowController.prototype.applyPaginationOffset=function(topPx,reverse){return void 0===reverse&&(reverse=!1),this.rowNode.isRowPinned()?topPx:topPx+this.beans.paginationProxy.getPixelOffset()*(reverse?1:-1)},RowController.prototype.setRowTop=function(pixels){if(!this.printLayout&&exists(pixels)){var afterPaginationPixels=this.applyPaginationOffset(pixels),topPx_1=(this.rowNode.isRowPinned()?afterPaginationPixels:this.beans.rowContainerHeightService.getRealPixelPosition(afterPaginationPixels))+\"px\",suppressRowTransform_1=this.beans.gridOptionsWrapper.isSuppressRowTransform();this.allRowComps.forEach((function(rowComp){var eGui=rowComp.getGui();suppressRowTransform_1?eGui.style.top=topPx_1:eGui.style.transform=\"translateY(\"+topPx_1+\")\"}))}},RowController.prototype.getRowNode=function(){return this.rowNode},RowController.prototype.getRenderedCellForColumn=function(column){var cellComp=find(this.allRowComps.map((function(rc){return rc.getCellComp(column.getColId())})),(function(c){return!!c}));return cellComp||(cellComp=find(this.allRowComps.map((function(rc){return rc.getCellCompSpanned(column)})),(function(c){return!!c})))||null},RowController.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes())},RowController.prototype.updateRowIndexes=function(){var _this=this,rowIndexStr=this.rowNode.getRowIndexString(),rowIsEven=this.rowNode.rowIndex%2==0,rowIsEvenChanged=this.rowIsEven!==rowIsEven,headerRowCount=this.beans.headerNavigationService.getHeaderRowCount();rowIsEvenChanged&&(this.rowIsEven=rowIsEven),this.allRowComps.forEach((function(rowComp){var eRow=rowComp.getGui();eRow.setAttribute(\"row-index\",rowIndexStr),setAriaRowIndex(eRow,headerRowCount+_this.rowNode.rowIndex+1),rowIsEvenChanged&&(addOrRemoveCssClass(eRow,\"ag-row-even\",rowIsEven),addOrRemoveCssClass(eRow,\"ag-row-odd\",!rowIsEven))}))},RowController.prototype.getPinnedLeftRowElement=function(){return this.leftRowComp?this.leftRowComp.getGui():void 0},RowController.prototype.getPinnedRightRowElement=function(){return this.rightRowComp?this.rightRowComp.getGui():void 0},RowController.prototype.getBodyRowElement=function(){return this.centerRowComp?this.centerRowComp.getGui():void 0},RowController.prototype.getFullWidthRowElement=function(){return this.fullWidthRowComp?this.fullWidthRowComp.getGui():void 0},RowController.DOM_DATA_KEY_RENDERED_ROW=\"renderedRow\",RowController}(BeanStub);(SelectionHandleType=exports.SelectionHandleType||(exports.SelectionHandleType={}))[SelectionHandleType.FILL=0]=\"FILL\",SelectionHandleType[SelectionHandleType.RANGE=1]=\"RANGE\",(CellRangeType=exports.CellRangeType||(exports.CellRangeType={}))[CellRangeType.VALUE=0]=\"VALUE\",CellRangeType[CellRangeType.DIMENSION=1]=\"DIMENSION\";var HeaderRowType,__extends$G=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),PopupEditorWrapper=function(_super){function PopupEditorWrapper(cellEditor){var _this=_super.call(this,'<div class=\"ag-popup-editor\" tabindex=\"-1\"/>')||this;return _this.getGuiCalledOnChild=!1,_this.cellEditor=cellEditor,_this}return __extends$G(PopupEditorWrapper,_super),PopupEditorWrapper.prototype.onKeyDown=function(event){isUserSuppressingKeyboardEvent(this.gridOptionsWrapper,event,this.params.node,this.params.column,!0)||this.params.onKeyDown(event)},PopupEditorWrapper.prototype.getGui=function(){return this.getGuiCalledOnChild||(this.appendChild(this.cellEditor.getGui()),this.getGuiCalledOnChild=!0),_super.prototype.getGui.call(this)},PopupEditorWrapper.prototype.init=function(params){var _this=this;this.params=params,this.gridOptionsWrapper.setDomData(this.getGui(),PopupEditorWrapper.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addDestroyFunc((function(){return _this.destroyBean(_this.cellEditor)})),this.addManagedListener(_super.prototype.getGui.call(this),\"keydown\",this.onKeyDown.bind(this))},PopupEditorWrapper.prototype.afterGuiAttached=function(){this.cellEditor.afterGuiAttached&&this.cellEditor.afterGuiAttached()},PopupEditorWrapper.prototype.getValue=function(){return this.cellEditor.getValue()},PopupEditorWrapper.prototype.isCancelBeforeStart=function(){return!!this.cellEditor.isCancelBeforeStart&&this.cellEditor.isCancelBeforeStart()},PopupEditorWrapper.prototype.isCancelAfterEnd=function(){return!!this.cellEditor.isCancelAfterEnd&&this.cellEditor.isCancelAfterEnd()},PopupEditorWrapper.prototype.getPopupPosition=function(){if(this.cellEditor.getPopupPosition)return this.cellEditor.getPopupPosition()},PopupEditorWrapper.prototype.focusIn=function(){this.cellEditor.focusIn&&this.cellEditor.focusIn()},PopupEditorWrapper.prototype.focusOut=function(){this.cellEditor.focusOut&&this.cellEditor.focusOut()},PopupEditorWrapper.DOM_KEY_POPUP_EDITOR_WRAPPER=\"popupEditorWrapper\",PopupEditorWrapper}(PopupComponent),__extends$H=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),DndSourceComp=function(_super){function DndSourceComp(rowNode,column,beans,eCell){var _this=_super.call(this,'<div class=\"ag-drag-handle ag-row-drag\" draggable=\"true\"></div>')||this;return _this.rowNode=rowNode,_this.column=column,_this.beans=beans,_this.eCell=eCell,_this}return __extends$H(DndSourceComp,_super),DndSourceComp.prototype.postConstruct=function(){this.getGui().appendChild(createIconNoSpan(\"rowDrag\",this.beans.gridOptionsWrapper,null)),this.addGuiEventListener(\"mousedown\",(function(e){e.stopPropagation()})),this.addDragSource(),this.checkVisibility()},DndSourceComp.prototype.addDragSource=function(){this.addGuiEventListener(\"dragstart\",this.onDragStart.bind(this))},DndSourceComp.prototype.onDragStart=function(dragEvent){var _this=this,providedOnRowDrag=this.column.getColDef().dndSourceOnRowDrag,isIE=isBrowserIE();isIE||dragEvent.dataTransfer.setDragImage(this.eCell,0,0),providedOnRowDrag?providedOnRowDrag({rowNode:this.rowNode,dragEvent:dragEvent}):function(){try{var jsonData=JSON.stringify(_this.rowNode.data);isIE?dragEvent.dataTransfer.setData(\"text\",jsonData):(dragEvent.dataTransfer.setData(\"application/json\",jsonData),dragEvent.dataTransfer.setData(\"text/plain\",jsonData))}catch(e){}}()},DndSourceComp.prototype.checkVisibility=function(){var visible=this.column.isDndSource(this.rowNode);this.setDisplayed(visible)},function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);c>3&&r&&Object.defineProperty(target,key,r)}([PostConstruct],DndSourceComp.prototype,\"postConstruct\",null),DndSourceComp}(Component),__extends$I=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__assign$4=function(){return(__assign$4=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},CellComp=function(_super){function CellComp(scope,beans,column,rowNode,rowComp,autoHeightCell,printLayout,eRow,editingRow){var _this=_super.call(this)||this;return _this.hasChartRange=!1,_this.editingCell=!1,_this.suppressRefreshCell=!1,_this.tooltipFeatureEnabled=!1,_this.scope=null,_this.cellEditorVersion=0,_this.cellRendererVersion=0,_this.scope=scope,_this.beans=beans,_this.column=column,_this.rowNode=rowNode,_this.rowComp=rowComp,_this.autoHeightCell=autoHeightCell,_this.printLayout=printLayout,_this.eRow=eRow,_this.createGridCellVo(),_this.rangeSelectionEnabled=_this.beans.rangeController&&beans.gridOptionsWrapper.isEnableRangeSelection(),_this.cellFocused=_this.beans.focusController.isCellFocused(_this.cellPosition),_this.firstRightPinned=_this.column.isFirstRightPinned(),_this.lastLeftPinned=_this.column.isLastLeftPinned(),_this.rangeSelectionEnabled&&_this.beans.rangeController&&(_this.rangeCount=_this.beans.rangeController.getCellRangeCount(_this.cellPosition),_this.hasChartRange=_this.getHasChartRange()),_this.getValueAndFormat(),_this.setUsingWrapper(),_this.chooseCellRenderer(),_this.setupColSpan(),_this.rowSpan=_this.column.getRowSpan(_this.rowNode),_this.setTemplate(_this.getCreateTemplate()),_this.afterAttached(),editingRow&&_this.startEditingIfEnabled(),_this}return __extends$I(CellComp,_super),CellComp.prototype.getCreateTemplate=function(){var unselectable=this.beans.gridOptionsWrapper.isEnableCellTextSelection()?\"\":' unselectable=\"on\"',templateParts=[],col=this.column,width=this.getCellWidth(),left=this.modifyLeftForPrintLayout(this.getCellLeft()),valueToRender=this.getInitialValueToRender(),valueSanitised=get(this.column,\"colDef.template\",null)?valueToRender:escapeString(valueToRender);this.tooltip=this.getToolTip();var tooltipSanitised=escapeString(this.tooltip),colIdSanitised=escapeString(col.getId()),stylesFromColDef=this.preProcessStylesFromColDef(),cssClasses=this.getInitialCssClasses(),stylesForRowSpanning=this.getStylesForRowSpanning(),colIdxSanitised=escapeString(this.beans.columnController.getAriaColumnIndex(this.column).toString());return templateParts.push(\"<div\"),templateParts.push(' tabindex=\"-1\"'),templateParts.push(\"\"+unselectable),templateParts.push(' role=\"gridcell\"'),templateParts.push(' aria-colindex=\"'+colIdxSanitised+'\"'),templateParts.push(' comp-id=\"'+this.getCompId()+'\" '),templateParts.push(' col-id=\"'+colIdSanitised+'\"'),templateParts.push(' class=\"'+escapeString(cssClasses.join(\" \"))+'\"'),this.beans.gridOptionsWrapper.isEnableBrowserTooltips()&&exists(tooltipSanitised)&&templateParts.push(' title=\"'+tooltipSanitised+'\"'),this.rangeSelectionEnabled&&templateParts.push(' aria-selected=\"'+(this.rangeCount?\"true\":\"false\")+'\"'),templateParts.push(' style=\"width: '+Number(width)+\"px; left: \"+Number(left)+\"px; \"+escapeString(stylesFromColDef)+\" \"+escapeString(stylesForRowSpanning)+'\">'),this.usingWrapper?templateParts.push(this.getCellWrapperString(valueSanitised)):null!=valueSanitised&&templateParts.push(valueSanitised),templateParts.push(\"</div>\"),templateParts.join(\"\")},CellComp.prototype.getCellWrapperString=function(value){return void 0===value&&(value=\"\"),'<div ref=\"eCellWrapper\" class=\"ag-cell-wrapper\" role=\"presentation\">\\n            <span ref=\"eCellValue\" role=\"presentation\" class=\"ag-cell-value\"'+(this.beans.gridOptionsWrapper.isEnableCellTextSelection()?\"\":' unselectable=\"on\"')+\">\\n                \"+(null!=value?value:\"\")+\"\\n            </span>\\n        </div>\"},CellComp.prototype.getStylesForRowSpanning=function(){return 1===this.rowSpan?\"\":\"height: \"+this.beans.gridOptionsWrapper.getRowHeightAsNumber()*this.rowSpan+\"px; z-index: 1;\"},CellComp.prototype.afterAttached=function(){this.addDomData(),this.populateTemplate(),this.createCellRendererInstance(!0),this.angular1Compile(),this.refreshHandle(),exists(this.tooltip)&&this.createTooltipFeatureIfNeeded()},CellComp.prototype.createTooltipFeatureIfNeeded=function(){this.beans.gridOptionsWrapper.isEnableBrowserTooltips()||this.tooltipFeatureEnabled||(this.createManagedBean(new TooltipFeature(this),this.beans.context),this.tooltipFeatureEnabled=!0)},CellComp.prototype.onColumnHover=function(){var isHovered=this.beans.columnHoverService.isHovered(this.column);this.addOrRemoveCssClass(\"ag-column-hover\",isHovered)},CellComp.prototype.onCellChanged=function(event){event.column===this.column&&this.refreshCell({})},CellComp.prototype.getCellLeft=function(){return(this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?last(this.colsSpanning):this.column).getLeft()},CellComp.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce((function(width,col){return width+col.getActualWidth()}),0):this.column.getActualWidth()},CellComp.prototype.onFlashCells=function(event){var cellId=this.beans.cellPositionUtils.createId(this.cellPosition);event.cells[cellId]&&this.animateCell(\"highlight\")},CellComp.prototype.setupColSpan=function(){missing(this.getComponentHolder().colSpan)||(this.addManagedListener(this.beans.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)),this.colsSpanning=this.getColSpanningList())},CellComp.prototype.getColSpanningList=function(){var colSpan=this.column.getColSpan(this.rowNode),colsSpanning=[];if(1===colSpan)colsSpanning.push(this.column);else for(var pointer=this.column,pinned=this.column.getPinned(),i=0;pointer&&i<colSpan&&(colsSpanning.push(pointer),(pointer=this.beans.columnController.getDisplayedColAfter(pointer))&&!missing(pointer))&&pinned===pointer.getPinned();i++);return colsSpanning},CellComp.prototype.onDisplayColumnsChanged=function(){var colsSpanning=this.getColSpanningList();areEqual(this.colsSpanning,colsSpanning)||(this.colsSpanning=colsSpanning,this.onWidthChanged(),this.onLeftChanged())},CellComp.prototype.refreshAriaIndex=function(){var colIdx=this.beans.columnController.getAriaColumnIndex(this.column);setAriaColIndex(this.getGui(),colIdx)},CellComp.prototype.getInitialCssClasses=function(){var cssClasses=[\"ag-cell\",\"ag-cell-not-inline-editing\"];return this.autoHeightCell||cssClasses.push(\"ag-cell-auto-height\"),!this.beans.gridOptionsWrapper.isSuppressCellSelection()&&this.cellFocused&&cssClasses.push(\"ag-cell-focus\"),this.firstRightPinned&&cssClasses.push(\"ag-cell-first-right-pinned\"),this.lastLeftPinned&&cssClasses.push(\"ag-cell-last-left-pinned\"),this.beans.columnHoverService.isHovered(this.column)&&cssClasses.push(\"ag-column-hover\"),pushAll(cssClasses,this.preProcessClassesFromColDef()),pushAll(cssClasses,this.preProcessCellClassRules()),pushAll(cssClasses,this.getInitialRangeClasses()),this.usingWrapper||cssClasses.push(\"ag-cell-value\"),this.wrapText=1==this.column.getColDef().wrapText,this.wrapText&&cssClasses.push(\"ag-cell-wrap-text\"),cssClasses},CellComp.prototype.getInitialValueToRender=function(){if(this.usingCellRenderer)return\"string\"==typeof this.cellRendererGui?this.cellRendererGui:\"\";var colDef=this.getComponentHolder();return colDef.template?colDef.template:colDef.templateUrl?this.beans.templateService.getTemplate(colDef.templateUrl,this.refreshCell.bind(this,!0))||\"\":this.getValueToUse()},CellComp.prototype.getRenderedRow=function(){return this.rowComp},CellComp.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},CellComp.prototype.getCellRenderer=function(){return this.cellRenderer},CellComp.prototype.getCellEditor=function(){return this.cellEditor},CellComp.prototype.onNewColumnsLoaded=function(){this.postProcessWrapText(),this.postProcessCellClassRules()},CellComp.prototype.postProcessWrapText=function(){var newValue=1==this.column.getColDef().wrapText;newValue!==this.wrapText&&(this.wrapText=newValue,this.addOrRemoveCssClass(\"ag-cell-wrap-text\",this.wrapText))},CellComp.prototype.refreshCell=function(params){if(!this.suppressRefreshCell&&!this.editingCell){var colDef=this.getComponentHolder(),newData=params&&params.newData,suppressFlash=params&&params.suppressFlash||colDef.suppressCellFlash,forceRefresh=params&&params.forceRefresh||null==colDef.field&&null==colDef.valueGetter&&null==colDef.showRowGroup||newData,oldValue=this.value;this.value=this.getValue();var valuesDifferent=!this.valuesAreEqual(oldValue,this.value);if(forceRefresh||valuesDifferent){this.valueFormatted=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,this.value),!newData&&this.attemptCellRendererRefresh()||this.replaceContentsAfterRefresh();var processingFilterChange=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!suppressFlash&&!processingFilterChange&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||colDef.enableCellChangeFlash)&&this.flashCell(),this.postProcessStylesFromColDef(),this.postProcessClassesFromColDef()}this.updateAngular1ScopeAndCompile(),this.refreshToolTip(),this.postProcessCellClassRules()}},CellComp.prototype.flashCell=function(delays){this.animateCell(\"data-changed\",delays&&delays.flashDelay,delays&&delays.fadeDelay)},CellComp.prototype.animateCell=function(cssName,flashDelay,fadeDelay){var _this=this,fullName=\"ag-cell-\"+cssName,animationFullName=\"ag-cell-\"+cssName+\"-animation\",element=this.getGui(),gridOptionsWrapper=this.beans.gridOptionsWrapper;flashDelay||(flashDelay=gridOptionsWrapper.getCellFlashDelay()),exists(fadeDelay)||(fadeDelay=gridOptionsWrapper.getCellFadeDelay()),this.addCssClass(fullName),this.removeCssClass(animationFullName),window.setTimeout((function(){_this.removeCssClass(fullName),_this.addCssClass(animationFullName),element.style.transition=\"background-color \"+fadeDelay+\"ms\",window.setTimeout((function(){_this.removeCssClass(animationFullName),element.style.removeProperty(\"transition\")}),fadeDelay)}),flashDelay)},CellComp.prototype.replaceContentsAfterRefresh=function(){this.setUsingWrapper(),clearElement(this.eCellValue),this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),this.cellRendererGui=null,this.putDataIntoCellAfterRefresh(),this.updateAngular1ScopeAndCompile()},CellComp.prototype.updateAngular1ScopeAndCompile=function(){this.beans.gridOptionsWrapper.isAngularCompileRows()&&this.scope&&(this.scope.data=__assign$4({},this.rowNode.data),this.angular1Compile())},CellComp.prototype.angular1Compile=function(){if(this.beans.gridOptionsWrapper.isAngularCompileRows()){var eGui=this.getGui();if(!eGui.classList.contains(\"ng-scope\")||0===eGui.childElementCount){var compiledElement_1=this.beans.$compile(eGui)(this.scope);this.addDestroyFunc((function(){return compiledElement_1.remove()}))}}},CellComp.prototype.postProcessStylesFromColDef=function(){var stylesToUse=this.processStylesFromColDef();stylesToUse&&addStylesToElement(this.getGui(),stylesToUse)},CellComp.prototype.preProcessStylesFromColDef=function(){return cssStyleObjectToMarkup(this.processStylesFromColDef())},CellComp.prototype.processStylesFromColDef=function(){var colDef=this.getComponentHolder();if(colDef.cellStyle){var cssToUse=void 0;if(\"function\"==typeof colDef.cellStyle){var cellStyleParams={column:this.column,value:this.value,colDef:colDef,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};cssToUse=(0,colDef.cellStyle)(cellStyleParams)}else cssToUse=colDef.cellStyle;return cssToUse}},CellComp.prototype.postProcessClassesFromColDef=function(){var _this=this;this.processClassesFromColDef((function(className){return _this.addCssClass(className)}))},CellComp.prototype.preProcessClassesFromColDef=function(){var res=[];return this.processClassesFromColDef((function(className){return res.push(className)})),res},CellComp.prototype.processClassesFromColDef=function(onApplicableClass){var colDef=this.getComponentHolder(),cellClassParams={value:this.value,data:this.rowNode.data,node:this.rowNode,colDef:colDef,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.beans.stylingService.processStaticCellClasses(colDef,cellClassParams,onApplicableClass)},CellComp.prototype.putDataIntoCellAfterRefresh=function(){var colDef=this.getComponentHolder();if(colDef.template)this.eCellValue.innerHTML=colDef.template;else if(colDef.templateUrl){var template=this.beans.templateService.getTemplate(colDef.templateUrl,this.refreshCell.bind(this,!0));template&&(this.eCellValue.innerHTML=template)}else if(this.chooseCellRenderer(),this.usingCellRenderer)this.createCellRendererInstance();else{var valueToUse=this.getValueToUse();null!=valueToUse&&(this.eCellValue.innerHTML=escapeString(valueToUse)||\"\")}},CellComp.prototype.attemptCellRendererRefresh=function(){if(missing(this.cellRenderer)||!this.cellRenderer||missing(this.cellRenderer.refresh))return!1;var params=this.createCellRendererParams(),finalParams=this.beans.userComponentFactory.createFinalParams(this.getComponentHolder(),this.cellRendererType,params),result=this.cellRenderer.refresh(finalParams);return!0===result||void 0===result},CellComp.prototype.refreshToolTip=function(){var newTooltip=this.getToolTip();if(this.tooltip!==newTooltip){this.createTooltipFeatureIfNeeded();var hasNewTooltip=exists(newTooltip);hasNewTooltip&&this.tooltip===newTooltip.toString()||(this.tooltip=newTooltip,this.beans.gridOptionsWrapper.isEnableBrowserTooltips()&&(hasNewTooltip?this.eCellValue.setAttribute(\"title\",this.tooltip):this.eCellValue.removeAttribute(\"title\")))}},CellComp.prototype.valuesAreEqual=function(val1,val2){var colDef=this.getComponentHolder(),equalsMethod=colDef?colDef.equals:null;return equalsMethod?equalsMethod(val1,val2):val1===val2},CellComp.prototype.getToolTip=function(){var colDef=this.getComponentHolder(),data=this.rowNode.data;if(colDef.tooltipField&&exists(data))return getValueUsingField(data,colDef.tooltipField,this.column.isTooltipFieldContainsDots());var valueGetter=colDef.tooltipValueGetter;return valueGetter?valueGetter(__assign$4(__assign$4({api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},this.getTooltipParams()),{value:this.value})):null},CellComp.prototype.getTooltipParams=function(){return{location:\"cell\",colDef:this.getComponentHolder(),column:this.getColumn(),rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.getTooltipText(),valueFormatted:this.valueFormatted}},CellComp.prototype.getTooltipText=function(escape){return void 0===escape&&(escape=!0),escape?escapeString(this.tooltip):this.tooltip},CellComp.prototype.processCellClassRules=function(onApplicableClass,onNotApplicableClass){var colDef=this.getComponentHolder(),cellClassParams={value:this.value,data:this.rowNode.data,node:this.rowNode,colDef:colDef,rowIndex:this.cellPosition.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),$scope:this.scope,context:this.beans.gridOptionsWrapper.getContext()};this.beans.stylingService.processClassRules(colDef.cellClassRules,cellClassParams,onApplicableClass,onNotApplicableClass)},CellComp.prototype.postProcessCellClassRules=function(){var _this=this;this.processCellClassRules((function(className){return _this.addCssClass(className)}),(function(className){return _this.removeCssClass(className)}))},CellComp.prototype.preProcessCellClassRules=function(){var res=[];return this.processCellClassRules((function(className){return res.push(className)}),(function(_){})),res},CellComp.prototype.setUsingWrapper=function(){var colDef=this.getComponentHolder();if(this.rowNode.rowPinned)return this.usingWrapper=!1,this.includeSelectionComponent=!1,this.includeRowDraggingComponent=!1,void(this.includeDndSourceComponent=!1);var rowDraggableIsFunc=\"function\"==typeof colDef.rowDrag,dndSourceIsFunc=\"function\"==typeof colDef.dndSource;this.includeSelectionComponent=\"function\"==typeof colDef.checkboxSelection||!0===colDef.checkboxSelection,this.includeRowDraggingComponent=rowDraggableIsFunc||!0===colDef.rowDrag,this.includeDndSourceComponent=dndSourceIsFunc||!0===colDef.dndSource;var enableTextSelection=this.beans.gridOptionsWrapper.isEnableCellTextSelection();this.usingWrapper=enableTextSelection||this.includeRowDraggingComponent||this.includeSelectionComponent||this.includeDndSourceComponent},CellComp.prototype.chooseCellRenderer=function(){var colDef=this.getComponentHolder();if(colDef.template||colDef.templateUrl)this.usingCellRenderer=!1;else{var params=this.createCellRendererParams();this.rowNode.rowPinned&&this.beans.userComponentFactory.lookupComponentClassDef(colDef,\"pinnedRowCellRenderer\",params)?(this.cellRendererType=CellComp.CELL_RENDERER_TYPE_PINNED,this.usingCellRenderer=!0):this.beans.userComponentFactory.lookupComponentClassDef(colDef,\"cellRenderer\",params)?(this.cellRendererType=CellComp.CELL_RENDERER_TYPE_NORMAL,this.usingCellRenderer=!0):this.usingCellRenderer=!1}},CellComp.prototype.createCellRendererInstance=function(useTaskService){var _this=this;if(void 0===useTaskService&&(useTaskService=!1),this.usingCellRenderer){var angularCompileRows=this.beans.gridOptionsWrapper.isAngularCompileRows(),suppressAnimationFrame=this.beans.gridOptionsWrapper.isSuppressAnimationFrame();(angularCompileRows||suppressAnimationFrame||this.autoHeightCell)&&(useTaskService=!1);var params=this.createCellRendererParams();this.cellRendererVersion++;var callback=this.afterCellRendererCreated.bind(this,this.cellRendererVersion),cellRendererTypeNormal=this.cellRendererType===CellComp.CELL_RENDERER_TYPE_NORMAL;this.createCellRendererFunc=function(){_this.createCellRendererFunc=null;var componentPromise=_this.beans.userComponentFactory.newCellRenderer(_this.getComponentHolder(),params,!cellRendererTypeNormal);componentPromise&&componentPromise.then(callback)},useTaskService?this.beans.taskQueue.createTask(this.createCellRendererFunc,this.rowNode.rowIndex,\"createTasksP2\"):this.createCellRendererFunc()}},CellComp.prototype.afterCellRendererCreated=function(cellRendererVersion,cellRenderer){this.isAlive()&&cellRendererVersion===this.cellRendererVersion?(this.cellRenderer=cellRenderer,this.cellRendererGui=this.cellRenderer.getGui(),missing(this.cellRendererGui)||this.editingCell||this.eCellValue.appendChild(this.cellRendererGui)):this.beans.context.destroyBean(cellRenderer)},CellComp.prototype.createCellRendererParams=function(){var _this=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValue.bind(this),setValue:function(value){return _this.beans.valueService.setValue(_this.rowNode,_this.column,value)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,colDef:this.getComponentHolder(),column:this.column,$scope:this.scope,rowIndex:this.cellPosition.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.eCellValue,registerRowDragger:function(rowDraggerElement,dragStartPixels){return _this.addRowDragging(rowDraggerElement,dragStartPixels)},addRowCompListener:this.rowComp?this.rowComp.addEventListener.bind(this.rowComp):null,addRenderedRowListener:function(eventType,listener){console.warn(\"AG Grid: since AG Grid .v11, params.addRenderedRowListener() is now params.addRowCompListener()\"),_this.rowComp&&_this.rowComp.addEventListener(eventType,listener)}}},CellComp.prototype.formatValue=function(value){var valueFormatted=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,value);return null!=valueFormatted?valueFormatted:value},CellComp.prototype.getValueToUse=function(){return null!=this.valueFormatted?this.valueFormatted:this.value},CellComp.prototype.getValueAndFormat=function(){this.value=this.getValue(),this.valueFormatted=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,this.value)},CellComp.prototype.getValue=function(){var lockedClosedGroup=this.rowNode.leafGroup&&this.beans.columnController.isPivotMode(),isOpenGroup=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!lockedClosedGroup,groupFootersEnabled=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),groupAlwaysShowAggData=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader();return this.beans.valueService.getValue(this.column,this.rowNode,!1,isOpenGroup&&groupFootersEnabled&&!groupAlwaysShowAggData)},CellComp.prototype.onMouseEvent=function(eventName,mouseEvent){if(!isStopPropagationForAgGrid(mouseEvent))switch(eventName){case\"click\":this.onCellClicked(mouseEvent);break;case\"mousedown\":this.onMouseDown(mouseEvent);break;case\"dblclick\":this.onCellDoubleClicked(mouseEvent);break;case\"mouseout\":this.onMouseOut(mouseEvent);break;case\"mouseover\":this.onMouseOver(mouseEvent)}},CellComp.prototype.dispatchCellContextMenuEvent=function(event){var colDef=this.getComponentHolder(),cellContextMenuEvent=this.createEvent(event,Events.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(cellContextMenuEvent),colDef.onCellContextMenu&&window.setTimeout((function(){return colDef.onCellContextMenu(cellContextMenuEvent)}),0)},CellComp.prototype.createEvent=function(domEvent,eventType){var event={type:eventType,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.getComponentHolder(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:domEvent,rowIndex:this.rowNode.rowIndex};return this.scope&&(event.$scope=this.scope),event},CellComp.prototype.onMouseOut=function(mouseEvent){var cellMouseOutEvent=this.createEvent(mouseEvent,Events.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(cellMouseOutEvent),this.beans.columnHoverService.clearMouseOver()},CellComp.prototype.onMouseOver=function(mouseEvent){var cellMouseOverEvent=this.createEvent(mouseEvent,Events.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(cellMouseOverEvent),this.beans.columnHoverService.setMouseOver([this.column])},CellComp.prototype.onCellDoubleClicked=function(mouseEvent){var colDef=this.getComponentHolder(),cellDoubleClickedEvent=this.createEvent(mouseEvent,Events.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(cellDoubleClickedEvent),\"function\"==typeof colDef.onCellDoubleClicked&&window.setTimeout((function(){return colDef.onCellDoubleClicked(cellDoubleClickedEvent)}),0),!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit()&&this.startRowOrCellEdit()},CellComp.prototype.startRowOrCellEdit=function(keyPress,charPress){this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowComp.startRowEditing(keyPress,charPress,this):this.startEditingIfEnabled(keyPress,charPress,!0)},CellComp.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},CellComp.prototype.startEditingIfEnabled=function(keyPress,charPress,cellStartedEdit){if(void 0===keyPress&&(keyPress=null),void 0===charPress&&(charPress=null),void 0===cellStartedEdit&&(cellStartedEdit=!1),this.isCellEditable()&&!this.editingCell){this.editingCell=!0,this.cellEditorVersion++;var callback=this.afterCellEditorCreated.bind(this,this.cellEditorVersion),params=this.createCellEditorParams(keyPress,charPress,cellStartedEdit);this.createCellEditor(params).then(callback),missing(this.cellEditor)&&cellStartedEdit&&this.focusCell(!0)}},CellComp.prototype.createCellEditor=function(params){var _this=this;return this.beans.userComponentFactory.newCellEditor(this.column.getColDef(),params).then((function(cellEditor){var cellEditorComp=cellEditor;if(!cellEditorComp.isPopup||!cellEditorComp.isPopup())return cellEditorComp;_this.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn(\"AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.\");var popupEditorWrapper=new PopupEditorWrapper(cellEditorComp);return _this.beans.context.createBean(popupEditorWrapper),popupEditorWrapper.init(params),popupEditorWrapper}))},CellComp.prototype.afterCellEditorCreated=function(cellEditorVersion,cellEditor){if(cellEditorVersion===this.cellEditorVersion&&this.editingCell){if(cellEditor.isCancelBeforeStart&&cellEditor.isCancelBeforeStart())return this.beans.context.destroyBean(cellEditor),void(this.editingCell=!1);if(!cellEditor.getGui)return console.warn(\"AG Grid: cellEditor for column \"+this.column.getId()+\" is missing getGui() method\"),cellEditor.render&&console.warn(\"AG Grid: we found 'render' on the component, are you trying to set a React renderer but added it as colDef.cellEditor instead of colDef.cellEditorFmk?\"),this.beans.context.destroyBean(cellEditor),void(this.editingCell=!1);this.cellEditor=cellEditor,this.cellEditorInPopup=void 0!==cellEditor.isPopup&&cellEditor.isPopup(),this.setInlineEditingClass(),this.cellEditorInPopup?this.addPopupCellEditor():this.addInCellEditor(),cellEditor.afterGuiAttached&&cellEditor.afterGuiAttached();var event=this.createEvent(null,Events.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(event)}else this.beans.context.destroyBean(cellEditor)},CellComp.prototype.addInCellEditor=function(){var eGui=this.getGui();eGui.contains(document.activeElement)&&eGui.focus(),this.clearCellElement(),this.cellEditor&&eGui.appendChild(this.cellEditor.getGui()),this.angular1Compile()},CellComp.prototype.addPopupCellEditor=function(){var _this=this,ePopupGui=this.cellEditor&&this.cellEditor.getGui();if(ePopupGui){var popupService=this.beans.popupService,useModelPopup=this.beans.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus(),position=this.cellEditor&&this.cellEditor.getPopupPosition?this.cellEditor.getPopupPosition():\"over\",params={column:this.column,rowNode:this.rowNode,type:\"popupCellEditor\",eventSource:this.getGui(),ePopup:ePopupGui,keepWithinBounds:!0},positionCallback=\"under\"===position?popupService.positionPopupUnderComponent.bind(popupService,params):popupService.positionPopupOverComponent.bind(popupService,params),addPopupRes=popupService.addPopup({modal:useModelPopup,eChild:ePopupGui,closeOnEsc:!0,closedCallback:function(){_this.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:positionCallback});addPopupRes&&(this.hideEditorPopup=addPopupRes.hideFunc),this.angular1Compile()}},CellComp.prototype.onPopupEditorClosed=function(){this.editingCell&&this.stopRowOrCellEdit()},CellComp.prototype.setInlineEditingClass=function(){if(this.isAlive()){var editingInline=this.editingCell&&!this.cellEditorInPopup,popupEditorShowing=this.editingCell&&this.cellEditorInPopup;this.addOrRemoveCssClass(\"ag-cell-inline-editing\",editingInline),this.addOrRemoveCssClass(\"ag-cell-not-inline-editing\",!editingInline),this.addOrRemoveCssClass(\"ag-cell-popup-editing\",popupEditorShowing),addOrRemoveCssClass(this.getGui().parentNode,\"ag-row-inline-editing\",editingInline),addOrRemoveCssClass(this.getGui().parentNode,\"ag-row-not-inline-editing\",!editingInline)}},CellComp.prototype.createCellEditorParams=function(keyPress,charPress,cellStartedEdit){return{value:this.getValue(),keyPress:keyPress,charPress:charPress,column:this.column,colDef:this.column.getColDef(),rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:cellStartedEdit,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),$scope:this.scope,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},CellComp.prototype.stopEditingAndFocus=function(suppressNavigateAfterEdit){void 0===suppressNavigateAfterEdit&&(suppressNavigateAfterEdit=!1),this.stopRowOrCellEdit(),this.focusCell(!0),suppressNavigateAfterEdit||this.navigateAfterEdit()},CellComp.prototype.parseValue=function(newValue){var colDef=this.getComponentHolder(),params={node:this.rowNode,data:this.rowNode.data,oldValue:this.value,newValue:newValue,colDef:colDef,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},valueParser=colDef.valueParser;return exists(valueParser)?this.beans.expressionService.evaluate(valueParser,params):newValue},CellComp.prototype.focusCell=function(forceBrowserFocus){void 0===forceBrowserFocus&&(forceBrowserFocus=!1),this.beans.focusController.setFocusedCell(this.cellPosition.rowIndex,this.column,this.rowNode.rowPinned,forceBrowserFocus)},CellComp.prototype.setFocusInOnEditor=function(){this.editingCell&&(this.cellEditor&&this.cellEditor.focusIn?this.cellEditor.focusIn():this.focusCell(!0))},CellComp.prototype.isEditing=function(){return this.editingCell},CellComp.prototype.onKeyDown=function(event){var key=event.which||event.keyCode;switch(key){case KeyCode.ENTER:this.onEnterKeyDown(event);break;case KeyCode.F2:this.onF2KeyDown();break;case KeyCode.ESCAPE:this.onEscapeKeyDown();break;case KeyCode.TAB:this.onTabKeyDown(event);break;case KeyCode.BACKSPACE:case KeyCode.DELETE:this.onBackspaceOrDeleteKeyPressed(key);break;case KeyCode.DOWN:case KeyCode.UP:case KeyCode.RIGHT:case KeyCode.LEFT:this.onNavigationKeyPressed(event,key)}},CellComp.prototype.setFocusOutOnEditor=function(){this.editingCell&&this.cellEditor&&this.cellEditor.focusOut&&this.cellEditor.focusOut()},CellComp.prototype.onNavigationKeyPressed=function(event,key){this.editingCell||(event.shiftKey&&this.rangeSelectionEnabled?this.onShiftRangeSelect(key):this.beans.rowRenderer.navigateToNextCell(event,key,this.cellPosition,!0),event.preventDefault())},CellComp.prototype.onShiftRangeSelect=function(key){if(this.beans.rangeController){var endCell=this.beans.rangeController.extendLatestRangeInDirection(key);endCell&&this.beans.rowRenderer.ensureCellVisible(endCell)}},CellComp.prototype.onTabKeyDown=function(event){this.beans.rowRenderer.onTabKeyDown(this,event)},CellComp.prototype.onBackspaceOrDeleteKeyPressed=function(key){this.editingCell||this.startRowOrCellEdit(key)},CellComp.prototype.onEnterKeyDown=function(e){this.editingCell||this.rowComp.isEditing()?this.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.rowRenderer.navigateToNextCell(null,KeyCode.DOWN,this.cellPosition,!1):(this.startRowOrCellEdit(KeyCode.ENTER),this.editingCell&&e.preventDefault())},CellComp.prototype.navigateAfterEdit=function(){this.beans.gridOptionsWrapper.isFullRowEdit()||this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit()&&this.beans.rowRenderer.navigateToNextCell(null,KeyCode.DOWN,this.cellPosition,!1)},CellComp.prototype.onF2KeyDown=function(){this.editingCell||this.startRowOrCellEdit(KeyCode.F2)},CellComp.prototype.onEscapeKeyDown=function(){this.editingCell&&(this.stopRowOrCellEdit(!0),this.focusCell(!0))},CellComp.prototype.onKeyPress=function(event){if(getTarget(event)===this.getGui()&&!this.editingCell){var pressedChar=String.fromCharCode(event.charCode);\" \"===pressedChar?this.onSpaceKeyPressed(event):isEventFromPrintableCharacter(event)&&(this.startRowOrCellEdit(null,pressedChar),event.preventDefault())}},CellComp.prototype.onSpaceKeyPressed=function(event){var gridOptionsWrapper=this.beans.gridOptionsWrapper;if(!this.editingCell&&gridOptionsWrapper.isRowSelection()){var currentSelection=this.rowNode.isSelected(),newSelection=!currentSelection;if(newSelection||!gridOptionsWrapper.isSuppressRowDeselection()){var groupSelectsFiltered=this.beans.gridOptionsWrapper.isGroupSelectsFiltered(),updatedCount=this.rowNode.setSelectedParams({newValue:newSelection,rangeSelect:event.shiftKey,groupSelectsFiltered:groupSelectsFiltered});void 0===currentSelection&&0===updatedCount&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:event.shiftKey,groupSelectsFiltered:groupSelectsFiltered})}}event.preventDefault()},CellComp.prototype.onMouseDown=function(mouseEvent){var ctrlKey=mouseEvent.ctrlKey,metaKey=mouseEvent.metaKey,shiftKey=mouseEvent.shiftKey,target=mouseEvent.target,_a=this.beans,eventService=_a.eventService,rangeController=_a.rangeController;if(!this.isRightClickInExistingRange(mouseEvent)){if(!shiftKey||rangeController&&!rangeController.getCellRanges().length){var forceBrowserFocus=(isBrowserIE()||isBrowserEdge())&&!this.editingCell&&!isFocusableFormField(target);this.focusCell(forceBrowserFocus)}else rangeController&&mouseEvent.preventDefault();if(!this.containsWidget(target)){if(rangeController){var thisCell=this.cellPosition;shiftKey?rangeController.extendLatestRangeToCell(thisCell):rangeController.setRangeToCell(thisCell,ctrlKey||metaKey)}eventService.dispatchEvent(this.createEvent(mouseEvent,Events.EVENT_CELL_MOUSE_DOWN))}}},CellComp.prototype.isRightClickInExistingRange=function(mouseEvent){var rangeController=this.beans.rangeController;return!(!rangeController||!rangeController.isCellInAnyRange(this.getCellPosition())||2!==mouseEvent.button)},CellComp.prototype.containsWidget=function(target){return isElementChildOfClass(target,\"ag-selection-checkbox\",3)},CellComp.prototype.isDoubleClickOnIPad=function(){if(!isIOSUserAgent()||isEventSupported(\"dblclick\"))return!1;var nowMillis=(new Date).getTime(),res=nowMillis-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=nowMillis,res},CellComp.prototype.onCellClicked=function(mouseEvent){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(mouseEvent),void mouseEvent.preventDefault();var _a=this.beans,eventService=_a.eventService,gridOptionsWrapper=_a.gridOptionsWrapper,cellClickedEvent=this.createEvent(mouseEvent,Events.EVENT_CELL_CLICKED);eventService.dispatchEvent(cellClickedEvent);var colDef=this.getComponentHolder();colDef.onCellClicked&&window.setTimeout((function(){return colDef.onCellClicked(cellClickedEvent)}),0),(gridOptionsWrapper.isSingleClickEdit()||colDef.singleClickEdit)&&!gridOptionsWrapper.isSuppressClickEdit()&&this.startRowOrCellEdit()},CellComp.prototype.createGridCellVo=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,column:this.column}},CellComp.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},CellComp.prototype.getCellPosition=function(){return this.cellPosition},CellComp.prototype.getParentRow=function(){return this.eRow},CellComp.prototype.setParentRow=function(eParentRow){this.eRow=eParentRow},CellComp.prototype.getColumn=function(){return this.column},CellComp.prototype.getComponentHolder=function(){return this.column.getColDef()},CellComp.prototype.detach=function(){this.eRow.removeChild(this.getGui())},CellComp.prototype.destroy=function(){this.createCellRendererFunc&&this.beans.taskQueue.cancelTask(this.createCellRendererFunc),this.stopEditing(),this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),this.beans.context.destroyBean(this.selectionHandle),_super.prototype.destroy.call(this)},CellComp.prototype.onLeftChanged=function(){var left=this.modifyLeftForPrintLayout(this.getCellLeft());this.getGui().style.left=left+\"px\",this.refreshAriaIndex()},CellComp.prototype.modifyLeftForPrintLayout=function(leftPosition){if(!this.printLayout||this.column.getPinned()===Constants.PINNED_LEFT)return leftPosition;var leftWidth=this.beans.columnController.getDisplayedColumnsLeftWidth();return this.column.getPinned()===Constants.PINNED_RIGHT?leftWidth+this.beans.columnController.getBodyContainerWidth()+(leftPosition||0):leftWidth+(leftPosition||0)},CellComp.prototype.onWidthChanged=function(){var width=this.getCellWidth();this.getGui().style.width=width+\"px\"},CellComp.prototype.getRangeBorders=function(){var leftCol,rightCol,_this=this,isRtl=this.beans.gridOptionsWrapper.isEnableRtl(),top=!1,right=!1,bottom=!1,left=!1,thisCol=this.cellPosition.column,_a=this.beans,rangeController=_a.rangeController,columnController=_a.columnController;isRtl?(leftCol=columnController.getDisplayedColAfter(thisCol),rightCol=columnController.getDisplayedColBefore(thisCol)):(leftCol=columnController.getDisplayedColBefore(thisCol),rightCol=columnController.getDisplayedColAfter(thisCol));var ranges=rangeController.getCellRanges().filter((function(range){return rangeController.isCellInSpecificRange(_this.cellPosition,range)}));leftCol||(left=!0),rightCol||(right=!0);for(var i=0;i<ranges.length&&!(top&&right&&bottom&&left);i++){var range=ranges[i],startRow=rangeController.getRangeStartRow(range),endRow=rangeController.getRangeEndRow(range);!top&&this.beans.rowPositionUtils.sameRow(startRow,this.cellPosition)&&(top=!0),!bottom&&this.beans.rowPositionUtils.sameRow(endRow,this.cellPosition)&&(bottom=!0),!left&&leftCol&&range.columns.indexOf(leftCol)<0&&(left=!0),!right&&rightCol&&range.columns.indexOf(rightCol)<0&&(right=!0)}return{top:top,right:right,bottom:bottom,left:left}},CellComp.prototype.getInitialRangeClasses=function(){var classes=[];if(!this.rangeSelectionEnabled||!this.rangeCount)return classes;classes.push(\"ag-cell-range-selected\"),this.hasChartRange&&classes.push(\"ag-cell-range-chart\");var count=Math.min(this.rangeCount,4);if(classes.push(\"ag-cell-range-selected-\"+count),this.isSingleCell()&&classes.push(\"ag-cell-range-single-cell\"),this.rangeCount>0){var borders=this.getRangeBorders();borders.top&&classes.push(\"ag-cell-range-top\"),borders.right&&classes.push(\"ag-cell-range-right\"),borders.bottom&&classes.push(\"ag-cell-range-bottom\"),borders.left&&classes.push(\"ag-cell-range-left\")}return this.selectionHandle&&classes.push(\"ag-cell-range-handle\"),classes},CellComp.prototype.onRowIndexChanged=function(){this.createGridCellVo(),this.onCellFocused(),this.onRangeSelectionChanged()},CellComp.prototype.onRangeSelectionChanged=function(){var rangeController=this.beans.rangeController;if(rangeController){var rangeCount=this.rangeCount,newRangeCount=rangeController.getCellRangeCount(this.cellPosition),element=this.getGui();rangeCount!==newRangeCount&&(this.addOrRemoveCssClass(\"ag-cell-range-selected\",0!==newRangeCount),this.addOrRemoveCssClass(\"ag-cell-range-selected-1\",1===newRangeCount),this.addOrRemoveCssClass(\"ag-cell-range-selected-2\",2===newRangeCount),this.addOrRemoveCssClass(\"ag-cell-range-selected-3\",3===newRangeCount),this.addOrRemoveCssClass(\"ag-cell-range-selected-4\",newRangeCount>=4),this.rangeCount=newRangeCount),setAriaSelected(element,this.rangeCount>0);var hasChartRange=this.getHasChartRange();hasChartRange!==this.hasChartRange&&(this.hasChartRange=hasChartRange,this.addOrRemoveCssClass(\"ag-cell-range-chart\",this.hasChartRange)),this.updateRangeBorders(),this.addOrRemoveCssClass(\"ag-cell-range-single-cell\",this.isSingleCell()),this.refreshHandle()}},CellComp.prototype.getHasChartRange=function(){var rangeController=this.beans.rangeController;if(!this.rangeCount||!rangeController)return!1;var cellRanges=rangeController.getCellRanges();return cellRanges.length>0&&cellRanges.every((function(range){return includes([exports.CellRangeType.DIMENSION,exports.CellRangeType.VALUE],range.type)}))},CellComp.prototype.shouldHaveSelectionHandle=function(){var _a=this.beans,gridOptionsWrapper=_a.gridOptionsWrapper,rangeController=_a.rangeController,cellRanges=rangeController.getCellRanges(),rangesLen=cellRanges.length;if(this.rangeCount<1||rangesLen<1)return!1;var cellRange=last(cellRanges),cellPosition=this.getCellPosition(),fillHandleIsAvailable=1===rangesLen&&(gridOptionsWrapper.isEnableFillHandle()||gridOptionsWrapper.isEnableRangeHandle())&&!this.editingCell;if(this.hasChartRange){var isCategoryCell=cellRanges[0].type===exports.CellRangeType.DIMENSION&&rangeController.isCellInSpecificRange(cellPosition,cellRanges[0]);this.addOrRemoveCssClass(\"ag-cell-range-chart-category\",isCategoryCell),fillHandleIsAvailable=cellRange.type===exports.CellRangeType.VALUE}return fillHandleIsAvailable&&null!=cellRange.endRow&&rangeController.isContiguousRange(cellRange)&&rangeController.isBottomRightCell(cellRange,cellPosition)},CellComp.prototype.addSelectionHandle=function(){var _a=this.beans,gridOptionsWrapper=_a.gridOptionsWrapper,cellRangeType=last(_a.rangeController.getCellRanges()).type,type=gridOptionsWrapper.isEnableFillHandle()&&missing(cellRangeType)?exports.SelectionHandleType.FILL:exports.SelectionHandleType.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==type&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(type)),this.selectionHandle.refresh(this)},CellComp.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},CellComp.prototype.refreshHandle=function(){if(this.beans.rangeController){var shouldHaveSelectionHandle=this.shouldHaveSelectionHandle();this.selectionHandle&&!shouldHaveSelectionHandle&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),shouldHaveSelectionHandle&&this.addSelectionHandle(),this.addOrRemoveCssClass(\"ag-cell-range-handle\",!!this.selectionHandle)}},CellComp.prototype.updateRangeBorders=function(){var rangeBorders=this.getRangeBorders(),isSingleCell=this.isSingleCell(),isRight=!isSingleCell&&rangeBorders.right,isBottom=!isSingleCell&&rangeBorders.bottom,isLeft=!isSingleCell&&rangeBorders.left;this.addOrRemoveCssClass(\"ag-cell-range-top\",!isSingleCell&&rangeBorders.top),this.addOrRemoveCssClass(\"ag-cell-range-right\",isRight),this.addOrRemoveCssClass(\"ag-cell-range-bottom\",isBottom),this.addOrRemoveCssClass(\"ag-cell-range-left\",isLeft)},CellComp.prototype.onFirstRightPinnedChanged=function(){var firstRightPinned=this.column.isFirstRightPinned();this.firstRightPinned!==firstRightPinned&&(this.firstRightPinned=firstRightPinned,this.addOrRemoveCssClass(\"ag-cell-first-right-pinned\",firstRightPinned))},CellComp.prototype.onLastLeftPinnedChanged=function(){var lastLeftPinned=this.column.isLastLeftPinned();this.lastLeftPinned!==lastLeftPinned&&(this.lastLeftPinned=lastLeftPinned,this.addOrRemoveCssClass(\"ag-cell-last-left-pinned\",lastLeftPinned))},CellComp.prototype.refreshShouldDestroy=function(){var isUsingWrapper=this.usingWrapper,isIncludingRowDragging=this.includeRowDraggingComponent,isIncludingDndSource=this.includeDndSourceComponent,isIncludingSelection=this.includeSelectionComponent;return this.setUsingWrapper(),isUsingWrapper!==this.usingWrapper||isIncludingRowDragging!==this.includeRowDraggingComponent||isIncludingDndSource!==this.includeDndSourceComponent||isIncludingSelection!==this.includeSelectionComponent},CellComp.prototype.populateTemplate=function(){if(this.usingWrapper){this.eCellValue=this.getRefElement(\"eCellValue\"),this.eCellWrapper=this.getRefElement(\"eCellWrapper\"),this.eCellValue.id=\"cell-\"+this.getCompId();var describedByIds=\"\";this.includeRowDraggingComponent&&this.addRowDragging(),this.includeDndSourceComponent&&this.addDndSource(),this.includeSelectionComponent&&(describedByIds+=this.addSelectionCheckbox().getCheckboxId()),setAriaDescribedBy(this.getGui(),(describedByIds+\" \"+this.eCellValue.id).trim())}else this.eCellValue=this.getGui(),this.eCellWrapper=this.eCellValue},CellComp.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},CellComp.prototype.addRowDragging=function(customElement,dragStartPixels){var _this=this,pagination=this.beans.gridOptionsWrapper.isPagination(),rowDragManaged=this.beans.gridOptionsWrapper.isRowDragManaged(),clientSideRowModelActive=this.beans.gridOptionsWrapper.isRowModelDefault();if(rowDragManaged){if(!clientSideRowModelActive)return void doOnce((function(){return console.warn(\"AG Grid: managed row dragging is only allowed in the Client Side Row Model\")}),\"CellComp.addRowDragging\");if(pagination)return void doOnce((function(){return console.warn(\"AG Grid: managed row dragging is not possible when doing pagination\")}),\"CellComp.addRowDragging\")}this.rowDraggingComp?customElement&&this.rowDraggingComp.setDragElement(customElement,dragStartPixels):(this.rowDraggingComp=new RowDragComp((function(){return _this.value}),this.rowNode,this.column,customElement,dragStartPixels),this.createManagedBean(this.rowDraggingComp,this.beans.context)),customElement||this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)},CellComp.prototype.addDndSource=function(){var dndSourceComp=new DndSourceComp(this.rowNode,this.column,this.beans,this.getGui());this.createManagedBean(dndSourceComp,this.beans.context),this.eCellWrapper.insertBefore(dndSourceComp.getGui(),this.eCellValue)},CellComp.prototype.addSelectionCheckbox=function(){var _this=this,cbSelectionComponent=new CheckboxSelectionComponent;this.beans.context.createBean(cbSelectionComponent);var visibleFunc=this.getComponentHolder().checkboxSelection;return\"function\"!=typeof visibleFunc&&(visibleFunc=void 0),cbSelectionComponent.init({rowNode:this.rowNode,column:this.column}),this.addDestroyFunc((function(){return _this.beans.context.destroyBean(cbSelectionComponent)})),this.eCellWrapper.insertBefore(cbSelectionComponent.getGui(),this.eCellValue),cbSelectionComponent},CellComp.prototype.addDomData=function(){var _this=this,element=this.getGui();this.beans.gridOptionsWrapper.setDomData(element,CellComp.DOM_DATA_KEY_CELL_COMP,this),this.addDestroyFunc((function(){return _this.beans.gridOptionsWrapper.setDomData(element,CellComp.DOM_DATA_KEY_CELL_COMP,null)}))},CellComp.prototype.isSingleCell=function(){var rangeController=this.beans.rangeController;return 1===this.rangeCount&&rangeController&&!rangeController.isMoreThanOneCell()},CellComp.prototype.onCellFocused=function(event){var cellFocused=this.beans.focusController.isCellFocused(this.cellPosition);if(cellFocused!==this.cellFocused&&(!this.beans.gridOptionsWrapper.isSuppressCellSelection()&&this.addOrRemoveCssClass(\"ag-cell-focus\",cellFocused),this.cellFocused=cellFocused),cellFocused&&event&&event.forceBrowserFocus){var focusEl=this.getFocusableElement();focusEl.focus(),document.activeElement&&document.activeElement!==document.body||focusEl.focus()}var fullRowEdit=this.beans.gridOptionsWrapper.isFullRowEdit();cellFocused||fullRowEdit||!this.editingCell||this.stopRowOrCellEdit()},CellComp.prototype.stopRowOrCellEdit=function(cancel){void 0===cancel&&(cancel=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowComp.stopRowEditing(cancel):this.stopEditing(cancel)},CellComp.prototype.stopEditing=function(cancel){if(void 0===cancel&&(cancel=!1),this.editingCell)if(this.cellEditor){var newValue,oldValue=this.getValue(),newValueExists=!1;if(cancel||this.cellEditor.isCancelAfterEnd&&this.cellEditor.isCancelAfterEnd()||(newValue=this.cellEditor.getValue(),newValueExists=!0),this.editingCell=!1,this.beans.context.destroyBean(this.cellEditor),this.cellEditor=null,this.cellEditorInPopup&&this.hideEditorPopup)this.hideEditorPopup(),this.hideEditorPopup=null;else{this.clearCellElement();var eGui=this.getGui();if(this.usingWrapper)eGui.appendChild(this.eCellWrapper);else if(this.cellRenderer){var eCell=this.cellRendererGui;eCell&&eGui.appendChild(eCell)}}this.setInlineEditingClass(),this.refreshHandle(),newValueExists&&newValue!==oldValue&&(this.suppressRefreshCell=!0,this.rowNode.setDataValue(this.column,newValue),this.suppressRefreshCell=!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0});var editingStoppedEvent=__assign$4(__assign$4({},this.createEvent(null,Events.EVENT_CELL_EDITING_STOPPED)),{oldValue:oldValue,newValue:newValue});this.beans.eventService.dispatchEvent(editingStoppedEvent)}else this.editingCell=!1},CellComp.prototype.clearCellElement=function(){var eGui=this.getGui();eGui.contains(document.activeElement)&&!isBrowserIE()&&eGui.focus({preventScroll:!0}),clearElement(eGui)},CellComp.DOM_DATA_KEY_CELL_COMP=\"cellComp\",CellComp.CELL_RENDERER_TYPE_NORMAL=\"cellRenderer\",CellComp.CELL_RENDERER_TYPE_PINNED=\"pinnedRowCellRenderer\",CellComp}(Component),__extends$J=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__assign$5=function(){return(__assign$5=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__decorate$D=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},RowRenderer=function(_super){function RowRenderer(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.destroyFuncsForColumnListeners=[],_this.rowConsByRowIndex={},_this.zombieRowCons={},_this.allRowCons=[],_this.topRowCons=[],_this.bottomRowCons=[],_this.refreshInProgress=!1,_this}return __extends$J(RowRenderer,_super),RowRenderer.prototype.agWire=function(loggerFactory){this.logger=loggerFactory.create(\"RowRenderer\")},RowRenderer.prototype.postConstruct=function(){var _this=this;this.controllersService.whenReady((function(){_this.gridBodyCon=_this.controllersService.getGridBodyController(),_this.initialise()}))},RowRenderer.prototype.initialise=function(){this.addManagedListener(this.eventService,Events.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.registerCellEventListeners(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},RowRenderer.prototype.getRowCons=function(){return this.allRowCons},RowRenderer.prototype.updateAllRowCons=function(){this.allRowCons=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r}(getAllValuesInObject(this.rowConsByRowIndex),getAllValuesInObject(this.zombieRowCons))},RowRenderer.prototype.registerCellEventListeners=function(){var _this=this;this.addManagedListener(this.eventService,Events.EVENT_CELL_FOCUSED,(function(event){_this.forEachCellComp((function(cellComp){return cellComp.onCellFocused(event)})),_this.forEachRowComp((function(key,rowComp){rowComp.isFullWidth()&&rowComp.onFullWidthRowFocused(event)}))})),this.addManagedListener(this.eventService,Events.EVENT_FLASH_CELLS,(function(event){_this.forEachCellComp((function(cellComp){return cellComp.onFlashCells(event)}))})),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_HOVER_CHANGED,(function(){_this.forEachCellComp((function(cellComp){return cellComp.onColumnHover()}))})),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,(function(){_this.printLayout&&_this.forEachCellComp((function(cellComp){return cellComp.onLeftChanged()}))})),this.gridOptionsWrapper.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,Events.EVENT_RANGE_SELECTION_CHANGED,(function(){_this.forEachCellComp((function(cellComp){return cellComp.onRangeSelectionChanged()}))})),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_MOVED,(function(){_this.forEachCellComp((function(cellComp){return cellComp.updateRangeBordersIfRangeCount()}))})),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PINNED,(function(){_this.forEachCellComp((function(cellComp){return cellComp.updateRangeBordersIfRangeCount()}))})),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_VISIBLE,(function(){_this.forEachCellComp((function(cellComp){return cellComp.updateRangeBordersIfRangeCount()}))}))),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,Events.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},RowRenderer.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach((function(func){return func()})),this.destroyFuncsForColumnListeners.length=0},RowRenderer.prototype.refreshListenersToColumnsForCellComps=function(){var _this=this;this.removeGridColumnListeners();var cols=this.columnController.getAllGridColumns();cols&&cols.forEach((function(col){var forEachCellWithThisCol=function(callback){_this.forEachCellComp((function(cellComp){cellComp.getColumn()===col&&callback(cellComp)}))},leftChangedListener=function(){forEachCellWithThisCol((function(cellComp){return cellComp.onLeftChanged()}))},widthChangedListener=function(){forEachCellWithThisCol((function(cellComp){return cellComp.onWidthChanged()}))},firstRightPinnedChangedListener=function(){forEachCellWithThisCol((function(cellComp){return cellComp.onFirstRightPinnedChanged()}))},lastLeftPinnedChangedListener=function(){forEachCellWithThisCol((function(cellComp){return cellComp.onLastLeftPinnedChanged()}))};col.addEventListener(Column.EVENT_LEFT_CHANGED,leftChangedListener),col.addEventListener(Column.EVENT_WIDTH_CHANGED,widthChangedListener),col.addEventListener(Column.EVENT_FIRST_RIGHT_PINNED_CHANGED,firstRightPinnedChangedListener),col.addEventListener(Column.EVENT_LAST_LEFT_PINNED_CHANGED,lastLeftPinnedChangedListener),_this.destroyFuncsForColumnListeners.push((function(){col.removeEventListener(Column.EVENT_LEFT_CHANGED,leftChangedListener),col.removeEventListener(Column.EVENT_WIDTH_CHANGED,widthChangedListener),col.removeEventListener(Column.EVENT_FIRST_RIGHT_PINNED_CHANGED,firstRightPinnedChangedListener),col.removeEventListener(Column.EVENT_LAST_LEFT_PINNED_CHANGED,lastLeftPinnedChangedListener)}))}))},RowRenderer.prototype.onDomLayoutChanged=function(){var printLayout=this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_PRINT,embedFullWidthRows=printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),destroyRows=embedFullWidthRows!==this.embedFullWidthRows||this.printLayout!==printLayout;this.printLayout=printLayout,this.embedFullWidthRows=embedFullWidthRows,destroyRows&&this.redrawAfterModelUpdate()},RowRenderer.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var rowIndexesToRemove=Object.keys(this.rowConsByRowIndex);this.removeRowComps(rowIndexesToRemove)},RowRenderer.prototype.onPageLoaded=function(event){this.redrawAfterModelUpdate({recycleRows:event.keepRenderedRows,animate:event.animate,newData:event.newData,newPage:event.newPage,onlyBody:!0})},RowRenderer.prototype.getAllCellsForColumn=function(column){var eCells=[];function callback(key,rowComp){var eCell=rowComp.getCellForCol(column);eCell&&eCells.push(eCell)}return iterateObject(this.rowConsByRowIndex,callback),iterateObject(this.bottomRowCons,callback),iterateObject(this.topRowCons,callback),eCells},RowRenderer.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCons,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCons,this.pinnedRowModel.getPinnedBottomRowData())},RowRenderer.prototype.getTopRowCons=function(){return this.topRowCons},RowRenderer.prototype.getBottomRowCons=function(){return this.bottomRowCons},RowRenderer.prototype.refreshFloatingRows=function(rowComps,rowNodes){var _this=this;rowComps.forEach((function(row){row.destroyFirstPass(),row.destroySecondPass()})),rowComps.length=0,rowNodes&&rowNodes.forEach((function(rowNode){var rowCon=new RowController(_this.$scope,rowNode,_this.beans,!1,!1,_this.printLayout);rowComps.push(rowCon)}))},RowRenderer.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},RowRenderer.prototype.getRenderedIndexesForRowNodes=function(rowNodes){var result=[];return missing(rowNodes)?result:(iterateObject(this.rowConsByRowIndex,(function(index,renderedRow){var rowNode=renderedRow.getRowNode();rowNodes.indexOf(rowNode)>=0&&result.push(index)})),result)},RowRenderer.prototype.redrawRows=function(rowNodes){var partialRefresh=null!=rowNodes&&rowNodes.length>0;if(partialRefresh){var indexesToRemove=this.getRenderedIndexesForRowNodes(rowNodes);this.removeRowComps(indexesToRemove)}this.redrawAfterModelUpdate({recycleRows:partialRefresh})},RowRenderer.prototype.getCellToRestoreFocusToAfterRefresh=function(params){var focusedCell=params.suppressKeepFocus?null:this.focusController.getFocusCellToUseAfterRefresh();if(missing(focusedCell))return null;var activeElement=document.activeElement;return missing(this.gridOptionsWrapper.getDomData(activeElement,CellComp.DOM_DATA_KEY_CELL_COMP))?null:focusedCell},RowRenderer.prototype.redrawAfterModelUpdate=function(params){void 0===params&&(params={}),this.getLockOnRefresh();var focusedCell=this.getCellToRestoreFocusToAfterRefresh(params);this.updateContainerHeights(),this.scrollToTopIfNewData(params);var recycleRows=!this.printLayout&&!!params.recycleRows,animate=params.animate&&this.gridOptionsWrapper.isAnimateRows(),rowsToRecycle=recycleRows?this.recycleRows():null;recycleRows||this.removeAllRowComps();var focusedCellRecycled=function(){if(null==focusedCell||null==rowsToRecycle)return!1;var res=!1;return iterateObject(rowsToRecycle,(function(key,rowComp){var rowNode=rowComp.getRowNode();rowNode.rowIndex==focusedCell.rowIndex&&rowNode.rowPinned==focusedCell.rowPinned&&(res=!0)})),res}();this.redraw(rowsToRecycle,animate),params.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),focusedCellRecycled||this.restoreFocusedCell(focusedCell),this.releaseLockOnRefresh()},RowRenderer.prototype.scrollToTopIfNewData=function(params){var scrollToTop=params.newData||params.newPage,suppressScrollToTop=this.gridOptionsWrapper.isSuppressScrollOnNewData();scrollToTop&&!suppressScrollToTop&&this.gridBodyCon.getScrollFeature().scrollToTop()},RowRenderer.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var containerHeight=this.paginationProxy.getCurrentPageHeight();0===containerHeight&&(containerHeight=1),this.rowContainerHeightService.setModelHeight(containerHeight)}},RowRenderer.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error(\"AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.refreshView(), call setTimeout(function() { api.refreshView(); }, 0). To see what part of your code that caused the refresh check this stacktrace.\");this.refreshInProgress=!0},RowRenderer.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},RowRenderer.prototype.restoreFocusedCell=function(cellPosition){cellPosition&&this.focusController.setFocusedCell(cellPosition.rowIndex,cellPosition.column,cellPosition.rowPinned,!0)},RowRenderer.prototype.stopEditing=function(cancel){void 0===cancel&&(cancel=!1),this.forEachRowComp((function(key,rowComp){rowComp.stopEditing(cancel)}))},RowRenderer.prototype.onNewColumnsLoaded=function(){this.forEachCellComp((function(cellComp){return cellComp.onNewColumnsLoaded()}))},RowRenderer.prototype.forEachCellComp=function(callback){this.forEachRowComp((function(key,rowComp){return rowComp.forEachCellComp(callback)}))},RowRenderer.prototype.forEachRowComp=function(callback){iterateObject(this.rowConsByRowIndex,callback),iterateObject(this.topRowCons,callback),iterateObject(this.bottomRowCons,callback)},RowRenderer.prototype.addRenderedRowListener=function(eventName,rowIndex,callback){var rowComp=this.rowConsByRowIndex[rowIndex];rowComp&&rowComp.addEventListener(eventName,callback)},RowRenderer.prototype.flashCells=function(params){void 0===params&&(params={});var flashDelay=params.flashDelay,fadeDelay=params.fadeDelay;this.forEachCellCompFiltered(params.rowNodes,params.columns,(function(cellComp){return cellComp.flashCell({flashDelay:flashDelay,fadeDelay:fadeDelay})}))},RowRenderer.prototype.refreshCells=function(params){void 0===params&&(params={});var refreshCellParams={forceRefresh:params.force,newData:!1,suppressFlash:params.suppressFlash};this.forEachCellCompFiltered(params.rowNodes,params.columns,(function(cellComp){if(cellComp.refreshShouldDestroy()){var rowComp=cellComp.getRenderedRow();rowComp&&rowComp.refreshCell(cellComp)}else cellComp.refreshCell(refreshCellParams)}))},RowRenderer.prototype.getCellRendererInstances=function(params){var res=[];return this.forEachCellCompFiltered(params.rowNodes,params.columns,(function(cellComp){var cellRenderer=cellComp.getCellRenderer();cellRenderer&&res.push(cellRenderer)})),res},RowRenderer.prototype.getCellEditorInstances=function(params){var res=[];return this.forEachCellCompFiltered(params.rowNodes,params.columns,(function(cellComp){var cellEditor=cellComp.getCellEditor();cellEditor&&res.push(cellEditor)})),res},RowRenderer.prototype.getEditingCells=function(){var res=[];return this.forEachCellComp((function(cellComp){if(cellComp.isEditing()){var cellPosition=cellComp.getCellPosition();res.push(cellPosition)}})),res},RowRenderer.prototype.forEachCellCompFiltered=function(rowNodes,columns,callback){var rowIdsMap,colIdsMap,_this=this;exists(rowNodes)&&(rowIdsMap={top:{},bottom:{},normal:{}},rowNodes.forEach((function(rowNode){var id=rowNode.id;rowNode.rowPinned===Constants.PINNED_TOP?rowIdsMap.top[id]=!0:rowNode.rowPinned===Constants.PINNED_BOTTOM?rowIdsMap.bottom[id]=!0:rowIdsMap.normal[id]=!0}))),exists(columns)&&(colIdsMap={},columns.forEach((function(colKey){var column=_this.columnController.getGridColumn(colKey);exists(column)&&(colIdsMap[column.getId()]=!0)})));var processRow=function(rowComp){var rowNode=rowComp.getRowNode(),id=rowNode.id,floating=rowNode.rowPinned;if(exists(rowIdsMap))if(floating===Constants.PINNED_BOTTOM){if(!rowIdsMap.bottom[id])return}else if(floating===Constants.PINNED_TOP){if(!rowIdsMap.top[id])return}else if(!rowIdsMap.normal[id])return;rowComp.forEachCellComp((function(cellComp){var colId=cellComp.getColumn().getId();colIdsMap&&!colIdsMap[colId]||callback&&callback(cellComp)}))};iterateObject(this.rowConsByRowIndex,(function(index,rowComp){processRow(rowComp)})),this.topRowCons&&this.topRowCons.forEach(processRow),this.bottomRowCons&&this.bottomRowCons.forEach(processRow)},RowRenderer.prototype.destroy=function(){this.removeAllRowComps(),_super.prototype.destroy.call(this)},RowRenderer.prototype.removeAllRowComps=function(){var rowIndexesToRemove=Object.keys(this.rowConsByRowIndex);this.removeRowComps(rowIndexesToRemove)},RowRenderer.prototype.recycleRows=function(){var stubNodeIndexes=[];iterateObject(this.rowConsByRowIndex,(function(index,rowComp){null==rowComp.getRowNode().id&&stubNodeIndexes.push(index)})),this.removeRowComps(stubNodeIndexes);var nodesByIdMap={};return iterateObject(this.rowConsByRowIndex,(function(index,rowComp){var rowNode=rowComp.getRowNode();nodesByIdMap[rowNode.id]=rowComp})),this.rowConsByRowIndex={},nodesByIdMap},RowRenderer.prototype.removeRowComps=function(rowsToRemove){var _this=this;rowsToRemove.forEach((function(indexToRemove){var rowComp=_this.rowConsByRowIndex[indexToRemove];rowComp&&(rowComp.destroyFirstPass(),rowComp.destroySecondPass()),delete _this.rowConsByRowIndex[indexToRemove]}))},RowRenderer.prototype.redrawAfterScroll=function(){this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged()},RowRenderer.prototype.removeRowCompsNotToDraw=function(indexesToDraw){var indexesToDrawMap={};indexesToDraw.forEach((function(index){return indexesToDrawMap[index]=!0}));var indexesNotToDraw=Object.keys(this.rowConsByRowIndex).filter((function(index){return!indexesToDrawMap[index]}));this.removeRowComps(indexesNotToDraw)},RowRenderer.prototype.calculateIndexesToDraw=function(rowsToRecycle){var _this=this,indexesToDraw=createArrayOfNumbers(this.firstRenderedRow,this.lastRenderedRow),checkRowToDraw=function(indexStr,rowComp){var index=rowComp.getRowNode().rowIndex;null!=index&&(index<_this.firstRenderedRow||index>_this.lastRenderedRow)&&_this.doNotUnVirtualiseRow(rowComp)&&indexesToDraw.push(index)};return iterateObject(this.rowConsByRowIndex,checkRowToDraw),iterateObject(rowsToRecycle,checkRowToDraw),indexesToDraw.sort((function(a,b){return a-b})),indexesToDraw},RowRenderer.prototype.redraw=function(rowsToRecycle,animate,afterScroll){var _this=this;void 0===animate&&(animate=!1),void 0===afterScroll&&(afterScroll=!1),this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender();var indexesToDraw=this.calculateIndexesToDraw(rowsToRecycle);this.removeRowCompsNotToDraw(indexesToDraw),this.printLayout&&(animate=!1),indexesToDraw.forEach((function(rowIndex){exists(_this.createOrUpdateRowCon(rowIndex,rowsToRecycle,animate,afterScroll))})),rowsToRecycle&&(!afterScroll||this.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout?this.destroyRowCons(rowsToRecycle,animate):this.beans.taskQueue.addDestroyTask((function(){_this.destroyRowCons(rowsToRecycle,animate),_this.updateAllRowCons(),_this.dispatchDisplayedRowsChanged()}))),this.updateAllRowCons(),this.checkAngularCompile(),this.gridBodyCon.updateRowCount()},RowRenderer.prototype.dispatchDisplayedRowsChanged=function(){this.eventService.dispatchEvent({type:Events.EVENT_DISPLAYED_ROWS_CHANGED})},RowRenderer.prototype.onDisplayedColumnsChanged=function(){var pinningLeft=this.columnController.isPinningLeft(),pinningRight=this.columnController.isPinningRight();(this.pinningLeft!==pinningLeft||pinningRight!==this.pinningRight)&&(this.pinningLeft=pinningLeft,this.pinningRight=pinningRight,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},RowRenderer.prototype.redrawFullWidthEmbeddedRows=function(){var rowsToRemove=[];iterateObject(this.rowConsByRowIndex,(function(id,rowComp){if(rowComp.isFullWidth()){var rowIndex=rowComp.getRowNode().rowIndex;rowsToRemove.push(rowIndex.toString())}})),this.refreshFloatingRowComps(),this.removeRowComps(rowsToRemove),this.redrawAfterScroll()},RowRenderer.prototype.refreshFullWidthRows=function(rowNodesToRefresh){var rowsToRemove=[],selectivelyRefreshing=!!rowNodesToRefresh,idsToRefresh=selectivelyRefreshing?{}:void 0;selectivelyRefreshing&&idsToRefresh&&rowNodesToRefresh.forEach((function(r){return idsToRefresh[r.id]=!0})),iterateObject(this.rowConsByRowIndex,(function(id,rowComp){if(rowComp.isFullWidth()){var rowNode=rowComp.getRowNode();if(selectivelyRefreshing&&idsToRefresh&&!idsToRefresh[rowNode.id]&&!idsToRefresh[rowNode.level>0&&rowNode.parent?rowNode.parent.id:void 0])return;if(!rowComp.refreshFullWidth()){var rowIndex=rowComp.getRowNode().rowIndex;rowsToRemove.push(rowIndex.toString())}}})),this.removeRowComps(rowsToRemove),this.redrawAfterScroll()},RowRenderer.prototype.createOrUpdateRowCon=function(rowIndex,rowsToRecycle,animate,afterScroll){var rowNode=null,rowCon=this.rowConsByRowIndex[rowIndex];if(rowCon||exists(rowNode=this.paginationProxy.getRow(rowIndex))&&exists(rowsToRecycle)&&rowsToRecycle[rowNode.id]&&rowNode.alreadyRendered&&(rowCon=rowsToRecycle[rowNode.id],rowsToRecycle[rowNode.id]=null),!rowCon){if(rowNode||(rowNode=this.paginationProxy.getRow(rowIndex)),!exists(rowNode))return;rowCon=this.createRowCon(rowNode,animate,afterScroll)}return rowNode&&(rowNode.alreadyRendered=!0),this.rowConsByRowIndex[rowIndex]=rowCon,rowCon},RowRenderer.prototype.destroyRowCons=function(rowConsMap,animate){var _this=this,executeInAWhileFuncs=[];iterateObject(rowConsMap,(function(nodeId,rowCon){rowCon&&(rowCon.destroyFirstPass(),animate?(_this.zombieRowCons[rowCon.getInstanceId()]=rowCon,executeInAWhileFuncs.push((function(){rowCon.destroySecondPass(),delete _this.zombieRowCons[rowCon.getInstanceId()]}))):rowCon.destroySecondPass())})),animate&&(executeInAWhileFuncs.push((function(){_this.updateAllRowCons(),_this.dispatchDisplayedRowsChanged()})),executeInAWhile(executeInAWhileFuncs))},RowRenderer.prototype.checkAngularCompile=function(){var _this=this;this.gridOptionsWrapper.isAngularCompileRows()&&window.setTimeout((function(){_this.$scope.$apply()}),0)},RowRenderer.prototype.workOutFirstAndLastRowsToRender=function(){var newFirst,newLast,_this=this;if(this.paginationProxy.isRowsToRender())if(this.printLayout)newFirst=this.paginationProxy.getPageFirstRow(),newLast=this.paginationProxy.getPageLastRow();else{var bufferPixels=this.gridOptionsWrapper.getRowBufferInPixels(),gridBodyCon=this.controllersService.getGridBodyController(),rowHeightsChanged=!1,firstPixel=void 0,lastPixel=void 0;do{var paginationOffset=this.paginationProxy.getPixelOffset(),_a=this.paginationProxy.getCurrentPagePixelRange(),pageFirstPixel=_a.pageFirstPixel,pageLastPixel=_a.pageLastPixel,divStretchOffset=this.rowContainerHeightService.getDivStretchOffset(),bodyVRange=gridBodyCon.getScrollFeature().getVScrollPosition(),bodyBottomPixel=bodyVRange.bottom;firstPixel=Math.max(bodyVRange.top+paginationOffset-bufferPixels,pageFirstPixel)+divStretchOffset,lastPixel=Math.min(bodyBottomPixel+paginationOffset+bufferPixels,pageLastPixel)+divStretchOffset,rowHeightsChanged=this.ensureAllRowsInRangeHaveHeightsCalculated(firstPixel,lastPixel)}while(rowHeightsChanged);var firstRowIndex=this.paginationProxy.getRowIndexAtPixel(firstPixel),lastRowIndex=this.paginationProxy.getRowIndexAtPixel(lastPixel),pageFirstRow=this.paginationProxy.getPageFirstRow(),pageLastRow=this.paginationProxy.getPageLastRow();firstRowIndex<pageFirstRow&&(firstRowIndex=pageFirstRow),lastRowIndex>pageLastRow&&(lastRowIndex=pageLastRow),newFirst=firstRowIndex,newLast=lastRowIndex}else newFirst=0,newLast=-1;var rowLayoutNormal=this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_NORMAL,suppressRowCountRestriction=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),rowBufferMaxSize=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);if(rowLayoutNormal&&!suppressRowCountRestriction&&newLast-newFirst>rowBufferMaxSize&&(newLast=newFirst+rowBufferMaxSize),(newFirst!==this.firstRenderedRow||newLast!==this.lastRenderedRow)&&(this.firstRenderedRow=newFirst,this.lastRenderedRow=newLast,this.eventService.dispatchEvent({type:Events.EVENT_VIEWPORT_CHANGED,firstRow:newFirst,lastRow:newLast,api:this.gridApi,columnApi:this.columnApi})),this.paginationProxy.isRowsToRender()){var event_2={type:Events.EVENT_FIRST_DATA_RENDERED,firstRow:newFirst,lastRow:newLast,api:this.gridApi,columnApi:this.columnApi};window.setTimeout((function(){return _this.eventService.dispatchEventOnce(event_2)}),50)}},RowRenderer.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(topPixel,bottomPixel){var res=this.paginationProxy.ensureRowHeightsValid(topPixel,bottomPixel,-1,-1);return res&&this.updateContainerHeights(),res},RowRenderer.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},RowRenderer.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},RowRenderer.prototype.doNotUnVirtualiseRow=function(rowComp){var rowNode=rowComp.getRowNode(),rowHasFocus=this.focusController.isRowNodeFocused(rowNode),rowIsEditing=rowComp.isEditing();return!!(rowHasFocus||rowIsEditing||rowNode.detail)&&!!this.paginationProxy.isRowPresent(rowNode)},RowRenderer.prototype.createRowCon=function(rowNode,animate,afterScroll){var suppressAnimationFrame=this.gridOptionsWrapper.isSuppressAnimationFrame();return new RowController(this.$scope,rowNode,this.beans,animate,afterScroll&&!suppressAnimationFrame&&!this.printLayout,this.printLayout)},RowRenderer.prototype.getRenderedNodes=function(){var renderedRows=this.rowConsByRowIndex;return Object.keys(renderedRows).map((function(key){return renderedRows[key].getRowNode()}))},RowRenderer.prototype.navigateToNextCell=function(event,key,currentCell,allowUserOverride){for(var nextCell=currentCell,hitEdgeOfGrid=!1;nextCell&&(nextCell===currentCell||!this.isValidNavigateCell(nextCell));)this.gridOptionsWrapper.isEnableRtl()?key===KeyCode.LEFT&&(nextCell=this.getLastCellOfColSpan(nextCell)):key===KeyCode.RIGHT&&(nextCell=this.getLastCellOfColSpan(nextCell)),hitEdgeOfGrid=missing(nextCell=this.cellNavigationService.getNextCellToFocus(key,nextCell));if(hitEdgeOfGrid&&event&&event.keyCode===KeyCode.UP&&(nextCell={rowIndex:-1,rowPinned:null,column:currentCell.column}),allowUserOverride){var userFunc=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(exists(userFunc)){var userCell=userFunc({key:key,previousCellPosition:currentCell,nextCellPosition:nextCell||null,event:event});exists(userCell)?(userCell.floating&&(doOnce((function(){console.warn(\"AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?\")}),\"no floating in userCell\"),userCell.rowPinned=userCell.floating),nextCell={rowPinned:userCell.rowPinned,rowIndex:userCell.rowIndex,column:userCell.column}):nextCell=null}}if(nextCell)if(nextCell.rowIndex<0){var headerLen=this.beans.headerNavigationService.getHeaderRowCount();this.focusController.focusHeaderPosition({headerRowIndex:headerLen+nextCell.rowIndex,column:currentCell.column})}else{var normalisedPosition=this.getNormalisedPosition(nextCell);normalisedPosition?this.focusPosition(normalisedPosition):this.tryToFocusFullWidthRow(nextCell)}},RowRenderer.prototype.getNormalisedPosition=function(cellPosition){this.ensureCellVisible(cellPosition);var cellComp=this.getComponentForCell(cellPosition);return cellComp?(cellPosition=cellComp.getCellPosition(),this.ensureCellVisible(cellPosition),cellPosition):null},RowRenderer.prototype.tryToFocusFullWidthRow=function(position,backwards){void 0===backwards&&(backwards=!1);var displayedColumns=this.columnController.getAllDisplayedColumns(),rowComp=this.getRowConByPosition(position);if(!rowComp||!rowComp.isFullWidth())return!1;var cellPosition={rowIndex:position.rowIndex,rowPinned:position.rowPinned,column:position.column||(backwards?last(displayedColumns):displayedColumns[0])};return this.focusPosition(cellPosition),!0},RowRenderer.prototype.focusPosition=function(cellPosition){this.focusController.setFocusedCell(cellPosition.rowIndex,cellPosition.column,cellPosition.rowPinned,!0),this.rangeController&&this.rangeController.setRangeToCell(cellPosition)},RowRenderer.prototype.isValidNavigateCell=function(cell){return!!this.rowPositionUtils.getRowNode(cell)},RowRenderer.prototype.getLastCellOfColSpan=function(cell){var cellComp=this.getComponentForCell(cell);if(!cellComp)return cell;var colSpanningList=cellComp.getColSpanningList();return 1===colSpanningList.length?cell:{rowIndex:cell.rowIndex,column:last(colSpanningList),rowPinned:cell.rowPinned}},RowRenderer.prototype.ensureCellVisible=function(gridCell){missing(gridCell.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(gridCell.rowIndex),gridCell.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(gridCell.column),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()},RowRenderer.prototype.startEditingCell=function(gridCell,keyPress,charPress){var cell=this.getComponentForCell(gridCell);cell&&cell.startRowOrCellEdit(keyPress,charPress)},RowRenderer.prototype.getRowConByPosition=function(rowPosition){var rowComponent;switch(rowPosition.rowPinned){case Constants.PINNED_TOP:rowComponent=this.topRowCons[rowPosition.rowIndex];break;case Constants.PINNED_BOTTOM:rowComponent=this.bottomRowCons[rowPosition.rowIndex];break;default:rowComponent=this.rowConsByRowIndex[rowPosition.rowIndex]}return rowComponent},RowRenderer.prototype.getComponentForCell=function(cellPosition){var rowComp=this.getRowConByPosition(cellPosition);return rowComp?rowComp.getRenderedCellForColumn(cellPosition.column):null},RowRenderer.prototype.getRowNode=function(gridRow){switch(gridRow.rowPinned){case Constants.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[gridRow.rowIndex];case Constants.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[gridRow.rowIndex];default:return this.rowModel.getRow(gridRow.rowIndex)}},RowRenderer.prototype.onTabKeyDown=function(previousRenderedCell,keyboardEvent){var backwards=keyboardEvent.shiftKey;if(this.tabToNextCellCommon(previousRenderedCell,backwards))keyboardEvent.preventDefault();else if(backwards){var _a=previousRenderedCell.getRowPosition(),rowIndex=_a.rowIndex;if(_a.rowPinned?0===rowIndex:rowIndex===this.paginationProxy.getPageFirstRow()){keyboardEvent.preventDefault();var headerRowIndex=this.beans.headerNavigationService.getHeaderRowCount()-1,column=last(this.columnController.getAllDisplayedColumns());this.focusController.focusHeaderPosition({headerRowIndex:headerRowIndex,column:column})}}else previousRenderedCell instanceof CellComp&&previousRenderedCell.focusCell(!0),this.focusController.focusNextGridCoreContainer(!1)&&keyboardEvent.preventDefault()},RowRenderer.prototype.tabToNextCell=function(backwards){var focusedCell=this.focusController.getFocusedCell();if(!focusedCell)return!1;var cellOrRowComp=this.getComponentForCell(focusedCell);return!!(cellOrRowComp||(cellOrRowComp=this.getRowConByPosition(focusedCell))&&cellOrRowComp.isFullWidth())&&this.tabToNextCellCommon(cellOrRowComp,backwards)},RowRenderer.prototype.tabToNextCellCommon=function(previousCellOrRow,backwards){var editing=previousCellOrRow.isEditing();if(!editing&&previousCellOrRow instanceof CellComp){var rowCon=previousCellOrRow.getRenderedRow();rowCon&&(editing=rowCon.isEditing())}return(editing?this.gridOptionsWrapper.isFullRowEdit()?this.moveToNextEditingRow(previousCellOrRow,backwards):this.moveToNextEditingCell(previousCellOrRow,backwards):this.moveToNextCellNotEditing(previousCellOrRow,backwards))||!!this.focusController.getFocusedHeader()},RowRenderer.prototype.moveToNextEditingCell=function(previousRenderedCell,backwards){var gridCell=previousRenderedCell.getCellPosition();previousRenderedCell.stopEditing();var nextRenderedCell=this.findNextCellToFocusOn(gridCell,backwards,!0),foundCell=null!=nextRenderedCell;return foundCell&&(nextRenderedCell.startEditingIfEnabled(null,null,!0),nextRenderedCell.focusCell(!1)),foundCell},RowRenderer.prototype.moveToNextEditingRow=function(previousCellComp,backwards){var cellPos=previousCellComp.getCellPosition(),nextCellComp=this.findNextCellToFocusOn(cellPos,backwards,!0);if(null==nextCellComp)return!1;var previousPos=previousCellComp.getCellPosition(),nextPos=nextCellComp.getCellPosition(),previousEditable=this.isCellEditable(previousPos),nextEditable=this.isCellEditable(nextPos),rowsMatch=nextPos&&previousPos.rowIndex===nextPos.rowIndex&&previousPos.rowPinned===nextPos.rowPinned;return previousEditable&&previousCellComp.setFocusOutOnEditor(),rowsMatch||(previousCellComp.getRenderedRow().stopEditing(),nextCellComp.getRenderedRow().startRowEditing()),nextEditable?(nextCellComp.setFocusInOnEditor(),nextCellComp.focusCell()):nextCellComp.focusCell(!0),!0},RowRenderer.prototype.moveToNextCellNotEditing=function(previousRenderedCell,backwards){var gridCell,displayedColumns=this.columnController.getAllDisplayedColumns();gridCell=previousRenderedCell instanceof RowController?__assign$5(__assign$5({},previousRenderedCell.getRowPosition()),{column:backwards?displayedColumns[0]:last(displayedColumns)}):previousRenderedCell.getCellPosition();var nextRenderedCell=this.findNextCellToFocusOn(gridCell,backwards,!1);if(nextRenderedCell instanceof CellComp)nextRenderedCell.focusCell(!0);else if(nextRenderedCell)return this.tryToFocusFullWidthRow(nextRenderedCell.getRowPosition(),backwards);return exists(nextRenderedCell)},RowRenderer.prototype.findNextCellToFocusOn=function(gridCell,backwards,startEditing){for(var nextCell=gridCell;;){backwards||(nextCell=this.getLastCellOfColSpan(nextCell)),nextCell=this.cellNavigationService.getNextTabbedCell(nextCell,backwards);var userFunc=this.gridOptionsWrapper.getTabToNextCellFunc();if(exists(userFunc)){var userCell=userFunc({backwards:backwards,editing:startEditing,previousCellPosition:gridCell,nextCellPosition:nextCell||null});exists(userCell)?(userCell.floating&&(doOnce((function(){console.warn(\"AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?\")}),\"no floating in userCell\"),userCell.rowPinned=userCell.floating),nextCell={rowIndex:userCell.rowIndex,column:userCell.column,rowPinned:userCell.rowPinned}):nextCell=null}if(!nextCell)return null;if(nextCell.rowIndex<0){var headerLen=this.beans.headerNavigationService.getHeaderRowCount();return this.focusController.focusHeaderPosition({headerRowIndex:headerLen+nextCell.rowIndex,column:nextCell.column}),null}var fullRowEdit=this.gridOptionsWrapper.isFullRowEdit();if(!startEditing||fullRowEdit||this.isCellEditable(nextCell)){this.ensureCellVisible(nextCell);var nextCellComp=this.getComponentForCell(nextCell);if(nextCellComp){if(!nextCellComp.isSuppressNavigable())return this.rangeController&&this.rangeController.setRangeToCell(nextCell),nextCellComp}else{var rowComp=this.getRowConByPosition(nextCell);if(rowComp&&rowComp.isFullWidth())return rowComp}}}},RowRenderer.prototype.isCellEditable=function(cell){var rowNode=this.lookupRowNodeForCell(cell);return!!rowNode&&cell.column.isCellEditable(rowNode)},RowRenderer.prototype.lookupRowNodeForCell=function(cell){return cell.rowPinned===Constants.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(cell.rowIndex):cell.rowPinned===Constants.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(cell.rowIndex):this.paginationProxy.getRow(cell.rowIndex)},RowRenderer.prototype.isRangeInRenderedViewport=function(startIndex,endIndex){return!(null==startIndex||null==endIndex||endIndex<this.firstRenderedRow||startIndex>this.lastRenderedRow)},__decorate$D([Autowired(\"paginationProxy\")],RowRenderer.prototype,\"paginationProxy\",void 0),__decorate$D([Autowired(\"columnController\")],RowRenderer.prototype,\"columnController\",void 0),__decorate$D([Autowired(\"$scope\")],RowRenderer.prototype,\"$scope\",void 0),__decorate$D([Autowired(\"pinnedRowModel\")],RowRenderer.prototype,\"pinnedRowModel\",void 0),__decorate$D([Autowired(\"rowModel\")],RowRenderer.prototype,\"rowModel\",void 0),__decorate$D([Autowired(\"focusController\")],RowRenderer.prototype,\"focusController\",void 0),__decorate$D([Autowired(\"cellNavigationService\")],RowRenderer.prototype,\"cellNavigationService\",void 0),__decorate$D([Autowired(\"columnApi\")],RowRenderer.prototype,\"columnApi\",void 0),__decorate$D([Autowired(\"gridApi\")],RowRenderer.prototype,\"gridApi\",void 0),__decorate$D([Autowired(\"beans\")],RowRenderer.prototype,\"beans\",void 0),__decorate$D([Autowired(\"rowContainerHeightService\")],RowRenderer.prototype,\"rowContainerHeightService\",void 0),__decorate$D([Autowired(\"animationFrameService\")],RowRenderer.prototype,\"animationFrameService\",void 0),__decorate$D([Autowired(\"rowPositionUtils\")],RowRenderer.prototype,\"rowPositionUtils\",void 0),__decorate$D([Optional(\"rangeController\")],RowRenderer.prototype,\"rangeController\",void 0),__decorate$D([Optional(\"controllersService\")],RowRenderer.prototype,\"controllersService\",void 0),__decorate$D([(0,decorator=Qualifier(\"loggerFactory\"),function(target,key){decorator(target,key,0)})],RowRenderer.prototype,\"agWire\",null),__decorate$D([PostConstruct],RowRenderer.prototype,\"postConstruct\",null),__decorate$D([Bean(\"rowRenderer\")],RowRenderer);var decorator}(BeanStub),CssClassApplier=function(){function CssClassApplier(){}return CssClassApplier.addHeaderClassesFromColDef=function(abstractColDef,eHeaderCell,gridOptionsWrapper,column,columnGroup){missing(abstractColDef)||this.addColumnClassesFromCollDef(abstractColDef.headerClass,abstractColDef,eHeaderCell,gridOptionsWrapper,column,columnGroup)},CssClassApplier.addToolPanelClassesFromColDef=function(abstractColDef,eHeaderCell,gridOptionsWrapper,column,columnGroup){missing(abstractColDef)||this.addColumnClassesFromCollDef(abstractColDef.toolPanelClass,abstractColDef,eHeaderCell,gridOptionsWrapper,column,columnGroup)},CssClassApplier.addColumnClassesFromCollDef=function(classesOrFunc,abstractColDef,eHeaderCell,gridOptionsWrapper,column,columnGroup){var classToUse;missing(classesOrFunc)||(\"string\"==typeof(classToUse=\"function\"==typeof classesOrFunc?classesOrFunc({colDef:abstractColDef,column:column,columnGroup:columnGroup,context:gridOptionsWrapper.getContext(),api:gridOptionsWrapper.getApi()}):classesOrFunc)?addCssClass(eHeaderCell,classToUse):Array.isArray(classToUse)&&classToUse.forEach((function(cssClassItem){addCssClass(eHeaderCell,cssClassItem)})))},CssClassApplier}(),__extends$K=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$E=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},HoverFeature=function(_super){function HoverFeature(columns,element){var _this=_super.call(this)||this;return _this.columns=columns,_this.element=element,_this}return __extends$K(HoverFeature,_super),HoverFeature.prototype.postConstruct=function(){this.addMouseHoverListeners()},HoverFeature.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,\"mouseout\",this.onMouseOut.bind(this)),this.addManagedListener(this.element,\"mouseover\",this.onMouseOver.bind(this))},HoverFeature.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},HoverFeature.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},__decorate$E([Autowired(\"columnHoverService\")],HoverFeature.prototype,\"columnHoverService\",void 0),__decorate$E([PostConstruct],HoverFeature.prototype,\"postConstruct\",null),HoverFeature}(BeanStub),__extends$L=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),SetLeftFeature=function(_super){function SetLeftFeature(columnOrGroup,eCell,beans,colsSpanning){var _this=_super.call(this)||this;return _this.columnOrGroup=columnOrGroup,_this.eCell=eCell,_this.ariaEl=_this.eCell.querySelector(\"[role=columnheader]\")||_this.eCell,_this.colsSpanning=colsSpanning,_this.beans=beans,_this.printLayout=beans.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_PRINT,_this}return __extends$L(SetLeftFeature,_super),SetLeftFeature.prototype.setColsSpanning=function(colsSpanning){this.colsSpanning=colsSpanning,this.onLeftChanged()},SetLeftFeature.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?last(this.colsSpanning):this.columnOrGroup},SetLeftFeature.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,Column.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.printLayout&&this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this))},SetLeftFeature.prototype.setLeftFirstTime=function(){var suppressMoveAnimation=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),oldLeftExists=exists(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&oldLeftExists&&!suppressMoveAnimation?this.animateInLeft():this.onLeftChanged()},SetLeftFeature.prototype.animateInLeft=function(){var _this=this,colOrGroup=this.getColumnOrGroup(),left=colOrGroup.getLeft(),oldLeft=colOrGroup.getOldLeft(),oldActualLeft=this.modifyLeftForPrintLayout(colOrGroup,oldLeft),actualLeft=this.modifyLeftForPrintLayout(colOrGroup,left);this.setLeft(oldActualLeft),this.actualLeft=actualLeft,this.beans.columnAnimationService.executeNextVMTurn((function(){_this.actualLeft===actualLeft&&_this.setLeft(actualLeft)}))},SetLeftFeature.prototype.onLeftChanged=function(){var colOrGroup=this.getColumnOrGroup(),left=colOrGroup.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(colOrGroup,left),this.setLeft(this.actualLeft)},SetLeftFeature.prototype.modifyLeftForPrintLayout=function(colOrGroup,leftPosition){if(!this.printLayout)return leftPosition;if(colOrGroup.getPinned()===Constants.PINNED_LEFT)return leftPosition;var leftWidth=this.beans.columnController.getDisplayedColumnsLeftWidth();return colOrGroup.getPinned()===Constants.PINNED_RIGHT?leftWidth+this.beans.columnController.getBodyContainerWidth()+leftPosition:leftWidth+leftPosition},SetLeftFeature.prototype.setLeft=function(value){var indexColumn;if(exists(value)&&(this.eCell.style.left=value+\"px\"),this.columnOrGroup instanceof Column)indexColumn=this.columnOrGroup;else{var children=this.columnOrGroup.getLeafColumns();if(!children.length)return;children.length>1&&setAriaColSpan(this.ariaEl,children.length),indexColumn=children[0]}var index=this.beans.columnController.getAriaColumnIndex(indexColumn);setAriaColIndex(this.ariaEl,index)},function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);c>3&&r&&Object.defineProperty(target,key,r)}([PostConstruct],SetLeftFeature.prototype,\"postConstruct\",null),SetLeftFeature}(BeanStub),__extends$M=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),AgAbstractLabel=function(_super){function AgAbstractLabel(config,template){var _this=_super.call(this,template)||this;return _this.labelSeparator=\"\",_this.labelAlignment=\"left\",_this.label=\"\",_this.config=config||{},_this}return __extends$M(AgAbstractLabel,_super),AgAbstractLabel.prototype.postConstruct=function(){addCssClass(this.getGui(),\"ag-labeled\"),addCssClass(this.eLabel,\"ag-label\");var _a=this.config,labelSeparator=_a.labelSeparator,label=_a.label,labelWidth=_a.labelWidth,labelAlignment=_a.labelAlignment;null!=labelSeparator&&this.setLabelSeparator(labelSeparator),null!=label&&this.setLabel(label),null!=labelWidth&&this.setLabelWidth(labelWidth),this.setLabelAlignment(labelAlignment||this.labelAlignment),this.refreshLabel()},AgAbstractLabel.prototype.refreshLabel=function(){clearElement(this.eLabel),\"string\"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),\"\"===this.label?(addCssClass(this.eLabel,\"ag-hidden\"),this.eLabel.setAttribute(\"role\",\"presentation\")):(removeCssClass(this.eLabel,\"ag-hidden\"),this.eLabel.removeAttribute(\"role\"))},AgAbstractLabel.prototype.setLabelSeparator=function(labelSeparator){return this.labelSeparator===labelSeparator?this:(this.labelSeparator=labelSeparator,null!=this.label&&this.refreshLabel(),this)},AgAbstractLabel.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||\"ag-\"+this.getCompId()+\"-label\",this.eLabel.id},AgAbstractLabel.prototype.getLabel=function(){return this.label},AgAbstractLabel.prototype.setLabel=function(label){return this.label===label?this:(this.label=label,this.refreshLabel(),this)},AgAbstractLabel.prototype.setLabelAlignment=function(alignment){var eGui=this.getGui();return addOrRemoveCssClass(eGui,\"ag-label-align-left\",\"left\"===alignment),addOrRemoveCssClass(eGui,\"ag-label-align-right\",\"right\"===alignment),addOrRemoveCssClass(eGui,\"ag-label-align-top\",\"top\"===alignment),this},AgAbstractLabel.prototype.setLabelWidth=function(width){return null==this.label?this:(setElementWidth(this.eLabel,width),this)},function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);c>3&&r&&Object.defineProperty(target,key,r)}([PostConstruct],AgAbstractLabel.prototype,\"postConstruct\",null),AgAbstractLabel}(Component),__extends$N=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),AgAbstractField=function(_super){function AgAbstractField(config,template,className){var _this=_super.call(this,config,template)||this;return _this.className=className,_this.disabled=!1,_this}return __extends$N(AgAbstractField,_super),AgAbstractField.prototype.postConstruct=function(){_super.prototype.postConstruct.call(this),this.className&&addCssClass(this.getGui(),this.className)},AgAbstractField.prototype.onValueChange=function(callbackFn){var _this=this;return this.addManagedListener(this,AgAbstractField.EVENT_CHANGED,(function(){return callbackFn(_this.getValue())})),this},AgAbstractField.prototype.getWidth=function(){return this.getGui().clientWidth},AgAbstractField.prototype.setWidth=function(width){return setFixedWidth(this.getGui(),width),this},AgAbstractField.prototype.getPreviousValue=function(){return this.previousValue},AgAbstractField.prototype.getValue=function(){return this.value},AgAbstractField.prototype.setValue=function(value,silent){return this.value===value?this:(this.previousValue=this.value,this.value=value,silent||this.dispatchEvent({type:AgAbstractField.EVENT_CHANGED}),this)},AgAbstractField.prototype.setDisabled=function(disabled){disabled=!!disabled;var element=this.getGui();return setDisabled(element,disabled),addOrRemoveCssClass(element,\"ag-disabled\",disabled),this.disabled=disabled,this},AgAbstractField.prototype.isDisabled=function(){return!!this.disabled},AgAbstractField.EVENT_CHANGED=\"valueChange\",AgAbstractField}(AgAbstractLabel),__extends$O=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$H=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},AgAbstractInputField=function(_super){function AgAbstractInputField(config,className,inputType,displayFieldTag){void 0===inputType&&(inputType=\"text\"),void 0===displayFieldTag&&(displayFieldTag=\"input\");var _this=_super.call(this,config,'\\n            <div role=\"presentation\">\\n                <div ref=\"eLabel\" class=\"ag-input-field-label\"></div>\\n                <div ref=\"eWrapper\" class=\"ag-wrapper ag-input-wrapper\" role=\"presentation\">\\n                    <'+displayFieldTag+' ref=\"eInput\" class=\"ag-input-field-input\"></'+displayFieldTag+\">\\n                </div>\\n            </div>\",className)||this;return _this.inputType=inputType,_this.displayFieldTag=displayFieldTag,_this}return __extends$O(AgAbstractInputField,_super),AgAbstractInputField.prototype.postConstruct=function(){_super.prototype.postConstruct.call(this),this.setInputType(),addCssClass(this.eLabel,this.className+\"-label\"),addCssClass(this.eWrapper,this.className+\"-input-wrapper\"),addCssClass(this.eInput,this.className+\"-input\"),addCssClass(this.getGui(),\"ag-input-field\"),this.eInput.id=this.eInput.id||\"ag-\"+this.getCompId()+\"-input\";var _a=this.config,width=_a.width,value=_a.value;null!=width&&this.setWidth(width),null!=value&&this.setValue(value),this.addInputListeners()},AgAbstractInputField.prototype.refreshLabel=function(){exists(this.getLabel())?setAriaLabelledBy(this.eInput,this.getLabelId()):this.eInput.removeAttribute(\"aria-labelledby\"),_super.prototype.refreshLabel.call(this)},AgAbstractInputField.prototype.addInputListeners=function(){var _this=this;this.addManagedListener(this.eInput,\"input\",(function(e){return _this.setValue(e.target.value)}))},AgAbstractInputField.prototype.setInputType=function(){\"input\"===this.displayFieldTag&&this.eInput.setAttribute(\"type\",this.inputType)},AgAbstractInputField.prototype.getInputElement=function(){return this.eInput},AgAbstractInputField.prototype.setInputWidth=function(width){return setElementWidth(this.eWrapper,width),this},AgAbstractInputField.prototype.setInputName=function(name){return this.getInputElement().setAttribute(\"name\",name),this},AgAbstractInputField.prototype.getFocusableElement=function(){return this.eInput},AgAbstractInputField.prototype.setMaxLength=function(length){return this.eInput.maxLength=length,this},AgAbstractInputField.prototype.setInputPlaceholder=function(placeholder){return addOrRemoveAttribute(this.eInput,\"placeholder\",placeholder),this},AgAbstractInputField.prototype.setInputAriaLabel=function(label){return setAriaLabel(this.eInput,label),this},AgAbstractInputField.prototype.setDisabled=function(disabled){return setDisabled(this.eInput,disabled),_super.prototype.setDisabled.call(this,disabled)},__decorate$H([RefSelector(\"eLabel\")],AgAbstractInputField.prototype,\"eLabel\",void 0),__decorate$H([RefSelector(\"eWrapper\")],AgAbstractInputField.prototype,\"eWrapper\",void 0),__decorate$H([RefSelector(\"eInput\")],AgAbstractInputField.prototype,\"eInput\",void 0),AgAbstractInputField}(AgAbstractField),__extends$P=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),AgCheckbox=function(_super){function AgCheckbox(config,className,inputType){void 0===className&&(className=\"ag-checkbox\"),void 0===inputType&&(inputType=\"checkbox\");var _this=_super.call(this,config,className,inputType)||this;return _this.labelAlignment=\"right\",_this.selected=!1,_this.readOnly=!1,_this.passive=!1,_this}return __extends$P(AgCheckbox,_super),AgCheckbox.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,\"click\",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,\"click\",this.toggle.bind(this))},AgCheckbox.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},AgCheckbox.prototype.setPassive=function(passive){this.passive=passive},AgCheckbox.prototype.isReadOnly=function(){return this.readOnly},AgCheckbox.prototype.setReadOnly=function(readOnly){addOrRemoveCssClass(this.eWrapper,\"ag-disabled\",readOnly),this.eInput.disabled=readOnly,this.readOnly=readOnly},AgCheckbox.prototype.setDisabled=function(disabled){return addOrRemoveCssClass(this.eWrapper,\"ag-disabled\",disabled),_super.prototype.setDisabled.call(this,disabled)},AgCheckbox.prototype.toggle=function(){var previousValue=this.isSelected(),nextValue=this.getNextValue();this.passive?this.dispatchChange(nextValue,previousValue):this.setValue(nextValue)},AgCheckbox.prototype.getValue=function(){return this.isSelected()},AgCheckbox.prototype.setValue=function(value,silent){return this.refreshSelectedClass(value),this.setSelected(value,silent),this},AgCheckbox.prototype.setName=function(name){return this.getInputElement().name=name,this},AgCheckbox.prototype.isSelected=function(){return this.selected},AgCheckbox.prototype.setSelected=function(selected,silent){this.isSelected()!==selected&&(this.previousValue=this.isSelected(),selected=this.selected=\"boolean\"==typeof selected?selected:void 0,this.eInput.checked=selected,this.eInput.indeterminate=void 0===selected,silent||this.dispatchChange(this.selected,this.previousValue))},AgCheckbox.prototype.dispatchChange=function(selected,previousValue,event){this.dispatchEvent({type:AgCheckbox.EVENT_CHANGED,selected:selected,previousValue:previousValue,event:event});var input=this.getInputElement();this.eventService.dispatchEvent({type:Events.EVENT_CHECKBOX_CHANGED,id:input.id,name:input.name,selected:selected,previousValue:previousValue})},AgCheckbox.prototype.onCheckboxClick=function(e){if(!this.passive){var previousValue=this.isSelected(),selected=this.selected=e.target.checked;this.refreshSelectedClass(selected),this.dispatchChange(selected,previousValue,e)}},AgCheckbox.prototype.refreshSelectedClass=function(value){addOrRemoveCssClass(this.eWrapper,\"ag-checked\",!0===value),addOrRemoveCssClass(this.eWrapper,\"ag-indeterminate\",null==value)},AgCheckbox}(AgAbstractInputField),__extends$Q=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$I=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},SelectAllFeature=function(_super){function SelectAllFeature(cbSelectAll,column){var _this=_super.call(this)||this;_this.cbSelectAllVisible=!1,_this.processingEventFromCheckbox=!1,_this.cbSelectAll=cbSelectAll,_this.column=column;var colDef=column.getColDef();return _this.filteredOnly=!!colDef&&!!colDef.headerCheckboxSelectionFilteredOnly,_this}return __extends$Q(SelectAllFeature,_super),SelectAllFeature.prototype.postConstruct=function(){this.showOrHideSelectAll(),this.addManagedListener(this.eventService,Events.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,AgCheckbox.EVENT_CHANGED,this.onCbSelectAll.bind(this)),this.cbSelectAll.getInputElement().setAttribute(\"tabindex\",\"-1\"),this.refreshSelectAllLabel()},SelectAllFeature.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox()),this.refreshHeaderAriaDescribedBy(this.cbSelectAllVisible)},SelectAllFeature.prototype.refreshHeaderAriaDescribedBy=function(isSelectAllVisible){var parentHeader=this.cbSelectAll.getParentComponent(),parentHeaderGui=parentHeader&&parentHeader.getGui();if(parentHeaderGui&&isVisible(parentHeaderGui)){var describedByIds=\"\";parentHeaderGui&&(describedByIds=getAriaDescribedBy(parentHeaderGui));var cbSelectAllId=this.cbSelectAll.getInputElement().id,describedByIdsHasSelectAllFeature=-1!==describedByIds.indexOf(cbSelectAllId);isSelectAllVisible?describedByIdsHasSelectAllFeature||setAriaDescribedBy(parentHeaderGui,cbSelectAllId+\" \"+describedByIds.trim()):describedByIdsHasSelectAllFeature&&setAriaDescribedBy(parentHeaderGui,describedByIds.trim().split(\" \").filter((function(id){return id===cbSelectAllId})).join(\" \"))}},SelectAllFeature.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},SelectAllFeature.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},SelectAllFeature.prototype.getNextCheckboxState=function(selectionCount){return(0!==selectionCount.selected||0!==selectionCount.notSelected)&&(selectionCount.selected>0&&selectionCount.notSelected>0?null:selectionCount.selected>0)},SelectAllFeature.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var selectionCount=this.getSelectionCount(),allSelected=this.getNextCheckboxState(selectionCount);this.cbSelectAll.setValue(allSelected),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},SelectAllFeature.prototype.refreshSelectAllLabel=function(){var translate=this.gridOptionsWrapper.getLocaleTextFunc(),ariaStatus=this.cbSelectAll.getValue()?translate(\"ariaChecked\",\"checked\"):translate(\"ariaUnchecked\",\"unchecked\"),ariaLabel=translate(\"ariaRowSelectAll\",\"Press Space to toggle all rows selection\");this.cbSelectAll.setInputAriaLabel(ariaLabel+\" (\"+ariaStatus+\")\")},SelectAllFeature.prototype.getSelectionCount=function(){var _this=this,selectedCount=0,notSelectedCount=0,callback=function(node){_this.gridOptionsWrapper.isGroupSelectsChildren()&&node.group||(node.isSelected()?selectedCount++:node.selectable&&notSelectedCount++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(callback):this.gridApi.forEachNode(callback),{notSelected:notSelectedCount,selected:selectedCount}},SelectAllFeature.prototype.checkRightRowModelType=function(){var rowModelType=this.rowModel.getType();rowModelType===Constants.ROW_MODEL_TYPE_CLIENT_SIDE||console.warn(\"AG Grid: selectAllCheckbox is only available if using normal row model, you are using \"+rowModelType)},SelectAllFeature.prototype.onCbSelectAll=function(){this.processingEventFromCheckbox||this.cbSelectAllVisible&&(this.cbSelectAll.getValue()?this.selectionController.selectAllRowNodes(this.filteredOnly):this.selectionController.deselectAllRowNodes(this.filteredOnly))},SelectAllFeature.prototype.isCheckboxSelection=function(){var result=this.column.getColDef().headerCheckboxSelection;return\"function\"==typeof result&&(result=result({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi})),!(!result||(this.gridOptionsWrapper.isRowModelServerSide()?(console.warn(\"headerCheckboxSelection is not supported for Server Side Row Model\"),1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn(\"headerCheckboxSelection is not supported for Infinite Row Model\"),1):this.gridOptionsWrapper.isRowModelViewport()&&(console.warn(\"headerCheckboxSelection is not supported for Viewport Row Model\"),1)))},__decorate$I([Autowired(\"gridApi\")],SelectAllFeature.prototype,\"gridApi\",void 0),__decorate$I([Autowired(\"columnApi\")],SelectAllFeature.prototype,\"columnApi\",void 0),__decorate$I([Autowired(\"rowModel\")],SelectAllFeature.prototype,\"rowModel\",void 0),__decorate$I([Autowired(\"selectionController\")],SelectAllFeature.prototype,\"selectionController\",void 0),__decorate$I([PostConstruct],SelectAllFeature.prototype,\"postConstruct\",null),SelectAllFeature}(BeanStub),__extends$R=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),AbstractHeaderWrapper=function(_super){function AbstractHeaderWrapper(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$R(AbstractHeaderWrapper,_super),AbstractHeaderWrapper.prototype.shouldStopEventPropagation=function(e){var _a=this.focusController.getFocusedHeader();return isUserSuppressingHeaderKeyboardEvent(this.gridOptionsWrapper,e,_a.headerRowIndex,_a.column)},AbstractHeaderWrapper.prototype.getColumn=function(){return this.column},AbstractHeaderWrapper.prototype.getPinned=function(){return this.pinned},AbstractHeaderWrapper}(ManagedFocusComponent),__extends$S=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$J=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},HeaderWrapperComp=function(_super){function HeaderWrapperComp(column,pinned){var _this=_super.call(this,HeaderWrapperComp.TEMPLATE)||this;return _this.headerCompVersion=0,_this.refreshFunctions=[],_this.column=column,_this.pinned=pinned,_this}return __extends$S(HeaderWrapperComp,_super),HeaderWrapperComp.prototype.postConstruct=function(){_super.prototype.postConstruct.call(this),this.colDefVersion=this.columnController.getColDefVersion(),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupTooltip(),this.setupResize(),this.setupMenuClass(),this.setupSortableClass(),this.addColumnHoverListener(),this.addActiveHeaderMouseListeners(),this.createManagedBean(new HoverFeature([this.column],this.getGui())),this.addManagedListener(this.column,Column.EVENT_FILTER_ACTIVE_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged(),this.createManagedBean(new SelectAllFeature(this.cbSelectAll,this.column)),this.cbSelectAll.setParentComponent(this),this.createManagedBean(new SetLeftFeature(this.column,this.getGui(),this.beans)),this.addAttributes(),CssClassApplier.addHeaderClassesFromColDef(this.column.getColDef(),this.getGui(),this.gridOptionsWrapper,this.column,null),this.addManagedListener(this.eventService,Events.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.appendHeaderComp()},HeaderWrapperComp.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},HeaderWrapperComp.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},HeaderWrapperComp.prototype.onColumnValueChanged=function(){this.checkDisplayName()},HeaderWrapperComp.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},HeaderWrapperComp.prototype.updateState=function(){var colDef=this.column.getColDef();this.sortable=colDef.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},HeaderWrapperComp.prototype.calculateDisplayName=function(){return this.columnController.getDisplayNameForColumn(this.column,\"header\",!0)},HeaderWrapperComp.prototype.onNewColumnsLoaded=function(){var colDefVersionNow=this.columnController.getColDefVersion();colDefVersionNow!=this.colDefVersion&&(this.colDefVersion=colDefVersionNow,this.refresh())},HeaderWrapperComp.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshFunctions.forEach((function(f){return f()}))},HeaderWrapperComp.prototype.refreshHeaderComp=function(){if(this.headerComp){var colDef=this.column.getColDef();this.colDefHeaderComponent==colDef.headerComponent&&this.colDefHeaderComponentFramework==colDef.headerComponentFramework&&this.attemptHeaderCompRefresh()?(this.draggable&&!this.moveDragSource||!this.draggable&&this.moveDragSource)&&this.attachDraggingToHeaderComp():this.appendHeaderComp()}},HeaderWrapperComp.prototype.destroyHeaderComp=function(){this.headerComp&&(this.getGui().removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0),this.removeMoveDragSource()},HeaderWrapperComp.prototype.removeMoveDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},HeaderWrapperComp.prototype.attemptHeaderCompRefresh=function(){if(!this.headerComp.refresh)return!1;var params=this.createParams(),finalParams=this.userComponentFactory.createFinalParams(this.getComponentHolder(),\"headerComponent\",params);return this.headerComp.refresh(finalParams)},HeaderWrapperComp.prototype.addActiveHeaderMouseListeners=function(){var _this=this,listener=function(e){return _this.setActiveHeader(\"mouseenter\"===e.type)};this.addManagedListener(this.getGui(),\"mouseenter\",listener),this.addManagedListener(this.getGui(),\"mouseleave\",listener)},HeaderWrapperComp.prototype.setActiveHeader=function(active){addOrRemoveCssClass(this.getGui(),\"ag-header-active\",active)},HeaderWrapperComp.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var headerRow=this.getParentComponent();this.focusController.setFocusedHeader(headerRow.getRowIndex(),this.getColumn())}this.setActiveHeader(!0)},HeaderWrapperComp.prototype.onFocusOut=function(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)},HeaderWrapperComp.prototype.handleKeyDown=function(e){var headerComp=this.headerComp;if(headerComp){if(e.keyCode===KeyCode.SPACE){var checkbox=this.cbSelectAll;checkbox.isDisplayed()&&!checkbox.getGui().contains(document.activeElement)&&(e.preventDefault(),checkbox.setValue(!checkbox.getValue()))}e.keyCode===KeyCode.ENTER&&(e.ctrlKey||e.metaKey?this.menuEnabled&&headerComp.showMenu&&(e.preventDefault(),headerComp.showMenu()):this.sortable&&this.sortController.progressSort(this.column,e.shiftKey,\"uiColumnSorted\"))}},HeaderWrapperComp.prototype.onTabKeyDown=function(){},HeaderWrapperComp.prototype.getComponentHolder=function(){return this.column.getColDef()},HeaderWrapperComp.prototype.addColumnHoverListener=function(){this.addManagedListener(this.eventService,Events.EVENT_COLUMN_HOVER_CHANGED,this.onColumnHover.bind(this)),this.onColumnHover()},HeaderWrapperComp.prototype.onColumnHover=function(){var isHovered=this.columnHoverService.isHovered(this.column);addOrRemoveCssClass(this.getGui(),\"ag-column-hover\",isHovered)},HeaderWrapperComp.prototype.setupSortableClass=function(){var _this=this,eGui=this.getGui(),updateSortableCssClass=function(){addOrRemoveCssClass(eGui,\"ag-header-cell-sortable\",!!_this.sortable)},updateAriaSort=function(){_this.sortable?setAriaSort(eGui,getAriaSortState(_this.column)):removeAriaSort(eGui)};updateSortableCssClass(),updateAriaSort(),this.refreshFunctions.push(updateSortableCssClass),this.refreshFunctions.push(updateAriaSort),this.addManagedListener(this.column,Column.EVENT_SORT_CHANGED,updateAriaSort.bind(this))},HeaderWrapperComp.prototype.onFilterChanged=function(){var filterPresent=this.column.isFilterActive();addOrRemoveCssClass(this.getGui(),\"ag-header-cell-filtered\",filterPresent)},HeaderWrapperComp.prototype.appendHeaderComp=function(){this.headerCompVersion++;var colDef=this.column.getColDef();this.colDefHeaderComponent=colDef.headerComponent,this.colDefHeaderComponentFramework=colDef.headerComponentFramework;var params=this.createParams(),callback=this.afterHeaderCompCreated.bind(this,this.headerCompVersion);this.userComponentFactory.newHeaderComponent(params).then(callback)},HeaderWrapperComp.prototype.createParams=function(){var _this=this,colDef=this.column.getColDef();return this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!colDef.suppressMenu,{column:this.column,displayName:this.displayName,enableSorting:colDef.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(source){_this.gridApi.showColumnMenuAfterButtonClick(_this.column,source)},progressSort:function(multiSort){_this.sortController.progressSort(_this.column,!!multiSort,\"uiColumnSorted\")},setSort:function(sort,multiSort){_this.sortController.setSortForColumn(_this.column,sort,!!multiSort,\"uiColumnSorted\")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),eGridHeader:this.getGui()}},HeaderWrapperComp.prototype.afterHeaderCompCreated=function(version,headerComp){version==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=headerComp,this.headerCompGui=headerComp.getGui(),this.getGui().appendChild(this.headerCompGui),this.attachDraggingToHeaderComp()):this.destroyBean(headerComp)},HeaderWrapperComp.prototype.onColumnMovingChanged=function(){this.column.isMoving()?addCssClass(this.getGui(),\"ag-header-cell-moving\"):removeCssClass(this.getGui(),\"ag-header-cell-moving\")},HeaderWrapperComp.prototype.workOutDraggable=function(){var colDef=this.column.getColDef();return!(this.gridOptionsWrapper.isSuppressMovableColumns()||colDef.suppressMovable||colDef.lockPosition)||!!colDef.enableRowGroup||!!colDef.enablePivot},HeaderWrapperComp.prototype.attachDraggingToHeaderComp=function(){var _this=this;this.removeMoveDragSource(),this.draggable&&(this.moveDragSource={type:exports.DragSourceType.HeaderCell,eElement:this.headerCompGui,defaultIconName:DragAndDropService.ICON_HIDE,getDragItem:function(){return _this.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return _this.column.setMoving(!0,\"uiColumnMoved\")},onDragStopped:function(){return _this.column.setMoving(!1,\"uiColumnMoved\")}},this.dragAndDropService.addDragSource(this.moveDragSource,!0))},HeaderWrapperComp.prototype.createDragItem=function(){var visibleState={};return visibleState[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:visibleState}},HeaderWrapperComp.prototype.setupResize=function(){var canResize,canAutosize,_this=this,colDef=this.getComponentHolder(),destroyResizeFuncs=[],removeResize=function(){destroyResizeFuncs.forEach((function(f){return f()})),destroyResizeFuncs.length=0},refresh=function(){var resize=_this.column.isResizable(),autoSize=!_this.gridOptionsWrapper.isSuppressAutoSize()&&!colDef.suppressAutoSize;(resize!==canResize||autoSize!==canAutosize)&&(canResize=resize,canAutosize=autoSize,removeResize(),function(){if(setDisplayed(_this.eResize,canResize),canResize){var finishedWithResizeFunc=_this.horizontalResizeService.addResizeBar({eResizeBar:_this.eResize,onResizeStart:_this.onResizeStart.bind(_this),onResizing:_this.onResizing.bind(_this,!1),onResizeEnd:_this.onResizing.bind(_this,!0)});if(destroyResizeFuncs.push(finishedWithResizeFunc),canAutosize){var skipHeaderOnAutoSize_1=_this.gridOptionsWrapper.isSkipHeaderOnAutoSize(),autoSizeColListener_1=function(){_this.columnController.autoSizeColumn(_this.column,skipHeaderOnAutoSize_1,\"uiColumnResized\")};_this.eResize.addEventListener(\"dblclick\",autoSizeColListener_1);var touchListener_1=new TouchListener(_this.eResize);touchListener_1.addEventListener(TouchListener.EVENT_DOUBLE_TAP,autoSizeColListener_1),_this.addDestroyFunc((function(){_this.eResize.removeEventListener(\"dblclick\",autoSizeColListener_1),touchListener_1.removeEventListener(TouchListener.EVENT_DOUBLE_TAP,autoSizeColListener_1),touchListener_1.destroy()}))}}}())};refresh(),this.addDestroyFunc(removeResize),this.refreshFunctions.push(refresh)},HeaderWrapperComp.prototype.onResizing=function(finished,resizeAmount){var resizeAmountNormalised=this.normaliseResizeAmount(resizeAmount);this.columnController.setColumnWidths([{key:this.column,newWidth:this.resizeStartWidth+resizeAmountNormalised}],this.resizeWithShiftKey,finished,\"uiColumnDragged\"),finished&&removeCssClass(this.getGui(),\"ag-column-resizing\")},HeaderWrapperComp.prototype.onResizeStart=function(shiftKey){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=shiftKey,addCssClass(this.getGui(),\"ag-column-resizing\")},HeaderWrapperComp.prototype.getTooltipParams=function(){var res=_super.prototype.getTooltipParams.call(this);return res.location=\"header\",res.colDef=this.column.getColDef(),res},HeaderWrapperComp.prototype.setupTooltip=function(){var _this=this,refresh=function(){var newTooltipText=_this.column.getColDef().headerTooltip;_this.setTooltip(escapeString(newTooltipText))};refresh(),this.refreshFunctions.push(refresh)},HeaderWrapperComp.prototype.setupMovingCss=function(){this.addManagedListener(this.column,Column.EVENT_MOVING_CHANGED,this.onColumnMovingChanged.bind(this)),this.onColumnMovingChanged()},HeaderWrapperComp.prototype.addAttributes=function(){this.getGui().setAttribute(\"col-id\",this.column.getColId())},HeaderWrapperComp.prototype.setupWidth=function(){this.addManagedListener(this.column,Column.EVENT_WIDTH_CHANGED,this.onColumnWidthChanged.bind(this)),this.onColumnWidthChanged()},HeaderWrapperComp.prototype.setupMenuClass=function(){this.addManagedListener(this.column,Column.EVENT_MENU_VISIBLE_CHANGED,this.onMenuVisible.bind(this))},HeaderWrapperComp.prototype.onMenuVisible=function(){this.addOrRemoveCssClass(\"ag-column-menu-visible\",this.column.isMenuVisible())},HeaderWrapperComp.prototype.onColumnWidthChanged=function(){this.getGui().style.width=this.column.getActualWidth()+\"px\"},HeaderWrapperComp.prototype.normaliseResizeAmount=function(dragChange){var result=dragChange;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==Constants.PINNED_LEFT&&(result*=-1):this.pinned===Constants.PINNED_RIGHT&&(result*=-1),result},HeaderWrapperComp.TEMPLATE='<div class=\"ag-header-cell\" role=\"columnheader\" unselectable=\"on\" tabindex=\"-1\">\\n            <div ref=\"eResize\" class=\"ag-header-cell-resize\" role=\"presentation\"></div>\\n            <ag-checkbox ref=\"cbSelectAll\" class=\"ag-header-select-all\" role=\"presentation\"></ag-checkbox>\\n        </div>',__decorate$J([Autowired(\"dragAndDropService\")],HeaderWrapperComp.prototype,\"dragAndDropService\",void 0),__decorate$J([Autowired(\"columnController\")],HeaderWrapperComp.prototype,\"columnController\",void 0),__decorate$J([Autowired(\"horizontalResizeService\")],HeaderWrapperComp.prototype,\"horizontalResizeService\",void 0),__decorate$J([Autowired(\"menuFactory\")],HeaderWrapperComp.prototype,\"menuFactory\",void 0),__decorate$J([Autowired(\"gridApi\")],HeaderWrapperComp.prototype,\"gridApi\",void 0),__decorate$J([Autowired(\"columnApi\")],HeaderWrapperComp.prototype,\"columnApi\",void 0),__decorate$J([Autowired(\"sortController\")],HeaderWrapperComp.prototype,\"sortController\",void 0),__decorate$J([Autowired(\"userComponentFactory\")],HeaderWrapperComp.prototype,\"userComponentFactory\",void 0),__decorate$J([Autowired(\"columnHoverService\")],HeaderWrapperComp.prototype,\"columnHoverService\",void 0),__decorate$J([Autowired(\"beans\")],HeaderWrapperComp.prototype,\"beans\",void 0),__decorate$J([RefSelector(\"eResize\")],HeaderWrapperComp.prototype,\"eResize\",void 0),__decorate$J([RefSelector(\"cbSelectAll\")],HeaderWrapperComp.prototype,\"cbSelectAll\",void 0),__decorate$J([PreDestroy],HeaderWrapperComp.prototype,\"destroyHeaderComp\",null),HeaderWrapperComp}(AbstractHeaderWrapper),__extends$T=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$K=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},HeaderGroupWrapperComp=function(_super){function HeaderGroupWrapperComp(columnGroup,pinned){var _this=_super.call(this,HeaderGroupWrapperComp.TEMPLATE)||this;return _this.removeChildListenersFuncs=[],_this.column=columnGroup,_this.pinned=pinned,_this}return __extends$T(HeaderGroupWrapperComp,_super),HeaderGroupWrapperComp.prototype.postConstruct=function(){_super.prototype.postConstruct.call(this),CssClassApplier.addHeaderClassesFromColDef(this.getComponentHolder(),this.getGui(),this.gridOptionsWrapper,null,this.column);var displayName=this.columnController.getDisplayNameForColumnGroup(this.column,\"header\");this.appendHeaderGroupComp(displayName),this.setupResize(),this.addClasses(),this.setupWidth(),this.addAttributes(),this.setupMovingCss(),this.setupTooltip(),this.setupExpandable(),this.createManagedBean(new HoverFeature(this.column.getOriginalColumnGroup().getLeafColumns(),this.getGui())),this.createManagedBean(new SetLeftFeature(this.column,this.getGui(),this.beans))},HeaderGroupWrapperComp.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var headerRow=this.getParentComponent();this.beans.focusController.setFocusedHeader(headerRow.getRowIndex(),this.getColumn())}},HeaderGroupWrapperComp.prototype.handleKeyDown=function(e){var activeEl=document.activeElement,eGui=this.getGui();if(this.expandable&&activeEl===eGui&&e.keyCode===KeyCode.ENTER){var column=this.getColumn(),newExpandedValue=!column.isExpanded();this.columnController.setColumnGroupOpened(column.getOriginalColumnGroup(),newExpandedValue,\"uiColumnExpanded\")}},HeaderGroupWrapperComp.prototype.onTabKeyDown=function(){},HeaderGroupWrapperComp.prototype.setupExpandable=function(){var originalColumnGroup=this.getColumn().getOriginalColumnGroup();this.refreshExpanded(),this.addManagedListener(originalColumnGroup,OriginalColumnGroup.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(originalColumnGroup,OriginalColumnGroup.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},HeaderGroupWrapperComp.prototype.refreshExpanded=function(){var column=this.getColumn(),eGui=this.getGui(),expandable=column.isExpandable(),expanded=column.isExpanded();this.expandable=expandable,expandable?setAriaExpanded(eGui,expanded):eGui.removeAttribute(\"aria-expanded\")},HeaderGroupWrapperComp.prototype.setupMovingCss=function(){var _this=this;this.column.getOriginalColumnGroup().getLeafColumns().forEach((function(col){_this.addManagedListener(col,Column.EVENT_MOVING_CHANGED,_this.onColumnMovingChanged.bind(_this))})),this.onColumnMovingChanged()},HeaderGroupWrapperComp.prototype.getComponentHolder=function(){return this.column.getColGroupDef()},HeaderGroupWrapperComp.prototype.getTooltipParams=function(){var res=_super.prototype.getTooltipParams.call(this);return res.location=\"headerGroup\",res.colDef=this.getComponentHolder(),res.column=this.getColumn(),res},HeaderGroupWrapperComp.prototype.setupTooltip=function(){var colGroupDef=this.getComponentHolder(),tooltipText=colGroupDef&&colGroupDef.headerTooltip;null!=tooltipText&&this.setTooltip(escapeString(tooltipText))},HeaderGroupWrapperComp.prototype.onColumnMovingChanged=function(){addOrRemoveCssClass(this.getGui(),\"ag-header-cell-moving\",this.column.isMoving())},HeaderGroupWrapperComp.prototype.addAttributes=function(){this.getGui().setAttribute(\"col-id\",this.column.getUniqueId())},HeaderGroupWrapperComp.prototype.appendHeaderGroupComp=function(displayName){var _this=this,params={displayName:displayName,columnGroup:this.column,setExpanded:function(expanded){_this.columnController.setColumnGroupOpened(_this.column.getOriginalColumnGroup(),expanded,\"gridInitializing\")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!displayName){for(var columnGroup=this.column,leafCols=columnGroup.getLeafColumns();columnGroup.getParent()&&columnGroup.getParent().getLeafColumns().length===leafCols.length;)columnGroup=columnGroup.getParent();var colGroupDef=columnGroup.getColGroupDef();colGroupDef&&(displayName=colGroupDef.headerName),displayName||(displayName=leafCols?this.columnController.getDisplayNameForColumn(leafCols[0],\"header\",!0):\"\")}var callback=this.afterHeaderCompCreated.bind(this,displayName);this.userComponentFactory.newHeaderGroupComponent(params).then(callback)},HeaderGroupWrapperComp.prototype.afterHeaderCompCreated=function(displayName,headerGroupComp){var _this=this;this.getGui().appendChild(headerGroupComp.getGui()),this.addDestroyFunc((function(){_this.getContext().destroyBean(headerGroupComp)})),this.setupMove(headerGroupComp.getGui(),displayName)},HeaderGroupWrapperComp.prototype.addClasses=function(){var style=this.column.isPadding()?\"no\":\"with\";this.addCssClass(\"ag-header-group-cell-\"+style+\"-group\")},HeaderGroupWrapperComp.prototype.setupMove=function(eHeaderGroup,displayName){var _this=this;if(eHeaderGroup&&!this.isSuppressMoving()){var allLeafColumns=this.column.getOriginalColumnGroup().getLeafColumns(),dragSource={type:exports.DragSourceType.HeaderCell,eElement:eHeaderGroup,defaultIconName:DragAndDropService.ICON_HIDE,dragItemName:displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return allLeafColumns.forEach((function(col){return col.setMoving(!0,\"uiColumnDragged\")}))},onDragStopped:function(){return allLeafColumns.forEach((function(col){return col.setMoving(!1,\"uiColumnDragged\")}))}};this.dragAndDropService.addDragSource(dragSource,!0),this.addDestroyFunc((function(){return _this.dragAndDropService.removeDragSource(dragSource)}))}},HeaderGroupWrapperComp.prototype.getDragItemForGroup=function(){var allColumnsOriginalOrder=this.column.getOriginalColumnGroup().getLeafColumns(),visibleState={};allColumnsOriginalOrder.forEach((function(column){return visibleState[column.getId()]=column.isVisible()}));var allColumnsCurrentOrder=[];return this.columnController.getAllDisplayedColumns().forEach((function(column){allColumnsOriginalOrder.indexOf(column)>=0&&(allColumnsCurrentOrder.push(column),removeFromArray(allColumnsOriginalOrder,column))})),allColumnsOriginalOrder.forEach((function(column){return allColumnsCurrentOrder.push(column)})),{columns:allColumnsCurrentOrder,visibleState:visibleState}},HeaderGroupWrapperComp.prototype.isSuppressMoving=function(){var childSuppressesMoving=!1;return this.column.getLeafColumns().forEach((function(column){(column.getColDef().suppressMovable||column.getColDef().lockPosition)&&(childSuppressesMoving=!0)})),childSuppressesMoving||this.gridOptionsWrapper.isSuppressMovableColumns()},HeaderGroupWrapperComp.prototype.setupWidth=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.column,ColumnGroup.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},HeaderGroupWrapperComp.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},HeaderGroupWrapperComp.prototype.addListenersToChildrenColumns=function(){var _this=this;this.removeListenersOnChildrenColumns();var widthChangedListener=this.onWidthChanged.bind(this);this.column.getLeafColumns().forEach((function(column){column.addEventListener(Column.EVENT_WIDTH_CHANGED,widthChangedListener),column.addEventListener(Column.EVENT_VISIBLE_CHANGED,widthChangedListener),_this.removeChildListenersFuncs.push((function(){column.removeEventListener(Column.EVENT_WIDTH_CHANGED,widthChangedListener),column.removeEventListener(Column.EVENT_VISIBLE_CHANGED,widthChangedListener)}))}))},HeaderGroupWrapperComp.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach((function(func){return func()})),this.removeChildListenersFuncs=[]},HeaderGroupWrapperComp.prototype.onWidthChanged=function(){this.getGui().style.width=this.column.getActualWidth()+\"px\"},HeaderGroupWrapperComp.prototype.setupResize=function(){var _this=this;if(this.eHeaderCellResize=this.getRefElement(\"agResize\"),this.column.isResizable()){var finishedWithResizeFunc=this.horizontalResizeService.addResizeBar({eResizeBar:this.eHeaderCellResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(finishedWithResizeFunc),!this.gridOptionsWrapper.isSuppressAutoSize()){var skipHeaderOnAutoSize_1=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eHeaderCellResize.addEventListener(\"dblclick\",(function(event){var keys=[];_this.column.getDisplayedLeafColumns().forEach((function(column){column.getColDef().suppressAutoSize||keys.push(column.getColId())})),keys.length>0&&_this.columnController.autoSizeColumns(keys,skipHeaderOnAutoSize_1,\"uiColumnResized\")}))}}else removeFromParent(this.eHeaderCellResize)},HeaderGroupWrapperComp.prototype.onResizeStart=function(shiftKey){var _this=this,leafCols=this.column.getDisplayedLeafColumns();this.resizeCols=leafCols.filter((function(col){return col.isResizable()})),this.resizeStartWidth=0,this.resizeCols.forEach((function(col){return _this.resizeStartWidth+=col.getActualWidth()})),this.resizeRatios=[],this.resizeCols.forEach((function(col){return _this.resizeRatios.push(col.getActualWidth()/_this.resizeStartWidth)}));var takeFromGroup=null;if(shiftKey&&(takeFromGroup=this.columnController.getDisplayedGroupAfter(this.column)),takeFromGroup){var takeFromLeafCols=takeFromGroup.getDisplayedLeafColumns();this.resizeTakeFromCols=takeFromLeafCols.filter((function(col){return col.isResizable()})),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach((function(col){return _this.resizeTakeFromStartWidth+=col.getActualWidth()})),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach((function(col){return _this.resizeTakeFromRatios.push(col.getActualWidth()/_this.resizeTakeFromStartWidth)}))}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;addCssClass(this.getGui(),\"ag-column-resizing\")},HeaderGroupWrapperComp.prototype.onResizing=function(finished,resizeAmount){var resizeSets=[],resizeAmountNormalised=this.normaliseDragChange(resizeAmount);resizeSets.push({columns:this.resizeCols,ratios:this.resizeRatios,width:this.resizeStartWidth+resizeAmountNormalised}),this.resizeTakeFromCols&&resizeSets.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-resizeAmountNormalised}),this.columnController.resizeColumnSets(resizeSets,finished,\"uiColumnDragged\"),finished&&removeCssClass(this.getGui(),\"ag-column-resizing\")},HeaderGroupWrapperComp.prototype.normaliseDragChange=function(dragChange){var result=dragChange;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==Constants.PINNED_LEFT&&(result*=-1):this.pinned===Constants.PINNED_RIGHT&&(result*=-1),result},HeaderGroupWrapperComp.TEMPLATE='<div class=\"ag-header-group-cell\" role=\"columnheader\" tabindex=\"-1\">\\n            <div ref=\"agResize\" class=\"ag-header-cell-resize\" role=\"presentation\"></div>\\n        </div>',__decorate$K([Autowired(\"columnController\")],HeaderGroupWrapperComp.prototype,\"columnController\",void 0),__decorate$K([Autowired(\"horizontalResizeService\")],HeaderGroupWrapperComp.prototype,\"horizontalResizeService\",void 0),__decorate$K([Autowired(\"dragAndDropService\")],HeaderGroupWrapperComp.prototype,\"dragAndDropService\",void 0),__decorate$K([Autowired(\"userComponentFactory\")],HeaderGroupWrapperComp.prototype,\"userComponentFactory\",void 0),__decorate$K([Autowired(\"beans\")],HeaderGroupWrapperComp.prototype,\"beans\",void 0),__decorate$K([Autowired(\"gridApi\")],HeaderGroupWrapperComp.prototype,\"gridApi\",void 0),__decorate$K([Autowired(\"columnApi\")],HeaderGroupWrapperComp.prototype,\"columnApi\",void 0),HeaderGroupWrapperComp}(AbstractHeaderWrapper),__extends$U=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$L=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},ReadOnlyFloatingFilter=function(_super){function ReadOnlyFloatingFilter(){return _super.call(this,'\\n            <div class=\"ag-floating-filter-input\" role=\"presentation\">\\n                <ag-input-text-field ref=\"eFloatingFilterText\"></ag-input-text-field>\\n            </div>')||this}return __extends$U(ReadOnlyFloatingFilter,_super),ReadOnlyFloatingFilter.prototype.destroy=function(){_super.prototype.destroy.call(this)},ReadOnlyFloatingFilter.prototype.init=function(params){this.params=params;var displayName=this.columnController.getDisplayNameForColumn(params.column,\"header\",!0),translate=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(displayName+\" \"+translate(\"ariaFilterInput\",\"Filter Input\"))},ReadOnlyFloatingFilter.prototype.onParentModelChanged=function(parentModel){var _this=this;parentModel?this.params.parentFilterInstance((function(filterInstance){if(filterInstance.getModelAsString){var modelAsString=filterInstance.getModelAsString(parentModel);_this.eFloatingFilterText.setValue(modelAsString)}})):this.eFloatingFilterText.setValue(\"\")},__decorate$L([RefSelector(\"eFloatingFilterText\")],ReadOnlyFloatingFilter.prototype,\"eFloatingFilterText\",void 0),__decorate$L([Autowired(\"columnController\")],ReadOnlyFloatingFilter.prototype,\"columnController\",void 0),ReadOnlyFloatingFilter}(Component),FloatingFilterMapper=function(){function FloatingFilterMapper(){}return FloatingFilterMapper.getFloatingFilterType=function(filterType){return this.filterToFloatingFilterMapping[filterType]},FloatingFilterMapper.filterToFloatingFilterMapping={set:\"agSetColumnFloatingFilter\",agSetColumnFilter:\"agSetColumnFloatingFilter\",multi:\"agMultiColumnFloatingFilter\",agMultiColumnFilter:\"agMultiColumnFloatingFilter\",number:\"agNumberColumnFloatingFilter\",agNumberColumnFilter:\"agNumberColumnFloatingFilter\",date:\"agDateColumnFloatingFilter\",agDateColumnFilter:\"agDateColumnFloatingFilter\",text:\"agTextColumnFloatingFilter\",agTextColumnFilter:\"agTextColumnFloatingFilter\"},FloatingFilterMapper}(),__extends$V=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$M=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},FloatingFilterWrapper=function(_super){function FloatingFilterWrapper(column,pinned){var _this=_super.call(this,FloatingFilterWrapper.TEMPLATE)||this;return _this.column=column,_this.pinned=pinned,_this}return __extends$V(FloatingFilterWrapper,_super),FloatingFilterWrapper.prototype.postConstruct=function(){_super.prototype.postConstruct.call(this),this.setupFloatingFilter(),this.setupWidth(),this.setupLeftPositioning(),this.setupColumnHover(),this.createManagedBean(new HoverFeature([this.column],this.getGui())),this.addManagedListener(this.eButtonShowMainFilter,\"click\",this.showParentFilter.bind(this))},FloatingFilterWrapper.prototype.onTabKeyDown=function(e){var activeEl=document.activeElement,eGui=this.getGui();if(activeEl!==eGui){e.preventDefault();var nextFocusableEl=this.focusController.findNextFocusableElement(eGui,null,e.shiftKey);nextFocusableEl?nextFocusableEl.focus():eGui.focus()}},FloatingFilterWrapper.prototype.handleKeyDown=function(e){var activeEl=document.activeElement,eGui=this.getGui(),wrapperHasFocus=activeEl===eGui;switch(e.keyCode){case KeyCode.UP:case KeyCode.DOWN:wrapperHasFocus||e.preventDefault();case KeyCode.LEFT:case KeyCode.RIGHT:if(wrapperHasFocus)return;e.stopPropagation();case KeyCode.ENTER:wrapperHasFocus&&this.focusController.focusInto(eGui)&&e.preventDefault();break;case KeyCode.ESCAPE:wrapperHasFocus||this.getGui().focus()}},FloatingFilterWrapper.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var headerRow=this.getParentComponent();this.beans.focusController.setFocusedHeader(headerRow.getRowIndex(),this.getColumn())}},FloatingFilterWrapper.prototype.setupFloatingFilter=function(){var _this=this,colDef=this.column.getColDef();colDef.filter&&colDef.floatingFilter&&(this.floatingFilterCompPromise=this.getFloatingFilterInstance(),this.floatingFilterCompPromise&&this.floatingFilterCompPromise.then((function(compInstance){compInstance&&(_this.setupWithFloatingFilter(compInstance),_this.setupSyncWithFilter())})))},FloatingFilterWrapper.prototype.setupLeftPositioning=function(){var setLeftFeature=new SetLeftFeature(this.column,this.getGui(),this.beans);this.createManagedBean(setLeftFeature)},FloatingFilterWrapper.prototype.setupSyncWithFilter=function(){var _this=this,syncWithFilter=function(filterChangedEvent){_this.onParentModelChanged(_this.currentParentModel(),filterChangedEvent)};this.addManagedListener(this.column,Column.EVENT_FILTER_CHANGED,syncWithFilter),this.filterManager.isFilterActive(this.column)&&syncWithFilter(null)},FloatingFilterWrapper.prototype.showParentFilter=function(){this.menuFactory.showMenuAfterButtonClick(this.column,this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,\"filterMenuTab\",[\"filterMenuTab\"])},FloatingFilterWrapper.prototype.setupColumnHover=function(){this.addManagedListener(this.eventService,Events.EVENT_COLUMN_HOVER_CHANGED,this.onColumnHover.bind(this)),this.onColumnHover()},FloatingFilterWrapper.prototype.onColumnHover=function(){addOrRemoveCssClass(this.getGui(),\"ag-column-hover\",this.columnHoverService.isHovered(this.column))},FloatingFilterWrapper.prototype.setupWidth=function(){this.addManagedListener(this.column,Column.EVENT_WIDTH_CHANGED,this.onColumnWidthChanged.bind(this)),this.onColumnWidthChanged()},FloatingFilterWrapper.prototype.onColumnWidthChanged=function(){this.getGui().style.width=this.column.getActualWidth()+\"px\"},FloatingFilterWrapper.prototype.setupWithFloatingFilter=function(floatingFilterComp){var _this=this,disposeFunc=function(){_this.getContext().destroyBean(floatingFilterComp)};if(this.isAlive()){this.addDestroyFunc(disposeFunc);var floatingFilterCompUi=floatingFilterComp.getGui();addOrRemoveCssClass(this.eFloatingFilterBody,\"ag-floating-filter-full-body\",this.suppressFilterButton),addOrRemoveCssClass(this.eFloatingFilterBody,\"ag-floating-filter-body\",!this.suppressFilterButton),setDisplayed(this.eButtonWrapper,!this.suppressFilterButton);var eIcon=createIconNoSpan(\"filter\",this.gridOptionsWrapper,this.column);this.eButtonShowMainFilter.appendChild(eIcon),this.eFloatingFilterBody.appendChild(floatingFilterCompUi),floatingFilterComp.afterGuiAttached&&floatingFilterComp.afterGuiAttached()}else disposeFunc()},FloatingFilterWrapper.prototype.parentFilterInstance=function(callback){var filterComponent=this.getFilterComponent();filterComponent&&filterComponent.then(callback)},FloatingFilterWrapper.prototype.getFilterComponent=function(createIfDoesNotExist){return void 0===createIfDoesNotExist&&(createIfDoesNotExist=!0),this.filterManager.getFilterComponent(this.column,\"NO_UI\",createIfDoesNotExist)},FloatingFilterWrapper.getDefaultFloatingFilterType=function(def){if(null==def)return null;var defaultFloatingFilterType=null;return\"string\"==typeof def.filter?defaultFloatingFilterType=FloatingFilterMapper.getFloatingFilterType(def.filter):def.filterFramework||!0===def.filter&&(defaultFloatingFilterType=ModuleRegistry.isRegistered(exports.ModuleNames.SetFilterModule)?\"agSetColumnFloatingFilter\":\"agTextColumnFloatingFilter\"),defaultFloatingFilterType},FloatingFilterWrapper.prototype.getFloatingFilterInstance=function(){var colDef=this.column.getColDef(),defaultFloatingFilterType=FloatingFilterWrapper.getDefaultFloatingFilterType(colDef),filterParams=this.filterManager.createFilterParams(this.column,colDef),finalFilterParams=this.userComponentFactory.createFinalParams(colDef,\"filter\",filterParams),params={api:this.gridApi,column:this.column,filterParams:finalFilterParams,currentParentModel:this.currentParentModel.bind(this),parentFilterInstance:this.parentFilterInstance.bind(this),showParentFilter:this.showParentFilter.bind(this),onFloatingFilterChanged:this.onFloatingFilterChanged.bind(this),suppressFilterButton:!1};this.suppressFilterButton=!!colDef.floatingFilterComponentParams&&!!colDef.floatingFilterComponentParams.suppressFilterButton;var promise=this.userComponentFactory.newFloatingFilterComponent(colDef,params,defaultFloatingFilterType);if(!promise){var compInstance=this.userComponentFactory.createUserComponentFromConcreteClass(ReadOnlyFloatingFilter,params);promise=AgPromise.resolve(compInstance)}return promise},FloatingFilterWrapper.prototype.currentParentModel=function(){var filterComponent=this.getFilterComponent(!1);return filterComponent?filterComponent.resolveNow(null,(function(filter){return filter&&filter.getModel()})):null},FloatingFilterWrapper.prototype.onParentModelChanged=function(model,filterChangedEvent){this.floatingFilterCompPromise&&this.floatingFilterCompPromise.then((function(comp){return comp&&comp.onParentModelChanged(model,filterChangedEvent)}))},FloatingFilterWrapper.prototype.onFloatingFilterChanged=function(){console.warn(\"AG Grid: since version 21.x, how floating filters are implemented has changed. Instead of calling params.onFloatingFilterChanged(), get a reference to the main filter via params.parentFilterInstance() and then set a value on the parent filter directly.\")},FloatingFilterWrapper.TEMPLATE='<div class=\"ag-header-cell\" role=\"gridcell\" tabindex=\"-1\">\\n            <div class=\"ag-floating-filter-full-body\" ref=\"eFloatingFilterBody\" role=\"presentation\"></div>\\n            <div class=\"ag-floating-filter-button ag-hidden\" ref=\"eButtonWrapper\" role=\"presentation\">\\n                <button type=\"button\" aria-label=\"Open Filter Menu\" class=\"ag-floating-filter-button-button\" ref=\"eButtonShowMainFilter\" tabindex=\"-1\"></button>\\n            </div>\\n        </div>',__decorate$M([Autowired(\"columnHoverService\")],FloatingFilterWrapper.prototype,\"columnHoverService\",void 0),__decorate$M([Autowired(\"userComponentFactory\")],FloatingFilterWrapper.prototype,\"userComponentFactory\",void 0),__decorate$M([Autowired(\"gridApi\")],FloatingFilterWrapper.prototype,\"gridApi\",void 0),__decorate$M([Autowired(\"columnApi\")],FloatingFilterWrapper.prototype,\"columnApi\",void 0),__decorate$M([Autowired(\"filterManager\")],FloatingFilterWrapper.prototype,\"filterManager\",void 0),__decorate$M([Autowired(\"menuFactory\")],FloatingFilterWrapper.prototype,\"menuFactory\",void 0),__decorate$M([Autowired(\"beans\")],FloatingFilterWrapper.prototype,\"beans\",void 0),__decorate$M([RefSelector(\"eFloatingFilterBody\")],FloatingFilterWrapper.prototype,\"eFloatingFilterBody\",void 0),__decorate$M([RefSelector(\"eButtonWrapper\")],FloatingFilterWrapper.prototype,\"eButtonWrapper\",void 0),__decorate$M([RefSelector(\"eButtonShowMainFilter\")],FloatingFilterWrapper.prototype,\"eButtonShowMainFilter\",void 0),FloatingFilterWrapper}(AbstractHeaderWrapper),__extends$W=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$N=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};!function(HeaderRowType){HeaderRowType[HeaderRowType.COLUMN_GROUP=0]=\"COLUMN_GROUP\",HeaderRowType[HeaderRowType.COLUMN=1]=\"COLUMN\",HeaderRowType[HeaderRowType.FLOATING_FILTER=2]=\"FLOATING_FILTER\"}(HeaderRowType||(HeaderRowType={}));var DropType,HeaderRowComp=function(_super){function HeaderRowComp(dept,type,pinned){var _this=_super.call(this,'<div class=\"ag-header-row\" role=\"row\"></div>')||this;_this.headerComps={},_this.setRowIndex(dept),_this.type=type,_this.pinned=pinned;var niceClassName=HeaderRowType[type].toLowerCase().replace(/_/g,\"-\");return _this.addCssClass(\"ag-header-row-\"+niceClassName),isBrowserSafari()&&(_this.getGui().style.transform=\"translateZ(0)\"),_this}return __extends$W(HeaderRowComp,_super),HeaderRowComp.prototype.forEachHeaderElement=function(callback){var _this=this;Object.keys(this.headerComps).forEach((function(key){callback(_this.headerComps[key])}))},HeaderRowComp.prototype.setRowIndex=function(rowIndex){this.dept=rowIndex,setAriaRowIndex(this.getGui(),rowIndex+1)},HeaderRowComp.prototype.getRowIndex=function(){return this.dept},HeaderRowComp.prototype.getType=function(){return this.type},HeaderRowComp.prototype.destroyAllChildComponents=function(){var idsOfAllChildren=Object.keys(this.headerComps);this.destroyChildComponents(idsOfAllChildren)},HeaderRowComp.prototype.destroyChildComponents=function(idsToDestroy){var _this=this;idsToDestroy.forEach((function(id){var childHeaderWrapper=_this.headerComps[id];_this.getGui().removeChild(childHeaderWrapper.getGui()),_this.destroyBean(childHeaderWrapper),delete _this.headerComps[id]}))},HeaderRowComp.prototype.onRowHeightChanged=function(){var groupHeight,headerHeight,headerRowCount=this.columnController.getHeaderRowCount(),sizes=[],numberOfFloating=0;this.columnController.isPivotMode()?(groupHeight=this.gridOptionsWrapper.getPivotGroupHeaderHeight(),headerHeight=this.gridOptionsWrapper.getPivotHeaderHeight()):(this.columnController.hasFloatingFilters()&&(headerRowCount++,numberOfFloating=1),groupHeight=this.gridOptionsWrapper.getGroupHeaderHeight(),headerHeight=this.gridOptionsWrapper.getHeaderHeight());for(var numberOfGroups=headerRowCount-(1+numberOfFloating),i=0;i<numberOfGroups;i++)sizes.push(groupHeight);for(sizes.push(headerHeight),i=0;i<numberOfFloating;i++)sizes.push(this.gridOptionsWrapper.getFloatingFiltersHeight());var rowHeight=0;for(i=0;i<this.dept;i++)rowHeight+=sizes[i];this.getGui().style.top=rowHeight+\"px\",this.getGui().style.height=sizes[this.dept]+\"px\"},HeaderRowComp.prototype.init=function(){this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this))},HeaderRowComp.prototype.onColumnResized=function(){this.setWidth()},HeaderRowComp.prototype.setWidth=function(){var width=this.getWidthForRow();this.getGui().style.width=width+\"px\"},HeaderRowComp.prototype.getWidthForRow=function(){return this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_PRINT?missing(this.pinned)?this.columnController.getContainerWidth(Constants.PINNED_RIGHT)+this.columnController.getContainerWidth(Constants.PINNED_LEFT)+this.columnController.getContainerWidth(null):0:this.columnController.getContainerWidth(this.pinned)},HeaderRowComp.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth()},HeaderRowComp.prototype.getColumnsInViewport=function(){return this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_PRINT?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},HeaderRowComp.prototype.getColumnsInViewportPrintLayout=function(){var _this=this;if(null!=this.pinned)return[];var viewportColumns=[],actualDepth=this.getActualDepth();return[Constants.PINNED_LEFT,null,Constants.PINNED_RIGHT].forEach((function(pinned){var items=_this.columnController.getVirtualHeaderGroupRow(pinned,actualDepth);viewportColumns=viewportColumns.concat(items)})),viewportColumns},HeaderRowComp.prototype.getActualDepth=function(){return this.type==HeaderRowType.FLOATING_FILTER?this.dept-1:this.dept},HeaderRowComp.prototype.getColumnsInViewportNormalLayout=function(){return this.columnController.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},HeaderRowComp.prototype.onVirtualColumnsChanged=function(){var _this=this,compIdsToRemove=Object.keys(this.headerComps),compIdsWanted=[];if(this.getColumnsInViewport().forEach((function(child){if(!child.isEmptyGroup()){var idOfChild=child.getUniqueId(),eParentContainer=_this.getGui(),previousComp=_this.headerComps[idOfChild];if(previousComp&&previousComp.getColumn()!=child&&(_this.destroyChildComponents([idOfChild]),removeFromArray(compIdsToRemove,idOfChild),previousComp=void 0),previousComp)removeFromArray(compIdsToRemove,idOfChild);else{var headerComp=_this.createHeaderComp(child);_this.headerComps[idOfChild]=headerComp,eParentContainer.appendChild(headerComp.getGui())}compIdsWanted.push(idOfChild)}})),compIdsToRemove.filter((function(colId){var wrapper=_this.headerComps[colId];return!!_this.focusController.isHeaderWrapperFocused(wrapper)&&_this.columnController.isDisplayed(wrapper.getColumn())})).forEach((function(colId){removeFromArray(compIdsToRemove,colId),compIdsWanted.push(colId)})),this.destroyChildComponents(compIdsToRemove),this.gridOptionsWrapper.isEnsureDomOrder()){var correctChildOrder=compIdsWanted.map((function(id){return _this.headerComps[id].getGui()}));setDomChildOrder(this.getGui(),correctChildOrder)}},HeaderRowComp.prototype.createHeaderComp=function(columnGroupChild){var result;switch(this.type){case HeaderRowType.COLUMN_GROUP:result=new HeaderGroupWrapperComp(columnGroupChild,this.pinned);break;case HeaderRowType.FLOATING_FILTER:result=new FloatingFilterWrapper(columnGroupChild,this.pinned);break;default:result=new HeaderWrapperComp(columnGroupChild,this.pinned)}return this.createBean(result),result.setParentComponent(this),result},HeaderRowComp.prototype.getHeaderComps=function(){return this.headerComps},__decorate$N([Autowired(\"columnController\")],HeaderRowComp.prototype,\"columnController\",void 0),__decorate$N([Autowired(\"focusController\")],HeaderRowComp.prototype,\"focusController\",void 0),__decorate$N([PreDestroy],HeaderRowComp.prototype,\"destroyAllChildComponents\",null),__decorate$N([PostConstruct],HeaderRowComp.prototype,\"init\",null),HeaderRowComp}(Component),__decorate$O=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},MoveColumnController=function(){function MoveColumnController(pinned,eContainer){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=pinned,this.eContainer=eContainer,this.centerContainer=!exists(pinned)}return MoveColumnController.prototype.init=function(){var _this=this;this.logger=this.loggerFactory.create(\"MoveColumnController\"),this.controllersService.whenReady((function(){_this.gridBodyCon=_this.controllersService.getGridBodyController()}))},MoveColumnController.prototype.getIconName=function(){return this.pinned?DragAndDropService.ICON_PINNED:DragAndDropService.ICON_MOVE},MoveColumnController.prototype.onDragEnter=function(draggingEvent){var columns=draggingEvent.dragItem.columns;if(draggingEvent.dragSource.type===exports.DragSourceType.ToolPanel)this.setColumnsVisible(columns,!0,\"uiColumnDragged\");else{var visibleState_1=draggingEvent.dragItem.visibleState,visibleColumns=(columns||[]).filter((function(column){return visibleState_1[column.getId()]}));this.setColumnsVisible(visibleColumns,!0,\"uiColumnDragged\")}this.setColumnsPinned(columns,this.pinned,\"uiColumnDragged\"),this.onDragging(draggingEvent,!0)},MoveColumnController.prototype.onDragLeave=function(draggingEvent){if(!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()&&!draggingEvent.fromNudge){var dragItem=draggingEvent.dragSource.getDragItem();this.setColumnsVisible(dragItem.columns,!1,\"uiColumnDragged\")}this.ensureIntervalCleared()},MoveColumnController.prototype.setColumnsVisible=function(columns,visible,source){if(void 0===source&&(source=\"api\"),columns){var allowedCols=columns.filter((function(c){return!c.getColDef().lockVisible}));this.columnController.setColumnsVisible(allowedCols,visible,source)}},MoveColumnController.prototype.setColumnsPinned=function(columns,pinned,source){if(void 0===source&&(source=\"api\"),columns){var allowedCols=columns.filter((function(c){return!c.getColDef().lockPinned}));this.columnController.setColumnsPinned(allowedCols,pinned,source)}},MoveColumnController.prototype.onDragStop=function(){this.ensureIntervalCleared()},MoveColumnController.prototype.normaliseX=function(x){return this.gridOptionsWrapper.isEnableRtl()&&(x=this.eContainer.clientWidth-x),this.centerContainer&&(x+=this.controllersService.getCenterRowContainerCon().getCenterViewportScrollLeft()),x},MoveColumnController.prototype.checkCenterForScrolling=function(xAdjustedForScroll){if(this.centerContainer){var firstVisiblePixel=this.controllersService.getCenterRowContainerCon().getCenterViewportScrollLeft(),lastVisiblePixel=firstVisiblePixel+this.controllersService.getCenterRowContainerCon().getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=xAdjustedForScroll<firstVisiblePixel+50,this.needToMoveLeft=xAdjustedForScroll>lastVisiblePixel-50):(this.needToMoveLeft=xAdjustedForScroll<firstVisiblePixel+50,this.needToMoveRight=xAdjustedForScroll>lastVisiblePixel-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},MoveColumnController.prototype.onDragging=function(draggingEvent,fromEnter){var _this=this;if(void 0===fromEnter&&(fromEnter=!1),this.lastDraggingEvent=draggingEvent,!missing(draggingEvent.hDirection)){var mouseXNormalised=this.normaliseX(draggingEvent.x);fromEnter||this.checkCenterForScrolling(mouseXNormalised);var hDirectionNormalised=this.normaliseDirection(draggingEvent.hDirection),dragSourceType=draggingEvent.dragSource.type,columnsToMove=draggingEvent.dragSource.getDragItem().columns;columnsToMove=columnsToMove.filter((function(col){return!col.getColDef().lockPinned||col.getPinned()==_this.pinned})),this.attemptMoveColumns(dragSourceType,columnsToMove,hDirectionNormalised,mouseXNormalised,fromEnter)}},MoveColumnController.prototype.normaliseDirection=function(hDirection){if(!this.gridOptionsWrapper.isEnableRtl())return hDirection;switch(hDirection){case exports.HorizontalDirection.Left:return exports.HorizontalDirection.Right;case exports.HorizontalDirection.Right:return exports.HorizontalDirection.Left;default:console.error(\"AG Grid: Unknown direction \"+hDirection)}},MoveColumnController.prototype.calculateOldIndex=function(movingCols){var gridCols=this.columnController.getAllGridColumns(),indexes=sortNumerically(movingCols.map((function(col){return gridCols.indexOf(col)}))),firstIndex=indexes[0];return last(indexes)-firstIndex!=indexes.length-1?null:firstIndex},MoveColumnController.prototype.attemptMoveColumns=function(dragSourceType,allMovingColumns,hDirection,mouseX,fromEnter){var draggingLeft=hDirection===exports.HorizontalDirection.Left,draggingRight=hDirection===exports.HorizontalDirection.Right,allMovingColumnsOrdered=allMovingColumns.slice();this.columnController.sortColumnsLikeGridColumns(allMovingColumnsOrdered);var validMoves=this.calculateValidMoves(allMovingColumnsOrdered,draggingRight,mouseX),oldIndex=this.calculateOldIndex(allMovingColumnsOrdered);if(0!==validMoves.length){var firstValidMove=validMoves[0],constrainDirection=null!==oldIndex&&!fromEnter;if(dragSourceType==exports.DragSourceType.HeaderCell&&(constrainDirection=null!==oldIndex),constrainDirection){if(draggingLeft&&firstValidMove>=oldIndex)return;if(draggingRight&&firstValidMove<=oldIndex)return}for(var i=0;i<validMoves.length;i++){var move=validMoves[i];if(this.columnController.doesMovePassRules(allMovingColumnsOrdered,move))return void this.columnController.moveColumns(allMovingColumnsOrdered,move,\"uiColumnDragged\")}}},MoveColumnController.prototype.calculateValidMoves=function(movingCols,draggingRight,mouseX){if(this.gridOptionsWrapper.isSuppressMovableColumns()||movingCols.some((function(col){return col.getColDef().suppressMovable})))return[];var firstValidMove,allDisplayedCols=this.columnController.getDisplayedColumns(this.pinned),allGridCols=this.columnController.getAllGridColumns(),movingDisplayedCols=allDisplayedCols.filter((function(col){return includes(movingCols,col)})),otherDisplayedCols=allDisplayedCols.filter((function(col){return!includes(movingCols,col)})),otherGridCols=allGridCols.filter((function(col){return!includes(movingCols,col)})),displayIndex=0,availableWidth=mouseX;if(draggingRight){var widthOfMovingDisplayedCols_1=0;movingDisplayedCols.forEach((function(col){return widthOfMovingDisplayedCols_1+=col.getActualWidth()})),availableWidth-=widthOfMovingDisplayedCols_1}if(availableWidth>0){for(var i=0;i<otherDisplayedCols.length&&!((availableWidth-=otherDisplayedCols[i].getActualWidth())<0);i++)displayIndex++;draggingRight&&displayIndex++}displayIndex>0?firstValidMove=otherGridCols.indexOf(otherDisplayedCols[displayIndex-1])+1:-1===(firstValidMove=otherGridCols.indexOf(otherDisplayedCols[0]))&&(firstValidMove=0);var validMoves=[firstValidMove],numberComparator=function(a,b){return a-b};if(draggingRight){for(var pointer=firstValidMove+1,lastIndex=allGridCols.length-1;pointer<=lastIndex;)validMoves.push(pointer),pointer++;validMoves.sort(numberComparator)}else{lastIndex=allGridCols.length-1;for(var displacedCol=allGridCols[pointer=firstValidMove];pointer<=lastIndex&&this.isColumnHidden(allDisplayedCols,displacedCol);)pointer++,validMoves.push(pointer),displacedCol=allGridCols[pointer];for(pointer=firstValidMove-1;pointer>=0;)validMoves.push(pointer),pointer--;validMoves.sort(numberComparator).reverse()}return validMoves},MoveColumnController.prototype.isColumnHidden=function(displayedColumns,col){return displayedColumns.indexOf(col)<0},MoveColumnController.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?DragAndDropService.ICON_LEFT:DragAndDropService.ICON_RIGHT,!0))},MoveColumnController.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(DragAndDropService.ICON_MOVE))},MoveColumnController.prototype.moveInterval=function(){var pixelsToMove;this.intervalCount++,(pixelsToMove=10+5*this.intervalCount)>100&&(pixelsToMove=100);var pixelsMoved=null,scrollFeature=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?pixelsMoved=scrollFeature.scrollHorizontally(-pixelsToMove):this.needToMoveRight&&(pixelsMoved=scrollFeature.scrollHorizontally(pixelsToMove)),0!==pixelsMoved)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var columnsThatCanPin=this.lastDraggingEvent.dragItem.columns.filter((function(c){return!c.getColDef().lockPinned}));columnsThatCanPin.length>0&&(this.dragAndDropService.setGhostIcon(DragAndDropService.ICON_PINNED),this.failedMoveAttempts>7&&(this.setColumnsPinned(columnsThatCanPin,this.needToMoveLeft?Constants.PINNED_LEFT:Constants.PINNED_RIGHT,\"uiColumnDragged\"),this.dragAndDropService.nudge()))}},__decorate$O([Autowired(\"loggerFactory\")],MoveColumnController.prototype,\"loggerFactory\",void 0),__decorate$O([Autowired(\"columnController\")],MoveColumnController.prototype,\"columnController\",void 0),__decorate$O([Autowired(\"dragAndDropService\")],MoveColumnController.prototype,\"dragAndDropService\",void 0),__decorate$O([Autowired(\"gridOptionsWrapper\")],MoveColumnController.prototype,\"gridOptionsWrapper\",void 0),__decorate$O([Autowired(\"controllersService\")],MoveColumnController.prototype,\"controllersService\",void 0),__decorate$O([PostConstruct],MoveColumnController.prototype,\"init\",null),MoveColumnController}(),__decorate$P=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},BodyDropPivotTarget=function(){function BodyDropPivotTarget(pinned){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=pinned}return BodyDropPivotTarget.prototype.onDragEnter=function(draggingEvent){var _this=this;if(this.clearColumnsList(),!this.gridOptionsWrapper.isFunctionsReadOnly()){var dragColumns=draggingEvent.dragItem.columns;dragColumns&&dragColumns.forEach((function(column){column.isPrimary()&&(column.isAnyFunctionActive()||(column.isAllowValue()?_this.columnsToAggregate.push(column):column.isAllowRowGroup()?_this.columnsToGroup.push(column):column.isAllowPivot()&&_this.columnsToPivot.push(column)))}))}},BodyDropPivotTarget.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?DragAndDropService.ICON_PINNED:DragAndDropService.ICON_MOVE:null},BodyDropPivotTarget.prototype.onDragLeave=function(draggingEvent){this.clearColumnsList()},BodyDropPivotTarget.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},BodyDropPivotTarget.prototype.onDragging=function(draggingEvent){},BodyDropPivotTarget.prototype.onDragStop=function(draggingEvent){this.columnsToAggregate.length>0&&this.columnController.addValueColumns(this.columnsToAggregate,\"toolPanelDragAndDrop\"),this.columnsToGroup.length>0&&this.columnController.addRowGroupColumns(this.columnsToGroup,\"toolPanelDragAndDrop\"),this.columnsToPivot.length>0&&this.columnController.addPivotColumns(this.columnsToPivot,\"toolPanelDragAndDrop\")},__decorate$P([Autowired(\"columnController\")],BodyDropPivotTarget.prototype,\"columnController\",void 0),__decorate$P([Autowired(\"gridOptionsWrapper\")],BodyDropPivotTarget.prototype,\"gridOptionsWrapper\",void 0),BodyDropPivotTarget}(),__extends$X=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$Q=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};!function(DropType){DropType[DropType.ColumnMove=0]=\"ColumnMove\",DropType[DropType.Pivot=1]=\"Pivot\"}(DropType||(DropType={}));var HeaderNavigationDirection,BodyDropTarget=function(_super){function BodyDropTarget(pinned,eContainer){var _this=_super.call(this)||this;return _this.dropListeners={},_this.pinned=pinned,_this.eContainer=eContainer,_this}return __extends$X(BodyDropTarget,_super),BodyDropTarget.prototype.postConstruct=function(){var _this=this;this.controllersService.whenReady((function(p){var containers;switch(_this.pinned){case Constants.PINNED_LEFT:containers=[p.leftRowContainerCon,p.bottomLeftRowContainerCon,p.topLeftRowContainerCon];break;case Constants.PINNED_RIGHT:containers=[p.rightRowContainerCon,p.bottomRightRowContainerCon,p.topRightRowContainerCon];break;default:containers=[p.centerRowContainerCon,p.bottomCenterRowContainerCon,p.topCenterRowContainerCon]}_this.eSecondaryContainers=containers.map((function(c){return c.getContainerElement()}))}))},BodyDropTarget.prototype.isInterestedIn=function(type){return type===exports.DragSourceType.HeaderCell||type===exports.DragSourceType.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},BodyDropTarget.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},BodyDropTarget.prototype.getContainer=function(){return this.eContainer},BodyDropTarget.prototype.init=function(){this.moveColumnController=this.createBean(new MoveColumnController(this.pinned,this.eContainer));var bodyDropPivotTarget=new BodyDropPivotTarget(this.pinned);this.createBean(bodyDropPivotTarget),this.dropListeners[DropType.ColumnMove]=this.moveColumnController,this.dropListeners[DropType.Pivot]=bodyDropPivotTarget,this.dragAndDropService.addDropTarget(this)},BodyDropTarget.prototype.getIconName=function(){return this.currentDropListener.getIconName()},BodyDropTarget.prototype.getDropType=function(draggingEvent){return this.columnController.isPivotMode()&&draggingEvent.dragSource.type===exports.DragSourceType.ToolPanel?DropType.Pivot:DropType.ColumnMove},BodyDropTarget.prototype.onDragEnter=function(draggingEvent){var dropType=this.getDropType(draggingEvent);this.currentDropListener=this.dropListeners[dropType],this.currentDropListener.onDragEnter(draggingEvent)},BodyDropTarget.prototype.onDragLeave=function(params){this.currentDropListener.onDragLeave(params)},BodyDropTarget.prototype.onDragging=function(params){this.currentDropListener.onDragging(params)},BodyDropTarget.prototype.onDragStop=function(params){this.currentDropListener.onDragStop(params)},__decorate$Q([Autowired(\"dragAndDropService\")],BodyDropTarget.prototype,\"dragAndDropService\",void 0),__decorate$Q([Autowired(\"columnController\")],BodyDropTarget.prototype,\"columnController\",void 0),__decorate$Q([Autowired(\"controllersService\")],BodyDropTarget.prototype,\"controllersService\",void 0),__decorate$Q([PostConstruct],BodyDropTarget.prototype,\"postConstruct\",null),__decorate$Q([PostConstruct],BodyDropTarget.prototype,\"init\",null),BodyDropTarget}(BeanStub),__extends$Y=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$R=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},HeaderContainer=function(_super){function HeaderContainer(eContainer,eViewport,pinned){var _this=_super.call(this)||this;return _this.groupsRowComps=[],_this.eContainer=eContainer,_this.pinned=pinned,_this.eViewport=eViewport,_this}return __extends$Y(HeaderContainer,_super),HeaderContainer.prototype.forEachHeaderElement=function(callback){this.groupsRowComps&&this.groupsRowComps.forEach((function(c){return c.forEachHeaderElement(callback)})),this.columnsRowComp&&this.columnsRowComp.forEachHeaderElement(callback),this.filtersRowComp&&this.filtersRowComp.forEachHeaderElement(callback)},HeaderContainer.prototype.init=function(){this.addManagedListener(this.eventService,Events.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.setupDragAndDrop()},HeaderContainer.prototype.onColumnResized=function(){this.setWidthOfPinnedContainer()},HeaderContainer.prototype.onDisplayedColumnsChanged=function(){this.setWidthOfPinnedContainer()},HeaderContainer.prototype.onScrollVisibilityChanged=function(){this.setWidthOfPinnedContainer()},HeaderContainer.prototype.onScrollbarWidthChanged=function(){this.setWidthOfPinnedContainer()},HeaderContainer.prototype.setWidthOfPinnedContainer=function(){var pinningLeft=this.pinned===Constants.PINNED_LEFT,pinningRight=this.pinned===Constants.PINNED_RIGHT,controller=this.columnController,isRtl=this.gridOptionsWrapper.isEnableRtl(),scrollbarWidth=this.gridOptionsWrapper.getScrollbarWidth();if(pinningLeft||pinningRight){var width=controller[pinningLeft?\"getDisplayedColumnsLeftWidth\":\"getDisplayedColumnsRightWidth\"]();this.scrollVisibleService.isVerticalScrollShowing()&&(isRtl&&pinningLeft||!isRtl&&pinningRight)&&(width+=scrollbarWidth),setFixedWidth(this.eContainer,width)}},HeaderContainer.prototype.getRowComps=function(){var res=[];return this.groupsRowComps&&(res=res.concat(this.groupsRowComps)),this.columnsRowComp&&res.push(this.columnsRowComp),this.filtersRowComp&&res.push(this.filtersRowComp),res},HeaderContainer.prototype.onGridColumnsChanged=function(){this.refresh(!0)},HeaderContainer.prototype.refresh=function(keepColumns){void 0===keepColumns&&(keepColumns=!1),this.refreshRowComps(keepColumns)},HeaderContainer.prototype.setupDragAndDrop=function(){var bodyDropTarget=new BodyDropTarget(this.pinned,this.eViewport?this.eViewport:this.eContainer);this.createManagedBean(bodyDropTarget)},HeaderContainer.prototype.destroyRowComps=function(keepColumns){void 0===keepColumns&&(keepColumns=!1),this.groupsRowComps.forEach(this.destroyRowComp.bind(this)),this.groupsRowComps=[],this.destroyRowComp(this.filtersRowComp),this.filtersRowComp=void 0,keepColumns||(this.destroyRowComp(this.columnsRowComp),this.columnsRowComp=void 0)},HeaderContainer.prototype.destroyRowComp=function(rowComp){rowComp&&(this.destroyBean(rowComp),this.eContainer.removeChild(rowComp.getGui()))},HeaderContainer.prototype.refreshRowComps=function(keepColumns){var _this=this;void 0===keepColumns&&(keepColumns=!1);var sequence=new NumberSequence;!function(){var groupRowCount=_this.columnController.getHeaderRowCount()-1;_this.groupsRowComps.forEach(_this.destroyRowComp.bind(_this)),_this.groupsRowComps=[];for(var i=0;i<groupRowCount;i++){var rowComp=_this.createBean(new HeaderRowComp(sequence.next(),HeaderRowType.COLUMN_GROUP,_this.pinned));_this.groupsRowComps.push(rowComp)}}(),function(){var rowIndex=sequence.next();if(_this.columnsRowComp){var rowIndexMismatch=_this.columnsRowComp.getRowIndex()!==rowIndex;keepColumns&&!rowIndexMismatch||(_this.destroyRowComp(_this.columnsRowComp),_this.columnsRowComp=void 0)}_this.columnsRowComp||(_this.columnsRowComp=_this.createBean(new HeaderRowComp(rowIndex,HeaderRowType.COLUMN,_this.pinned)))}(),function(){var destroyPreviousComp=function(){_this.destroyRowComp(_this.filtersRowComp),_this.filtersRowComp=void 0};if(!_this.columnController.isPivotMode()&&_this.columnController.hasFloatingFilters()){var rowIndex=sequence.next();if(_this.filtersRowComp){var rowIndexMismatch=_this.filtersRowComp.getRowIndex()!==rowIndex;keepColumns&&!rowIndexMismatch||destroyPreviousComp()}_this.filtersRowComp||(_this.filtersRowComp=_this.createBean(new HeaderRowComp(rowIndex,HeaderRowType.FLOATING_FILTER,_this.pinned)))}else destroyPreviousComp()}(),this.getRowComps().forEach((function(rowComp){return _this.eContainer.appendChild(rowComp.getGui())}))},__decorate$R([Autowired(\"columnController\")],HeaderContainer.prototype,\"columnController\",void 0),__decorate$R([Autowired(\"scrollVisibleService\")],HeaderContainer.prototype,\"scrollVisibleService\",void 0),__decorate$R([PostConstruct],HeaderContainer.prototype,\"init\",null),__decorate$R([PreDestroy],HeaderContainer.prototype,\"destroyRowComps\",null),HeaderContainer}(BeanStub),__extends$Z=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$S=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};(HeaderNavigationDirection=exports.HeaderNavigationDirection||(exports.HeaderNavigationDirection={}))[HeaderNavigationDirection.UP=0]=\"UP\",HeaderNavigationDirection[HeaderNavigationDirection.DOWN=1]=\"DOWN\",HeaderNavigationDirection[HeaderNavigationDirection.LEFT=2]=\"LEFT\",HeaderNavigationDirection[HeaderNavigationDirection.RIGHT=3]=\"RIGHT\";var LayoutCssClasses,HeaderNavigationService=function(_super){function HeaderNavigationService(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$Z(HeaderNavigationService,_super),HeaderNavigationService.prototype.postConstruct=function(){var _this=this;this.controllersService.whenReady((function(p){_this.gridBodyCon=p.gridBodyCon}))},HeaderNavigationService.prototype.registerHeaderRoot=function(headerRoot){this.headerRoot=headerRoot},HeaderNavigationService.prototype.getHeaderRowCount=function(){return 0===this.headerRoot.getHeaderContainers().size?0:this.getHeaderContainer().getRowComps().length},HeaderNavigationService.prototype.getHeaderRowType=function(idx){if(this.getHeaderRowCount())return this.getHeaderContainer().getRowComps()[idx].getType()},HeaderNavigationService.prototype.getHeaderContainer=function(position){return void 0===position&&(position=\"center\"),null===position&&(position=\"center\"),this.headerRoot.getHeaderContainers().get(position)},HeaderNavigationService.prototype.navigateVertically=function(direction,fromHeader,event){if(fromHeader||(fromHeader=this.focusController.getFocusedHeader()),!fromHeader)return!1;var headerRowIndex=fromHeader.headerRowIndex,column=fromHeader.column,rowLen=this.getHeaderRowCount(),isUp=direction===exports.HeaderNavigationDirection.UP,nextRow=isUp?headerRowIndex-1:headerRowIndex+1,nextFocusColumn=null,skipColumn=!1;nextRow<0&&(nextRow=0,nextFocusColumn=column,skipColumn=!0),nextRow>=rowLen&&(nextRow=-1);var currentRowType=this.getHeaderRowType(headerRowIndex);if(!skipColumn){if(currentRowType===HeaderRowType.COLUMN_GROUP){var currentColumn=column;nextFocusColumn=isUp?column.getParent():currentColumn.getDisplayedChildren()[0]}else currentRowType===HeaderRowType.FLOATING_FILTER?nextFocusColumn=column:(currentColumn=column,nextFocusColumn=isUp?currentColumn.getParent():currentColumn);if(!nextFocusColumn)return!1}return this.focusController.focusHeaderPosition({headerRowIndex:nextRow,column:nextFocusColumn},void 0,!1,!0,event)},HeaderNavigationService.prototype.navigateHorizontally=function(direction,fromTab,event){void 0===fromTab&&(fromTab=!1);var nextHeader,normalisedDirection,focusedHeader=this.focusController.getFocusedHeader(),isLeft=direction===exports.HeaderNavigationDirection.LEFT,isRtl=this.gridOptionsWrapper.isEnableRtl();return(nextHeader=this.headerPositionUtils.findHeader(focusedHeader,normalisedDirection=isLeft!==isRtl?\"Before\":\"After\"))?this.focusController.focusHeaderPosition(nextHeader,normalisedDirection,fromTab,!0,event):!fromTab||this.focusNextHeaderRow(focusedHeader,normalisedDirection,event)},HeaderNavigationService.prototype.focusNextHeaderRow=function(focusedHeader,direction,event){var currentIndex=focusedHeader.headerRowIndex,nextPosition=null;return\"Before\"===direction?currentIndex>0&&(nextPosition=this.headerPositionUtils.findColAtEdgeForHeaderRow(currentIndex-1,\"end\")):nextPosition=this.headerPositionUtils.findColAtEdgeForHeaderRow(currentIndex+1,\"start\"),this.focusController.focusHeaderPosition(nextPosition,direction,!0,!0,event)},HeaderNavigationService.prototype.scrollToColumn=function(column,direction){if(void 0===direction&&(direction=\"After\"),!column.getPinned()){var columnToScrollTo;if(column instanceof ColumnGroup){var columns=column.getDisplayedLeafColumns();columnToScrollTo=\"Before\"===direction?last(columns):columns[0]}else columnToScrollTo=column;this.gridBodyCon.getScrollFeature().ensureColumnVisible(columnToScrollTo),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()}},__decorate$S([Autowired(\"focusController\")],HeaderNavigationService.prototype,\"focusController\",void 0),__decorate$S([Autowired(\"headerPositionUtils\")],HeaderNavigationService.prototype,\"headerPositionUtils\",void 0),__decorate$S([Autowired(\"animationFrameService\")],HeaderNavigationService.prototype,\"animationFrameService\",void 0),__decorate$S([Autowired(\"controllersService\")],HeaderNavigationService.prototype,\"controllersService\",void 0),__decorate$S([PostConstruct],HeaderNavigationService.prototype,\"postConstruct\",null),__decorate$S([Bean(\"headerNavigationService\")],HeaderNavigationService)}(BeanStub),KeyName=function(){function KeyName(){}return KeyName.BACKSPACE=\"Backspace\",KeyName.TAB=\"Tab\",KeyName.ENTER=\"Enter\",KeyName.SHIFT=\"Shift\",KeyName.ESCAPE=\"Escape\",KeyName.SPACE=\" \",KeyName.LEFT=\"ArrowLeft\",KeyName.UP=\"ArrowUp\",KeyName.RIGHT=\"ArrowRight\",KeyName.DOWN=\"ArrowDown\",KeyName.DELETE=\"Delete\",KeyName.NUM_PAD_DELETE=\"Del\",KeyName.A=\"a\",KeyName.C=\"c\",KeyName.V=\"v\",KeyName.D=\"d\",KeyName.Z=\"z\",KeyName.Y=\"y\",KeyName.F2=\"F2\",KeyName.PAGE_UP=\"PageUp\",KeyName.PAGE_DOWN=\"PageDown\",KeyName.PAGE_HOME=\"Home\",KeyName.PAGE_END=\"End\",KeyName}(),__extends$_=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$T=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},CenterWidthFeature=function(_super){function CenterWidthFeature(callback){var _this=_super.call(this)||this;return _this.callback=callback,_this}return __extends$_(CenterWidthFeature,_super),CenterWidthFeature.prototype.postConstruct=function(){var listener=this.setWidth.bind(this);this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_DOM_LAYOUT,listener),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,listener),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,listener),this.setWidth()},CenterWidthFeature.prototype.setWidth=function(){var columnController=this.columnController,printLayout=this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_PRINT,centerWidth=columnController.getBodyContainerWidth(),leftWidth=columnController.getDisplayedColumnsLeftWidth(),rightWidth=columnController.getDisplayedColumnsRightWidth();this.callback(printLayout?centerWidth+leftWidth+rightWidth:centerWidth)},__decorate$T([Autowired(\"columnController\")],CenterWidthFeature.prototype,\"columnController\",void 0),__decorate$T([PostConstruct],CenterWidthFeature.prototype,\"postConstruct\",null),CenterWidthFeature}(BeanStub),__extends$$=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$U=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},HeaderRootComp=function(_super){function HeaderRootComp(){var _this=_super.call(this,HeaderRootComp.TEMPLATE)||this;return _this.headerContainers=new Map,_this}return __extends$$(HeaderRootComp,_super),HeaderRootComp.prototype.postConstruct=function(){var _this=this;_super.prototype.postConstruct.call(this),this.printLayout=this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_PRINT,this.gridApi.registerHeaderRootComp(this),this.autoWidthCalculator.registerHeaderRootComp(this),this.registerHeaderContainer(new HeaderContainer(this.eHeaderContainer,this.eHeaderViewport,null),\"center\"),this.registerHeaderContainer(new HeaderContainer(this.ePinnedLeftHeader,null,Constants.PINNED_LEFT),\"left\"),this.registerHeaderContainer(new HeaderContainer(this.ePinnedRightHeader,null,Constants.PINNED_RIGHT),\"right\"),this.headerContainers.forEach((function(container){return _this.createManagedBean(container)})),this.headerNavigationService.registerHeaderRoot(this),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this)),this.onPivotModeChanged(),this.addPreventHeaderScroll(),this.createManagedBean(new CenterWidthFeature((function(width){return _this.eHeaderContainer.style.width=width+\"px\"}))),this.columnController.isReady()&&this.refreshHeader(),this.setupHeaderHeight(),this.controllersService.registerHeaderRootComp(this)},HeaderRootComp.prototype.setupHeaderHeight=function(){var listener=this.setHeaderHeight.bind(this);listener(),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_HEADER_HEIGHT,listener),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_PIVOT_HEADER_HEIGHT,listener),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_GROUP_HEADER_HEIGHT,listener),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_PIVOT_GROUP_HEADER_HEIGHT,listener),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_FLOATING_FILTERS_HEIGHT,listener),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,listener)},HeaderRootComp.prototype.registerHeaderContainer=function(headerContainer,type){this.headerContainers.set(type,headerContainer)},HeaderRootComp.prototype.onTabKeyDown=function(e){var isRtl=this.gridOptionsWrapper.isEnableRtl();(this.headerNavigationService.navigateHorizontally(e.shiftKey!==isRtl?exports.HeaderNavigationDirection.LEFT:exports.HeaderNavigationDirection.RIGHT,!0,e)||this.focusController.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()},HeaderRootComp.prototype.handleKeyDown=function(e){var direction=null;switch(e.key){case KeyName.LEFT:direction=exports.HeaderNavigationDirection.LEFT;case KeyName.RIGHT:exists(direction)||(direction=exports.HeaderNavigationDirection.RIGHT),this.headerNavigationService.navigateHorizontally(direction,!1,e);break;case KeyName.UP:direction=exports.HeaderNavigationDirection.UP;case KeyName.DOWN:exists(direction)||(direction=exports.HeaderNavigationDirection.DOWN),this.headerNavigationService.navigateVertically(direction,null,e)&&e.preventDefault();break;default:return}},HeaderRootComp.prototype.onFocusOut=function(e){var relatedTarget=e.relatedTarget,eGui=this.getGui();!relatedTarget&&eGui.contains(document.activeElement)||eGui.contains(relatedTarget)||this.focusController.clearFocusedHeader()},HeaderRootComp.prototype.onDomLayoutChanged=function(){var newValue=this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_PRINT;this.printLayout!==newValue&&(this.printLayout=newValue,this.refreshHeader())},HeaderRootComp.prototype.setHorizontalScroll=function(offset){this.eHeaderContainer.style.transform=\"translateX(\"+offset+\"px)\"},HeaderRootComp.prototype.forEachHeaderElement=function(callback){this.headerContainers.forEach((function(childContainer){return childContainer.forEachHeaderElement(callback)}))},HeaderRootComp.prototype.refreshHeader=function(){this.headerContainers.forEach((function(container){return container.refresh()}))},HeaderRootComp.prototype.onPivotModeChanged=function(){var pivotMode=this.columnController.isPivotMode();addOrRemoveCssClass(this.getGui(),\"ag-pivot-on\",pivotMode),addOrRemoveCssClass(this.getGui(),\"ag-pivot-off\",!pivotMode)},HeaderRootComp.prototype.setHeaderHeight=function(){var totalHeaderHeight,groupHeight,headerHeight,columnController=this.columnController,gridOptionsWrapper=this.gridOptionsWrapper,numberOfFloating=0,headerRowCount=columnController.getHeaderRowCount();columnController.isPivotMode()?(groupHeight=gridOptionsWrapper.getPivotGroupHeaderHeight(),headerHeight=gridOptionsWrapper.getPivotHeaderHeight()):(columnController.hasFloatingFilters()&&(headerRowCount++,numberOfFloating=1),groupHeight=gridOptionsWrapper.getGroupHeaderHeight(),headerHeight=gridOptionsWrapper.getHeaderHeight());var numberOfGroups=headerRowCount-(1+numberOfFloating);totalHeaderHeight=numberOfFloating*gridOptionsWrapper.getFloatingFiltersHeight(),totalHeaderHeight+=numberOfGroups*groupHeight;var px=(totalHeaderHeight+=headerHeight)+1+\"px\";this.getGui().style.height=px,this.getGui().style.minHeight=px},HeaderRootComp.prototype.addPreventHeaderScroll=function(){var _this=this;this.addManagedListener(this.eHeaderViewport,\"scroll\",(function(){var scrollLeft=_this.eHeaderViewport.scrollLeft;0!==scrollLeft&&(_this.controllersService.getGridBodyController().getScrollFeature().scrollHorizontally(scrollLeft),_this.eHeaderViewport.scrollLeft=0)}))},HeaderRootComp.prototype.getHeaderContainers=function(){return this.headerContainers},HeaderRootComp.prototype.onPinnedLeftWidthChanged=function(){var displayed=this.pinnedWidthService.getPinnedLeftWidth()>0;setDisplayed(this.ePinnedLeftHeader,displayed)},HeaderRootComp.prototype.onPinnedRightWidthChanged=function(){var displayed=this.pinnedWidthService.getPinnedRightWidth()>0;setDisplayed(this.ePinnedRightHeader,displayed)},HeaderRootComp.TEMPLATE='<div class=\"ag-header\" role=\"presentation\">\\n            <div class=\"ag-pinned-left-header\" ref=\"ePinnedLeftHeader\" role=\"presentation\"></div>\\n            <div class=\"ag-header-viewport\" ref=\"eHeaderViewport\" role=\"presentation\">\\n                <div class=\"ag-header-container\" ref=\"eHeaderContainer\" role=\"rowgroup\"></div>\\n            </div>\\n            <div class=\"ag-pinned-right-header\" ref=\"ePinnedRightHeader\" role=\"presentation\"></div>\\n        </div>',__decorate$U([RefSelector(\"ePinnedLeftHeader\")],HeaderRootComp.prototype,\"ePinnedLeftHeader\",void 0),__decorate$U([RefSelector(\"ePinnedRightHeader\")],HeaderRootComp.prototype,\"ePinnedRightHeader\",void 0),__decorate$U([RefSelector(\"eHeaderContainer\")],HeaderRootComp.prototype,\"eHeaderContainer\",void 0),__decorate$U([RefSelector(\"eHeaderViewport\")],HeaderRootComp.prototype,\"eHeaderViewport\",void 0),__decorate$U([Autowired(\"columnController\")],HeaderRootComp.prototype,\"columnController\",void 0),__decorate$U([Autowired(\"gridApi\")],HeaderRootComp.prototype,\"gridApi\",void 0),__decorate$U([Autowired(\"autoWidthCalculator\")],HeaderRootComp.prototype,\"autoWidthCalculator\",void 0),__decorate$U([Autowired(\"headerNavigationService\")],HeaderRootComp.prototype,\"headerNavigationService\",void 0),__decorate$U([Autowired(\"pinnedWidthService\")],HeaderRootComp.prototype,\"pinnedWidthService\",void 0),__decorate$U([Autowired(\"controllersService\")],HeaderRootComp.prototype,\"controllersService\",void 0),HeaderRootComp}(ManagedFocusComponent),__extends$10=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__assign$6=function(){return(__assign$6=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__decorate$V=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},FilterManager=function(_super){function FilterManager(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.allAdvancedFilters=new Map,_this.activeAdvancedFilters=[],_this.quickFilter=null,_this.quickFilterParts=null,_this.processingFilterChange=!1,_this}var FilterManager_1;return __extends$10(FilterManager,_super),FilterManager_1=FilterManager,FilterManager.prototype.init=function(){this.addManagedListener(this.eventService,Events.EVENT_ROW_DATA_CHANGED,this.onNewRowsLoaded.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter()},FilterManager.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(\" \"):null},FilterManager.prototype.setFilterModel=function(model){var _this=this,allPromises=[];if(model){var modelKeys_1=convertToSet(Object.keys(model));this.allAdvancedFilters.forEach((function(filterWrapper,colId){allPromises.push(_this.setModelOnFilterWrapper(filterWrapper.filterPromise,model[colId])),modelKeys_1.delete(colId)})),modelKeys_1.forEach((function(colId){var column=_this.columnController.getPrimaryColumn(colId);if(column){var filterWrapper=_this.getOrCreateFilterWrapper(column,\"NO_UI\");allPromises.push(_this.setModelOnFilterWrapper(filterWrapper.filterPromise,model[colId]))}else console.warn(\"Warning ag-grid setFilterModel - no column found for colId \"+colId)}))}else this.allAdvancedFilters.forEach((function(filterWrapper){allPromises.push(_this.setModelOnFilterWrapper(filterWrapper.filterPromise,null))}));AgPromise.all(allPromises).then((function(){return _this.onFilterChanged()}))},FilterManager.prototype.setModelOnFilterWrapper=function(filterPromise,newModel){return new AgPromise((function(resolve){filterPromise.then((function(filter){\"function\"!=typeof filter.setModel&&(console.warn(\"Warning ag-grid - filter missing setModel method, which is needed for setFilterModel\"),resolve()),(filter.setModel(newModel)||AgPromise.resolve()).then((function(){return resolve()}))}))}))},FilterManager.prototype.getFilterModel=function(){var result={};return this.allAdvancedFilters.forEach((function(filterWrapper,key){var filter=filterWrapper.filterPromise.resolveNow(null,(function(promiseFilter){return promiseFilter}));if(null==filter)return null;if(\"function\"==typeof filter.getModel){var model=filter.getModel();exists(model)&&(result[key]=model)}else console.warn(\"Warning ag-grid - filter API missing getModel method, which is needed for getFilterModel\")})),result},FilterManager.prototype.isAdvancedFilterPresent=function(){return this.activeAdvancedFilters.length>0},FilterManager.prototype.updateActiveFilters=function(){var _this=this;this.activeAdvancedFilters.length=0,this.allAdvancedFilters.forEach((function(filterWrapper){if(filterWrapper.filterPromise.resolveNow(!1,(function(filter){return filter.isFilterActive()}))){var resolvedPromise=filterWrapper.filterPromise.resolveNow(null,(function(filter){return filter}));_this.activeAdvancedFilters.push(resolvedPromise)}}))},FilterManager.prototype.updateFilterFlagInColumns=function(source,additionalEventAttributes){this.allAdvancedFilters.forEach((function(filterWrapper){var isFilterActive=filterWrapper.filterPromise.resolveNow(!1,(function(filter){return filter.isFilterActive()}));filterWrapper.column.setFilterActive(isFilterActive,source,additionalEventAttributes)}))},FilterManager.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isAdvancedFilterPresent()||this.gridOptionsWrapper.isExternalFilterPresent()},FilterManager.prototype.doAdvancedFiltersPass=function(node,filterToSkip){for(var data=node.data,i=0;i<this.activeAdvancedFilters.length;i++){var filter=this.activeAdvancedFilters[i];if(null!=filter&&filter!==filterToSkip){if(\"function\"!=typeof filter.doesFilterPass)throw new Error(\"Filter is missing method doesFilterPass\");if(!filter.doesFilterPass({node:node,data:data}))return!1}}return!0},FilterManager.prototype.parseQuickFilter=function(newFilter){return exists(newFilter)?this.gridOptionsWrapper.isRowModelDefault()?newFilter.toUpperCase():(console.warn(\"ag-grid: quick filtering only works with the Client-Side Row Model\"),null):null},FilterManager.prototype.setQuickFilter=function(newFilter){var parsedFilter=this.parseQuickFilter(newFilter);this.quickFilter!==parsedFilter&&(this.quickFilter=parsedFilter,this.setQuickFilterParts(),this.onFilterChanged())},FilterManager.prototype.onFilterChanged=function(filterInstance,additionalEventAttributes){this.updateActiveFilters(),this.updateFilterFlagInColumns(\"filterChanged\",additionalEventAttributes),this.allAdvancedFilters.forEach((function(filterWrapper){filterWrapper.filterPromise.then((function(filter){filter!==filterInstance&&filter.onAnyFilterChanged&&filter.onAnyFilterChanged()}))}));var filterChangedEvent={type:Events.EVENT_FILTER_CHANGED,api:this.gridApi,columnApi:this.columnApi};additionalEventAttributes&&mergeDeep(filterChangedEvent,additionalEventAttributes),this.processingFilterChange=!0,this.eventService.dispatchEvent(filterChangedEvent),this.processingFilterChange=!1},FilterManager.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},FilterManager.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},FilterManager.prototype.doesRowPassOtherFilters=function(filterToSkip,node){return this.doesRowPassFilter({rowNode:node,filterInstanceToSkip:filterToSkip})},FilterManager.prototype.doesRowPassQuickFilterNoCache=function(node,filterPart){var _this=this;return some(this.columnController.getAllColumnsForQuickFilter(),(function(column){var part=_this.getQuickFilterTextForColumn(column,node);return exists(part)&&part.indexOf(filterPart)>=0}))},FilterManager.prototype.doesRowPassQuickFilterCache=function(node,filterPart){return node.quickFilterAggregateText||this.aggregateRowForQuickFilter(node),node.quickFilterAggregateText.indexOf(filterPart)>=0},FilterManager.prototype.doesRowPassQuickFilter=function(node){var _this=this,usingCache=this.gridOptionsWrapper.isCacheQuickFilter();return every(this.quickFilterParts,(function(part){return usingCache?_this.doesRowPassQuickFilterCache(node,part):_this.doesRowPassQuickFilterNoCache(node,part)}))},FilterManager.prototype.doesRowPassFilter=function(params){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(params.rowNode)||this.gridOptionsWrapper.isExternalFilterPresent()&&!this.gridOptionsWrapper.doesExternalFilterPass(params.rowNode)||this.isAdvancedFilterPresent()&&!this.doAdvancedFiltersPass(params.rowNode,params.filterInstanceToSkip))},FilterManager.prototype.getQuickFilterTextForColumn=function(column,node){var value=this.valueService.getValue(column,node,!0),colDef=column.getColDef();if(colDef.getQuickFilterText){var params={value:value,node:node,data:node.data,column:column,colDef:colDef,context:this.gridOptionsWrapper.getContext()};value=colDef.getQuickFilterText(params)}return exists(value)?value.toString().toUpperCase():null},FilterManager.prototype.aggregateRowForQuickFilter=function(node){var _this=this,stringParts=[];forEach(this.columnController.getAllColumnsForQuickFilter(),(function(column){var part=_this.getQuickFilterTextForColumn(column,node);exists(part)&&stringParts.push(part)})),node.quickFilterAggregateText=stringParts.join(FilterManager_1.QUICK_FILTER_SEPARATOR)},FilterManager.prototype.onNewRowsLoaded=function(source){this.allAdvancedFilters.forEach((function(filterWrapper){filterWrapper.filterPromise.then((function(filter){filter.onNewRowsLoaded&&filter.onNewRowsLoaded()}))})),this.updateFilterFlagInColumns(source),this.updateActiveFilters()},FilterManager.prototype.createValueGetter=function(column){var _this=this;return function(node){return _this.valueService.getValue(column,node,!0)}},FilterManager.prototype.getFilterComponent=function(column,source,createIfDoesNotExist){if(void 0===createIfDoesNotExist&&(createIfDoesNotExist=!0),createIfDoesNotExist)return this.getOrCreateFilterWrapper(column,source).filterPromise;var filterWrapper=this.cachedFilter(column);return filterWrapper?filterWrapper.filterPromise:null},FilterManager.prototype.isFilterActive=function(column){var filterWrapper=this.cachedFilter(column);return!!filterWrapper&&filterWrapper.filterPromise.resolveNow(!1,(function(filter){return filter.isFilterActive()}))},FilterManager.prototype.getOrCreateFilterWrapper=function(column,source){var filterWrapper=this.cachedFilter(column);return filterWrapper?\"NO_UI\"!==source&&this.putIntoGui(filterWrapper,source):(filterWrapper=this.createFilterWrapper(column,source),this.allAdvancedFilters.set(column.getColId(),filterWrapper)),filterWrapper},FilterManager.prototype.cachedFilter=function(column){return this.allAdvancedFilters.get(column.getColId())},FilterManager.prototype.createFilterInstance=function(column,$scope){var filterInstance,_this=this,defaultFilter=ModuleRegistry.isRegistered(exports.ModuleNames.SetFilterModule)?\"agSetColumnFilter\":\"agTextColumnFilter\",colDef=column.getColDef(),params=__assign$6(__assign$6({},this.createFilterParams(column,colDef,$scope)),{filterModifiedCallback:function(){_this.eventService.dispatchEvent({type:Events.EVENT_FILTER_MODIFIED,api:_this.gridApi,columnApi:_this.columnApi,column:column,filterInstance:filterInstance})},filterChangedCallback:function(additionalEventAttributes){return _this.onFilterChanged(filterInstance,additionalEventAttributes)},doesRowPassOtherFilter:function(node){return _this.doesRowPassOtherFilters(filterInstance,node)}}),res=this.userComponentFactory.newFilterComponent(colDef,params,defaultFilter);return res&&res.then((function(r){return filterInstance=r})),res},FilterManager.prototype.createFilterParams=function(column,colDef,$scope){void 0===$scope&&($scope=null);var params={api:this.gridOptionsWrapper.getApi(),column:column,colDef:cloneObject(colDef),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(column),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:function(){return!0}};return $scope&&(params.$scope=$scope),params},FilterManager.prototype.createFilterWrapper=function(column,source){var filterWrapper={column:column,filterPromise:null,scope:null,compiledElement:null,guiPromise:AgPromise.resolve(null)};return filterWrapper.scope=this.gridOptionsWrapper.isAngularCompileFilters()?this.$scope.$new():null,filterWrapper.filterPromise=this.createFilterInstance(column,filterWrapper.scope),filterWrapper.filterPromise&&this.putIntoGui(filterWrapper,source),filterWrapper},FilterManager.prototype.putIntoGui=function(filterWrapper,source){var _this=this,eFilterGui=document.createElement(\"div\");eFilterGui.className=\"ag-filter\",filterWrapper.guiPromise=new AgPromise((function(resolve){filterWrapper.filterPromise.then((function(filter){var guiFromFilter=filter.getGui();if(exists(guiFromFilter)||console.warn(\"getGui method from filter returned \"+guiFromFilter+\", it should be a DOM element or an HTML template string.\"),\"string\"==typeof guiFromFilter&&(guiFromFilter=loadTemplate(guiFromFilter)),eFilterGui.appendChild(guiFromFilter),filterWrapper.scope){var compiledElement=_this.$compile(eFilterGui)(filterWrapper.scope);filterWrapper.compiledElement=compiledElement,window.setTimeout((function(){return filterWrapper.scope.$apply()}),0)}resolve(eFilterGui),_this.eventService.dispatchEvent({type:Events.EVENT_FILTER_OPENED,column:filterWrapper.column,source:source,eGui:eFilterGui,api:_this.gridApi,columnApi:_this.columnApi})}))}))},FilterManager.prototype.onNewColumnsLoaded=function(){var _this=this,atLeastOneFilterGone=!1;this.allAdvancedFilters.forEach((function(filterWrapper){!_this.columnController.getPrimaryColumn(filterWrapper.column)&&(atLeastOneFilterGone=!0,_this.disposeFilterWrapper(filterWrapper,\"filterDestroyed\"))})),atLeastOneFilterGone&&this.onFilterChanged()},FilterManager.prototype.destroyFilter=function(column,source){void 0===source&&(source=\"api\");var filterWrapper=this.allAdvancedFilters.get(column.getColId());filterWrapper&&(this.disposeFilterWrapper(filterWrapper,source),this.onFilterChanged())},FilterManager.prototype.disposeFilterWrapper=function(filterWrapper,source){var _this=this;filterWrapper.filterPromise.then((function(filter){(filter.setModel(null)||AgPromise.resolve()).then((function(){_this.getContext().destroyBean(filter),filterWrapper.column.setFilterActive(!1,source),filterWrapper.scope&&(filterWrapper.compiledElement&&filterWrapper.compiledElement.remove(),filterWrapper.scope.$destroy()),_this.allAdvancedFilters.delete(filterWrapper.column.getColId())}))}))},FilterManager.prototype.destroy=function(){var _this=this;_super.prototype.destroy.call(this),this.allAdvancedFilters.forEach((function(filterWrapper){return _this.disposeFilterWrapper(filterWrapper,\"filterDestroyed\")}))},FilterManager.QUICK_FILTER_SEPARATOR=\"\\n\",__decorate$V([Autowired(\"$compile\")],FilterManager.prototype,\"$compile\",void 0),__decorate$V([Autowired(\"$scope\")],FilterManager.prototype,\"$scope\",void 0),__decorate$V([Autowired(\"valueService\")],FilterManager.prototype,\"valueService\",void 0),__decorate$V([Autowired(\"columnController\")],FilterManager.prototype,\"columnController\",void 0),__decorate$V([Autowired(\"rowModel\")],FilterManager.prototype,\"rowModel\",void 0),__decorate$V([Autowired(\"columnApi\")],FilterManager.prototype,\"columnApi\",void 0),__decorate$V([Autowired(\"gridApi\")],FilterManager.prototype,\"gridApi\",void 0),__decorate$V([Autowired(\"userComponentFactory\")],FilterManager.prototype,\"userComponentFactory\",void 0),__decorate$V([PostConstruct],FilterManager.prototype,\"init\",null),__decorate$V([PreDestroy],FilterManager.prototype,\"destroy\",null),FilterManager_1=__decorate$V([Bean(\"filterManager\")],FilterManager)}(BeanStub),__extends$11=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$W=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},ValueService=function(_super){function ValueService(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.initialised=!1,_this}return __extends$11(ValueService,_super),ValueService.prototype.init=function(){this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0},ValueService.prototype.getValue=function(column,rowNode,forFilter,ignoreAggData){if(void 0===forFilter&&(forFilter=!1),void 0===ignoreAggData&&(ignoreAggData=!1),this.initialised||this.init(),rowNode){var result,colDef=column.getColDef(),field=colDef.field,colId=column.getId(),data=rowNode.data,groupDataExists=rowNode.groupData&&void 0!==rowNode.groupData[colId],aggDataExists=!ignoreAggData&&rowNode.aggData&&void 0!==rowNode.aggData[colId];if(forFilter&&colDef.filterValueGetter?result=this.executeFilterValueGetter(colDef.filterValueGetter,data,column,rowNode):this.gridOptionsWrapper.isTreeData()&&aggDataExists?result=rowNode.aggData[colId]:this.gridOptionsWrapper.isTreeData()&&colDef.valueGetter?result=this.executeValueGetter(colDef.valueGetter,data,column,rowNode):this.gridOptionsWrapper.isTreeData()&&field&&data?result=getValueUsingField(data,field,column.isFieldContainsDots()):groupDataExists?result=rowNode.groupData[colId]:aggDataExists?result=rowNode.aggData[colId]:colDef.valueGetter?result=this.executeValueGetter(colDef.valueGetter,data,column,rowNode):field&&data&&(result=getValueUsingField(data,field,column.isFieldContainsDots())),this.cellExpressions&&\"string\"==typeof result&&0===result.indexOf(\"=\")){var cellValueGetter=result.substring(1);result=this.executeValueGetter(cellValueGetter,data,column,rowNode)}if(null==result){var openedGroup=this.getOpenedGroup(rowNode,column);if(null!=openedGroup)return openedGroup}return result}},ValueService.prototype.getOpenedGroup=function(rowNode,column){if(this.gridOptionsWrapper.isShowOpenedGroup()&&column.getColDef().showRowGroup)for(var showRowGroup=column.getColDef().showRowGroup,pointer=rowNode.parent;null!=pointer;){if(pointer.rowGroupColumn&&(!0===showRowGroup||showRowGroup===pointer.rowGroupColumn.getId()))return pointer.key;pointer=pointer.parent}},ValueService.prototype.setValue=function(rowNode,colKey,newValue,eventSource){var column=this.columnController.getPrimaryColumn(colKey);if(rowNode&&column){missing(rowNode.data)&&(rowNode.data={});var _a=column.getColDef(),field=_a.field,newValueHandler=_a.newValueHandler,valueSetter=_a.valueSetter;if(missing(field)&&missing(newValueHandler)&&missing(valueSetter))console.warn(\"AG Grid: you need either field or valueSetter set on colDef for editing to work\");else{var valueWasDifferent,params={node:rowNode,data:rowNode.data,oldValue:this.getValue(column,rowNode),newValue:newValue,colDef:column.getColDef(),column:column,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};if(params.newValue=newValue,void 0===(valueWasDifferent=newValueHandler&&exists(newValueHandler)?newValueHandler(params):exists(valueSetter)?this.expressionService.evaluate(valueSetter,params):this.setValueUsingField(rowNode.data,field,newValue,column.isFieldContainsDots()))&&(valueWasDifferent=!0),valueWasDifferent){rowNode.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),params.newValue=this.getValue(column,rowNode);var onCellValueChanged=column.getColDef().onCellValueChanged;\"function\"==typeof onCellValueChanged&&setTimeout((function(){return onCellValueChanged(params)}),0),this.eventService.dispatchEvent({type:Events.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:rowNode.rowIndex,rowPinned:rowNode.rowPinned,column:params.column,api:params.api,columnApi:params.columnApi,colDef:params.colDef,context:params.context,data:rowNode.data,node:rowNode,oldValue:params.oldValue,newValue:params.newValue,value:params.newValue,source:eventSource})}}}},ValueService.prototype.setValueUsingField=function(data,field,newValue,isFieldContainsDots){if(!field)return!1;if(isFieldContainsDots)for(var fieldPieces=field.split(\".\"),currentObject=data;fieldPieces.length>0&&currentObject;){var fieldPiece=fieldPieces.shift();0===fieldPieces.length?currentObject[fieldPiece]=newValue:currentObject=currentObject[fieldPiece]}else data[field]=newValue;return!0},ValueService.prototype.executeFilterValueGetter=function(valueGetter,data,column,rowNode){var params={data:data,node:rowNode,column:column,colDef:column.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,rowNode)};return this.expressionService.evaluate(valueGetter,params)},ValueService.prototype.executeValueGetter=function(valueGetter,data,column,rowNode){var colId=column.getId(),valueFromCache=this.valueCache.getValue(rowNode,colId);if(void 0!==valueFromCache)return valueFromCache;var params={data:data,node:rowNode,column:column,colDef:column.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,rowNode)},result=this.expressionService.evaluate(valueGetter,params);return this.valueCache.setValue(rowNode,colId,result),result},ValueService.prototype.getValueCallback=function(node,field){var otherColumn=this.columnController.getPrimaryColumn(field);return otherColumn?this.getValue(otherColumn,node):null},ValueService.prototype.getKeyForNode=function(col,rowNode){var value=this.getValue(col,rowNode),keyCreator=col.getColDef().keyCreator,result=keyCreator?keyCreator({value:value}):value;return\"string\"==typeof result||null==result?result:(\"[object Object]\"===(result=String(result))&&doOnce((function(){console.warn(\"AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key\")}),\"getKeyForNode - warn about [object,object]\"),result)},__decorate$W([Autowired(\"expressionService\")],ValueService.prototype,\"expressionService\",void 0),__decorate$W([Autowired(\"columnController\")],ValueService.prototype,\"columnController\",void 0),__decorate$W([Autowired(\"valueCache\")],ValueService.prototype,\"valueCache\",void 0),__decorate$W([PostConstruct],ValueService.prototype,\"init\",null),__decorate$W([Bean(\"valueService\")],ValueService)}(BeanStub),__extends$12=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$X=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};(LayoutCssClasses=exports.LayoutCssClasses||(exports.LayoutCssClasses={})).AUTO_HEIGHT=\"ag-layout-auto-height\",LayoutCssClasses.NORMAL=\"ag-layout-normal\",LayoutCssClasses.PRINT=\"ag-layout-print\";var RowAnimationCssClasses,LayoutFeature=function(_super){function LayoutFeature(view){var _this=_super.call(this)||this;return _this.view=view,_this}return __extends$12(LayoutFeature,_super),LayoutFeature.prototype.postConstruct=function(){this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_DOM_LAYOUT,this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},LayoutFeature.prototype.updateLayoutClasses=function(){var domLayout=this.gridOptionsWrapper.getDomLayout();this.view.updateLayoutClasses({autoHeight:domLayout===Constants.DOM_LAYOUT_AUTO_HEIGHT,normal:domLayout===Constants.DOM_LAYOUT_NORMAL,print:domLayout===Constants.DOM_LAYOUT_PRINT})},__decorate$X([Autowired(\"gridOptionsWrapper\")],LayoutFeature.prototype,\"gridOptionsWrapper\",void 0),__decorate$X([PostConstruct],LayoutFeature.prototype,\"postConstruct\",null),LayoutFeature}(BeanStub),__extends$13=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$Y=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},GridBodyScrollFeature=function(_super){function GridBodyScrollFeature(eBodyViewport){var _this=_super.call(this)||this;return _this.scrollLeft=-1,_this.nextScrollTop=-1,_this.scrollTop=-1,_this.eBodyViewport=eBodyViewport,_this.resetLastHorizontalScrollElementDebounced=debounce(_this.resetLastHorizontalScrollElement.bind(_this),500),_this}return __extends$13(GridBodyScrollFeature,_super),GridBodyScrollFeature.prototype.postConstruct=function(){var _this=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.controllersService.whenReady((function(p){_this.centerRowContainerCon=p.centerRowContainerCon,_this.onDisplayedColumnsWidthChanged(),_this.addScrollListener()}))},GridBodyScrollFeature.prototype.addScrollListener=function(){var fakeHScroll=this.controllersService.getFakeHScrollCon();this.addManagedListener(this.centerRowContainerCon.getViewportElement(),\"scroll\",this.onCenterViewportScroll.bind(this)),this.addManagedListener(fakeHScroll.getViewport(),\"scroll\",this.onFakeHorizontalScroll.bind(this));var onVerticalScroll=this.gridOptionsWrapper.isDebounceVerticalScrollbar()?debounce(this.onVerticalScroll.bind(this),100):this.onVerticalScroll.bind(this);this.addManagedListener(this.eBodyViewport,\"scroll\",onVerticalScroll)},GridBodyScrollFeature.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},GridBodyScrollFeature.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(scrollLeft){void 0===scrollLeft&&(scrollLeft=this.centerRowContainerCon.getCenterViewportScrollLeft());var offset=this.enableRtl?scrollLeft:-scrollLeft,topCenterContainer=this.controllersService.getTopCenterRowContainerCon(),bottomCenterContainer=this.controllersService.getBottomCenterRowContainerCon(),headerRootComp=this.controllersService.getHeaderRootComp(),fakeHScroll=this.controllersService.getFakeHScrollCon();headerRootComp.setHorizontalScroll(offset),bottomCenterContainer.setContainerTranslateX(offset),topCenterContainer.setContainerTranslateX(offset),setScrollLeft(this.lastHorizontalScrollElement===this.centerRowContainerCon.getViewportElement()?fakeHScroll.getViewport():this.centerRowContainerCon.getViewportElement(),Math.abs(scrollLeft),this.enableRtl)},GridBodyScrollFeature.prototype.isControllingScroll=function(eDiv){return this.lastHorizontalScrollElement?eDiv===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=eDiv,!0)},GridBodyScrollFeature.prototype.onFakeHorizontalScroll=function(){var fakeHScrollViewport=this.controllersService.getFakeHScrollCon().getViewport();this.isControllingScroll(fakeHScrollViewport)&&this.onBodyHorizontalScroll(fakeHScrollViewport)},GridBodyScrollFeature.prototype.onCenterViewportScroll=function(){var centerContainerViewport=this.centerRowContainerCon.getViewportElement();this.isControllingScroll(centerContainerViewport)&&this.onBodyHorizontalScroll(centerContainerViewport)},GridBodyScrollFeature.prototype.onBodyHorizontalScroll=function(eSource){var centerContainerViewport=this.centerRowContainerCon.getViewportElement();this.shouldBlockScrollUpdate(\"horizontal\",centerContainerViewport.scrollLeft,!0)||(this.doHorizontalScroll(Math.round(getScrollLeft(eSource,this.enableRtl))),this.resetLastHorizontalScrollElementDebounced())},GridBodyScrollFeature.prototype.onVerticalScroll=function(){var scrollTop=this.eBodyViewport.scrollTop;this.shouldBlockScrollUpdate(\"vertical\",scrollTop,!0)||(this.animationFrameService.setScrollTop(scrollTop),this.nextScrollTop=scrollTop,this.gridOptionsWrapper.isSuppressAnimationFrame()?(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()):this.animationFrameService.schedule())},GridBodyScrollFeature.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},GridBodyScrollFeature.prototype.doHorizontalScroll=function(scrollLeft){this.scrollLeft=scrollLeft,this.eventService.dispatchEvent({type:Events.EVENT_BODY_SCROLL,api:this.gridApi,columnApi:this.columnApi,direction:\"horizontal\",left:this.scrollLeft,top:this.scrollTop}),this.horizontallyScrollHeaderCenterAndFloatingCenter(scrollLeft),this.onHorizontalViewportChanged()},GridBodyScrollFeature.prototype.shouldBlockScrollUpdate=function(direction,scrollTo,touchOnly){if(void 0===touchOnly&&(touchOnly=!1),touchOnly&&!isIOSUserAgent())return!1;if(\"vertical\"===direction){var clientHeight=getInnerHeight(this.eBodyViewport);if(scrollTo<0||scrollTo+clientHeight>this.eBodyViewport.scrollHeight)return!0}if(\"horizontal\"===direction){var clientWidth=this.centerRowContainerCon.getCenterWidth(),scrollWidth=this.centerRowContainerCon.getViewportElement().scrollWidth;if(this.enableRtl&&isRtlNegativeScroll()){if(scrollTo>0)return!0}else if(scrollTo<0)return!0;if(Math.abs(scrollTo)+clientWidth>scrollWidth)return!0}return!1},GridBodyScrollFeature.prototype.redrawRowsAfterScroll=function(){this.eventService.dispatchEvent({type:Events.EVENT_BODY_SCROLL,direction:\"vertical\",api:this.gridApi,columnApi:this.columnApi,left:this.scrollLeft,top:this.scrollTop})},GridBodyScrollFeature.prototype.onHorizontalViewportChanged=function(){this.centerRowContainerCon.onHorizontalViewportChanged()},GridBodyScrollFeature.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCon.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.centerRowContainerCon.getViewportElement())},GridBodyScrollFeature.prototype.executeAnimationFrameScroll=function(){var frameNeeded=this.scrollTop!=this.nextScrollTop;return frameNeeded&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),frameNeeded},GridBodyScrollFeature.prototype.setHorizontalScrollPosition=function(hScrollPosition){var maxScrollLeft=this.centerRowContainerCon.getViewportElement().scrollWidth-this.centerRowContainerCon.getCenterWidth();this.shouldBlockScrollUpdate(\"horizontal\",hScrollPosition)&&(hScrollPosition=this.enableRtl&&isRtlNegativeScroll()?hScrollPosition>0?0:maxScrollLeft:Math.min(Math.max(hScrollPosition,0),maxScrollLeft)),setScrollLeft(this.centerRowContainerCon.getViewportElement(),Math.abs(hScrollPosition),this.enableRtl),this.doHorizontalScroll(hScrollPosition)},GridBodyScrollFeature.prototype.setVerticalScrollPosition=function(vScrollPosition){this.eBodyViewport.scrollTop=vScrollPosition},GridBodyScrollFeature.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},GridBodyScrollFeature.prototype.getHScrollPosition=function(){return this.centerRowContainerCon.getHScrollPosition()},GridBodyScrollFeature.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCon.isHorizontalScrollShowing()},GridBodyScrollFeature.prototype.scrollHorizontally=function(pixels){var oldScrollPosition=this.centerRowContainerCon.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(oldScrollPosition+pixels),this.centerRowContainerCon.getViewportElement().scrollLeft-oldScrollPosition},GridBodyScrollFeature.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},GridBodyScrollFeature.prototype.ensureNodeVisible=function(comparator,position){void 0===position&&(position=null);for(var rowCount=this.rowModel.getRowCount(),comparatorIsAFunction=\"function\"==typeof comparator,indexToSelect=-1,i=0;i<rowCount;i++){var node=this.rowModel.getRow(i);if(comparatorIsAFunction){if(comparator(node)){indexToSelect=i;break}}else if(comparator===node||comparator===node.data){indexToSelect=i;break}}indexToSelect>=0&&this.ensureIndexVisible(indexToSelect,position)},GridBodyScrollFeature.prototype.ensureIndexVisible=function(index,position){if(this.gridOptionsWrapper.getDomLayout()!==Constants.DOM_LAYOUT_PRINT){var rowCount=this.paginationProxy.getRowCount();if(\"number\"!=typeof index||index<0||index>=rowCount)console.warn(\"invalid row index for ensureIndexVisible: \"+index);else{this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()||this.paginationProxy.goToPageWithIndex(index);var rowGotShiftedDuringOperation,rowNode=this.paginationProxy.getRow(index);do{var startingRowTop=rowNode.rowTop,startingRowHeight=rowNode.rowHeight,paginationOffset=this.paginationProxy.getPixelOffset(),rowTopPixel=rowNode.rowTop-paginationOffset,rowBottomPixel=rowTopPixel+rowNode.rowHeight,scrollPosition=this.getVScrollPosition(),heightOffset=this.heightScaler.getDivStretchOffset(),vScrollTop=scrollPosition.top+heightOffset,vScrollBottom=scrollPosition.bottom+heightOffset,viewportHeight=vScrollBottom-vScrollTop,pxTop=this.heightScaler.getScrollPositionForPixel(rowTopPixel),pxBottom=this.heightScaler.getScrollPositionForPixel(rowBottomPixel-viewportHeight),pxMiddle=Math.min((pxTop+pxBottom)/2,rowTopPixel),newScrollPosition=null;\"top\"===position?newScrollPosition=pxTop:\"bottom\"===position?newScrollPosition=pxBottom:\"middle\"===position?newScrollPosition=pxMiddle:vScrollTop>rowTopPixel?newScrollPosition=pxTop:vScrollBottom<rowBottomPixel&&(newScrollPosition=pxBottom),null!==newScrollPosition&&(this.eBodyViewport.scrollTop=newScrollPosition,this.rowRenderer.redrawAfterScroll()),rowGotShiftedDuringOperation=startingRowTop!==rowNode.rowTop||startingRowHeight!==rowNode.rowHeight}while(rowGotShiftedDuringOperation);this.animationFrameService.flushAllFrames()}}},GridBodyScrollFeature.prototype.ensureColumnVisible=function(key){var column=this.columnController.getGridColumn(key);if(column)if(column.isPinned())console.warn(\"calling ensureIndexVisible on a \"+column.getPinned()+\" pinned column doesn't make sense for column \"+column.getColId());else if(this.columnController.isColumnDisplayed(column)){var viewportLeftPixel,viewportRightPixel,colLeftPixel=column.getLeft(),colRightPixel=colLeftPixel+column.getActualWidth(),viewportWidth=this.centerRowContainerCon.getCenterWidth(),scrollPosition=this.centerRowContainerCon.getCenterViewportScrollLeft(),bodyWidth=this.columnController.getBodyContainerWidth();this.enableRtl?(viewportLeftPixel=bodyWidth-scrollPosition-viewportWidth,viewportRightPixel=bodyWidth-scrollPosition):(viewportLeftPixel=scrollPosition,viewportRightPixel=viewportWidth+scrollPosition);var viewportScrolledPastCol=viewportLeftPixel>colLeftPixel,viewportScrolledBeforeCol=viewportRightPixel<colRightPixel,colToSmallForViewport=viewportWidth<column.getActualWidth(),alignColToLeft=viewportScrolledPastCol||colToSmallForViewport;(alignColToLeft||viewportScrolledBeforeCol)&&this.centerRowContainerCon.setCenterViewportScrollLeft(this.enableRtl?alignColToLeft?bodyWidth-viewportWidth-colLeftPixel:bodyWidth-colRightPixel:alignColToLeft?colLeftPixel:colRightPixel-viewportWidth),this.centerRowContainerCon.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}else console.warn(\"column is not currently visible\")},__decorate$Y([Autowired(\"controllersService\")],GridBodyScrollFeature.prototype,\"controllersService\",void 0),__decorate$Y([Autowired(\"animationFrameService\")],GridBodyScrollFeature.prototype,\"animationFrameService\",void 0),__decorate$Y([Autowired(\"columnApi\")],GridBodyScrollFeature.prototype,\"columnApi\",void 0),__decorate$Y([Autowired(\"gridApi\")],GridBodyScrollFeature.prototype,\"gridApi\",void 0),__decorate$Y([Autowired(\"paginationProxy\")],GridBodyScrollFeature.prototype,\"paginationProxy\",void 0),__decorate$Y([Autowired(\"rowModel\")],GridBodyScrollFeature.prototype,\"rowModel\",void 0),__decorate$Y([Autowired(\"rowContainerHeightService\")],GridBodyScrollFeature.prototype,\"heightScaler\",void 0),__decorate$Y([Autowired(\"rowRenderer\")],GridBodyScrollFeature.prototype,\"rowRenderer\",void 0),__decorate$Y([Autowired(\"columnController\")],GridBodyScrollFeature.prototype,\"columnController\",void 0),__decorate$Y([PostConstruct],GridBodyScrollFeature.prototype,\"postConstruct\",null),GridBodyScrollFeature}(BeanStub),__extends$14=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__assign$7=function(){return(__assign$7=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__decorate$Z=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__spreadArrays$5=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},RowDragFeature=function(_super){function RowDragFeature(eContainer){var _this=_super.call(this)||this;return _this.isMultiRowDrag=!1,_this.isGridSorted=!1,_this.isGridFiltered=!1,_this.isRowGroupActive=!1,_this.eContainer=eContainer,_this}return __extends$14(RowDragFeature,_super),RowDragFeature.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,Events.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.onSortChanged(),this.onFilterChanged(),this.onRowGroupChanged()},RowDragFeature.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},RowDragFeature.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},RowDragFeature.prototype.onRowGroupChanged=function(){var rowGroups=this.columnController.getRowGroupColumns();this.isRowGroupActive=!missingOrEmpty(rowGroups)},RowDragFeature.prototype.getContainer=function(){return this.eContainer},RowDragFeature.prototype.isInterestedIn=function(type){return type===exports.DragSourceType.RowDrag},RowDragFeature.prototype.getIconName=function(){return this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()?DragAndDropService.ICON_NOT_ALLOWED:DragAndDropService.ICON_MOVE},RowDragFeature.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},RowDragFeature.prototype.getRowNodes=function(draggingEvent){if(!this.isFromThisGrid(draggingEvent))return draggingEvent.dragItem.rowNodes||[];var enableMultiRowDragging=this.gridOptionsWrapper.isEnableMultiRowDragging(),selectedNodes=this.selectionController.getSelectedNodes(),currentNode=draggingEvent.dragItem.rowNode;return enableMultiRowDragging&&-1!==selectedNodes.indexOf(currentNode)?(this.isMultiRowDrag=!0,__spreadArrays$5(selectedNodes)):(this.isMultiRowDrag=!1,[currentNode])},RowDragFeature.prototype.onDragEnter=function(draggingEvent){this.dispatchGridEvent(Events.EVENT_ROW_DRAG_ENTER,draggingEvent),this.getRowNodes(draggingEvent).forEach((function(rowNode){rowNode.setDragging(!0)})),this.onEnterOrDragging(draggingEvent)},RowDragFeature.prototype.onDragging=function(draggingEvent){this.onEnterOrDragging(draggingEvent)},RowDragFeature.prototype.isFromThisGrid=function(draggingEvent){return draggingEvent.dragSource.dragSourceDomDataKey===this.gridOptionsWrapper.getDomDataKey()},RowDragFeature.prototype.isDropZoneWithinThisGrid=function(draggingEvent){return!this.controllersService.getGridBodyController().getGui().contains(draggingEvent.dropZoneTarget)},RowDragFeature.prototype.onEnterOrDragging=function(draggingEvent){this.dispatchGridEvent(Events.EVENT_ROW_DRAG_MOVE,draggingEvent),this.lastDraggingEvent=draggingEvent;var pixel=this.mouseEventService.getNormalisedPosition(draggingEvent).y;this.gridOptionsWrapper.isRowDragManaged()&&this.doManagedDrag(draggingEvent,pixel),this.checkCenterForScrolling(pixel)},RowDragFeature.prototype.doManagedDrag=function(draggingEvent,pixel){var rowNodes,_this=this,isFromThisGrid=this.isFromThisGrid(draggingEvent);isFromThisGrid?(rowNodes=[draggingEvent.dragItem.rowNode],this.isMultiRowDrag&&(rowNodes=__spreadArrays$5(this.selectionController.getSelectedNodes()).sort((function(a,b){return _this.getRowIndexNumber(a)-_this.getRowIndexNumber(b)}))),draggingEvent.dragItem.rowNodes=rowNodes):rowNodes=draggingEvent.dragItem.rowNodes,this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()||(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!isFromThisGrid?this.isDropZoneWithinThisGrid(draggingEvent)||this.clientSideRowModel.highlightRowAtPixel(rowNodes[0],pixel):this.moveRows(rowNodes,pixel))},RowDragFeature.prototype.getRowIndexNumber=function(rowNode){return parseInt(last(rowNode.getRowIndexString().split(\"-\")),10)},RowDragFeature.prototype.moveRowAndClearHighlight=function(draggingEvent){var _this=this,lastHighlightedRowNode=this.clientSideRowModel.getLastHighlightedRowNode(),isBelow=lastHighlightedRowNode&&\"below\"===lastHighlightedRowNode.highlighted,pixel=this.mouseEventService.getNormalisedPosition(draggingEvent).y,rowNodes=draggingEvent.dragItem.rowNodes,increment=isBelow?1:0;if(this.isFromThisGrid(draggingEvent))rowNodes.forEach((function(rowNode){rowNode.rowTop<pixel&&(increment-=1)})),this.moveRows(rowNodes,pixel,increment);else{var getRowNodeId_1=this.gridOptionsWrapper.getRowNodeIdFunc(),addIndex=this.clientSideRowModel.getRowIndexAtPixel(pixel)+1;\"above\"===this.clientSideRowModel.getHighlightPosition(pixel)&&addIndex--,this.clientSideRowModel.updateRowData({add:rowNodes.map((function(node){return node.data})).filter((function(data){return!_this.clientSideRowModel.getRowNode(getRowNodeId_1?getRowNodeId_1(data):data.id)})),addIndex:addIndex})}this.clearRowHighlight()},RowDragFeature.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},RowDragFeature.prototype.moveRows=function(rowNodes,pixel,increment){void 0===increment&&(increment=0),this.clientSideRowModel.ensureRowsAtPixel(rowNodes,pixel,increment)&&(this.focusController.clearFocusedCell(),this.rangeController&&this.rangeController.removeAllCellRanges())},RowDragFeature.prototype.checkCenterForScrolling=function(pixel){var pixelRange=this.controllersService.getGridBodyController().getScrollFeature().getVScrollPosition();this.needToMoveUp=pixel<pixelRange.top+50,this.needToMoveDown=pixel>pixelRange.bottom-50,this.needToMoveUp||this.needToMoveDown?this.ensureIntervalStarted():this.ensureIntervalCleared()},RowDragFeature.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100))},RowDragFeature.prototype.ensureIntervalCleared=function(){exists(this.movingIntervalId)&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null)},RowDragFeature.prototype.moveInterval=function(){var pixelsToMove;this.intervalCount++,(pixelsToMove=10+5*this.intervalCount)>100&&(pixelsToMove=100);var pixelsMoved=null,gridBodyCon=this.controllersService.getGridBodyController();this.needToMoveDown?pixelsMoved=gridBodyCon.scrollVertically(pixelsToMove):this.needToMoveUp&&(pixelsMoved=gridBodyCon.scrollVertically(-pixelsToMove)),0!==pixelsMoved&&this.onDragging(this.lastDraggingEvent)},RowDragFeature.prototype.addRowDropZone=function(params){var _this=this;if(params.getContainer())if(this.dragAndDropService.findExternalZone(params))console.warn(\"AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.\");else{var processedParams={getContainer:params.getContainer};params.fromGrid?(params.fromGrid=void 0,processedParams=params):(params.onDragEnter&&(processedParams.onDragEnter=function(e){params.onDragEnter(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_ENTER,e))}),params.onDragLeave&&(processedParams.onDragLeave=function(e){params.onDragLeave(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_LEAVE,e))}),params.onDragging&&(processedParams.onDragging=function(e){params.onDragging(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_MOVE,e))}),params.onDragStop&&(processedParams.onDragStop=function(e){params.onDragStop(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_END,e))})),this.dragAndDropService.addDropTarget(__assign$7({isInterestedIn:function(type){return type===exports.DragSourceType.RowDrag},getIconName:function(){return DragAndDropService.ICON_MOVE},external:!0},processedParams))}else doOnce((function(){return console.warn(\"AG Grid: addRowDropZone - A container target needs to be provided\")}),\"add-drop-zone-empty-target\")},RowDragFeature.prototype.getRowDropZone=function(events){var _this=this,getContainer=this.getContainer.bind(this),onDragEnter=this.onDragEnter.bind(this),onDragLeave=this.onDragLeave.bind(this),onDragging=this.onDragging.bind(this),onDragStop=this.onDragStop.bind(this);return events?{getContainer:getContainer,onDragEnter:events.onDragEnter?function(e){onDragEnter(e),events.onDragEnter(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_ENTER,e))}:onDragEnter,onDragLeave:events.onDragLeave?function(e){onDragLeave(e),events.onDragLeave(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_LEAVE,e))}:onDragLeave,onDragging:events.onDragging?function(e){onDragging(e),events.onDragging(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_MOVE,e))}:onDragging,onDragStop:events.onDragStop?function(e){onDragStop(e),events.onDragStop(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_END,e))}:onDragStop,fromGrid:!0}:{getContainer:getContainer,onDragEnter:onDragEnter,onDragLeave:onDragLeave,onDragging:onDragging,onDragStop:onDragStop,fromGrid:!0}},RowDragFeature.prototype.draggingToRowDragEvent=function(type,draggingEvent){var vDirectionString,yNormalised=this.mouseEventService.getNormalisedPosition(draggingEvent).y,overIndex=-1,overNode=null;switch(yNormalised>this.paginationProxy.getCurrentPageHeight()||(overIndex=this.rowModel.getRowIndexAtPixel(yNormalised),overNode=this.rowModel.getRow(overIndex)),draggingEvent.vDirection){case exports.VerticalDirection.Down:vDirectionString=\"down\";break;case exports.VerticalDirection.Up:vDirectionString=\"up\";break;default:vDirectionString=null}return{type:type,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),event:draggingEvent.event,node:draggingEvent.dragItem.rowNode,nodes:draggingEvent.dragItem.rowNodes,overIndex:overIndex,overNode:overNode,y:yNormalised,vDirection:vDirectionString}},RowDragFeature.prototype.dispatchGridEvent=function(type,draggingEvent){var event=this.draggingToRowDragEvent(type,draggingEvent);this.eventService.dispatchEvent(event)},RowDragFeature.prototype.onDragLeave=function(draggingEvent){this.dispatchGridEvent(Events.EVENT_ROW_DRAG_LEAVE,draggingEvent),this.stopDragging(draggingEvent),this.gridOptionsWrapper.isRowDragManaged()&&this.clearRowHighlight(),this.isFromThisGrid(draggingEvent)&&(this.isMultiRowDrag=!1)},RowDragFeature.prototype.onDragStop=function(draggingEvent){this.dispatchGridEvent(Events.EVENT_ROW_DRAG_END,draggingEvent),this.stopDragging(draggingEvent),!this.gridOptionsWrapper.isRowDragManaged()||!this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()&&this.isFromThisGrid(draggingEvent)||this.isDropZoneWithinThisGrid(draggingEvent)||this.moveRowAndClearHighlight(draggingEvent)},RowDragFeature.prototype.stopDragging=function(draggingEvent){this.ensureIntervalCleared(),this.getRowNodes(draggingEvent).forEach((function(rowNode){rowNode.setDragging(!1)}))},__decorate$Z([Autowired(\"dragAndDropService\")],RowDragFeature.prototype,\"dragAndDropService\",void 0),__decorate$Z([Autowired(\"rowModel\")],RowDragFeature.prototype,\"rowModel\",void 0),__decorate$Z([Autowired(\"paginationProxy\")],RowDragFeature.prototype,\"paginationProxy\",void 0),__decorate$Z([Autowired(\"columnController\")],RowDragFeature.prototype,\"columnController\",void 0),__decorate$Z([Autowired(\"focusController\")],RowDragFeature.prototype,\"focusController\",void 0),__decorate$Z([Autowired(\"sortController\")],RowDragFeature.prototype,\"sortController\",void 0),__decorate$Z([Autowired(\"filterManager\")],RowDragFeature.prototype,\"filterManager\",void 0),__decorate$Z([Autowired(\"selectionController\")],RowDragFeature.prototype,\"selectionController\",void 0),__decorate$Z([Optional(\"rangeController\")],RowDragFeature.prototype,\"rangeController\",void 0),__decorate$Z([Autowired(\"mouseEventService\")],RowDragFeature.prototype,\"mouseEventService\",void 0),__decorate$Z([Autowired(\"controllersService\")],RowDragFeature.prototype,\"controllersService\",void 0),__decorate$Z([PostConstruct],RowDragFeature.prototype,\"postConstruct\",null),RowDragFeature}(BeanStub),__extends$15=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$_=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};!function(RowAnimationCssClasses){RowAnimationCssClasses.ANIMATION_ON=\"ag-row-animation\",RowAnimationCssClasses.ANIMATION_OFF=\"ag-row-no-animation\"}(RowAnimationCssClasses||(RowAnimationCssClasses={}));var RowContainerNames,GridBodyController=function(_super){function GridBodyController(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$15(GridBodyController,_super),GridBodyController.prototype.getScrollFeature=function(){return this.bodyScrollFeature},GridBodyController.prototype.getBodyViewportElement=function(){return this.eBodyViewport},GridBodyController.prototype.setView=function(view,eGridBody,eBodyViewport,eTop,eBottom){this.view=view,this.eGridBody=eGridBody,this.eBodyViewport=eBodyViewport,this.eTop=eTop,this.eBottom=eBottom,this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.createManagedBean(new LayoutFeature(this.view)),this.bodyScrollFeature=this.createManagedBean(new GridBodyScrollFeature(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.controllersService.registerGridBodyController(this),this.addEventListeners(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus()},GridBodyController.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,Events.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_PINNED_ROW_DATA_CHANGED,this.setFloatingHeights.bind(this))},GridBodyController.prototype.setColumnMovingCss=function(moving){this.view.setColumnMovingCss(moving)},GridBodyController.prototype.setCellTextSelection=function(selectable){void 0===selectable&&(selectable=!1),this.view.setCellSelectableCss(selectable)},GridBodyController.prototype.onScrollVisibilityChanged=function(){var show=this.scrollVisibleService.isVerticalScrollShowing();this.view.setVerticalScrollPaddingVisible(show)},GridBodyController.prototype.onGridColumnsChanged=function(){var columns=this.columnController.getAllGridColumns();this.view.setColumnCount(columns?columns.length:0)},GridBodyController.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,\"dragstart\",(function(event){if(event.target instanceof HTMLImageElement)return event.preventDefault(),!1}))},GridBodyController.prototype.addStopEditingWhenGridLosesFocus=function(){var _this=this;if(this.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus()){var focusOutListener=function(event){var elementWithFocus=event.relatedTarget;if(null!==getTabIndex(elementWithFocus)){var clickInsideGrid=viewports.some((function(viewport){return viewport.contains(elementWithFocus)}))&&_this.mouseEventService.isElementInThisGrid(elementWithFocus);if(!clickInsideGrid){var popupService=_this.popupService;clickInsideGrid=popupService.getActivePopups().some((function(popup){return popup.contains(elementWithFocus)}))||popupService.isElementWithinCustomPopup(elementWithFocus)}clickInsideGrid||_this.rowRenderer.stopEditing()}else _this.rowRenderer.stopEditing()},viewports=[this.eBodyViewport,this.eBottom,this.eTop];viewports.forEach((function(viewport){return _this.addManagedListener(viewport,\"focusout\",focusOutListener)}))}},GridBodyController.prototype.updateRowCount=function(){var headerCount=this.headerNavigationService.getHeaderRowCount(),modelType=this.paginationProxy.getType(),rowCount=-1;modelType===Constants.ROW_MODEL_TYPE_CLIENT_SIDE&&(rowCount=0,this.paginationProxy.forEachNode((function(node){node.group||rowCount++}))),this.view.setRowCount(-1===rowCount?-1:headerCount+rowCount)},GridBodyController.prototype.registerBodyViewportResizeListener=function(listener){this.view.registerBodyViewportResizeListener(listener)},GridBodyController.prototype.setVerticalScrollPaddingVisible=function(visible){this.view.setVerticalScrollPaddingVisible(visible)},GridBodyController.prototype.isVerticalScrollShowing=function(){var isAlwaysShowVerticalScroll=this.gridOptionsWrapper.isAlwaysShowVerticalScroll();return this.view.setAlwaysVerticalScrollClass(isAlwaysShowVerticalScroll),isAlwaysShowVerticalScroll||isVerticalScrollShowing(this.eBodyViewport)},GridBodyController.prototype.setupRowAnimationCssClass=function(){var _this=this,listener=function(){var animateRows=_this.gridOptionsWrapper.isAnimateRows()&&!_this.rowContainerHeightService.isStretching();_this.view.setRowAnimationCssOnBodyViewport(animateRows)};listener(),this.addManagedListener(this.eventService,Events.EVENT_HEIGHT_SCALE_CHANGED,listener)},GridBodyController.prototype.getGridBodyElement=function(){return this.eGridBody},GridBodyController.prototype.addBodyViewportListener=function(){var _this=this;this.addManagedListener(this.eBodyViewport,\"contextmenu\",(function(mouseEvent){var target=getTarget(mouseEvent);target!==_this.eBodyViewport&&target!==_this.controllersService.getCenterRowContainerCon().getViewportElement()||_this.contextMenuFactory&&_this.contextMenuFactory.onContextMenu(mouseEvent,null,null,null,null,_this.eGridBody)}))},GridBodyController.prototype.getGui=function(){return this.eGridBody},GridBodyController.prototype.scrollVertically=function(pixels){var oldScrollPosition=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(oldScrollPosition+pixels),this.eBodyViewport.scrollTop-oldScrollPosition},GridBodyController.prototype.getBodyClientRect=function(){if(this.eBodyViewport)return this.eBodyViewport.getBoundingClientRect()},GridBodyController.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new RowDragFeature(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},GridBodyController.prototype.getRowDragFeature=function(){return this.rowDragFeature},GridBodyController.prototype.setFloatingHeights=function(){var pinnedRowModel=this.pinnedRowModel,floatingTopHeight=pinnedRowModel.getPinnedTopTotalHeight();floatingTopHeight&&(floatingTopHeight+=1);var floatingBottomHeight=pinnedRowModel.getPinnedBottomTotalHeight();floatingBottomHeight&&(floatingBottomHeight+=1),this.view.setTopHeight(floatingTopHeight),this.view.setBottomHeight(floatingBottomHeight),this.view.setTopDisplay(floatingTopHeight?\"inherit\":\"none\"),this.view.setBottomDisplay(floatingBottomHeight?\"inherit\":\"none\")},GridBodyController.prototype.sizeColumnsToFit=function(nextTimeout){var _this=this,scrollWidthToRemove=this.isVerticalScrollShowing()&&!isBrowserIE()?this.gridOptionsWrapper.getScrollbarWidth():0,availableWidth=getInnerWidth(this.eBodyViewport)-scrollWidthToRemove;availableWidth>0?this.columnController.sizeColumnsToFit(availableWidth,\"sizeColumnsToFit\"):void 0===nextTimeout?window.setTimeout((function(){_this.sizeColumnsToFit(100)}),0):100===nextTimeout?window.setTimeout((function(){_this.sizeColumnsToFit(500)}),100):500===nextTimeout?window.setTimeout((function(){_this.sizeColumnsToFit(-1)}),500):console.warn(\"AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?\")},__decorate$_([Autowired(\"rowContainerHeightService\")],GridBodyController.prototype,\"rowContainerHeightService\",void 0),__decorate$_([Autowired(\"controllersService\")],GridBodyController.prototype,\"controllersService\",void 0),__decorate$_([Autowired(\"columnController\")],GridBodyController.prototype,\"columnController\",void 0),__decorate$_([Autowired(\"scrollVisibleService\")],GridBodyController.prototype,\"scrollVisibleService\",void 0),__decorate$_([Optional(\"contextMenuFactory\")],GridBodyController.prototype,\"contextMenuFactory\",void 0),__decorate$_([Autowired(\"headerNavigationService\")],GridBodyController.prototype,\"headerNavigationService\",void 0),__decorate$_([Autowired(\"paginationProxy\")],GridBodyController.prototype,\"paginationProxy\",void 0),__decorate$_([Autowired(\"dragAndDropService\")],GridBodyController.prototype,\"dragAndDropService\",void 0),__decorate$_([Autowired(\"pinnedRowModel\")],GridBodyController.prototype,\"pinnedRowModel\",void 0),__decorate$_([Autowired(\"rowRenderer\")],GridBodyController.prototype,\"rowRenderer\",void 0),__decorate$_([Autowired(\"popupService\")],GridBodyController.prototype,\"popupService\",void 0),__decorate$_([Autowired(\"mouseEventService\")],GridBodyController.prototype,\"mouseEventService\",void 0),GridBodyController}(BeanStub),__extends$16=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$$=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},RowContainerEventsFeature=function(_super){function RowContainerEventsFeature(element){var _this=_super.call(this)||this;return _this.element=element,_this}return __extends$16(RowContainerEventsFeature,_super),RowContainerEventsFeature.prototype.postConstruct=function(){this.addMouseListeners(),this.mockContextMenuForIPad(),this.addKeyboardEvents()},RowContainerEventsFeature.prototype.addKeyboardEvents=function(){var _this=this;[\"keydown\",\"keypress\"].forEach((function(eventName){var listener=_this.processKeyboardEvent.bind(_this,eventName);_this.addManagedListener(_this.element,eventName,listener)}))},RowContainerEventsFeature.prototype.addMouseListeners=function(){var _this=this;[\"dblclick\",\"contextmenu\",\"mouseover\",\"mouseout\",\"click\",\"mousedown\"].forEach((function(eventName){var listener=_this.processMouseEvent.bind(_this,eventName);_this.addManagedListener(_this.element,eventName,listener)}))},RowContainerEventsFeature.prototype.processMouseEvent=function(eventName,mouseEvent){if(this.mouseEventService.isEventFromThisGrid(mouseEvent)&&!isStopPropagationForAgGrid(mouseEvent)){var rowComp=this.getRowForEvent(mouseEvent),cellComp=this.mouseEventService.getRenderedCellForEvent(mouseEvent);\"contextmenu\"===eventName?this.handleContextMenuMouseEvent(mouseEvent,null,rowComp,cellComp):(cellComp&&cellComp.onMouseEvent(eventName,mouseEvent),rowComp&&rowComp.onMouseEvent(eventName,mouseEvent))}},RowContainerEventsFeature.prototype.mockContextMenuForIPad=function(){var _this=this;if(isIOSUserAgent()){var touchListener=new TouchListener(this.element);this.addManagedListener(touchListener,TouchListener.EVENT_LONG_TAP,(function(event){var rowComp=_this.getRowForEvent(event.touchEvent),cellComp=_this.mouseEventService.getRenderedCellForEvent(event.touchEvent);_this.handleContextMenuMouseEvent(null,event.touchEvent,rowComp,cellComp)})),this.addDestroyFunc((function(){return touchListener.destroy()}))}},RowContainerEventsFeature.prototype.getRowForEvent=function(event){for(var sourceElement=getTarget(event);sourceElement;){var rowCon=this.gridOptionsWrapper.getDomData(sourceElement,RowController.DOM_DATA_KEY_RENDERED_ROW);if(rowCon)return rowCon;sourceElement=sourceElement.parentElement}return null},RowContainerEventsFeature.prototype.handleContextMenuMouseEvent=function(mouseEvent,touchEvent,rowComp,cellComp){var rowNode=rowComp?rowComp.getRowNode():null,column=cellComp?cellComp.getColumn():null,value=null;column&&(cellComp.dispatchCellContextMenuEvent(mouseEvent||touchEvent),value=this.valueService.getValue(column,rowNode));var gridBodyCon=this.controllersService.getGridBodyController(),anchorToElement=cellComp?cellComp.getGui():gridBodyCon.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(mouseEvent,touchEvent,rowNode,column,value,anchorToElement)},RowContainerEventsFeature.prototype.processKeyboardEvent=function(eventName,keyboardEvent){var cellComp=getComponentForEvent(this.gridOptionsWrapper,keyboardEvent,\"cellComp\"),rowComp=getComponentForEvent(this.gridOptionsWrapper,keyboardEvent,\"renderedRow\");keyboardEvent.defaultPrevented||(cellComp?this.processCellKeyboardEvent(cellComp,eventName,keyboardEvent):rowComp&&rowComp.isFullWidth()&&this.processFullWidthRowKeyboardEvent(rowComp,eventName,keyboardEvent))},RowContainerEventsFeature.prototype.processCellKeyboardEvent=function(cellComp,eventName,keyboardEvent){var rowNode=cellComp.getRenderedRow().getRowNode(),column=cellComp.getColumn(),editing=cellComp.isEditing();if(!isUserSuppressingKeyboardEvent(this.gridOptionsWrapper,keyboardEvent,rowNode,column,editing))switch(eventName){case\"keydown\":!editing&&this.navigationService.handlePageScrollingKey(keyboardEvent)||cellComp.onKeyDown(keyboardEvent),this.doGridOperations(keyboardEvent,cellComp);break;case\"keypress\":cellComp.onKeyPress(keyboardEvent)}if(\"keydown\"===eventName){var cellKeyDownEvent=cellComp.createEvent(keyboardEvent,Events.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(cellKeyDownEvent)}if(\"keypress\"===eventName){var cellKeyPressEvent=cellComp.createEvent(keyboardEvent,Events.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(cellKeyPressEvent)}},RowContainerEventsFeature.prototype.processFullWidthRowKeyboardEvent=function(rowComp,eventName,keyboardEvent){var rowNode=rowComp.getRowNode(),focusedCell=this.focusController.getFocusedCell();if(!isUserSuppressingKeyboardEvent(this.gridOptionsWrapper,keyboardEvent,rowNode,focusedCell&&focusedCell.column,!1)&&\"keydown\"===eventName)switch(keyboardEvent.key){case KeyName.UP:case KeyName.DOWN:rowComp.onKeyboardNavigate(keyboardEvent);break;case KeyName.TAB:rowComp.onTabKeyDown(keyboardEvent)}if(\"keydown\"===eventName){var cellKeyDownEvent=rowComp.createRowEvent(Events.EVENT_CELL_KEY_DOWN,keyboardEvent);this.eventService.dispatchEvent(cellKeyDownEvent)}if(\"keypress\"===eventName){var cellKeyPressEvent=rowComp.createRowEvent(Events.EVENT_CELL_KEY_PRESS,keyboardEvent);this.eventService.dispatchEvent(cellKeyPressEvent)}},RowContainerEventsFeature.prototype.doGridOperations=function(keyboardEvent,cellComp){if((keyboardEvent.ctrlKey||keyboardEvent.metaKey)&&!cellComp.isEditing()&&this.mouseEventService.isEventFromThisGrid(keyboardEvent))switch(keyboardEvent.which){case KeyCode.A:return this.onCtrlAndA(keyboardEvent);case KeyCode.C:return this.onCtrlAndC(keyboardEvent);case KeyCode.V:return this.onCtrlAndV();case KeyCode.D:return this.onCtrlAndD(keyboardEvent);case KeyCode.Z:return keyboardEvent.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo();case KeyCode.Y:return this.undoRedoService.redo()}},RowContainerEventsFeature.prototype.onCtrlAndA=function(event){var pinnedRowModel=this.pinnedRowModel,rangeController=this.rangeController,PINNED_BOTTOM=Constants.PINNED_BOTTOM,PINNED_TOP=Constants.PINNED_TOP;if(rangeController&&this.paginationProxy.isRowsToRender()){var _b=[pinnedRowModel.isEmpty(PINNED_TOP),pinnedRowModel.isEmpty(PINNED_BOTTOM)],floatingStart=_b[0]?null:PINNED_TOP,floatingEnd=void 0,rowEnd=void 0;_b[1]?(floatingEnd=null,rowEnd=this.paginationProxy.getRowCount()-1):(floatingEnd=PINNED_BOTTOM,rowEnd=pinnedRowModel.getPinnedBottomRowData().length-1);var allDisplayedColumns=this.columnController.getAllDisplayedColumns();if(missingOrEmpty(allDisplayedColumns))return;rangeController.setCellRange({rowStartIndex:0,rowStartPinned:floatingStart,rowEndIndex:rowEnd,rowEndPinned:floatingEnd,columnStart:allDisplayedColumns[0],columnEnd:last(allDisplayedColumns)})}event.preventDefault()},RowContainerEventsFeature.prototype.onCtrlAndC=function(event){this.clipboardService&&!this.gridOptionsWrapper.isEnableCellTextSelection()&&(this.clipboardService.copyToClipboard(),event.preventDefault())},RowContainerEventsFeature.prototype.onCtrlAndV=function(){ModuleRegistry.isRegistered(exports.ModuleNames.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.pasteFromClipboard()},RowContainerEventsFeature.prototype.onCtrlAndD=function(event){ModuleRegistry.isRegistered(exports.ModuleNames.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.copyRangeDown(),event.preventDefault()},__decorate$$([Autowired(\"mouseEventService\")],RowContainerEventsFeature.prototype,\"mouseEventService\",void 0),__decorate$$([Autowired(\"valueService\")],RowContainerEventsFeature.prototype,\"valueService\",void 0),__decorate$$([Optional(\"contextMenuFactory\")],RowContainerEventsFeature.prototype,\"contextMenuFactory\",void 0),__decorate$$([Autowired(\"controllersService\")],RowContainerEventsFeature.prototype,\"controllersService\",void 0),__decorate$$([Autowired(\"navigationService\")],RowContainerEventsFeature.prototype,\"navigationService\",void 0),__decorate$$([Autowired(\"focusController\")],RowContainerEventsFeature.prototype,\"focusController\",void 0),__decorate$$([Autowired(\"undoRedoService\")],RowContainerEventsFeature.prototype,\"undoRedoService\",void 0),__decorate$$([Autowired(\"columnController\")],RowContainerEventsFeature.prototype,\"columnController\",void 0),__decorate$$([Autowired(\"paginationProxy\")],RowContainerEventsFeature.prototype,\"paginationProxy\",void 0),__decorate$$([Autowired(\"pinnedRowModel\")],RowContainerEventsFeature.prototype,\"pinnedRowModel\",void 0),__decorate$$([Optional(\"rangeController\")],RowContainerEventsFeature.prototype,\"rangeController\",void 0),__decorate$$([Optional(\"clipboardService\")],RowContainerEventsFeature.prototype,\"clipboardService\",void 0),__decorate$$([PostConstruct],RowContainerEventsFeature.prototype,\"postConstruct\",null),RowContainerEventsFeature}(BeanStub),__extends$17=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$10=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},ViewportSizeFeature=function(_super){function ViewportSizeFeature(centerContainer){var _this=_super.call(this)||this;return _this.centerContainerCon=centerContainer,_this}return __extends$17(ViewportSizeFeature,_super),ViewportSizeFeature.prototype.postConstruct=function(){var _this=this;this.controllersService.whenReady((function(){_this.gridBodyCon=_this.controllersService.getGridBodyController(),_this.listenForResize()})),this.addManagedListener(this.eventService,Events.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},ViewportSizeFeature.prototype.listenForResize=function(){var listener=this.onCenterViewportResized.bind(this);this.centerContainerCon.registerViewportResizeListener(listener),this.gridBodyCon.registerBodyViewportResizeListener(listener)},ViewportSizeFeature.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},ViewportSizeFeature.prototype.onCenterViewportResized=function(){if(this.centerContainerCon.isViewportVisible()){this.checkViewportAndScrolls();var newWidth=this.centerContainerCon.getCenterWidth();newWidth!==this.centerWidth&&(this.centerWidth=newWidth,this.columnController.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},ViewportSizeFeature.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCon.getScrollFeature().checkScrollLeft()},ViewportSizeFeature.prototype.getBodyHeight=function(){return this.bodyHeight},ViewportSizeFeature.prototype.checkBodyHeight=function(){var bodyHeight=getInnerHeight(this.gridBodyCon.getBodyViewportElement());this.bodyHeight!==bodyHeight&&(this.bodyHeight=bodyHeight,this.eventService.dispatchEvent({type:Events.EVENT_BODY_HEIGHT_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},ViewportSizeFeature.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},ViewportSizeFeature.prototype.updateScrollVisibleServiceImpl=function(){var params={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCon.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(params),this.gridBodyCon.setVerticalScrollPaddingVisible(params.verticalScrollShowing)},ViewportSizeFeature.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||this.centerContainerCon.isViewportHScrollShowing()},ViewportSizeFeature.prototype.onHorizontalViewportChanged=function(){var scrollWidth=this.centerContainerCon.getCenterWidth(),scrollPosition=this.centerContainerCon.getViewportScrollLeft();this.columnController.setViewportPosition(scrollWidth,scrollPosition)},__decorate$10([Autowired(\"controllersService\")],ViewportSizeFeature.prototype,\"controllersService\",void 0),__decorate$10([Autowired(\"columnController\")],ViewportSizeFeature.prototype,\"columnController\",void 0),__decorate$10([Autowired(\"scrollVisibleService\")],ViewportSizeFeature.prototype,\"scrollVisibleService\",void 0),__decorate$10([Autowired(\"columnApi\")],ViewportSizeFeature.prototype,\"columnApi\",void 0),__decorate$10([Autowired(\"gridApi\")],ViewportSizeFeature.prototype,\"gridApi\",void 0),__decorate$10([PostConstruct],ViewportSizeFeature.prototype,\"postConstruct\",null),ViewportSizeFeature}(BeanStub),__extends$18=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$11=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},SetPinnedLeftWidthFeature=function(_super){function SetPinnedLeftWidthFeature(element){var _this=_super.call(this)||this;return _this.element=element,_this}return __extends$18(SetPinnedLeftWidthFeature,_super),SetPinnedLeftWidthFeature.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Events.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},SetPinnedLeftWidthFeature.prototype.onPinnedLeftWidthChanged=function(){var leftWidth=this.pinnedWidthService.getPinnedLeftWidth(),displayed=leftWidth>0;setDisplayed(this.element,displayed),displayed&&setFixedWidth(this.element,leftWidth)},__decorate$11([Autowired(\"pinnedWidthService\")],SetPinnedLeftWidthFeature.prototype,\"pinnedWidthService\",void 0),__decorate$11([PostConstruct],SetPinnedLeftWidthFeature.prototype,\"postConstruct\",null),SetPinnedLeftWidthFeature}(BeanStub),__extends$19=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$12=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},SetPinnedRightWidthFeature=function(_super){function SetPinnedRightWidthFeature(element){var _this=_super.call(this)||this;return _this.element=element,_this}return __extends$19(SetPinnedRightWidthFeature,_super),SetPinnedRightWidthFeature.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Events.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},SetPinnedRightWidthFeature.prototype.onPinnedRightWidthChanged=function(){var rightWidth=this.pinnedWidthService.getPinnedRightWidth(),displayed=rightWidth>0;setDisplayed(this.element,displayed),displayed&&setFixedWidth(this.element,rightWidth)},__decorate$12([Autowired(\"pinnedWidthService\")],SetPinnedRightWidthFeature.prototype,\"pinnedWidthService\",void 0),__decorate$12([PostConstruct],SetPinnedRightWidthFeature.prototype,\"postConstruct\",null),SetPinnedRightWidthFeature}(BeanStub),__extends$1a=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$13=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},SetHeightFeature=function(_super){function SetHeightFeature(eContainer,eWrapper){var _this=_super.call(this)||this;return _this.eContainer=eContainer,_this.eWrapper=eWrapper,_this}return __extends$1a(SetHeightFeature,_super),SetHeightFeature.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Events.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},SetHeightFeature.prototype.onHeightChanged=function(){var height=this.maxDivHeightScaler.getUiContainerHeight(),heightString=null!=height?height+\"px\":\"\";this.eContainer.style.height=heightString,this.eWrapper&&(this.eWrapper.style.height=heightString)},__decorate$13([Autowired(\"rowContainerHeightService\")],SetHeightFeature.prototype,\"maxDivHeightScaler\",void 0),__decorate$13([PostConstruct],SetHeightFeature.prototype,\"postConstruct\",null),SetHeightFeature}(BeanStub),__extends$1b=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$14=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},DragListenerFeature=function(_super){function DragListenerFeature(eContainer){var _this=_super.call(this)||this;return _this.eContainer=eContainer,_this}return __extends$1b(DragListenerFeature,_super),DragListenerFeature.prototype.postConstruct=function(){var _this=this;if(this.gridOptionsWrapper.isEnableRangeSelection()&&!missing(this.rangeController)){var params={eElement:this.eContainer,onDragStart:this.rangeController.onDragStart.bind(this.rangeController),onDragStop:this.rangeController.onDragStop.bind(this.rangeController),onDragging:this.rangeController.onDragging.bind(this.rangeController)};this.dragService.addDragSource(params),this.addDestroyFunc((function(){return _this.dragService.removeDragSource(params)}))}},__decorate$14([Optional(\"rangeController\")],DragListenerFeature.prototype,\"rangeController\",void 0),__decorate$14([Autowired(\"dragService\")],DragListenerFeature.prototype,\"dragService\",void 0),__decorate$14([PostConstruct],DragListenerFeature.prototype,\"postConstruct\",null),DragListenerFeature}(BeanStub),__extends$1c=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$15=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};!function(RowContainerNames){RowContainerNames.LEFT=\"left\",RowContainerNames.RIGHT=\"right\",RowContainerNames.CENTER=\"center\",RowContainerNames.FULL_WIDTH=\"fullWidth\",RowContainerNames.TOP_LEFT=\"topLeft\",RowContainerNames.TOP_RIGHT=\"topRight\",RowContainerNames.TOP_CENTER=\"topCenter\",RowContainerNames.TOP_FULL_WITH=\"topFullWidth\",RowContainerNames.BOTTOM_LEFT=\"bottomLeft\",RowContainerNames.BOTTOM_RIGHT=\"bottomRight\",RowContainerNames.BOTTOM_CENTER=\"bottomCenter\",RowContainerNames.BOTTOM_FULL_WITH=\"bottomFullWidth\"}(RowContainerNames||(RowContainerNames={}));var ExcelFactoryMode,ClientSideRowModelSteps,ContainerCssClasses=convertToMap([[RowContainerNames.CENTER,\"ag-center-cols-container\"],[RowContainerNames.LEFT,\"ag-pinned-left-cols-container\"],[RowContainerNames.RIGHT,\"ag-pinned-right-cols-container\"],[RowContainerNames.FULL_WIDTH,\"ag-full-width-container\"],[RowContainerNames.TOP_CENTER,\"ag-floating-top-container\"],[RowContainerNames.TOP_LEFT,\"ag-pinned-left-floating-top\"],[RowContainerNames.TOP_RIGHT,\"ag-pinned-right-floating-top\"],[RowContainerNames.TOP_FULL_WITH,\"ag-floating-top-full-width-container\"],[RowContainerNames.BOTTOM_CENTER,\"ag-floating-bottom-container\"],[RowContainerNames.BOTTOM_LEFT,\"ag-pinned-left-floating-bottom\"],[RowContainerNames.BOTTOM_RIGHT,\"ag-pinned-right-floating-bottom\"],[RowContainerNames.BOTTOM_FULL_WITH,\"ag-floating-bottom-full-width-container\"]]),ViewportCssClasses=convertToMap([[RowContainerNames.CENTER,\"ag-center-cols-viewport\"],[RowContainerNames.TOP_CENTER,\"ag-floating-top-viewport\"],[RowContainerNames.BOTTOM_CENTER,\"ag-floating-bottom-viewport\"]]),WrapperCssClasses=convertToMap([[RowContainerNames.CENTER,\"ag-center-cols-clipper\"]]),RowContainerController=function(_super){function RowContainerController(name){var _this=_super.call(this)||this;return _this.name=name,_this}return __extends$1c(RowContainerController,_super),RowContainerController.prototype.postConstruct=function(){var _this=this;this.addManagedListener(this.eventService,Events.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.forContainers([RowContainerNames.CENTER],(function(){return _this.viewportSizeFeature=_this.createManagedBean(new ViewportSizeFeature(_this))})),this.registerWithControllersService(),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},RowContainerController.prototype.registerWithControllersService=function(){switch(this.name){case RowContainerNames.CENTER:this.controllersService.registerCenterRowContainerCon(this);break;case RowContainerNames.LEFT:this.controllersService.registerLeftRowContainerCon(this);break;case RowContainerNames.RIGHT:this.controllersService.registerRightRowContainerCon(this);break;case RowContainerNames.TOP_CENTER:this.controllersService.registerTopCenterRowContainerCon(this);break;case RowContainerNames.TOP_LEFT:this.controllersService.registerTopLeftRowContainerCon(this);break;case RowContainerNames.TOP_RIGHT:this.controllersService.registerTopRightRowContainerCon(this);break;case RowContainerNames.BOTTOM_CENTER:this.controllersService.registerBottomCenterRowContainerCon(this);break;case RowContainerNames.BOTTOM_LEFT:this.controllersService.registerBottomLeftRowContainerCon(this);break;case RowContainerNames.BOTTOM_RIGHT:this.controllersService.registerBottomRightRowContainerCon(this)}},RowContainerController.prototype.forContainers=function(names,callback){names.indexOf(this.name)>=0&&callback()},RowContainerController.prototype.getContainerElement=function(){return this.eContainer},RowContainerController.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},RowContainerController.prototype.setView=function(view,eContainer,eViewport,eWrapper){var _this=this;this.view=view,this.eContainer=eContainer,this.eViewport=eViewport,this.eWrapper=eWrapper,this.createManagedBean(new RowContainerEventsFeature(this.eContainer)),this.addPreventScrollWhileDragging();var allNoFW=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r}([RowContainerNames.TOP_CENTER,RowContainerNames.TOP_LEFT,RowContainerNames.TOP_RIGHT],[RowContainerNames.BOTTOM_CENTER,RowContainerNames.BOTTOM_LEFT,RowContainerNames.BOTTOM_RIGHT],[RowContainerNames.CENTER,RowContainerNames.LEFT,RowContainerNames.RIGHT]),allMiddle=[RowContainerNames.CENTER,RowContainerNames.LEFT,RowContainerNames.RIGHT,RowContainerNames.FULL_WIDTH],allCenter=[RowContainerNames.CENTER,RowContainerNames.TOP_CENTER,RowContainerNames.BOTTOM_CENTER],allRight=[RowContainerNames.RIGHT,RowContainerNames.BOTTOM_RIGHT,RowContainerNames.TOP_RIGHT];this.forContainers([RowContainerNames.LEFT,RowContainerNames.BOTTOM_LEFT,RowContainerNames.TOP_LEFT],(function(){return _this.createManagedBean(new SetPinnedLeftWidthFeature(_this.eContainer))})),this.forContainers(allRight,(function(){return _this.createManagedBean(new SetPinnedRightWidthFeature(_this.eContainer))})),this.forContainers(allMiddle,(function(){return _this.createManagedBean(new SetHeightFeature(_this.eContainer,_this.eWrapper))})),this.forContainers(allNoFW,(function(){return _this.createManagedBean(new DragListenerFeature(_this.eContainer))})),this.forContainers(allCenter,(function(){return _this.createManagedBean(new CenterWidthFeature((function(width){return _this.eContainer.style.width=width+\"px\"})))}))},RowContainerController.prototype.onDisplayedColumnsChanged=function(){var _this=this;this.forContainers([RowContainerNames.CENTER],(function(){return _this.onHorizontalViewportChanged()}))},RowContainerController.prototype.onDisplayedColumnsWidthChanged=function(){var _this=this;this.forContainers([RowContainerNames.CENTER],(function(){return _this.onHorizontalViewportChanged()}))},RowContainerController.prototype.onScrollVisibilityChanged=function(){if(this.name===RowContainerNames.CENTER){var scrollbarWidth=this.scrollVisibleService.isHorizontalScrollShowing()&&this.gridOptionsWrapper.getScrollbarWidth()||0;this.view.setViewportHeight(0==scrollbarWidth?\"100%\":\"calc(100% + \"+scrollbarWidth+\"px)\")}},RowContainerController.prototype.addPreventScrollWhileDragging=function(){var _this=this,preventScroll=function(e){_this.dragService.isDragging()&&e.cancelable&&e.preventDefault()};this.eContainer.addEventListener(\"touchmove\",preventScroll,{passive:!1}),this.addDestroyFunc((function(){return _this.eContainer.removeEventListener(\"touchmove\",preventScroll)}))},RowContainerController.prototype.onHorizontalViewportChanged=function(){var scrollWidth=this.getCenterWidth(),scrollPosition=this.getCenterViewportScrollLeft();this.columnController.setViewportPosition(scrollWidth,scrollPosition)},RowContainerController.prototype.getCenterWidth=function(){return getInnerWidth(this.eViewport)},RowContainerController.prototype.getCenterViewportScrollLeft=function(){return getScrollLeft(this.eViewport,this.enableRtl)},RowContainerController.prototype.registerViewportResizeListener=function(listener){var unsubscribeFromResize=this.resizeObserverService.observeResize(this.eViewport,listener);this.addDestroyFunc((function(){return unsubscribeFromResize()}))},RowContainerController.prototype.isViewportVisible=function(){return isVisible(this.eViewport)},RowContainerController.prototype.isViewportHScrollShowing=function(){return isHorizontalScrollShowing(this.eViewport)},RowContainerController.prototype.getViewportScrollLeft=function(){return getScrollLeft(this.eViewport,this.enableRtl)},RowContainerController.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||isHorizontalScrollShowing(this.eViewport)},RowContainerController.prototype.getViewportElement=function(){return this.eViewport},RowContainerController.prototype.setContainerTranslateX=function(amount){this.eContainer.style.transform=\"translateX(\"+amount+\"px)\"},RowContainerController.prototype.getHScrollPosition=function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}},RowContainerController.prototype.setCenterViewportScrollLeft=function(value){setScrollLeft(this.eViewport,value,this.enableRtl)},__decorate$15([Autowired(\"scrollVisibleService\")],RowContainerController.prototype,\"scrollVisibleService\",void 0),__decorate$15([Autowired(\"dragService\")],RowContainerController.prototype,\"dragService\",void 0),__decorate$15([Autowired(\"controllersService\")],RowContainerController.prototype,\"controllersService\",void 0),__decorate$15([Autowired(\"columnController\")],RowContainerController.prototype,\"columnController\",void 0),__decorate$15([Autowired(\"resizeObserverService\")],RowContainerController.prototype,\"resizeObserverService\",void 0),__decorate$15([PostConstruct],RowContainerController.prototype,\"postConstruct\",null),RowContainerController}(BeanStub),__extends$1d=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$16=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},GRID_BODY_TEMPLATE='<div class=\"ag-root ag-unselectable\" role=\"grid\" unselectable=\"on\">\\n        <ag-header-root ref=\"headerRoot\" unselectable=\"on\"></ag-header-root>\\n        <div class=\"ag-floating-top\" ref=\"eTop\" role=\"presentation\" unselectable=\"on\">\\n            <ag-row-container ref=\"topLeftContainer\" name=\"'+RowContainerNames.TOP_LEFT+'\"></ag-row-container>\\n            <ag-row-container ref=\"topCenterContainer\" name=\"'+RowContainerNames.TOP_CENTER+'\"></ag-row-container>\\n            <ag-row-container ref=\"topRightContainer\" name=\"'+RowContainerNames.TOP_RIGHT+'\"></ag-row-container>\\n            <ag-row-container ref=\"topFullWidthContainer\" name=\"'+RowContainerNames.TOP_FULL_WITH+'\"></ag-row-container>\\n        </div>\\n        <div class=\"ag-body-viewport\" ref=\"eBodyViewport\" role=\"presentation\">\\n            <ag-row-container ref=\"leftContainer\" name=\"'+RowContainerNames.LEFT+'\"></ag-row-container>\\n            <ag-row-container ref=\"centerContainer\" name=\"'+RowContainerNames.CENTER+'\"></ag-row-container>\\n            <ag-row-container ref=\"rightContainer\" name=\"'+RowContainerNames.RIGHT+'\"></ag-row-container>\\n            <ag-row-container ref=\"fullWidthContainer\" name=\"'+RowContainerNames.FULL_WIDTH+'\"></ag-row-container>\\n        </div>\\n        <div class=\"ag-floating-bottom\" ref=\"eBottom\" role=\"presentation\" unselectable=\"on\">\\n            <ag-row-container ref=\"bottomLeftContainer\" name=\"'+RowContainerNames.BOTTOM_LEFT+'\"></ag-row-container>\\n            <ag-row-container ref=\"bottomCenterContainer\" name=\"'+RowContainerNames.BOTTOM_CENTER+'\"></ag-row-container>\\n            <ag-row-container ref=\"bottomRightContainer\" name=\"'+RowContainerNames.BOTTOM_RIGHT+'\"></ag-row-container>\\n            <ag-row-container ref=\"bottomFullWidthContainer\" name=\"'+RowContainerNames.BOTTOM_FULL_WITH+'\"></ag-row-container>\\n        </div>\\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\\n        <ag-overlay-wrapper></ag-overlay-wrapper>\\n    </div>',GridBodyComp=function(_super){function GridBodyComp(){return _super.call(this,GRID_BODY_TEMPLATE)||this}return __extends$1d(GridBodyComp,_super),GridBodyComp.prototype.init=function(){var _this=this,setHeight=function(height,element){var heightString=height+\"px\";element.style.minHeight=heightString,element.style.height=heightString},view={setRowAnimationCssOnBodyViewport:this.setRowAnimationCssOnBodyViewport.bind(this),setColumnCount:function(count){return setAriaColCount(_this.getGui(),count)},setRowCount:function(count){return setAriaRowCount(_this.getGui(),count)},setTopHeight:function(height){return setHeight(height,_this.eTop)},setBottomHeight:function(height){return setHeight(height,_this.eBottom)},setTopDisplay:function(display){return _this.eTop.style.display=display},setBottomDisplay:function(display){return _this.eBottom.style.display=display},setColumnMovingCss:function(moving){return _this.addOrRemoveCssClass(\"ag-column-moving\",moving)},updateLayoutClasses:function(params){addOrRemoveCssClass(_this.eBodyViewport,exports.LayoutCssClasses.AUTO_HEIGHT,params.autoHeight),addOrRemoveCssClass(_this.eBodyViewport,exports.LayoutCssClasses.NORMAL,params.normal),addOrRemoveCssClass(_this.eBodyViewport,exports.LayoutCssClasses.PRINT,params.print),_this.addOrRemoveCssClass(exports.LayoutCssClasses.AUTO_HEIGHT,params.autoHeight),_this.addOrRemoveCssClass(exports.LayoutCssClasses.NORMAL,params.normal),_this.addOrRemoveCssClass(exports.LayoutCssClasses.PRINT,params.print)},setAlwaysVerticalScrollClass:function(on){return addOrRemoveCssClass(_this.eBodyViewport,\"ag-force-vertical-scroll\",on)},registerBodyViewportResizeListener:function(listener){var unsubscribeFromResize=_this.resizeObserverService.observeResize(_this.eBodyViewport,listener);_this.addDestroyFunc((function(){return unsubscribeFromResize()}))},setVerticalScrollPaddingVisible:function(show){_this.eTop.style.overflowY=_this.eBottom.style.overflowY=show?\"scroll\":\"hidden\"},setCellSelectableCss:function(selectable){[_this.eTop,_this.eBodyViewport,_this.eBottom].forEach((function(ct){return addOrRemoveCssClass(ct,\"ag-selectable\",selectable)}))}};this.controller=this.createManagedBean(new GridBodyController),this.controller.setView(view,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom),this.$scope&&this.addAngularApplyCheck(),this.gridApi.registerGridComp(this),this.beans.registerGridComp(this),this.contextMenuFactory&&this.contextMenuFactory.registerGridComp(this),this.menuFactory&&this.menuFactory.registerGridComp(this),(this.rangeController||this.gridOptionsWrapper.isRowSelectionMulti())&&(setAriaMultiSelectable(this.getGui(),!0),this.rangeController&&this.rangeController.registerGridComp(this)),[this.eTop,this.eBodyViewport,this.eBottom].forEach((function(element){_this.addManagedListener(element,\"focusin\",(function(){addCssClass(element,\"ag-has-focus\")})),_this.addManagedListener(element,\"focusout\",(function(e){element.contains(e.relatedTarget)||removeCssClass(element,\"ag-has-focus\")}))}))},GridBodyComp.prototype.setRowAnimationCssOnBodyViewport=function(animateRows){addOrRemoveCssClass(this.eBodyViewport,RowAnimationCssClasses.ANIMATION_ON,animateRows),addOrRemoveCssClass(this.eBodyViewport,RowAnimationCssClasses.ANIMATION_OFF,!animateRows)},GridBodyComp.prototype.addAngularApplyCheck=function(){var _this=this,applyTriggered=!1,listener=function(){applyTriggered||(applyTriggered=!0,window.setTimeout((function(){applyTriggered=!1,_this.$scope.$apply()}),0))};this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,listener),this.addManagedListener(this.eventService,Events.EVENT_VIRTUAL_COLUMNS_CHANGED,listener)},GridBodyComp.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},GridBodyComp.prototype.addScrollEventListener=function(listener){this.eBodyViewport.addEventListener(\"scroll\",listener)},GridBodyComp.prototype.removeScrollEventListener=function(listener){this.eBodyViewport.removeEventListener(\"scroll\",listener)},__decorate$16([Autowired(\"beans\")],GridBodyComp.prototype,\"beans\",void 0),__decorate$16([Autowired(\"gridApi\")],GridBodyComp.prototype,\"gridApi\",void 0),__decorate$16([Autowired(\"$scope\")],GridBodyComp.prototype,\"$scope\",void 0),__decorate$16([Autowired(\"resizeObserverService\")],GridBodyComp.prototype,\"resizeObserverService\",void 0),__decorate$16([Optional(\"rangeController\")],GridBodyComp.prototype,\"rangeController\",void 0),__decorate$16([Optional(\"contextMenuFactory\")],GridBodyComp.prototype,\"contextMenuFactory\",void 0),__decorate$16([Optional(\"menuFactory\")],GridBodyComp.prototype,\"menuFactory\",void 0),__decorate$16([RefSelector(\"eBodyViewport\")],GridBodyComp.prototype,\"eBodyViewport\",void 0),__decorate$16([RefSelector(\"eTop\")],GridBodyComp.prototype,\"eTop\",void 0),__decorate$16([RefSelector(\"eBottom\")],GridBodyComp.prototype,\"eBottom\",void 0),__decorate$16([RefSelector(\"headerRoot\")],GridBodyComp.prototype,\"headerRootComp\",void 0),__decorate$16([PostConstruct],GridBodyComp.prototype,\"init\",null),GridBodyComp}(Component);(ExcelFactoryMode=exports.ExcelFactoryMode||(exports.ExcelFactoryMode={}))[ExcelFactoryMode.SINGLE_SHEET=0]=\"SINGLE_SHEET\",ExcelFactoryMode[ExcelFactoryMode.MULTI_SHEET=1]=\"MULTI_SHEET\",(ClientSideRowModelSteps=exports.ClientSideRowModelSteps||(exports.ClientSideRowModelSteps={})).EVERYTHING=\"group\",ClientSideRowModelSteps.FILTER=\"filter\",ClientSideRowModelSteps.SORT=\"sort\",ClientSideRowModelSteps.MAP=\"map\",ClientSideRowModelSteps.AGGREGATE=\"aggregate\",ClientSideRowModelSteps.PIVOT=\"pivot\",ClientSideRowModelSteps.NOTHING=\"nothing\";var LoadingType,__decorate$17=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},GridApi=function(){function GridApi(){this.detailGridInfoMap={},this.destroyCalled=!1}return GridApi.prototype.registerGridComp=function(gridBodyComp){this.gridBodyComp=gridBodyComp},GridApi.prototype.registerOverlayWrapperComp=function(overlayWrapperComp){this.overlayWrapperComp=overlayWrapperComp},GridApi.prototype.registerGridCompController=function(gridCompController){this.gridCompController=gridCompController},GridApi.prototype.registerHeaderRootComp=function(headerRootComp){this.headerRootComp=headerRootComp},GridApi.prototype.registerSideBarComp=function(sideBarComp){this.sideBarComp=sideBarComp},GridApi.prototype.init=function(){var _this=this;switch(this.rowModel.getType()){case Constants.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case Constants.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case Constants.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel}this.controllersService.whenReady((function(){_this.gridBodyCon=_this.controllersService.getGridBodyController()}))},GridApi.prototype.__getAlignedGridService=function(){return this.alignedGridsService},GridApi.prototype.addDetailGridInfo=function(id,gridInfo){this.detailGridInfoMap[id]=gridInfo},GridApi.prototype.removeDetailGridInfo=function(id){this.detailGridInfoMap[id]=void 0},GridApi.prototype.getDetailGridInfo=function(id){return this.detailGridInfoMap[id]},GridApi.prototype.forEachDetailGridInfo=function(callback){var index=0;iterateObject(this.detailGridInfoMap,(function(id,gridInfo){exists(gridInfo)&&(callback(gridInfo,index),index++)}))},GridApi.prototype.getDataAsCsv=function(params){if(ModuleRegistry.assertRegistered(exports.ModuleNames.CsvExportModule,\"api.getDataAsCsv\"))return this.csvCreator.getDataAsCsv(params)},GridApi.prototype.exportDataAsCsv=function(params){ModuleRegistry.assertRegistered(exports.ModuleNames.CsvExportModule,\"api.exportDataAsCSv\")&&this.csvCreator.exportDataAsCsv(params)},GridApi.prototype.getDataAsExcel=function(params){if(ModuleRegistry.assertRegistered(exports.ModuleNames.ExcelExportModule,\"api.getDataAsExcel\"))return this.excelCreator.getFactoryMode(params&&params.exportMode||\"xlsx\")===exports.ExcelFactoryMode.MULTI_SHEET?void console.warn(\"AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`\"):this.excelCreator.getDataAsExcel(params)},GridApi.prototype.exportDataAsExcel=function(params){if(ModuleRegistry.assertRegistered(exports.ModuleNames.ExcelExportModule,\"api.exportDataAsExcel\")){if(this.excelCreator.getFactoryMode(params&&params.exportMode||\"xlsx\")===exports.ExcelFactoryMode.MULTI_SHEET)return void console.warn(\"AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`\");this.excelCreator.exportDataAsExcel(params)}},GridApi.prototype.getSheetDataForExcel=function(params){if(ModuleRegistry.assertRegistered(exports.ModuleNames.ExcelExportModule,\"api.getSheetDataForExcel\"))return this.excelCreator.setFactoryMode(exports.ExcelFactoryMode.MULTI_SHEET,params&&params.exportMode||\"xlsx\"),this.excelCreator.getSheetDataForExcel(params)},GridApi.prototype.getMultipleSheetsAsExcel=function(params){if(ModuleRegistry.assertRegistered(exports.ModuleNames.ExcelExportModule,\"api.getMultipleSheetsAsExcel\"))return this.excelCreator.getMultipleSheetsAsExcel(params)},GridApi.prototype.exportMultipleSheetsAsExcel=function(params){if(ModuleRegistry.assertRegistered(exports.ModuleNames.ExcelExportModule,\"api.exportMultipleSheetsAsExcel\"))return this.excelCreator.exportMultipleSheetsAsExcel(params)},GridApi.prototype.setEnterpriseDatasource=function(datasource){console.warn(\"ag-grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()\"),this.setServerSideDatasource(datasource)},GridApi.prototype.setGridAriaProperty=function(property,value){if(property){var eGrid=this.gridBodyComp.getGui(),ariaProperty=\"aria-\"+property;null===value?eGrid.removeAttribute(ariaProperty):eGrid.setAttribute(ariaProperty,value)}},GridApi.prototype.setServerSideDatasource=function(datasource){this.serverSideRowModel?this.serverSideRowModel.setDatasource(datasource):console.warn(\"AG Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '\"+Constants.ROW_MODEL_TYPE_SERVER_SIDE+\"'\")},GridApi.prototype.setDatasource=function(datasource){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(datasource):console.warn(\"AG Grid: you can only use a datasource when gridOptions.rowModelType is '\"+Constants.ROW_MODEL_TYPE_INFINITE+\"'\")},GridApi.prototype.setViewportDatasource=function(viewportDatasource){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(viewportDatasource):console.warn(\"AG Grid: you can only use a viewport datasource when gridOptions.rowModelType is '\"+Constants.ROW_MODEL_TYPE_VIEWPORT+\"'\")},GridApi.prototype.setRowData=function(rowData){if(this.gridOptionsWrapper.isRowModelDefault())if(this.gridOptionsWrapper.isImmutableData()){var transactionAndMap=this.immutableService.createTransactionForRowData(rowData);if(!transactionAndMap)return;var nodeTransaction=this.clientSideRowModel.updateRowData(transactionAndMap[0],transactionAndMap[1]);nodeTransaction&&this.rowRenderer.refreshFullWidthRows(nodeTransaction.update)}else this.selectionController.reset(),this.clientSideRowModel.setRowData(rowData);else console.warn(\"cannot call setRowData unless using normal row model\")},GridApi.prototype.setFloatingTopRowData=function(rows){console.warn(\"AG Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()\"),this.setPinnedTopRowData(rows)},GridApi.prototype.setFloatingBottomRowData=function(rows){console.warn(\"AG Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()\"),this.setPinnedBottomRowData(rows)},GridApi.prototype.getFloatingTopRowCount=function(){return console.warn(\"AG Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()\"),this.getPinnedTopRowCount()},GridApi.prototype.getFloatingBottomRowCount=function(){return console.warn(\"AG Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()\"),this.getPinnedBottomRowCount()},GridApi.prototype.getFloatingTopRow=function(index){return console.warn(\"AG Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()\"),this.getPinnedTopRow(index)},GridApi.prototype.getFloatingBottomRow=function(index){return console.warn(\"AG Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()\"),this.getPinnedBottomRow(index)},GridApi.prototype.setPinnedTopRowData=function(rows){this.pinnedRowModel.setPinnedTopRowData(rows)},GridApi.prototype.setPinnedBottomRowData=function(rows){this.pinnedRowModel.setPinnedBottomRowData(rows)},GridApi.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},GridApi.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},GridApi.prototype.getPinnedTopRow=function(index){return this.pinnedRowModel.getPinnedTopRow(index)},GridApi.prototype.getPinnedBottomRow=function(index){return this.pinnedRowModel.getPinnedBottomRow(index)},GridApi.prototype.setColumnDefs=function(colDefs,source){void 0===source&&(source=\"api\"),this.columnController.setColumnDefs(colDefs,source)},GridApi.prototype.setAutoGroupColumnDef=function(colDef,source){this.gridOptionsWrapper.setProperty(\"autoGroupColumnDef\",colDef,!0)},GridApi.prototype.expireValueCache=function(){this.valueCache.expire()},GridApi.prototype.getVerticalPixelRange=function(){return this.gridBodyCon.getScrollFeature().getVScrollPosition()},GridApi.prototype.getHorizontalPixelRange=function(){return this.gridBodyCon.getScrollFeature().getHScrollPosition()},GridApi.prototype.setAlwaysShowHorizontalScroll=function(show){this.gridOptionsWrapper.setProperty(\"alwaysShowHorizontalScroll\",show)},GridApi.prototype.setAlwaysShowVerticalScroll=function(show){this.gridOptionsWrapper.setProperty(\"alwaysShowVerticalScroll\",show)},GridApi.prototype.refreshToolPanel=function(){this.sideBarComp&&this.sideBarComp.refresh()},GridApi.prototype.refreshCells=function(params){void 0===params&&(params={}),Array.isArray(params)?console.warn(\"since AG Grid v11.1, refreshCells() now takes parameters, please see the documentation.\"):this.rowRenderer.refreshCells(params)},GridApi.prototype.flashCells=function(params){void 0===params&&(params={}),this.rowRenderer.flashCells(params)},GridApi.prototype.redrawRows=function(params){void 0===params&&(params={}),this.rowRenderer.redrawRows(params?params.rowNodes:void 0)},GridApi.prototype.refreshView=function(){console.warn(\"AG Grid: since v11.1, refreshView() is deprecated, please call refreshCells() or redrawRows() instead\"),this.redrawRows()},GridApi.prototype.refreshRows=function(rowNodes){console.warn(\"since AG Grid v11.1, refreshRows() is deprecated, please use refreshCells({rowNodes: rows}) or redrawRows({rowNodes: rows}) instead\"),this.refreshCells({rowNodes:rowNodes})},GridApi.prototype.rowDataChanged=function(rows){console.warn(\"AG Grid: rowDataChanged is deprecated, either call refreshView() to refresh everything, or call rowNode.setRowData(newData) to set value on a particular node\"),this.redrawRows()},GridApi.prototype.softRefreshView=function(){console.error(\"AG Grid: since v16, softRefreshView() is no longer supported. Please check the documentation on how to refresh.\")},GridApi.prototype.refreshGroupRows=function(){console.warn(\"AG Grid: since v11.1, refreshGroupRows() is no longer supported, call refreshCells() instead. Because refreshCells() now does dirty checking, it will only refresh cells that have changed, so it should not be necessary to only refresh the group rows.\"),this.refreshCells()},GridApi.prototype.setFunctionsReadOnly=function(readOnly){this.gridOptionsWrapper.setProperty(\"functionsReadOnly\",readOnly)},GridApi.prototype.refreshHeader=function(){this.headerRootComp.refreshHeader()},GridApi.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},GridApi.prototype.isAdvancedFilterPresent=function(){return console.warn(\"AG Grid: isAdvancedFilterPresent() is deprecated, please use isColumnFilterPresent()\"),this.isColumnFilterPresent()},GridApi.prototype.isColumnFilterPresent=function(){return this.filterManager.isAdvancedFilterPresent()},GridApi.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},GridApi.prototype.getModel=function(){return this.rowModel},GridApi.prototype.setRowNodeExpanded=function(rowNode,expanded){rowNode&&rowNode.setExpanded(expanded)},GridApi.prototype.onGroupExpandedOrCollapsed=function(deprecated_refreshFromIndex){missing(this.clientSideRowModel)&&console.warn(\"AG Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model\"),exists(deprecated_refreshFromIndex)&&console.warn(\"AG Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows\"),this.clientSideRowModel.refreshModel({step:exports.ClientSideRowModelSteps.MAP})},GridApi.prototype.refreshInMemoryRowModel=function(step){console.warn(\"ag-grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()\"),this.refreshClientSideRowModel(step)},GridApi.prototype.refreshClientSideRowModel=function(step){missing(this.clientSideRowModel)&&console.warn(\"cannot call refreshClientSideRowModel unless using normal row model\");var paramsStep=exports.ClientSideRowModelSteps.EVERYTHING,stepsMapped={group:exports.ClientSideRowModelSteps.EVERYTHING,filter:exports.ClientSideRowModelSteps.FILTER,map:exports.ClientSideRowModelSteps.MAP,aggregate:exports.ClientSideRowModelSteps.AGGREGATE,sort:exports.ClientSideRowModelSteps.SORT,pivot:exports.ClientSideRowModelSteps.PIVOT};exists(step)&&(paramsStep=stepsMapped[step]),missing(paramsStep)?console.error(\"AG Grid: invalid step \"+step+\", available steps are \"+Object.keys(stepsMapped).join(\", \")):this.clientSideRowModel.refreshModel({step:paramsStep,keepRenderedRows:!0,animate:!0,keepEditingRows:!0})},GridApi.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},GridApi.prototype.getRowNode=function(id){return this.rowModel.getRowNode(id)},GridApi.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),headerHeight:this.gridOptionsWrapper.getHeaderHeight()}},GridApi.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):console.warn(\"AG Grid: expandAll only works with Client Side Row Model and Server Side Row Model\")},GridApi.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):console.warn(\"AG Grid: collapseAll only works with Client Side Row Model and Server Side Row Model\")},GridApi.prototype.getToolPanelInstance=function(id){if(this.sideBarComp)return this.sideBarComp.getToolPanelInstance(id);console.warn(\"AG Grid: toolPanel is only available in AG Grid Enterprise\")},GridApi.prototype.addVirtualRowListener=function(eventName,rowIndex,callback){\"string\"!=typeof eventName&&console.warn(\"AG Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener.\"),this.addRenderedRowListener(eventName,rowIndex,callback)},GridApi.prototype.addRenderedRowListener=function(eventName,rowIndex,callback){\"virtualRowSelected\"===eventName&&console.warn(\"AG Grid: event virtualRowSelected is deprecated, to register for individual row\\n                selection events, add a listener directly to the row node.\"),this.rowRenderer.addRenderedRowListener(eventName,rowIndex,callback)},GridApi.prototype.setQuickFilter=function(newFilter){this.filterManager.setQuickFilter(newFilter)},GridApi.prototype.selectIndex=function(index,tryMulti,suppressEvents){console.warn(\"AG Grid: do not use api for selection, call node.setSelected(value) instead\"),suppressEvents&&console.warn(\"AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it\"),this.selectionController.selectIndex(index,tryMulti)},GridApi.prototype.deselectIndex=function(index,suppressEvents){void 0===suppressEvents&&(suppressEvents=!1),console.warn(\"AG Grid: do not use api for selection, call node.setSelected(value) instead\"),suppressEvents&&console.warn(\"AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it\"),this.selectionController.deselectIndex(index)},GridApi.prototype.selectNode=function(node,tryMulti,suppressEvents){void 0===tryMulti&&(tryMulti=!1),void 0===suppressEvents&&(suppressEvents=!1),console.warn(\"AG Grid: API for selection is deprecated, call node.setSelected(value) instead\"),suppressEvents&&console.warn(\"AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it\"),node.setSelectedParams({newValue:!0,clearSelection:!tryMulti})},GridApi.prototype.deselectNode=function(node,suppressEvents){void 0===suppressEvents&&(suppressEvents=!1),console.warn(\"AG Grid: API for selection is deprecated, call node.setSelected(value) instead\"),suppressEvents&&console.warn(\"AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it\"),node.setSelectedParams({newValue:!1})},GridApi.prototype.selectAll=function(){this.selectionController.selectAllRowNodes()},GridApi.prototype.deselectAll=function(){this.selectionController.deselectAllRowNodes()},GridApi.prototype.selectAllFiltered=function(){this.selectionController.selectAllRowNodes(!0)},GridApi.prototype.deselectAllFiltered=function(){this.selectionController.deselectAllRowNodes(!0)},GridApi.prototype.recomputeAggregates=function(){missing(this.clientSideRowModel)&&console.warn(\"cannot call recomputeAggregates unless using normal row model\"),console.warn(\"recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead\"),this.clientSideRowModel.refreshModel({step:exports.ClientSideRowModelSteps.AGGREGATE})},GridApi.prototype.sizeColumnsToFit=function(){this.gridBodyCon.sizeColumnsToFit()},GridApi.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},GridApi.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},GridApi.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},GridApi.prototype.isNodeSelected=function(node){return console.warn(\"AG Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead\"),node.isSelected()},GridApi.prototype.getSelectedNodesById=function(){return console.error(\"AG Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead\"),null},GridApi.prototype.getSelectedNodes=function(){return this.selectionController.getSelectedNodes()},GridApi.prototype.getSelectedRows=function(){return this.selectionController.getSelectedRows()},GridApi.prototype.getBestCostNodeSelection=function(){return this.selectionController.getBestCostNodeSelection()},GridApi.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},GridApi.prototype.ensureColIndexVisible=function(index){console.warn(\"AG Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.\")},GridApi.prototype.ensureColumnVisible=function(key){this.gridBodyCon.getScrollFeature().ensureColumnVisible(key)},GridApi.prototype.ensureIndexVisible=function(index,position){this.gridBodyCon.getScrollFeature().ensureIndexVisible(index,position)},GridApi.prototype.ensureNodeVisible=function(comparator,position){void 0===position&&(position=null),this.gridBodyCon.getScrollFeature().ensureNodeVisible(comparator,position)},GridApi.prototype.forEachLeafNode=function(callback){missing(this.clientSideRowModel)&&console.warn(\"cannot call forEachNode unless using normal row model\"),this.clientSideRowModel.forEachLeafNode(callback)},GridApi.prototype.forEachNode=function(callback){this.rowModel.forEachNode(callback)},GridApi.prototype.forEachNodeAfterFilter=function(callback){missing(this.clientSideRowModel)&&console.warn(\"cannot call forEachNodeAfterFilter unless using normal row model\"),this.clientSideRowModel.forEachNodeAfterFilter(callback)},GridApi.prototype.forEachNodeAfterFilterAndSort=function(callback){missing(this.clientSideRowModel)&&console.warn(\"cannot call forEachNodeAfterFilterAndSort unless using normal row model\"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(callback)},GridApi.prototype.getFilterApiForColDef=function(colDef){return console.warn(\"ag-grid API method getFilterApiForColDef deprecated, use getFilterInstance instead\"),this.getFilterInstance(colDef)},GridApi.prototype.getFilterInstance=function(key,callback){var column=this.columnController.getPrimaryColumn(key);if(column){var filterPromise=this.filterManager.getFilterComponent(column,\"NO_UI\"),currentValue=filterPromise&&filterPromise.resolveNow(null,(function(filterComp){return filterComp}));return callback&&(currentValue?setTimeout(callback,0,currentValue):filterPromise&&filterPromise.then(callback)),currentValue}},GridApi.prototype.getFilterApi=function(key){return console.warn(\"AG Grid: getFilterApi is deprecated, use getFilterInstance instead\"),this.getFilterInstance(key)},GridApi.prototype.destroyFilter=function(key){var column=this.columnController.getPrimaryColumn(key);if(column)return this.filterManager.destroyFilter(column,\"filterDestroyed\")},GridApi.prototype.getStatusPanel=function(key){if(this.statusBarService)return this.statusBarService.getStatusPanel(key)},GridApi.prototype.getColumnDef=function(key){var column=this.columnController.getPrimaryColumn(key);return column?column.getColDef():null},GridApi.prototype.getColumnDefs=function(){return this.columnController.getColumnDefs()},GridApi.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},GridApi.prototype.onSortChanged=function(){this.sortController.onSortChanged()},GridApi.prototype.setSortModel=function(sortModel,source){console.warn(\"AG Grid: as of version 24.0.0, setSortModel() is deprecated, sort information is now part of Column State. Please use columnApi.applyColumnState() instead.\");var columnState=[];sortModel&&sortModel.forEach((function(item,index){columnState.push({colId:item.colId,sort:item.sort,sortIndex:index})})),this.columnController.applyColumnState({state:columnState,defaultState:{sort:null}})},GridApi.prototype.getSortModel=function(){console.warn(\"AG Grid: as of version 24.0.0, getSortModel() is deprecated, sort information is now part of Column State. Please use columnApi.getColumnState() instead.\");var filteredStates=this.columnController.getColumnState().filter((function(item){return null!=item.sort})),indexes={};filteredStates.forEach((function(state){indexes[state.colId]=state.sortIndex}));var res=filteredStates.map((function(s){return{colId:s.colId,sort:s.sort}}));return res.sort((function(a,b){return indexes[a.colId]-indexes[b.colId]})),res},GridApi.prototype.setFilterModel=function(model){this.filterManager.setFilterModel(model)},GridApi.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},GridApi.prototype.getFocusedCell=function(){return this.focusController.getFocusedCell()},GridApi.prototype.clearFocusedCell=function(){return this.focusController.clearFocusedCell()},GridApi.prototype.setFocusedCell=function(rowIndex,colKey,floating){this.focusController.setFocusedCell(rowIndex,colKey,floating,!0)},GridApi.prototype.setSuppressRowDrag=function(value){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_SUPPRESS_ROW_DRAG,value)},GridApi.prototype.setSuppressMoveWhenRowDragging=function(value){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG,value)},GridApi.prototype.setSuppressRowClickSelection=function(value){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_SUPPRESS_ROW_CLICK_SELECTION,value)},GridApi.prototype.addRowDropZone=function(params){this.gridBodyCon.getRowDragFeature().addRowDropZone(params)},GridApi.prototype.removeRowDropZone=function(params){var activeDropTarget=this.dragAndDropService.findExternalZone(params);activeDropTarget&&this.dragAndDropService.removeDropTarget(activeDropTarget)},GridApi.prototype.getRowDropZoneParams=function(events){return this.gridBodyCon.getRowDragFeature().getRowDropZone(events)},GridApi.prototype.setHeaderHeight=function(headerHeight){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_HEADER_HEIGHT,headerHeight)},GridApi.prototype.setDomLayout=function(domLayout){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_DOM_LAYOUT,domLayout)},GridApi.prototype.setEnableCellTextSelection=function(selectable){this.gridBodyCon.setCellTextSelection(selectable)},GridApi.prototype.setFillHandleDirection=function(direction){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_FILL_HANDLE_DIRECTION,direction)},GridApi.prototype.setGroupHeaderHeight=function(headerHeight){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GROUP_HEADER_HEIGHT,headerHeight)},GridApi.prototype.setFloatingFiltersHeight=function(headerHeight){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_FLOATING_FILTERS_HEIGHT,headerHeight)},GridApi.prototype.setPivotGroupHeaderHeight=function(headerHeight){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_PIVOT_GROUP_HEADER_HEIGHT,headerHeight)},GridApi.prototype.setIsExternalFilterPresent=function(isExternalFilterPresentFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_IS_EXTERNAL_FILTER_PRESENT,isExternalFilterPresentFunc)},GridApi.prototype.setDoesExternalFilterPass=function(doesExternalFilterPassFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_DOES_EXTERNAL_FILTER_PASS,doesExternalFilterPassFunc)},GridApi.prototype.setNavigateToNextCell=function(navigateToNextCellFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_NAVIGATE_TO_NEXT_CELL,navigateToNextCellFunc)},GridApi.prototype.setTabToNextCell=function(tabToNextCellFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_TAB_TO_NEXT_CELL,tabToNextCellFunc)},GridApi.prototype.setTabToNextHeader=function(tabToNextHeaderFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_TAB_TO_NEXT_HEADER,tabToNextHeaderFunc)},GridApi.prototype.setNavigateToNextHeader=function(navigateToNextHeaderFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_NAVIGATE_TO_NEXT_HEADER,navigateToNextHeaderFunc)},GridApi.prototype.setGroupRowAggNodes=function(groupRowAggNodesFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GROUP_ROW_AGG_NODES,groupRowAggNodesFunc)},GridApi.prototype.setGetBusinessKeyForNode=function(getBusinessKeyForNodeFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_BUSINESS_KEY_FOR_NODE,getBusinessKeyForNodeFunc)},GridApi.prototype.setGetChildCount=function(getChildCountFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_CHILD_COUNT,getChildCountFunc)},GridApi.prototype.setProcessRowPostCreate=function(processRowPostCreateFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_PROCESS_ROW_POST_CREATE,processRowPostCreateFunc)},GridApi.prototype.setGetRowNodeId=function(getRowNodeIdFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_ROW_NODE_ID,getRowNodeIdFunc)},GridApi.prototype.setGetRowClass=function(rowClassFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_ROW_CLASS,rowClassFunc)},GridApi.prototype.setIsFullWidthCell=function(isFullWidthCellFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_IS_FULL_WIDTH_CELL,isFullWidthCellFunc)},GridApi.prototype.setIsRowSelectable=function(isRowSelectableFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_IS_ROW_SELECTABLE,isRowSelectableFunc)},GridApi.prototype.setIsRowMaster=function(isRowMasterFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_IS_ROW_MASTER,isRowMasterFunc)},GridApi.prototype.setPostSort=function(postSortFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_POST_SORT,postSortFunc)},GridApi.prototype.setGetDocument=function(getDocumentFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_DOCUMENT,getDocumentFunc)},GridApi.prototype.setGetContextMenuItems=function(getContextMenuItemsFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_CONTEXT_MENU_ITEMS,getContextMenuItemsFunc)},GridApi.prototype.setGetMainMenuItems=function(getMainMenuItemsFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_MAIN_MENU_ITEMS,getMainMenuItemsFunc)},GridApi.prototype.setProcessCellForClipboard=function(processCellForClipboardFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_PROCESS_CELL_FOR_CLIPBOARD,processCellForClipboardFunc)},GridApi.prototype.setSendToClipboard=function(sendToClipboardFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_SEND_TO_CLIPBOARD,sendToClipboardFunc)},GridApi.prototype.setProcessCellFromClipboard=function(processCellFromClipboardFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_PROCESS_CELL_FROM_CLIPBOARD,processCellFromClipboardFunc)},GridApi.prototype.setProcessSecondaryColDef=function(processSecondaryColDefFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_PROCESS_TO_SECONDARY_COLDEF,processSecondaryColDefFunc)},GridApi.prototype.setProcessSecondaryColGroupDef=function(processSecondaryColGroupDefFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_PROCESS_SECONDARY_COL_GROUP_DEF,processSecondaryColGroupDefFunc)},GridApi.prototype.setPostProcessPopup=function(postProcessPopupFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_POST_PROCESS_POPUP,postProcessPopupFunc)},GridApi.prototype.setDefaultGroupSortComparator=function(defaultGroupSortComparatorFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_DEFAULT_GROUP_SORT_COMPARATOR,defaultGroupSortComparatorFunc)},GridApi.prototype.setProcessChartOptions=function(processChartOptionsFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_PROCESS_CHART_OPTIONS,processChartOptionsFunc)},GridApi.prototype.setGetChartToolbarItems=function(getChartToolbarItemsFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_CHART_TOOLBAR_ITEMS,getChartToolbarItemsFunc)},GridApi.prototype.setPaginationNumberFormatter=function(paginationNumberFormatterFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_PAGINATION_NUMBER_FORMATTER,paginationNumberFormatterFunc)},GridApi.prototype.setGetServerSideStoreParams=function(getServerSideStoreParamsFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_SERVER_SIDE_STORE_PARAMS,getServerSideStoreParamsFunc)},GridApi.prototype.setIsServerSideGroupOpenByDefault=function(isServerSideGroupOpenByDefaultFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT,isServerSideGroupOpenByDefaultFunc)},GridApi.prototype.setIsApplyServerSideTransaction=function(isApplyServerSideTransactionFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION,isApplyServerSideTransactionFunc)},GridApi.prototype.setIsServerSideGroup=function(isServerSideGroupFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_IS_SERVER_SIDE_GROUP,isServerSideGroupFunc)},GridApi.prototype.setGetServerSideGroupKey=function(getServerSideGroupKeyFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_SERVER_SIDE_GROUP_KEY,getServerSideGroupKeyFunc)},GridApi.prototype.setGetRowStyle=function(rowStyleFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_ROW_STYLE,rowStyleFunc)},GridApi.prototype.setGetRowHeight=function(rowHeightFunc){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GET_ROW_HEIGHT,rowHeightFunc)},GridApi.prototype.setPivotHeaderHeight=function(headerHeight){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_PIVOT_HEADER_HEIGHT,headerHeight)},GridApi.prototype.isSideBarVisible=function(){return!!this.sideBarComp&&this.sideBarComp.isDisplayed()},GridApi.prototype.setSideBarVisible=function(show){this.sideBarComp?this.sideBarComp.setDisplayed(show):show&&console.warn(\"AG Grid: sideBar is not loaded\")},GridApi.prototype.setSideBarPosition=function(position){this.sideBarComp?this.sideBarComp.setSideBarPosition(position):console.warn(\"AG Grid: sideBar is not loaded\")},GridApi.prototype.openToolPanel=function(key){this.sideBarComp?this.sideBarComp.openToolPanel(key):console.warn(\"AG Grid: toolPanel is only available in AG Grid Enterprise\")},GridApi.prototype.closeToolPanel=function(){this.sideBarComp?this.sideBarComp.close():console.warn(\"AG Grid: toolPanel is only available in AG Grid Enterprise\")},GridApi.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},GridApi.prototype.getSideBar=function(){return this.gridOptionsWrapper.getSideBar()},GridApi.prototype.setSideBar=function(def){this.gridOptionsWrapper.setProperty(\"sideBar\",SideBarDefParser.parse(def))},GridApi.prototype.setSuppressClipboardPaste=function(value){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_SUPPRESS_CLIPBOARD_PASTE,value)},GridApi.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},GridApi.prototype.doLayout=function(){doOnce((function(){return console.warn(\"AG Grid - since version 25.1, doLayout was taken out, as it's not needed. The grid responds to grid size changes automatically\")}),\"doLayoutDeprecated\")},GridApi.prototype.resetRowHeights=function(){exists(this.clientSideRowModel)&&this.clientSideRowModel.resetRowHeights()},GridApi.prototype.setGroupRemoveSingleChildren=function(value){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GROUP_REMOVE_SINGLE_CHILDREN,value)},GridApi.prototype.setGroupRemoveLowestSingleChildren=function(value){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,value)},GridApi.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},GridApi.prototype.getValue=function(colKey,rowNode){var column=this.columnController.getPrimaryColumn(colKey);return missing(column)&&(column=this.columnController.getGridColumn(colKey)),missing(column)?null:this.valueService.getValue(column,rowNode)},GridApi.prototype.addEventListener=function(eventType,listener){var async=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(eventType,listener,async)},GridApi.prototype.addGlobalListener=function(listener){var async=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(listener,async)},GridApi.prototype.removeEventListener=function(eventType,listener){var async=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(eventType,listener,async)},GridApi.prototype.removeGlobalListener=function(listener){var async=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(listener,async)},GridApi.prototype.dispatchEvent=function(event){this.eventService.dispatchEvent(event)},GridApi.prototype.destroy=function(){this.destroyCalled||(this.destroyCalled=!0,this.gridCompController.destroyGridUi(),this.context.destroy())},GridApi.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(removeAllReferences.bind(window,this,\"Grid API\"),100)},GridApi.prototype.warnIfDestroyed=function(methodName){return this.destroyCalled&&console.warn(\"AG Grid: Grid API method \"+methodName+\" was called on a grid that was destroyed.\"),this.destroyCalled},GridApi.prototype.resetQuickFilter=function(){this.warnIfDestroyed(\"resetQuickFilter\")||this.rowModel.forEachNode((function(node){return node.quickFilterAggregateText=null}))},GridApi.prototype.getRangeSelections=function(){return console.warn(\"AG Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.\\n        We had to change how cell selections works a small bit to allow charting to integrate. The return type of\\n        getCellRanges() is a bit different, please check the AG Grid documentation.\"),null},GridApi.prototype.getCellRanges=function(){return this.rangeController?this.rangeController.getCellRanges():(console.warn(\"AG Grid: cell range selection is only available in AG Grid Enterprise\"),null)},GridApi.prototype.camelCaseToHumanReadable=function(camelCase){return camelCaseToHumanText(camelCase)},GridApi.prototype.addRangeSelection=function(deprecatedNoLongerUsed){console.warn(\"AG Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()\")},GridApi.prototype.addCellRange=function(params){this.rangeController||console.warn(\"AG Grid: cell range selection is only available in AG Grid Enterprise\"),this.rangeController.addCellRange(params)},GridApi.prototype.clearRangeSelection=function(){this.rangeController||console.warn(\"AG Grid: cell range selection is only available in AG Grid Enterprise\"),this.rangeController.removeAllCellRanges()},GridApi.prototype.undoCellEditing=function(){this.undoRedoService.undo()},GridApi.prototype.redoCellEditing=function(){this.undoRedoService.redo()},GridApi.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},GridApi.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},GridApi.prototype.getChartModels=function(){if(ModuleRegistry.assertRegistered(exports.ModuleNames.RangeSelectionModule,\"api.getChartModels\")&&ModuleRegistry.assertRegistered(exports.ModuleNames.GridChartsModule,\"api.getChartModels\"))return this.chartService.getChartModels()},GridApi.prototype.createRangeChart=function(params){if(ModuleRegistry.assertRegistered(exports.ModuleNames.RangeSelectionModule,\"api.createRangeChart\")&&ModuleRegistry.assertRegistered(exports.ModuleNames.GridChartsModule,\"api.createRangeChart\"))return this.chartService.createRangeChart(params)},GridApi.prototype.createCrossFilterChart=function(params){if(ModuleRegistry.assertRegistered(exports.ModuleNames.RangeSelectionModule,\"api.createCrossFilterChart\")&&ModuleRegistry.assertRegistered(exports.ModuleNames.GridChartsModule,\"api.createCrossFilterChart\"))return this.chartService.createCrossFilterChart(params)},GridApi.prototype.restoreChart=function(chartModel,chartContainer){if(ModuleRegistry.assertRegistered(exports.ModuleNames.RangeSelectionModule,\"api.restoreChart\")&&ModuleRegistry.assertRegistered(exports.ModuleNames.GridChartsModule,\"api.restoreChart\"))return this.chartService.restoreChart(chartModel,chartContainer)},GridApi.prototype.createPivotChart=function(params){if(ModuleRegistry.assertRegistered(exports.ModuleNames.RangeSelectionModule,\"api.createPivotChart\")&&ModuleRegistry.assertRegistered(exports.ModuleNames.GridChartsModule,\"api.createPivotChart\"))return this.chartService.createPivotChart(params)},GridApi.prototype.copySelectedRowsToClipboard=function(includeHeader,columnKeys){this.clipboardService||console.warn(\"AG Grid: clipboard is only available in AG Grid Enterprise\"),this.clipboardService.copySelectedRowsToClipboard(includeHeader,columnKeys)},GridApi.prototype.copySelectedRangeToClipboard=function(includeHeader){this.clipboardService||console.warn(\"AG Grid: clipboard is only available in AG Grid Enterprise\"),this.clipboardService.copySelectedRangeToClipboard(includeHeader)},GridApi.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn(\"AG Grid: clipboard is only available in AG Grid Enterprise\"),this.clipboardService.copyRangeDown()},GridApi.prototype.showColumnMenuAfterButtonClick=function(colKey,buttonElement){var column=this.columnController.getGridColumn(colKey);this.menuFactory.showMenuAfterButtonClick(column,buttonElement)},GridApi.prototype.showColumnMenuAfterMouseClick=function(colKey,mouseEvent){var column=this.columnController.getGridColumn(colKey);column||(column=this.columnController.getPrimaryColumn(colKey)),column?this.menuFactory.showMenuAfterMouseEvent(column,mouseEvent):console.error(\"AG Grid: column '\"+colKey+\"' not found\")},GridApi.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},GridApi.prototype.setPopupParent=function(ePopupParent){this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_POPUP_PARENT,ePopupParent)},GridApi.prototype.tabToNextCell=function(){return this.rowRenderer.tabToNextCell(!1)},GridApi.prototype.tabToPreviousCell=function(){return this.rowRenderer.tabToNextCell(!0)},GridApi.prototype.getCellRendererInstances=function(params){return void 0===params&&(params={}),this.rowRenderer.getCellRendererInstances(params)},GridApi.prototype.getCellEditorInstances=function(params){return void 0===params&&(params={}),this.rowRenderer.getCellEditorInstances(params)},GridApi.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},GridApi.prototype.stopEditing=function(cancel){void 0===cancel&&(cancel=!1),this.rowRenderer.stopEditing(cancel)},GridApi.prototype.startEditingCell=function(params){var column=this.columnController.getGridColumn(params.colKey);if(column){var cellPosition={rowIndex:params.rowIndex,rowPinned:params.rowPinned||null,column:column};missing(params.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(params.rowIndex),this.rowRenderer.startEditingCell(cellPosition,params.keyPress,params.charPress)}else console.warn(\"AG Grid: no column found for \"+params.colKey)},GridApi.prototype.addAggFunc=function(key,aggFunc){this.aggFuncService&&this.aggFuncService.addAggFunc(key,aggFunc)},GridApi.prototype.addAggFuncs=function(aggFuncs){this.aggFuncService&&this.aggFuncService.addAggFuncs(aggFuncs)},GridApi.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},GridApi.prototype.applyServerSideTransaction=function(transaction){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(transaction);console.warn(\"AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.\")},GridApi.prototype.applyServerSideTransactionAsync=function(transaction,callback){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(transaction,callback);console.warn(\"AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.\")},GridApi.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():console.warn(\"AG Grid: API retryServerSideLoads() can only be used when using Server-Side Row Model.\")},GridApi.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();console.warn(\"AG Grid: Cannot flush Server Side Transaction if not using the Server Side Row Model.\")},GridApi.prototype.applyTransaction=function(rowDataTransaction){if(this.clientSideRowModel){var res=this.clientSideRowModel.updateRowData(rowDataTransaction);return this.rowRenderer.refreshFullWidthRows(res.update),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),res}console.error(\"AG Grid: updateRowData() only works with ClientSideRowModel. Working with InfiniteRowModel was deprecated in v23.1 and removed in v24.1\")},GridApi.prototype.updateRowData=function(rowDataTransaction){return doOnce((function(){return console.warn(\"AG Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.\")}),\"updateRowData deprecated\"),this.applyTransaction(rowDataTransaction)},GridApi.prototype.applyTransactionAsync=function(rowDataTransaction,callback){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(rowDataTransaction,callback):console.error(\"AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.\")},GridApi.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():console.error(\"AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.\")},GridApi.prototype.batchUpdateRowData=function(rowDataTransaction,callback){doOnce((function(){return console.warn(\"AG Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.\")}),\"batchUpdateRowData deprecated\"),this.applyTransactionAsync(rowDataTransaction,callback)},GridApi.prototype.insertItemsAtIndex=function(index,items,skipRefresh){console.warn(\"AG Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead.\"),this.updateRowData({add:items,addIndex:index,update:null,remove:null})},GridApi.prototype.removeItems=function(rowNodes,skipRefresh){console.warn(\"AG Grid: removeItems() is deprecated, use updateRowData(transaction) instead.\");var dataToRemove=rowNodes.map((function(rowNode){return rowNode.data}));this.updateRowData({add:null,addIndex:null,update:null,remove:dataToRemove})},GridApi.prototype.addItems=function(items,skipRefresh){console.warn(\"AG Grid: addItems() is deprecated, use updateRowData(transaction) instead.\"),this.updateRowData({add:items,addIndex:null,update:null,remove:null})},GridApi.prototype.refreshVirtualPageCache=function(){console.warn(\"AG Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead\"),this.refreshInfiniteCache()},GridApi.prototype.refreshInfinitePageCache=function(){console.warn(\"AG Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead\"),this.refreshInfiniteCache()},GridApi.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn(\"AG Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.\")},GridApi.prototype.purgeVirtualPageCache=function(){console.warn(\"AG Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead\"),this.purgeInfinitePageCache()},GridApi.prototype.purgeInfinitePageCache=function(){console.warn(\"AG Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead\"),this.purgeInfiniteCache()},GridApi.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn(\"AG Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.\")},GridApi.prototype.purgeEnterpriseCache=function(route){console.warn(\"ag-grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.purgeServerSideCache()\"),this.purgeServerSideCache(route)},GridApi.prototype.purgeServerSideCache=function(route){void 0===route&&(route=[]),this.serverSideRowModel?(console.warn(\"AG Grid: since v25.0, api.purgeServerSideCache is deprecated. Please use api.refreshServerSideStore({purge: true}) instead.\"),this.refreshServerSideStore({route:route,purge:!0})):console.warn(\"AG Grid: api.purgeServerSideCache is only available when rowModelType='serverSide'.\")},GridApi.prototype.refreshServerSideStore=function(params){this.serverSideRowModel?this.serverSideRowModel.refreshStore(params):console.warn(\"AG Grid: api.refreshServerSideStore is only available when rowModelType='serverSide'.\")},GridApi.prototype.getServerSideStoreState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(console.warn(\"AG Grid: api.getServerSideStoreState is only available when rowModelType='serverSide'.\"),[])},GridApi.prototype.getVirtualRowCount=function(){return console.warn(\"AG Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead\"),this.getInfiniteRowCount()},GridApi.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();console.warn(\"AG Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.\")},GridApi.prototype.isMaxRowFound=function(){return console.warn(\"AG Grid: api.isLastRowIndexKnown is deprecated, please use api.isLastRowIndexKnown()\"),this.isLastRowIndexKnown()},GridApi.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();console.warn(\"AG Grid: api.isMaxRowFound is only available when rowModelType='virtual'.\")},GridApi.prototype.setVirtualRowCount=function(rowCount,maxRowFound){console.warn(\"AG Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead\"),this.setRowCount(rowCount,maxRowFound)},GridApi.prototype.setInfiniteRowCount=function(rowCount,maxRowFound){console.warn(\"AG Grid: setInfiniteRowCount() is now called setRowCount(), please call setRowCount() instead\"),this.setRowCount(rowCount,maxRowFound)},GridApi.prototype.setRowCount=function(rowCount,maxRowFound){this.infiniteRowModel?this.infiniteRowModel.setRowCount(rowCount,maxRowFound):console.warn(\"AG Grid: api.setRowCount is only available for Infinite Row Model.\")},GridApi.prototype.getVirtualPageState=function(){return console.warn(\"AG Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead\"),this.getCacheBlockState()},GridApi.prototype.getInfinitePageState=function(){return console.warn(\"AG Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead\"),this.getCacheBlockState()},GridApi.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},GridApi.prototype.checkGridSize=function(){console.warn(\"in AG Grid v25.2.0, checkGridSize() was removed, as it was legacy and didn't do anything uesful.\")},GridApi.prototype.getFirstRenderedRow=function(){return console.warn(\"in AG Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()\"),this.getFirstDisplayedRow()},GridApi.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},GridApi.prototype.getLastRenderedRow=function(){return console.warn(\"in AG Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()\"),this.getLastDisplayedRow()},GridApi.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},GridApi.prototype.getDisplayedRowAtIndex=function(index){return this.rowModel.getRow(index)},GridApi.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},GridApi.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},GridApi.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},GridApi.prototype.paginationSetPageSize=function(size){this.gridOptionsWrapper.setProperty(\"paginationPageSize\",size)},GridApi.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},GridApi.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},GridApi.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},GridApi.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},GridApi.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},GridApi.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},GridApi.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},GridApi.prototype.paginationGoToPage=function(page){this.paginationProxy.goToPage(page)},__decorate$17([Optional(\"immutableService\")],GridApi.prototype,\"immutableService\",void 0),__decorate$17([Optional(\"csvCreator\")],GridApi.prototype,\"csvCreator\",void 0),__decorate$17([Optional(\"excelCreator\")],GridApi.prototype,\"excelCreator\",void 0),__decorate$17([Autowired(\"rowRenderer\")],GridApi.prototype,\"rowRenderer\",void 0),__decorate$17([Autowired(\"filterManager\")],GridApi.prototype,\"filterManager\",void 0),__decorate$17([Autowired(\"columnController\")],GridApi.prototype,\"columnController\",void 0),__decorate$17([Autowired(\"selectionController\")],GridApi.prototype,\"selectionController\",void 0),__decorate$17([Autowired(\"gridOptionsWrapper\")],GridApi.prototype,\"gridOptionsWrapper\",void 0),__decorate$17([Autowired(\"valueService\")],GridApi.prototype,\"valueService\",void 0),__decorate$17([Autowired(\"alignedGridsService\")],GridApi.prototype,\"alignedGridsService\",void 0),__decorate$17([Autowired(\"eventService\")],GridApi.prototype,\"eventService\",void 0),__decorate$17([Autowired(\"pinnedRowModel\")],GridApi.prototype,\"pinnedRowModel\",void 0),__decorate$17([Autowired(\"context\")],GridApi.prototype,\"context\",void 0),__decorate$17([Autowired(\"rowModel\")],GridApi.prototype,\"rowModel\",void 0),__decorate$17([Autowired(\"sortController\")],GridApi.prototype,\"sortController\",void 0),__decorate$17([Autowired(\"paginationProxy\")],GridApi.prototype,\"paginationProxy\",void 0),__decorate$17([Autowired(\"focusController\")],GridApi.prototype,\"focusController\",void 0),__decorate$17([Autowired(\"dragAndDropService\")],GridApi.prototype,\"dragAndDropService\",void 0),__decorate$17([Optional(\"rangeController\")],GridApi.prototype,\"rangeController\",void 0),__decorate$17([Optional(\"clipboardService\")],GridApi.prototype,\"clipboardService\",void 0),__decorate$17([Optional(\"aggFuncService\")],GridApi.prototype,\"aggFuncService\",void 0),__decorate$17([Autowired(\"menuFactory\")],GridApi.prototype,\"menuFactory\",void 0),__decorate$17([Optional(\"contextMenuFactory\")],GridApi.prototype,\"contextMenuFactory\",void 0),__decorate$17([Autowired(\"valueCache\")],GridApi.prototype,\"valueCache\",void 0),__decorate$17([Autowired(\"animationFrameService\")],GridApi.prototype,\"animationFrameService\",void 0),__decorate$17([Optional(\"statusBarService\")],GridApi.prototype,\"statusBarService\",void 0),__decorate$17([Optional(\"chartService\")],GridApi.prototype,\"chartService\",void 0),__decorate$17([Optional(\"undoRedoService\")],GridApi.prototype,\"undoRedoService\",void 0),__decorate$17([Optional(\"headlessService\")],GridApi.prototype,\"headlessService\",void 0),__decorate$17([Optional(\"rowNodeBlockLoader\")],GridApi.prototype,\"rowNodeBlockLoader\",void 0),__decorate$17([Optional(\"ssrmTransactionManager\")],GridApi.prototype,\"serverSideTransactionManager\",void 0),__decorate$17([Optional(\"controllersService\")],GridApi.prototype,\"controllersService\",void 0),__decorate$17([PostConstruct],GridApi.prototype,\"init\",null),__decorate$17([PreDestroy],GridApi.prototype,\"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid\",null),__decorate$17([Bean(\"gridApi\")],GridApi)}(),__extends$1e=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$18=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},ExpressionService=function(_super){function ExpressionService(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.expressionToFunctionCache={},_this}return __extends$1e(ExpressionService,_super),ExpressionService.prototype.setBeans=function(loggerFactory){this.logger=loggerFactory.create(\"ExpressionService\")},ExpressionService.prototype.evaluate=function(expressionOrFunc,params){return\"function\"==typeof expressionOrFunc?expressionOrFunc(params):\"string\"==typeof expressionOrFunc?this.evaluateExpression(expressionOrFunc,params):void console.error(\"AG Grid: value should be either a string or a function\",expressionOrFunc)},ExpressionService.prototype.evaluateExpression=function(expression,params){try{return this.createExpressionFunction(expression)(params.value,params.context,params.oldValue,params.newValue,params.value,params.node,params.data,params.colDef,params.rowIndex,params.api,params.columnApi,params.getValue,params.column,params.columnGroup)}catch(e){return console.log(\"Processing of the expression failed\"),console.log(\"Expression = \"+expression),console.log(\"Params =\",params),console.log(\"Exception = \"+e),null}},ExpressionService.prototype.createExpressionFunction=function(expression){if(this.expressionToFunctionCache[expression])return this.expressionToFunctionCache[expression];var functionBody=this.createFunctionBody(expression),theFunction=new Function(\"x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup\",functionBody);return this.expressionToFunctionCache[expression]=theFunction,theFunction},ExpressionService.prototype.createFunctionBody=function(expression){return expression.indexOf(\"return\")>=0?expression:\"return \"+expression+\";\"},__decorate$18([(0,decorator=Qualifier(\"loggerFactory\"),function(target,key){decorator(target,key,0)})],ExpressionService.prototype,\"setBeans\",null),__decorate$18([Bean(\"expressionService\")],ExpressionService);var decorator}(BeanStub),__extends$1f=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$19=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},TemplateService=function(_super){function TemplateService(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.templateCache={},_this.waitingCallbacks={},_this}return __extends$1f(TemplateService,_super),TemplateService.prototype.getTemplate=function(url,callback){var templateFromCache=this.templateCache[url];if(templateFromCache)return templateFromCache;var callbackList=this.waitingCallbacks[url],that=this;if(!callbackList){this.waitingCallbacks[url]=callbackList=[];var client=new XMLHttpRequest;client.onload=function(){that.handleHttpResult(this,url)},client.open(\"GET\",url),client.send()}return callback&&callbackList.push(callback),null},TemplateService.prototype.handleHttpResult=function(httpResult,url){if(200===httpResult.status&&null!==httpResult.response){this.templateCache[url]=httpResult.response||httpResult.responseText;for(var callbacks=this.waitingCallbacks[url],i=0;i<callbacks.length;i++)(0,callbacks[i])();if(this.$scope){var that_1=this;window.setTimeout((function(){that_1.$scope.$apply()}),0)}}else console.warn(\"Unable to get template error \"+httpResult.status+\" - \"+url)},__decorate$19([Autowired(\"$scope\")],TemplateService.prototype,\"$scope\",void 0),__decorate$19([Bean(\"templateService\")],TemplateService)}(BeanStub),__extends$1g=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1a=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},FocusController=function(_super){function FocusController(){return null!==_super&&_super.apply(this,arguments)||this}var FocusController_1;return __extends$1g(FocusController,_super),FocusController_1=FocusController,FocusController.addKeyboardModeEvents=function(doc,controller){var docControllers=FocusController_1.instancesMonitored.get(doc);docControllers&&docControllers.length>0?-1===docControllers.indexOf(controller)&&docControllers.push(controller):(FocusController_1.instancesMonitored.set(doc,[controller]),doc.addEventListener(\"keydown\",FocusController_1.toggleKeyboardMode),doc.addEventListener(\"mousedown\",FocusController_1.toggleKeyboardMode))},FocusController.removeKeyboardModeEvents=function(doc,controller){var docControllers=FocusController_1.instancesMonitored.get(doc),newControllers=[];docControllers&&docControllers.length&&(newControllers=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r}(docControllers).filter((function(currentGridCore){return currentGridCore!==controller})),FocusController_1.instancesMonitored.set(doc,newControllers)),0===newControllers.length&&(doc.removeEventListener(\"keydown\",FocusController_1.toggleKeyboardMode),doc.removeEventListener(\"mousedown\",FocusController_1.toggleKeyboardMode))},FocusController.toggleKeyboardMode=function(event){var isKeyboardActive=FocusController_1.keyboardModeActive,isKeyboardEvent=\"keydown\"===event.type;if(!(isKeyboardEvent&&(event.ctrlKey||event.metaKey||event.altKey)||isKeyboardActive&&isKeyboardEvent||!isKeyboardActive&&!isKeyboardEvent)){FocusController_1.keyboardModeActive=isKeyboardEvent;var doc=event.target.ownerDocument;if(doc){var controllersForDoc=FocusController_1.instancesMonitored.get(doc);controllersForDoc&&controllersForDoc.forEach((function(controller){controller.dispatchEvent({type:isKeyboardEvent?Events.EVENT_KEYBOARD_FOCUS:Events.EVENT_MOUSE_FOCUS})}))}}},FocusController.prototype.init=function(){var clearFocusedCellListener=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,clearFocusedCellListener),this.addManagedListener(this.eventService,Events.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_GROUP_OPENED,clearFocusedCellListener),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,clearFocusedCellListener)},FocusController.prototype.registerGridCompController=function(gridCompController){var _this=this;this.gridCompController=gridCompController;var doc=this.gridOptionsWrapper.getDocument();FocusController_1.addKeyboardModeEvents(doc,gridCompController),this.addDestroyFunc((function(){return _this.unregisterGridCompController(gridCompController)}))},FocusController.prototype.unregisterGridCompController=function(gridCompController){var doc=this.gridOptionsWrapper.getDocument();FocusController_1.removeKeyboardModeEvents(doc,gridCompController)},FocusController.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var col=this.focusedCellPosition.column,colFromColumnController=this.columnController.getGridColumn(col.getId());col!==colFromColumnController&&this.clearFocusedCell()}},FocusController.prototype.isKeyboardMode=function(){return FocusController_1.keyboardModeActive},FocusController.prototype.getFocusCellToUseAfterRefresh=function(){return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedCellPosition?null:this.getGridCellForDomElement(document.activeElement)?this.focusedCellPosition:null},FocusController.prototype.getGridCellForDomElement=function(eBrowserCell){for(var ePointer=eBrowserCell;ePointer;){var cellComp=this.gridOptionsWrapper.getDomData(ePointer,CellComp.DOM_DATA_KEY_CELL_COMP);if(cellComp)return cellComp.getCellPosition();ePointer=ePointer.parentNode}return null},FocusController.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1)},FocusController.prototype.getFocusedCell=function(){return this.focusedCellPosition},FocusController.prototype.setFocusedCell=function(rowIndex,colKey,floating,forceBrowserFocus){void 0===forceBrowserFocus&&(forceBrowserFocus=!1);var gridColumn=this.columnController.getGridColumn(colKey);gridColumn?(this.focusedCellPosition=gridColumn?{rowIndex:rowIndex,rowPinned:makeNull(floating),column:gridColumn}:null,this.onCellFocused(forceBrowserFocus)):this.focusedCellPosition=null},FocusController.prototype.isCellFocused=function(cellPosition){return null!=this.focusedCellPosition&&this.focusedCellPosition.column===cellPosition.column&&this.isRowFocused(cellPosition.rowIndex,cellPosition.rowPinned)},FocusController.prototype.isRowNodeFocused=function(rowNode){return this.isRowFocused(rowNode.rowIndex,rowNode.rowPinned)},FocusController.prototype.isHeaderWrapperFocused=function(headerWrapper){if(null==this.focusedHeaderPosition)return!1;var column=headerWrapper.getColumn(),headerRowIndex=headerWrapper.getParentComponent().getRowIndex(),pinned=headerWrapper.getPinned(),_a=this.focusedHeaderPosition,focusedColumn=_a.column;return column===focusedColumn&&headerRowIndex===_a.headerRowIndex&&pinned==focusedColumn.getPinned()},FocusController.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},FocusController.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},FocusController.prototype.setFocusedHeader=function(headerRowIndex,column){this.focusedHeaderPosition={headerRowIndex:headerRowIndex,column:column}},FocusController.prototype.focusHeaderPosition=function(headerPosition,direction,fromTab,allowUserOverride,event){if(void 0===direction&&(direction=null),void 0===fromTab&&(fromTab=!1),void 0===allowUserOverride&&(allowUserOverride=!1),allowUserOverride){var userFunc,gridOptionsWrapper=this.gridOptionsWrapper,currentPosition=this.getFocusedHeader(),headerRowCount=this.headerNavigationService.getHeaderRowCount();fromTab?(userFunc=gridOptionsWrapper.getTabToNextHeaderFunc())&&(headerPosition=userFunc({backwards:\"Before\"===direction,previousHeaderPosition:currentPosition,nextHeaderPosition:headerPosition,headerRowCount:headerRowCount})):(userFunc=gridOptionsWrapper.getNavigateToNextHeaderFunc())&&event&&(headerPosition=userFunc({key:event.key,previousHeaderPosition:currentPosition,nextHeaderPosition:headerPosition,headerRowCount:headerRowCount,event:event}))}if(!headerPosition)return!1;if(-1===headerPosition.headerRowIndex)return this.focusGridView(headerPosition.column);this.headerNavigationService.scrollToColumn(headerPosition.column,direction);var nextHeader=this.headerNavigationService.getHeaderContainer(headerPosition.column.getPinned()).getRowComps()[headerPosition.headerRowIndex].getHeaderComps()[headerPosition.column.getUniqueId()];return!!nextHeader&&(nextHeader.getFocusableElement().focus(),!0)},FocusController.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},FocusController.prototype.isRowFocused=function(rowIndex,floating){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===rowIndex&&this.focusedCellPosition.rowPinned===makeNull(floating)},FocusController.prototype.findFocusableElements=function(rootNode,exclude,onlyUnmanaged){void 0===onlyUnmanaged&&(onlyUnmanaged=!1);var excludeString=Constants.FOCUSABLE_EXCLUDE;exclude&&(excludeString+=\", \"+exclude),onlyUnmanaged&&(excludeString+=', [tabindex=\"-1\"]');var b,nodes=Array.prototype.slice.apply(rootNode.querySelectorAll(Constants.FOCUSABLE_SELECTOR)),excludeNodes=Array.prototype.slice.apply(rootNode.querySelectorAll(excludeString));return excludeNodes.length?(b=excludeNodes,nodes.filter((function(element){return-1===b.indexOf(element)}))):nodes},FocusController.prototype.focusInto=function(rootNode,up,onlyUnmanaged){void 0===up&&(up=!1),void 0===onlyUnmanaged&&(onlyUnmanaged=!1);var focusableElements=this.findFocusableElements(rootNode,null,onlyUnmanaged),toFocus=up?last(focusableElements):focusableElements[0];return!!toFocus&&(toFocus.focus(),!0)},FocusController.prototype.findNextFocusableElement=function(rootNode,onlyManaged,backwards){var focusable=this.findFocusableElements(rootNode,onlyManaged?':not([tabindex=\"-1\"])':null),nextIndex=(onlyManaged?findIndex(focusable,(function(el){return el.contains(document.activeElement)})):focusable.indexOf(document.activeElement))+(backwards?-1:1);return nextIndex<0||nextIndex>=focusable.length?null:focusable[nextIndex]},FocusController.prototype.isFocusUnderManagedComponent=function(rootNode){var managedContainers=rootNode.querySelectorAll(\".\"+ManagedFocusComponent.FOCUS_MANAGED_CLASS);if(!managedContainers.length)return!1;for(var i=0;i<managedContainers.length;i++)if(managedContainers[i].contains(document.activeElement))return!0;return!1},FocusController.prototype.findTabbableParent=function(node,limit){void 0===limit&&(limit=5);for(var counter=0;node&&null===getTabIndex(node)&&++counter<=limit;)node=node.parentElement;return null===getTabIndex(node)?null:node},FocusController.prototype.onCellFocused=function(forceBrowserFocus){var event={type:Events.EVENT_CELL_FOCUSED,forceBrowserFocus:forceBrowserFocus,rowIndex:null,column:null,floating:null,api:this.gridApi,columnApi:this.columnApi,rowPinned:null,isFullWidthCell:!1};if(this.focusedCellPosition){var rowIndex=event.rowIndex=this.focusedCellPosition.rowIndex,rowPinned=event.rowPinned=this.focusedCellPosition.rowPinned;event.column=this.focusedCellPosition.column;var rowCon=this.rowRenderer.getRowConByPosition({rowIndex:rowIndex,rowPinned:rowPinned});rowCon&&(event.isFullWidthCell=rowCon.isFullWidth())}this.eventService.dispatchEvent(event)},FocusController.prototype.focusGridView=function(column,backwards){var nextRow=backwards?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!nextRow)return!1;var rowIndex=nextRow.rowIndex,rowPinned=nextRow.rowPinned,focusedHeader=this.getFocusedHeader();return!column&&focusedHeader&&(column=focusedHeader.column),!(null==rowIndex||!column||(this.rowRenderer.ensureCellVisible({rowIndex:rowIndex,column:column,rowPinned:rowPinned}),this.setFocusedCell(rowIndex,column,makeNull(rowPinned),!0),this.rangeController&&this.rangeController.setRangeToCell({rowIndex:rowIndex,rowPinned:rowPinned,column:column}),0))},FocusController.prototype.focusNextGridCoreContainer=function(backwards){return!!this.gridCompController.focusNextInnerContainer(backwards)||(backwards||this.gridCompController.forceFocusOutOfContainer(),!1)},FocusController.AG_KEYBOARD_FOCUS=\"ag-keyboard-focus\",FocusController.keyboardModeActive=!1,FocusController.instancesMonitored=new Map,__decorate$1a([Autowired(\"columnController\")],FocusController.prototype,\"columnController\",void 0),__decorate$1a([Autowired(\"headerNavigationService\")],FocusController.prototype,\"headerNavigationService\",void 0),__decorate$1a([Autowired(\"columnApi\")],FocusController.prototype,\"columnApi\",void 0),__decorate$1a([Autowired(\"gridApi\")],FocusController.prototype,\"gridApi\",void 0),__decorate$1a([Autowired(\"rowRenderer\")],FocusController.prototype,\"rowRenderer\",void 0),__decorate$1a([Autowired(\"rowPositionUtils\")],FocusController.prototype,\"rowPositionUtils\",void 0),__decorate$1a([Optional(\"rangeController\")],FocusController.prototype,\"rangeController\",void 0),__decorate$1a([PostConstruct],FocusController.prototype,\"init\",null),FocusController_1=__decorate$1a([Bean(\"focusController\")],FocusController)}(BeanStub),__extends$1h=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1b=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},PopupService=function(_super){function PopupService(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.popupList=[],_this}return __extends$1h(PopupService,_super),PopupService.prototype.registerGridCompController=function(gridCompController){var _this=this;this.gridCompController=gridCompController,this.addManagedListener(this.gridCompController,Events.EVENT_KEYBOARD_FOCUS,(function(){forEach(_this.popupList,(function(popup){return addCssClass(popup.element,FocusController.AG_KEYBOARD_FOCUS)}))})),this.addManagedListener(this.gridCompController,Events.EVENT_MOUSE_FOCUS,(function(){forEach(_this.popupList,(function(popup){return removeCssClass(popup.element,FocusController.AG_KEYBOARD_FOCUS)}))}))},PopupService.prototype.getPopupParent=function(){return this.gridOptionsWrapper.getPopupParent()||this.gridCompController.getGui()},PopupService.prototype.positionPopupForMenu=function(params){var sourceRect=params.eventSource.getBoundingClientRect(),parentRect=this.getParentRect(),y=this.keepYWithinBounds(params,sourceRect.top-parentRect.top),minWidth=params.ePopup.clientWidth>0?params.ePopup.clientWidth:200;params.ePopup.style.minWidth=minWidth+\"px\";var x,maxX=parentRect.right-parentRect.left-minWidth;function xRightPosition(){return sourceRect.right-parentRect.left-2}function xLeftPosition(){return sourceRect.left-parentRect.left-minWidth}this.gridOptionsWrapper.isEnableRtl()?((x=xLeftPosition())<0&&(x=xRightPosition()),x>maxX&&(x=0)):((x=xRightPosition())>maxX&&(x=xLeftPosition()),x<0&&(x=0)),params.ePopup.style.left=x+\"px\",params.ePopup.style.top=y+\"px\"},PopupService.prototype.positionPopupUnderMouseEvent=function(params){var _a=this.calculatePointerAlign(params.mouseEvent);this.positionPopup({ePopup:params.ePopup,x:_a.x,y:_a.y,nudgeX:params.nudgeX,nudgeY:params.nudgeY,keepWithinBounds:!0}),this.callPostProcessPopup(params.type,params.ePopup,null,params.mouseEvent,params.column,params.rowNode)},PopupService.prototype.calculatePointerAlign=function(e){var parentRect=this.getParentRect();return{x:e.clientX-parentRect.left,y:e.clientY-parentRect.top}},PopupService.prototype.positionPopupUnderComponent=function(params){var sourceRect=params.eventSource.getBoundingClientRect(),alignSide=params.alignSide||\"left\",parentRect=this.getParentRect(),x=sourceRect.left-parentRect.left;\"right\"===alignSide&&(x-=params.ePopup.offsetWidth-sourceRect.width),this.positionPopup({ePopup:params.ePopup,minWidth:params.minWidth,minHeight:params.minHeight,nudgeX:params.nudgeX,nudgeY:params.nudgeY,x:x,y:sourceRect.top-parentRect.top+sourceRect.height,keepWithinBounds:params.keepWithinBounds}),this.callPostProcessPopup(params.type,params.ePopup,params.eventSource,null,params.column,params.rowNode)},PopupService.prototype.positionPopupOverComponent=function(params){var sourceRect=params.eventSource.getBoundingClientRect(),parentRect=this.getParentRect();this.positionPopup({ePopup:params.ePopup,minWidth:params.minWidth,nudgeX:params.nudgeX,nudgeY:params.nudgeY,x:sourceRect.left-parentRect.left,y:sourceRect.top-parentRect.top,keepWithinBounds:params.keepWithinBounds}),this.callPostProcessPopup(params.type,params.ePopup,params.eventSource,null,params.column,params.rowNode)},PopupService.prototype.callPostProcessPopup=function(type,ePopup,eventSource,mouseEvent,column,rowNode){var callback=this.gridOptionsWrapper.getPostProcessPopupFunc();callback&&callback({column:column,rowNode:rowNode,ePopup:ePopup,type:type,eventSource:eventSource,mouseEvent:mouseEvent})},PopupService.prototype.positionPopup=function(params){var x=params.x,y=params.y;params.nudgeX&&(x+=params.nudgeX),params.nudgeY&&(y+=params.nudgeY),params.keepWithinBounds&&(x=this.keepXWithinBounds(params,x),y=this.keepYWithinBounds(params,y)),params.ePopup.style.left=x+\"px\",params.ePopup.style.top=y+\"px\"},PopupService.prototype.getActivePopups=function(){return this.popupList.map((function(popup){return popup.element}))},PopupService.prototype.getParentRect=function(){var popupParent=this.getPopupParent(),eDocument=this.gridOptionsWrapper.getDocument();popupParent===eDocument.body&&(popupParent=eDocument.documentElement);var style=getComputedStyle(popupParent),bounds=popupParent.getBoundingClientRect();return{top:bounds.top+parseFloat(style.borderTopWidth)||0,left:bounds.left+parseFloat(style.borderLeftWidth)||0,right:bounds.right+parseFloat(style.borderRightWidth)||0,bottom:bounds.bottom+parseFloat(style.borderBottomWidth)||0}},PopupService.prototype.keepYWithinBounds=function(params,y){var eDocument=this.gridOptionsWrapper.getDocument(),docElement=eDocument.documentElement,popupParent=this.getPopupParent(),parentRect=popupParent.getBoundingClientRect(),documentRect=eDocument.documentElement.getBoundingClientRect(),isBody=popupParent===eDocument.body,minHeight=Math.min(200,parentRect.height),diff=0;params.minHeight&&params.minHeight<minHeight?minHeight=params.minHeight:params.ePopup.offsetHeight>0&&(minHeight=params.ePopup.clientHeight,diff=getAbsoluteHeight(params.ePopup)-minHeight);var heightOfParent=isBody?getAbsoluteHeight(docElement)+docElement.scrollTop:parentRect.height;isBody&&(heightOfParent-=Math.abs(documentRect.top-parentRect.top));var maxY=heightOfParent-minHeight-diff;return Math.min(Math.max(y,0),Math.abs(maxY))},PopupService.prototype.keepXWithinBounds=function(params,x){var eDocument=this.gridOptionsWrapper.getDocument(),docElement=eDocument.documentElement,popupParent=this.getPopupParent(),parentRect=popupParent.getBoundingClientRect(),documentRect=eDocument.documentElement.getBoundingClientRect(),isBody=popupParent===eDocument.body,ePopup=params.ePopup,minWidth=Math.min(200,parentRect.width),diff=0;params.minWidth&&params.minWidth<minWidth?minWidth=params.minWidth:ePopup.offsetWidth>0&&(ePopup.style.minWidth=(minWidth=ePopup.offsetWidth)+\"px\",diff=getAbsoluteWidth(ePopup)-minWidth);var widthOfParent=isBody?getAbsoluteWidth(docElement)+docElement.scrollLeft:parentRect.width;isBody&&(widthOfParent-=Math.abs(documentRect.left-parentRect.left));var maxX=widthOfParent-minWidth-diff;return Math.min(Math.max(x,0),Math.abs(maxX))},PopupService.prototype.keepPopupPositionedRelativeTo=function(params){var eParent=this.getPopupParent(),parentRect=eParent.getBoundingClientRect(),sourceRect=params.element.getBoundingClientRect(),initialDiffTop=parentRect.top-sourceRect.top,initialDiffLeft=parentRect.left-sourceRect.left,lastDiffTop=initialDiffTop,lastDiffLeft=initialDiffLeft,topPx=params.ePopup.style.top,top=parseInt(topPx.substring(0,topPx.length-1),10),leftPx=params.ePopup.style.left,left=parseInt(leftPx.substring(0,leftPx.length-1),10),intervalId=window.setInterval((function(){var pRect=eParent.getBoundingClientRect(),sRect=params.element.getBoundingClientRect();if(0==sRect.top&&0==sRect.left&&0==sRect.height&&0==sRect.width)params.hidePopup();else{var currentDiffTop=pRect.top-sRect.top;currentDiffTop!=lastDiffTop&&(params.ePopup.style.top=top+initialDiffTop-currentDiffTop+\"px\"),lastDiffTop=currentDiffTop;var currentDiffLeft=pRect.left-sRect.left;currentDiffLeft!=lastDiffLeft&&(params.ePopup.style.left=left+initialDiffLeft-currentDiffLeft+\"px\"),lastDiffLeft=currentDiffLeft}}),200);return function(){null!=intervalId&&window.clearInterval(intervalId),intervalId=void 0}},PopupService.prototype.addPopup=function(params){var _this=this,modal=params.modal,eChild=params.eChild,closeOnEsc=params.closeOnEsc,closedCallback=params.closedCallback,click=params.click,alwaysOnTop=params.alwaysOnTop,afterGuiAttached=params.afterGuiAttached,positionCallback=params.positionCallback,anchorToElement=params.anchorToElement,eDocument=this.gridOptionsWrapper.getDocument();if(eDocument){var pos=findIndex(this.popupList,(function(popup){return popup.element===eChild}));if(-1!==pos){var popup=this.popupList[pos];return{hideFunc:popup.hideFunc,stopAnchoringFunc:popup.stopAnchoringFunc}}var ePopupParent=this.getPopupParent();ePopupParent.appendChild(eChild),null==eChild.style.top&&(eChild.style.top=\"0px\"),null==eChild.style.left&&(eChild.style.left=\"0px\");var eWrapper=document.createElement(\"div\"),theme=this.environment.getTheme().theme;theme&&addCssClass(eWrapper,theme),addCssClass(eWrapper,\"ag-popup\"),addCssClass(eChild,this.gridOptionsWrapper.isEnableRtl()?\"ag-rtl\":\"ag-ltr\"),addCssClass(eChild,\"ag-popup-child\"),this.focusController.isKeyboardMode()&&addCssClass(eChild,FocusController.AG_KEYBOARD_FOCUS),eWrapper.appendChild(eChild),ePopupParent.appendChild(eWrapper),alwaysOnTop?this.setAlwaysOnTop(eWrapper,!0):this.bringPopupToFront(eWrapper);var destroyPositionTracker,popupHidden=!1,hidePopupOnKeyboardEvent=function(event){eWrapper.contains(document.activeElement)&&(event.which||event.keyCode)===KeyCode.ESCAPE&&hidePopup({keyboardEvent:event})},hidePopupOnMouseEvent=function(event){return hidePopup({mouseEvent:event})},hidePopupOnTouchEvent=function(event){return hidePopup({touchEvent:event})},hidePopup=function(popupParams){void 0===popupParams&&(popupParams={});var mouseEvent=popupParams.mouseEvent,touchEvent=popupParams.touchEvent,keyboardEvent=popupParams.keyboardEvent;_this.isEventFromCurrentPopup({mouseEvent:mouseEvent,touchEvent:touchEvent},eChild)||_this.isEventSameChainAsOriginalEvent({originalMouseEvent:click,mouseEvent:mouseEvent,touchEvent:touchEvent})||popupHidden||(popupHidden=!0,ePopupParent.removeChild(eWrapper),eDocument.removeEventListener(\"keydown\",hidePopupOnKeyboardEvent),eDocument.removeEventListener(\"mousedown\",hidePopupOnMouseEvent),eDocument.removeEventListener(\"touchstart\",hidePopupOnTouchEvent),eDocument.removeEventListener(\"contextmenu\",hidePopupOnMouseEvent),_this.eventService.removeEventListener(Events.EVENT_DRAG_STARTED,hidePopupOnMouseEvent),closedCallback&&closedCallback(mouseEvent||touchEvent||keyboardEvent),_this.popupList=_this.popupList.filter((function(popup){return popup.element!==eChild})),destroyPositionTracker&&destroyPositionTracker())};return afterGuiAttached&&afterGuiAttached({hidePopup:hidePopup}),window.setTimeout((function(){closeOnEsc&&eDocument.addEventListener(\"keydown\",hidePopupOnKeyboardEvent),modal&&(eDocument.addEventListener(\"mousedown\",hidePopupOnMouseEvent),_this.eventService.addEventListener(Events.EVENT_DRAG_STARTED,hidePopupOnMouseEvent),eDocument.addEventListener(\"touchstart\",hidePopupOnTouchEvent),eDocument.addEventListener(\"contextmenu\",hidePopupOnMouseEvent))}),0),positionCallback&&positionCallback(),anchorToElement&&(destroyPositionTracker=this.keepPopupPositionedRelativeTo({element:anchorToElement,ePopup:eChild,hidePopup:hidePopup})),this.popupList.push({element:eChild,hideFunc:hidePopup,stopAnchoringFunc:destroyPositionTracker}),{hideFunc:hidePopup,stopAnchoringFunc:destroyPositionTracker}}console.warn(\"ag-grid: could not find the document, document is empty\")},PopupService.prototype.isEventFromCurrentPopup=function(params,target){var event=params.mouseEvent||params.touchEvent;if(!event)return!1;var indexOfThisChild=findIndex(this.popupList,(function(popup){return popup.element===target}));if(-1===indexOfThisChild)return!1;for(var i=indexOfThisChild;i<this.popupList.length;i++)if(isElementInEventPath(this.popupList[i].element,event))return!0;return this.isElementWithinCustomPopup(event.target)},PopupService.prototype.isElementWithinCustomPopup=function(el){if(!this.popupList.length)return!1;for(;el&&el!==document.body;){if(el.classList.contains(\"ag-custom-component-popup\")||null===el.parentElement)return!0;el=el.parentElement}return!1},PopupService.prototype.isEventSameChainAsOriginalEvent=function(params){var originalMouseEvent=params.originalMouseEvent,mouseEvent=params.mouseEvent,touchEvent=params.touchEvent,mouseEventOrTouch=null;if(mouseEvent?mouseEventOrTouch=mouseEvent:touchEvent&&(mouseEventOrTouch=touchEvent.touches[0]),mouseEventOrTouch&&originalMouseEvent){var screenY_1=mouseEvent?mouseEvent.screenY:0,xMatch=Math.abs(originalMouseEvent.screenX-(mouseEvent?mouseEvent.screenX:0))<5,yMatch=Math.abs(originalMouseEvent.screenY-screenY_1)<5;if(xMatch&&yMatch)return!0}return!1},PopupService.prototype.getWrapper=function(ePopup){for(;!containsClass(ePopup,\"ag-popup\")&&ePopup.parentElement;)ePopup=ePopup.parentElement;return containsClass(ePopup,\"ag-popup\")?ePopup:null},PopupService.prototype.setAlwaysOnTop=function(ePopup,alwaysOnTop){var eWrapper=this.getWrapper(ePopup);eWrapper&&(addOrRemoveCssClass(eWrapper,\"ag-always-on-top\",!!alwaysOnTop),alwaysOnTop&&this.bringPopupToFront(eWrapper))},PopupService.prototype.bringPopupToFront=function(ePopup){var parent=this.getPopupParent(),popupList=Array.prototype.slice.call(parent.querySelectorAll(\".ag-popup\")),popupLen=popupList.length,alwaysOnTopList=Array.prototype.slice.call(parent.querySelectorAll(\".ag-popup.ag-always-on-top\")),onTopLength=alwaysOnTopList.length,eWrapper=this.getWrapper(ePopup);if(eWrapper&&!(popupLen<=1)&&parent.contains(ePopup)){var pos=popupList.indexOf(eWrapper);onTopLength?containsClass(eWrapper,\"ag-always-on-top\")?pos!==popupLen-1&&last(alwaysOnTopList).insertAdjacentElement(\"afterend\",eWrapper):pos!==popupLen-onTopLength-1&&alwaysOnTopList[0].insertAdjacentElement(\"beforebegin\",eWrapper):pos!==popupLen-1&&last(popupList).insertAdjacentElement(\"afterend\",eWrapper);var params={type:\"popupToFront\",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:eWrapper};this.eventService.dispatchEvent(params)}},__decorate$1b([Autowired(\"environment\")],PopupService.prototype,\"environment\",void 0),__decorate$1b([Autowired(\"focusController\")],PopupService.prototype,\"focusController\",void 0),__decorate$1b([Bean(\"popupService\")],PopupService)}(BeanStub),__extends$1i=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1c=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},LoggerFactory=function(_super){function LoggerFactory(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$1i(LoggerFactory,_super),LoggerFactory.prototype.setBeans=function(gridOptionsWrapper){this.logging=gridOptionsWrapper.isDebug()},LoggerFactory.prototype.create=function(name){return new Logger(name,this.isLogging.bind(this))},LoggerFactory.prototype.isLogging=function(){return this.logging},__decorate$1c([(0,decorator=Qualifier(\"gridOptionsWrapper\"),function(target,key){decorator(target,key,0)})],LoggerFactory.prototype,\"setBeans\",null),__decorate$1c([Bean(\"loggerFactory\")],LoggerFactory);var decorator}(BeanStub),Logger=function(){function Logger(name,isLoggingFunc){this.name=name,this.isLoggingFunc=isLoggingFunc}return Logger.prototype.isLogging=function(){return this.isLoggingFunc()},Logger.prototype.log=function(message){this.isLoggingFunc()&&console.log(\"AG Grid.\"+this.name+\": \"+message)},Logger}(),__extends$1j=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1d=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},AutoWidthCalculator=function(_super){function AutoWidthCalculator(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$1j(AutoWidthCalculator,_super),AutoWidthCalculator.prototype.postConstruct=function(){var _this=this;this.controllersService.whenReady((function(p){_this.centerRowContainerCon=p.centerRowContainerCon}))},AutoWidthCalculator.prototype.registerHeaderRootComp=function(headerRootComp){this.headerRootComp=headerRootComp},AutoWidthCalculator.prototype.getPreferredWidthForColumn=function(column,skipHeader){var eHeaderCell=this.getHeaderCellForColumn(column);if(!eHeaderCell)return-1;var eDummyContainer=document.createElement(\"span\");eDummyContainer.style.position=\"fixed\";var eBodyContainer=this.centerRowContainerCon.getContainerElement();eBodyContainer.appendChild(eDummyContainer),this.putRowCellsIntoDummyContainer(column,eDummyContainer),skipHeader||this.cloneItemIntoDummy(eHeaderCell,eDummyContainer);var dummyContainerWidth=eDummyContainer.offsetWidth;return eBodyContainer.removeChild(eDummyContainer),dummyContainerWidth+this.gridOptionsWrapper.getAutoSizePadding()},AutoWidthCalculator.prototype.getHeaderCellForColumn=function(column){var comp=null;return this.headerRootComp.forEachHeaderElement((function(headerElement){if(headerElement instanceof HeaderWrapperComp){var headerWrapperComp=headerElement;headerWrapperComp.getColumn()===column&&(comp=headerWrapperComp)}})),comp?comp.getGui():null},AutoWidthCalculator.prototype.putRowCellsIntoDummyContainer=function(column,eDummyContainer){var _this=this;this.rowRenderer.getAllCellsForColumn(column).forEach((function(eCell){return _this.cloneItemIntoDummy(eCell,eDummyContainer)}))},AutoWidthCalculator.prototype.cloneItemIntoDummy=function(eCell,eDummyContainer){var eCellClone=eCell.cloneNode(!0);eCellClone.style.width=\"\",eCellClone.style.position=\"static\",eCellClone.style.left=\"\";var eCloneParent=document.createElement(\"div\");containsClass(eCellClone,\"ag-header-cell\")?(addCssClass(eCloneParent,\"ag-header\"),addCssClass(eCloneParent,\"ag-header-row\"),eCloneParent.style.position=\"static\"):addCssClass(eCloneParent,\"ag-row\"),eCloneParent.style.display=\"table-row\",eCloneParent.appendChild(eCellClone),eDummyContainer.appendChild(eCloneParent)},__decorate$1d([Autowired(\"rowRenderer\")],AutoWidthCalculator.prototype,\"rowRenderer\",void 0),__decorate$1d([Autowired(\"controllersService\")],AutoWidthCalculator.prototype,\"controllersService\",void 0),__decorate$1d([PostConstruct],AutoWidthCalculator.prototype,\"postConstruct\",null),__decorate$1d([Bean(\"autoWidthCalculator\")],AutoWidthCalculator)}(BeanStub),__extends$1k=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1e=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},HorizontalResizeService=function(_super){function HorizontalResizeService(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$1k(HorizontalResizeService,_super),HorizontalResizeService.prototype.addResizeBar=function(params){var _this=this,dragSource={dragStartPixels:params.dragStartPixels||0,eElement:params.eResizeBar,onDragStart:this.onDragStart.bind(this,params),onDragStop:this.onDragStop.bind(this,params),onDragging:this.onDragging.bind(this,params)};return this.dragService.addDragSource(dragSource,!0),function(){return _this.dragService.removeDragSource(dragSource)}},HorizontalResizeService.prototype.onDragStart=function(params,mouseEvent){this.dragStartX=mouseEvent.clientX,this.setResizeIcons();var shiftKey=mouseEvent instanceof MouseEvent&&!0===mouseEvent.shiftKey;params.onResizeStart(shiftKey)},HorizontalResizeService.prototype.setResizeIcons=function(){this.oldBodyCursor=this.eGridDiv.style.cursor,this.oldUserSelect=this.eGridDiv.style.userSelect,this.oldWebkitUserSelect=this.eGridDiv.style.webkitUserSelect,this.eGridDiv.style.cursor=\"ew-resize\",this.eGridDiv.style.userSelect=\"none\",this.eGridDiv.style.webkitUserSelect=\"none\"},HorizontalResizeService.prototype.onDragStop=function(params,mouseEvent){params.onResizeEnd(this.resizeAmount),this.resetIcons()},HorizontalResizeService.prototype.resetIcons=function(){this.eGridDiv.style.cursor=this.oldBodyCursor,this.eGridDiv.style.userSelect=this.oldUserSelect,this.eGridDiv.style.webkitUserSelect=this.oldWebkitUserSelect},HorizontalResizeService.prototype.onDragging=function(params,mouseEvent){this.resizeAmount=mouseEvent.clientX-this.dragStartX,params.onResizing(this.resizeAmount)},__decorate$1e([Autowired(\"dragService\")],HorizontalResizeService.prototype,\"dragService\",void 0),__decorate$1e([Autowired(\"eGridDiv\")],HorizontalResizeService.prototype,\"eGridDiv\",void 0),__decorate$1e([Bean(\"horizontalResizeService\")],HorizontalResizeService)}(BeanStub),__extends$1l=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1f=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},GridCompController=function(_super){function GridCompController(){return _super.call(this)||this}return __extends$1l(GridCompController,_super),GridCompController.prototype.postConstruct=function(){var _this=this;this.logger=this.loggerFactory.create(\"GridCompController\"),[this.gridApi,this.popupService,this.focusController,this.controllersService].forEach((function(service){return service.registerGridCompController(_this)})),ModuleRegistry.isRegistered(exports.ModuleNames.ClipboardModule)&&this.clipboardService.registerGridCompController(this)},GridCompController.prototype.setView=function(view,eGridDiv,eGui){var _this=this;this.view=view,this.eGridHostDiv=eGridDiv,this.eGui=eGui,this.mouseEventService.stampTopLevelGridCompWithGridInstance(eGridDiv),this.createManagedBean(new LayoutFeature(this.view)),this.addRtlSupport(),this.addManagedListener(this,Events.EVENT_KEYBOARD_FOCUS,(function(){_this.view.addOrRemoveKeyboardFocusClass(!0)})),this.addManagedListener(this,Events.EVENT_MOUSE_FOCUS,(function(){_this.view.addOrRemoveKeyboardFocusClass(!1)}));var unsubscribeFromResize=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc((function(){return unsubscribeFromResize()}))},GridCompController.prototype.showDropZones=function(){return ModuleRegistry.isRegistered(exports.ModuleNames.RowGroupingModule)},GridCompController.prototype.showSideBar=function(){return ModuleRegistry.isRegistered(exports.ModuleNames.SideBarModule)},GridCompController.prototype.showStatusBar=function(){return ModuleRegistry.isRegistered(exports.ModuleNames.StatusBarModule)},GridCompController.prototype.showWatermark=function(){return ModuleRegistry.isRegistered(exports.ModuleNames.EnterpriseCoreModule)},GridCompController.prototype.onGridSizeChanged=function(){this.eventService.dispatchEvent({type:Events.EVENT_GRID_SIZE_CHANGED,api:this.gridApi,columnApi:this.columnApi,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})},GridCompController.prototype.addRtlSupport=function(){var cssClass=this.gridOptionsWrapper.isEnableRtl()?\"ag-rtl\":\"ag-ltr\";this.view.setRtlClass(cssClass)},GridCompController.prototype.destroyGridUi=function(){this.view.destroyGridUi()},GridCompController.prototype.getGui=function(){return this.eGui},GridCompController.prototype.focusNextInnerContainer=function(backwards){var focusableContainers=this.view.getFocusableContainers(),nextIdx=findIndex(focusableContainers,(function(container){return container.contains(document.activeElement)}))+(backwards?-1:1);return!(nextIdx<0||nextIdx>=focusableContainers.length)&&(0===nextIdx?this.focusGridHeader():this.focusController.focusInto(focusableContainers[nextIdx]))},GridCompController.prototype.focusGridHeader=function(){var firstColumn=this.columnController.getAllDisplayedColumns()[0];return!!firstColumn&&(firstColumn.getParent()&&(firstColumn=this.columnController.getColumnGroupAtLevel(firstColumn,0)),this.focusController.focusHeaderPosition({headerRowIndex:0,column:firstColumn}),!0)},GridCompController.prototype.forceFocusOutOfContainer=function(up){void 0===up&&(up=!1),this.view.forceFocusOutOfContainer(up)},__decorate$1f([Autowired(\"columnApi\")],GridCompController.prototype,\"columnApi\",void 0),__decorate$1f([Autowired(\"gridApi\")],GridCompController.prototype,\"gridApi\",void 0),__decorate$1f([Autowired(\"popupService\")],GridCompController.prototype,\"popupService\",void 0),__decorate$1f([Autowired(\"focusController\")],GridCompController.prototype,\"focusController\",void 0),__decorate$1f([Optional(\"clipboardService\")],GridCompController.prototype,\"clipboardService\",void 0),__decorate$1f([Autowired(\"loggerFactory\")],GridCompController.prototype,\"loggerFactory\",void 0),__decorate$1f([Autowired(\"resizeObserverService\")],GridCompController.prototype,\"resizeObserverService\",void 0),__decorate$1f([Autowired(\"columnController\")],GridCompController.prototype,\"columnController\",void 0),__decorate$1f([Autowired(\"controllersService\")],GridCompController.prototype,\"controllersService\",void 0),__decorate$1f([Autowired(\"mouseEventService\")],GridCompController.prototype,\"mouseEventService\",void 0),__decorate$1f([PostConstruct],GridCompController.prototype,\"postConstruct\",null),GridCompController}(BeanStub),__extends$1m=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1g=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},GridComp=function(_super){function GridComp(eGridDiv){var _this=_super.call(this,void 0,!0)||this;return _this.eGridDiv=eGridDiv,_this}return __extends$1m(GridComp,_super),GridComp.prototype.postConstruct=function(){var _this=this;this.logger=this.loggerFactory.create(\"GridComp\");var view={destroyGridUi:function(){return _this.destroyBean(_this)},setRtlClass:function(cssClass){return addCssClass(_this.getGui(),cssClass)},addOrRemoveKeyboardFocusClass:function(addOrRemove){return _this.addOrRemoveCssClass(FocusController.AG_KEYBOARD_FOCUS,addOrRemove)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this)};this.con=this.createManagedBean(new GridCompController);var template=this.createTemplate();this.setTemplate(template),this.con.setView(view,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),_super.prototype.postConstruct.call(this)},GridComp.prototype.insertGridIntoDom=function(){var _this=this,eGui=this.getGui();this.eGridDiv.appendChild(eGui),this.addDestroyFunc((function(){_this.eGridDiv.removeChild(eGui),_this.logger.log(\"Grid removed from DOM\")}))},GridComp.prototype.updateLayoutClasses=function(params){addOrRemoveCssClass(this.eRootWrapperBody,exports.LayoutCssClasses.AUTO_HEIGHT,params.autoHeight),addOrRemoveCssClass(this.eRootWrapperBody,exports.LayoutCssClasses.NORMAL,params.normal),addOrRemoveCssClass(this.eRootWrapperBody,exports.LayoutCssClasses.PRINT,params.print),this.addOrRemoveCssClass(exports.LayoutCssClasses.AUTO_HEIGHT,params.autoHeight),this.addOrRemoveCssClass(exports.LayoutCssClasses.NORMAL,params.normal),this.addOrRemoveCssClass(exports.LayoutCssClasses.PRINT,params.print)},GridComp.prototype.createTemplate=function(){return'<div ref=\"eRootWrapper\" class=\"ag-root-wrapper\">\\n                '+(this.con.showDropZones()?\"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>\":\"\")+'\\n                <div class=\"ag-root-wrapper-body\" ref=\"rootWrapperBody\">\\n                    <ag-grid-body ref=\"gridBody\"></ag-grid-body>\\n                    '+(this.con.showSideBar()?'<ag-side-bar ref=\"sideBar\"></ag-side-bar>':\"\")+\"\\n                </div>\\n                \"+(this.con.showStatusBar()?'<ag-status-bar ref=\"statusBar\"></ag-status-bar>':\"\")+\"\\n                <ag-pagination></ag-pagination>\\n                \"+(this.con.showWatermark()?\"<ag-watermark></ag-watermark>\":\"\")+\"\\n            </div>\"},GridComp.prototype.getFocusableElement=function(){return this.eRootWrapperBody},GridComp.prototype.getFocusableContainers=function(){var focusableContainers=[this.gridBodyComp.getGui()];return this.sideBarComp&&focusableContainers.push(this.sideBarComp.getGui()),focusableContainers.filter((function(el){return isVisible(el)}))},GridComp.prototype.focusInnerElement=function(fromBottom){var focusableContainers=this.getFocusableContainers();if(fromBottom){if(focusableContainers.length>1)return this.focusController.focusInto(last(focusableContainers));var lastColumn=last(this.columnController.getAllDisplayedColumns());if(this.focusController.focusGridView(lastColumn,!0))return!0}return this.con.focusGridHeader()},GridComp.prototype.onTabKeyDown=function(){},__decorate$1g([Autowired(\"columnController\")],GridComp.prototype,\"columnController\",void 0),__decorate$1g([Autowired(\"loggerFactory\")],GridComp.prototype,\"loggerFactory\",void 0),__decorate$1g([RefSelector(\"gridBody\")],GridComp.prototype,\"gridBodyComp\",void 0),__decorate$1g([RefSelector(\"sideBar\")],GridComp.prototype,\"sideBarComp\",void 0),__decorate$1g([RefSelector(\"rootWrapperBody\")],GridComp.prototype,\"eRootWrapperBody\",void 0),GridComp}(ManagedFocusComponent),__extends$1n=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1h=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},StandardMenuFactory=function(_super){function StandardMenuFactory(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$1n(StandardMenuFactory,_super),StandardMenuFactory.prototype.registerGridComp=function(gridBodyComp){this.gridBodyComp=gridBodyComp},StandardMenuFactory.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},StandardMenuFactory.prototype.showMenuAfterMouseEvent=function(column,mouseEvent){var _this=this;this.showPopup(column,(function(eMenu){_this.popupService.positionPopupUnderMouseEvent({column:column,type:\"columnMenu\",mouseEvent:mouseEvent,ePopup:eMenu})}),mouseEvent.target)},StandardMenuFactory.prototype.showMenuAfterButtonClick=function(column,eventSource){var _this=this;this.showPopup(column,(function(eMenu){_this.popupService.positionPopupUnderComponent({type:\"columnMenu\",eventSource:eventSource,ePopup:eMenu,keepWithinBounds:!0,column:column})}),eventSource)},StandardMenuFactory.prototype.showPopup=function(column,positionCallback,eventSource){var hidePopup,_this=this,filterWrapper=this.filterManager.getOrCreateFilterWrapper(column,\"COLUMN_MENU\"),eMenu=document.createElement(\"div\");eMenu.setAttribute(\"role\",\"presentation\"),addCssClass(eMenu,\"ag-menu\"),this.tabListener=this.addManagedListener(eMenu,\"keydown\",(function(e){return _this.trapFocusWithin(e,eMenu)})),filterWrapper.guiPromise.then((function(gui){return eMenu.appendChild(gui)}));var anchorToElement=eventSource||this.gridBodyComp.getGui(),addPopupRes=this.popupService.addPopup({modal:!0,eChild:eMenu,closeOnEsc:!0,closedCallback:function(e){column.setMenuVisible(!1,\"contextMenu\");var isKeyboardEvent=e instanceof KeyboardEvent;if(_this.tabListener&&(_this.tabListener=_this.tabListener()),isKeyboardEvent&&eventSource&&isVisible(eventSource)){var focusableEl=_this.focusController.findTabbableParent(eventSource);focusableEl&&focusableEl.focus()}},positionCallback:function(){return positionCallback(eMenu)},anchorToElement:anchorToElement});addPopupRes&&(this.hidePopup=hidePopup=addPopupRes.hideFunc),filterWrapper.filterPromise.then((function(filter){positionCallback(eMenu),filter.afterGuiAttached&&filter.afterGuiAttached({container:\"columnMenu\",hidePopup:hidePopup})})),column.setMenuVisible(!0,\"contextMenu\")},StandardMenuFactory.prototype.trapFocusWithin=function(e,menu){e.keyCode!==KeyCode.TAB||e.defaultPrevented||this.focusController.findNextFocusableElement(menu,!1,e.shiftKey)||(e.preventDefault(),this.focusController.focusInto(menu,e.shiftKey))},StandardMenuFactory.prototype.isMenuEnabled=function(column){return column.isFilterAllowed()},__decorate$1h([Autowired(\"filterManager\")],StandardMenuFactory.prototype,\"filterManager\",void 0),__decorate$1h([Autowired(\"popupService\")],StandardMenuFactory.prototype,\"popupService\",void 0),__decorate$1h([Autowired(\"focusController\")],StandardMenuFactory.prototype,\"focusController\",void 0),__decorate$1h([Bean(\"menuFactory\")],StandardMenuFactory)}(BeanStub),__extends$1o=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1i=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},DragService=function(_super){function DragService(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.dragEndFunctions=[],_this.dragSources=[],_this}return __extends$1o(DragService,_super),DragService.prototype.init=function(){this.logger=this.loggerFactory.create(\"DragService\")},DragService.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},DragService.prototype.removeListener=function(dragSourceAndListener){var element=dragSourceAndListener.dragSource.eElement;element.removeEventListener(\"mousedown\",dragSourceAndListener.mouseDownListener),dragSourceAndListener.touchEnabled&&element.removeEventListener(\"touchstart\",dragSourceAndListener.touchStartListener,{passive:!0})},DragService.prototype.removeDragSource=function(params){var dragSourceAndListener=find(this.dragSources,(function(item){return item.dragSource===params}));dragSourceAndListener&&(this.removeListener(dragSourceAndListener),removeFromArray(this.dragSources,dragSourceAndListener))},DragService.prototype.setNoSelectToBody=function(noSelect){var eBody=this.gridOptionsWrapper.getDocument().querySelector(\"body\");exists(eBody)&&addOrRemoveCssClass(eBody,\"ag-unselectable\",noSelect)},DragService.prototype.isDragging=function(){return this.dragging},DragService.prototype.addDragSource=function(params,includeTouch){void 0===includeTouch&&(includeTouch=!1);var mouseListener=this.onMouseDown.bind(this,params);params.eElement.addEventListener(\"mousedown\",mouseListener);var touchListener=null,suppressTouch=this.gridOptionsWrapper.isSuppressTouch();includeTouch&&!suppressTouch&&(touchListener=this.onTouchStart.bind(this,params),params.eElement.addEventListener(\"touchstart\",touchListener,{passive:!0})),this.dragSources.push({dragSource:params,mouseDownListener:mouseListener,touchStartListener:touchListener,touchEnabled:includeTouch})},DragService.prototype.onTouchStart=function(params,touchEvent){var _this=this;this.currentDragParams=params,this.dragging=!1;var touch=touchEvent.touches[0];this.touchLastTime=touch,this.touchStart=touch;var touchEndEvent=function(e){return _this.onTouchUp(e,params.eElement)},target=params.eElement,events=[{target:document,type:\"touchmove\",listener:function(e){e.cancelable&&e.preventDefault()},options:{passive:!1}},{target:target,type:\"touchmove\",listener:function(e){return _this.onTouchMove(e,params.eElement)},options:{passive:!0}},{target:target,type:\"touchend\",listener:touchEndEvent,options:{passive:!0}},{target:target,type:\"touchcancel\",listener:touchEndEvent,options:{passive:!0}}];this.addTemporaryEvents(events),0===params.dragStartPixels&&this.onCommonMove(touch,this.touchStart,params.eElement)},DragService.prototype.onMouseDown=function(params,mouseEvent){var _this=this,e=mouseEvent;if(!(params.skipMouseEvent&&params.skipMouseEvent(mouseEvent)||e._alreadyProcessedByDragService||(e._alreadyProcessedByDragService=!0,0!==mouseEvent.button))){this.currentDragParams=params,this.dragging=!1,this.mouseStartEvent=mouseEvent;var eDocument=this.gridOptionsWrapper.getDocument();this.setNoSelectToBody(!0),this.addTemporaryEvents([{target:eDocument,type:\"mousemove\",listener:function(event){return _this.onMouseMove(event,params.eElement)}},{target:eDocument,type:\"mouseup\",listener:function(event){return _this.onMouseUp(event,params.eElement)}},{target:eDocument,type:\"contextmenu\",listener:function(event){return event.preventDefault()}}]),0===params.dragStartPixels&&this.onMouseMove(mouseEvent,params.eElement)}},DragService.prototype.addTemporaryEvents=function(events){events.forEach((function(currentEvent){currentEvent.target.addEventListener(currentEvent.type,currentEvent.listener,currentEvent.options)})),this.dragEndFunctions.push((function(){events.forEach((function(currentEvent){currentEvent.target.removeEventListener(currentEvent.type,currentEvent.listener,currentEvent.options)}))}))},DragService.prototype.isEventNearStartEvent=function(currentEvent,startEvent){var dragStartPixels=this.currentDragParams.dragStartPixels;return areEventsNear(currentEvent,startEvent,exists(dragStartPixels)?dragStartPixels:4)},DragService.prototype.getFirstActiveTouch=function(touchList){for(var i=0;i<touchList.length;i++)if(touchList[i].identifier===this.touchStart.identifier)return touchList[i];return null},DragService.prototype.onCommonMove=function(currentEvent,startEvent,el){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(currentEvent,startEvent))return;this.dragging=!0,this.eventService.dispatchEvent({type:Events.EVENT_DRAG_STARTED,api:this.gridApi,columnApi:this.columnApi,target:el}),this.currentDragParams.onDragStart(startEvent),this.currentDragParams.onDragging(startEvent)}this.currentDragParams.onDragging(currentEvent)},DragService.prototype.onTouchMove=function(touchEvent,el){var touch=this.getFirstActiveTouch(touchEvent.touches);touch&&this.onCommonMove(touch,this.touchStart,el)},DragService.prototype.onMouseMove=function(mouseEvent,el){this.onCommonMove(mouseEvent,this.mouseStartEvent,el)},DragService.prototype.onTouchUp=function(touchEvent,el){var touch=this.getFirstActiveTouch(touchEvent.changedTouches);touch||(touch=this.touchLastTime),this.onUpCommon(touch,el)},DragService.prototype.onMouseUp=function(mouseEvent,el){this.onUpCommon(mouseEvent,el)},DragService.prototype.onUpCommon=function(eventOrTouch,el){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(eventOrTouch),this.eventService.dispatchEvent({type:Events.EVENT_DRAG_STOPPED,api:this.gridApi,columnApi:this.columnApi,target:el})),this.setNoSelectToBody(!1),this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach((function(func){return func()})),this.dragEndFunctions.length=0},__decorate$1i([Autowired(\"loggerFactory\")],DragService.prototype,\"loggerFactory\",void 0),__decorate$1i([Autowired(\"columnApi\")],DragService.prototype,\"columnApi\",void 0),__decorate$1i([Autowired(\"gridApi\")],DragService.prototype,\"gridApi\",void 0),__decorate$1i([PostConstruct],DragService.prototype,\"init\",null),__decorate$1i([PreDestroy],DragService.prototype,\"removeAllListeners\",null),__decorate$1i([Bean(\"dragService\")],DragService)}(BeanStub),__extends$1p=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1j=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},SortController=function(_super){function SortController(){return null!==_super&&_super.apply(this,arguments)||this}var SortController_1;return __extends$1p(SortController,_super),SortController_1=SortController,SortController.prototype.progressSort=function(column,multiSort,source){void 0===source&&(source=\"api\");var nextDirection=this.getNextSortDirection(column);this.setSortForColumn(column,nextDirection,multiSort,source)},SortController.prototype.setSortForColumn=function(column,sort,multiSort,source){void 0===source&&(source=\"api\"),sort!==Constants.SORT_ASC&&sort!==Constants.SORT_DESC&&(sort=null),column.setSort(sort,source),multiSort&&!this.gridOptionsWrapper.isSuppressMultiSort()||this.clearSortBarThisColumn(column,source),this.updateSortIndex(column),this.dispatchSortChangedEvents()},SortController.prototype.updateSortIndex=function(lastColToChange){var allSortedCols=this.getColumnsWithSortingOrdered(),sortIndex=0;allSortedCols.forEach((function(col){col!==lastColToChange&&(col.setSortIndex(sortIndex),sortIndex++)})),lastColToChange.getSort()&&lastColToChange.setSortIndex(sortIndex),this.columnController.getPrimaryAndSecondaryAndAutoColumns().filter((function(col){return null==col.getSort()})).forEach((function(col){return col.setSortIndex()}))},SortController.prototype.onSortChanged=function(){this.dispatchSortChangedEvents()},SortController.prototype.isSortActive=function(){var sortedCols=this.columnController.getPrimaryAndSecondaryAndAutoColumns().filter((function(column){return!!column.getSort()}));return sortedCols&&sortedCols.length>0},SortController.prototype.dispatchSortChangedEvents=function(){this.eventService.dispatchEvent({type:Events.EVENT_SORT_CHANGED,api:this.gridApi,columnApi:this.columnApi})},SortController.prototype.clearSortBarThisColumn=function(columnToSkip,source){this.columnController.getPrimaryAndSecondaryAndAutoColumns().forEach((function(columnToClear){columnToClear!==columnToSkip&&columnToClear.setSort(void 0,source)}))},SortController.prototype.getNextSortDirection=function(column){var sortingOrder;if(sortingOrder=column.getColDef().sortingOrder?column.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():SortController_1.DEFAULT_SORTING_ORDER,!Array.isArray(sortingOrder)||sortingOrder.length<=0)return console.warn(\"ag-grid: sortingOrder must be an array with at least one element, currently it's \"+sortingOrder),null;var result,currentIndex=sortingOrder.indexOf(column.getSort());return SortController_1.DEFAULT_SORTING_ORDER.indexOf(result=currentIndex<0||currentIndex==sortingOrder.length-1?sortingOrder[0]:sortingOrder[currentIndex+1])<0?(console.warn(\"ag-grid: invalid sort type \"+result),null):result},SortController.prototype.getColumnsWithSortingOrdered=function(){var allColumnsIncludingAuto=this.columnController.getPrimaryAndSecondaryAndAutoColumns(),columnsWithSorting=allColumnsIncludingAuto.filter((function(column){return!!column.getSort()})),allColsIndexes={};return allColumnsIncludingAuto.forEach((function(col,index){return allColsIndexes[col.getId()]=index})),columnsWithSorting.sort((function(a,b){var iA=a.getSortIndex(),iB=b.getSortIndex();return null!=iA&&null!=iB?iA-iB:null==iA&&null==iB?allColsIndexes[a.getId()]>allColsIndexes[b.getId()]?1:-1:null==iB?-1:1})),columnsWithSorting},SortController.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().map((function(column){return{sort:column.getSort(),colId:column.getId()}}))},SortController.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map((function(column){return{sort:column.getSort(),column:column}}))},SortController.DEFAULT_SORTING_ORDER=[Constants.SORT_ASC,Constants.SORT_DESC,null],__decorate$1j([Autowired(\"columnController\")],SortController.prototype,\"columnController\",void 0),__decorate$1j([Autowired(\"columnApi\")],SortController.prototype,\"columnApi\",void 0),__decorate$1j([Autowired(\"gridApi\")],SortController.prototype,\"gridApi\",void 0),SortController_1=__decorate$1j([Bean(\"sortController\")],SortController)}(BeanStub),__extends$1q=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1k=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},MouseEventService=function(_super){function MouseEventService(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.gridInstanceId=MouseEventService_1.gridInstanceSequence.next(),_this}var MouseEventService_1;return __extends$1q(MouseEventService,_super),MouseEventService_1=MouseEventService,MouseEventService.prototype.stampTopLevelGridCompWithGridInstance=function(eGridDiv){eGridDiv[MouseEventService_1.GRID_DOM_KEY]=this.gridInstanceId},MouseEventService.prototype.getRenderedCellForEvent=function(event){return getComponentForEvent(this.gridOptionsWrapper,event,\"cellComp\")},MouseEventService.prototype.isEventFromThisGrid=function(event){return this.isElementInThisGrid(event.target)},MouseEventService.prototype.isElementInThisGrid=function(element){for(var pointer=element;pointer;){var instanceId=pointer[MouseEventService_1.GRID_DOM_KEY];if(exists(instanceId))return instanceId===this.gridInstanceId;pointer=pointer.parentElement}return!1},MouseEventService.prototype.getCellPositionForEvent=function(event){var cellComp=this.getRenderedCellForEvent(event);return cellComp?cellComp.getCellPosition():null},MouseEventService.prototype.getNormalisedPosition=function(event){var x,y,gridPanelHasScrolls=this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_NORMAL;if(null!=event.clientX||null!=event.clientY?(x=event.clientX,y=event.clientY):(x=event.x,y=event.y),gridPanelHasScrolls){var gridBodyCon=this.controllersService.getGridBodyController(),vRange=gridBodyCon.getScrollFeature().getVScrollPosition();x+=gridBodyCon.getScrollFeature().getHScrollPosition().left,y+=vRange.top}return{x:x,y:y}},MouseEventService.gridInstanceSequence=new NumberSequence,MouseEventService.GRID_DOM_KEY=\"__ag_grid_instance\",__decorate$1k([Autowired(\"controllersService\")],MouseEventService.prototype,\"controllersService\",void 0),MouseEventService_1=__decorate$1k([Bean(\"mouseEventService\")],MouseEventService)}(BeanStub),__extends$1r=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1l=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},CellNavigationService=function(_super){function CellNavigationService(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$1r(CellNavigationService,_super),CellNavigationService.prototype.getNextCellToFocus=function(key,lastCellToFocus){for(var pointer=lastCellToFocus,finished=!1;!finished;){switch(key){case KeyCode.UP:pointer=this.getCellAbove(pointer);break;case KeyCode.DOWN:pointer=this.getCellBelow(pointer);break;case KeyCode.RIGHT:pointer=this.gridOptionsWrapper.isEnableRtl()?this.getCellToLeft(pointer):this.getCellToRight(pointer);break;case KeyCode.LEFT:pointer=this.gridOptionsWrapper.isEnableRtl()?this.getCellToRight(pointer):this.getCellToLeft(pointer);break;default:pointer=null,console.warn(\"AG Grid: unknown key for navigation \"+key)}finished=!pointer||this.isCellGoodToFocusOn(pointer)}return pointer},CellNavigationService.prototype.isCellGoodToFocusOn=function(gridCell){var rowNode,column=gridCell.column;switch(gridCell.rowPinned){case Constants.PINNED_TOP:rowNode=this.pinnedRowModel.getPinnedTopRow(gridCell.rowIndex);break;case Constants.PINNED_BOTTOM:rowNode=this.pinnedRowModel.getPinnedBottomRow(gridCell.rowIndex);break;default:rowNode=this.rowModel.getRow(gridCell.rowIndex)}return!!rowNode&&!column.isSuppressNavigable(rowNode)},CellNavigationService.prototype.getCellToLeft=function(lastCell){if(!lastCell)return null;var colToLeft=this.columnController.getDisplayedColBefore(lastCell.column);return colToLeft?{rowIndex:lastCell.rowIndex,column:colToLeft,rowPinned:lastCell.rowPinned}:null},CellNavigationService.prototype.getCellToRight=function(lastCell){if(!lastCell)return null;var colToRight=this.columnController.getDisplayedColAfter(lastCell.column);return colToRight?{rowIndex:lastCell.rowIndex,column:colToRight,rowPinned:lastCell.rowPinned}:null},CellNavigationService.prototype.getRowBelow=function(rowPosition){var index=rowPosition.rowIndex,pinned=rowPosition.rowPinned;if(this.isLastRowInContainer(rowPosition))switch(pinned){case Constants.PINNED_BOTTOM:return null;case Constants.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender(Constants.PINNED_BOTTOM)?{rowIndex:0,rowPinned:Constants.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(Constants.PINNED_BOTTOM)?{rowIndex:0,rowPinned:Constants.PINNED_BOTTOM}:null}return{rowIndex:index+1,rowPinned:pinned}},CellNavigationService.prototype.getCellBelow=function(lastCell){if(!lastCell)return null;var rowBelow=this.getRowBelow(lastCell);return rowBelow?{rowIndex:rowBelow.rowIndex,column:lastCell.column,rowPinned:rowBelow.rowPinned}:null},CellNavigationService.prototype.isLastRowInContainer=function(rowPosition){var pinned=rowPosition.rowPinned,index=rowPosition.rowIndex;return pinned===Constants.PINNED_TOP?this.pinnedRowModel.getPinnedTopRowData().length-1<=index:pinned===Constants.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRowData().length-1<=index:this.paginationProxy.getPageLastRow()<=index},CellNavigationService.prototype.getRowAbove=function(rowPosition){var index=rowPosition.rowIndex,pinned=rowPosition.rowPinned;return(pinned?0===index:index===this.paginationProxy.getPageFirstRow())?pinned===Constants.PINNED_TOP?null:pinned&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(Constants.PINNED_TOP)?this.getLastFloatingTopRow():null:{rowIndex:index-1,rowPinned:pinned}},CellNavigationService.prototype.getCellAbove=function(lastCell){if(!lastCell)return null;var rowAbove=this.getRowAbove({rowIndex:lastCell.rowIndex,rowPinned:lastCell.rowPinned});return rowAbove?{rowIndex:rowAbove.rowIndex,column:lastCell.column,rowPinned:rowAbove.rowPinned}:null},CellNavigationService.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},CellNavigationService.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:Constants.PINNED_TOP}},CellNavigationService.prototype.getNextTabbedCell=function(gridCell,backwards){return backwards?this.getNextTabbedCellBackwards(gridCell):this.getNextTabbedCellForwards(gridCell)},CellNavigationService.prototype.getNextTabbedCellForwards=function(gridCell){var displayedColumns=this.columnController.getAllDisplayedColumns(),newRowIndex=gridCell.rowIndex,newFloating=gridCell.rowPinned,newColumn=this.columnController.getDisplayedColAfter(gridCell.column);if(!newColumn){newColumn=displayedColumns[0];var rowBelow=this.getRowBelow(gridCell);if(missing(rowBelow))return null;if(!rowBelow.rowPinned&&!this.paginationProxy.isRowInPage(rowBelow))return null;newRowIndex=rowBelow?rowBelow.rowIndex:null,newFloating=rowBelow?rowBelow.rowPinned:null}return{rowIndex:newRowIndex,column:newColumn,rowPinned:newFloating}},CellNavigationService.prototype.getNextTabbedCellBackwards=function(gridCell){var displayedColumns=this.columnController.getAllDisplayedColumns(),newRowIndex=gridCell.rowIndex,newFloating=gridCell.rowPinned,newColumn=this.columnController.getDisplayedColBefore(gridCell.column);if(!newColumn){newColumn=last(displayedColumns);var rowAbove=this.getRowAbove({rowIndex:gridCell.rowIndex,rowPinned:gridCell.rowPinned});if(missing(rowAbove))return null;if(!rowAbove.rowPinned&&!this.paginationProxy.isRowInPage(rowAbove))return null;newRowIndex=rowAbove?rowAbove.rowIndex:null,newFloating=rowAbove?rowAbove.rowPinned:null}return{rowIndex:newRowIndex,column:newColumn,rowPinned:newFloating}},__decorate$1l([Autowired(\"columnController\")],CellNavigationService.prototype,\"columnController\",void 0),__decorate$1l([Autowired(\"rowModel\")],CellNavigationService.prototype,\"rowModel\",void 0),__decorate$1l([Autowired(\"pinnedRowModel\")],CellNavigationService.prototype,\"pinnedRowModel\",void 0),__decorate$1l([Autowired(\"paginationProxy\")],CellNavigationService.prototype,\"paginationProxy\",void 0),__decorate$1l([Bean(\"cellNavigationService\")],CellNavigationService)}(BeanStub),__extends$1s=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1m=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},ValueFormatterService=function(_super){function ValueFormatterService(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$1s(ValueFormatterService,_super),ValueFormatterService.prototype.formatValue=function(column,node,$scope,value,suppliedFormatter,useFormatterFromColumn){void 0===useFormatterFromColumn&&(useFormatterFromColumn=!0);var formatter,result=null,colDef=column.getColDef();if(suppliedFormatter?formatter=suppliedFormatter:useFormatterFromColumn&&(formatter=node&&node.rowPinned&&colDef.pinnedRowValueFormatter?colDef.pinnedRowValueFormatter:colDef.valueFormatter),formatter){var params={value:value,node:node,data:node?node.data:null,colDef:colDef,column:column,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};params.$scope=$scope,result=this.expressionService.evaluate(formatter,params)}else if(colDef.refData)return colDef.refData[value]||\"\";return null==result&&Array.isArray(value)&&(result=value.join(\", \")),result},__decorate$1m([Autowired(\"expressionService\")],ValueFormatterService.prototype,\"expressionService\",void 0),__decorate$1m([Bean(\"valueFormatterService\")],ValueFormatterService)}(BeanStub),__extends$1t=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),AgRadioButton=function(_super){function AgRadioButton(config){return _super.call(this,config,\"ag-radio-button\",\"radio\")||this}return __extends$1t(AgRadioButton,_super),AgRadioButton.prototype.isSelected=function(){return this.eInput.checked},AgRadioButton.prototype.toggle=function(){this.isSelected()||this.setValue(!0)},AgRadioButton.prototype.addInputListeners=function(){_super.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,Events.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},AgRadioButton.prototype.onChange=function(event){event.selected&&event.name&&this.eInput.name&&this.eInput.name===event.name&&event.id&&this.eInput.id!==event.id&&this.setValue(!1,!0)},AgRadioButton}(AgCheckbox),OUTSIDE_ANGULAR_EVENTS=[\"mouseover\",\"mouseout\",\"mouseenter\",\"mouseleave\"],VanillaFrameworkOverrides=function(){function VanillaFrameworkOverrides(){this.isOutsideAngular=function(eventType){return includes(OUTSIDE_ANGULAR_EVENTS,eventType)}}return VanillaFrameworkOverrides.prototype.setTimeout=function(action,timeout){window.setTimeout(action,timeout)},VanillaFrameworkOverrides.prototype.addEventListener=function(element,type,listener,useCapture){element.addEventListener(type,listener,useCapture)},VanillaFrameworkOverrides.prototype.dispatchEvent=function(eventType,listener){listener()},VanillaFrameworkOverrides}(),__extends$1u=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1n=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},ScrollVisibleService=function(_super){function ScrollVisibleService(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$1u(ScrollVisibleService,_super),ScrollVisibleService.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},ScrollVisibleService.prototype.onDisplayedColumnsChanged=function(){this.update()},ScrollVisibleService.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},ScrollVisibleService.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},ScrollVisibleService.prototype.updateImpl=function(){var params={horizontalScrollShowing:this.controllersService.getCenterRowContainerCon().isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(params)},ScrollVisibleService.prototype.setScrollsVisible=function(params){this.horizontalScrollShowing===params.horizontalScrollShowing&&this.verticalScrollShowing===params.verticalScrollShowing||(this.horizontalScrollShowing=params.horizontalScrollShowing,this.verticalScrollShowing=params.verticalScrollShowing,this.eventService.dispatchEvent({type:Events.EVENT_SCROLL_VISIBILITY_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},ScrollVisibleService.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},ScrollVisibleService.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},__decorate$1n([Autowired(\"columnApi\")],ScrollVisibleService.prototype,\"columnApi\",void 0),__decorate$1n([Autowired(\"gridApi\")],ScrollVisibleService.prototype,\"gridApi\",void 0),__decorate$1n([Autowired(\"controllersService\")],ScrollVisibleService.prototype,\"controllersService\",void 0),__decorate$1n([PostConstruct],ScrollVisibleService.prototype,\"postConstruct\",null),__decorate$1n([Bean(\"scrollVisibleService\")],ScrollVisibleService)}(BeanStub),__extends$1v=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1o=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},StylingService=function(_super){function StylingService(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$1v(StylingService,_super),StylingService.prototype.processAllCellClasses=function(colDef,params,onApplicableClass,onNotApplicableClass){this.processClassRules(colDef.cellClassRules,params,onApplicableClass,onNotApplicableClass),this.processStaticCellClasses(colDef,params,onApplicableClass)},StylingService.prototype.processClassRules=function(classRules,params,onApplicableClass,onNotApplicableClass){if(isNonNullObject(classRules))for(var classNames=Object.keys(classRules),i=0;i<classNames.length;i++){var className=classNames[i],rule=classRules[className],resultOfRule=void 0;\"string\"==typeof rule?resultOfRule=this.expressionService.evaluate(rule,params):\"function\"==typeof rule&&(resultOfRule=rule(params)),resultOfRule?onApplicableClass(className):onNotApplicableClass&&onNotApplicableClass(className)}},StylingService.prototype.processStaticCellClasses=function(colDef,params,onApplicableClass){if(colDef.cellClass){var classOrClasses=void 0;\"string\"==typeof(classOrClasses=\"function\"==typeof colDef.cellClass?(0,colDef.cellClass)(params):colDef.cellClass)?onApplicableClass(classOrClasses):Array.isArray(classOrClasses)&&classOrClasses.forEach((function(cssClassItem){onApplicableClass(cssClassItem)}))}},__decorate$1o([Autowired(\"expressionService\")],StylingService.prototype,\"expressionService\",void 0),__decorate$1o([Bean(\"stylingService\")],StylingService)}(BeanStub),__extends$1w=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1p=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},ColumnHoverService=function(_super){function ColumnHoverService(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$1w(ColumnHoverService,_super),ColumnHoverService.prototype.setMouseOver=function(columns){this.selectedColumns=columns,this.eventService.dispatchEvent({type:Events.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},ColumnHoverService.prototype.clearMouseOver=function(){this.selectedColumns=null,this.eventService.dispatchEvent({type:Events.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},ColumnHoverService.prototype.isHovered=function(column){return!!this.selectedColumns&&this.selectedColumns.indexOf(column)>=0},__decorate$1p([Autowired(\"columnApi\")],ColumnHoverService.prototype,\"columnApi\",void 0),__decorate$1p([Autowired(\"gridApi\")],ColumnHoverService.prototype,\"gridApi\",void 0),__decorate$1p([Bean(\"columnHoverService\")],ColumnHoverService)}(BeanStub),__extends$1x=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1q=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},ColumnAnimationService=function(_super){function ColumnAnimationService(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.executeNextFuncs=[],_this.executeLaterFuncs=[],_this.active=!1,_this.animationThreadCount=0,_this}return __extends$1x(ColumnAnimationService,_super),ColumnAnimationService.prototype.postConstruct=function(){var _this=this;this.controllersService.whenReady((function(p){return _this.gridBodyCon=p.gridBodyCon}))},ColumnAnimationService.prototype.isActive=function(){return this.active},ColumnAnimationService.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},ColumnAnimationService.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},ColumnAnimationService.prototype.executeNextVMTurn=function(func){this.active?this.executeNextFuncs.push(func):func()},ColumnAnimationService.prototype.executeLaterVMTurn=function(func){this.active?this.executeLaterFuncs.push(func):func()},ColumnAnimationService.prototype.ensureAnimationCssClassPresent=function(){var _this=this;this.animationThreadCount++;var animationThreadCountCopy=this.animationThreadCount;this.gridBodyCon.setColumnMovingCss(!0),this.executeLaterFuncs.push((function(){_this.animationThreadCount===animationThreadCountCopy&&_this.gridBodyCon.setColumnMovingCss(!1)}))},ColumnAnimationService.prototype.flush=function(){var nowFuncs=this.executeNextFuncs;this.executeNextFuncs=[];var waitFuncs=this.executeLaterFuncs;this.executeLaterFuncs=[],0===nowFuncs.length&&0===waitFuncs.length||(window.setTimeout((function(){return nowFuncs.forEach((function(func){return func()}))}),0),window.setTimeout((function(){return waitFuncs.forEach((function(func){return func()}))}),300))},__decorate$1q([Autowired(\"controllersService\")],ColumnAnimationService.prototype,\"controllersService\",void 0),__decorate$1q([PostConstruct],ColumnAnimationService.prototype,\"postConstruct\",null),__decorate$1q([Bean(\"columnAnimationService\")],ColumnAnimationService)}(BeanStub),__extends$1y=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1r=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},AutoGroupColService=function(_super){function AutoGroupColService(){return null!==_super&&_super.apply(this,arguments)||this}var AutoGroupColService_1;return __extends$1y(AutoGroupColService,_super),AutoGroupColService_1=AutoGroupColService,AutoGroupColService.prototype.createAutoGroupColumns=function(rowGroupColumns){var _this=this,groupAutoColumns=[],doingTreeData=this.gridOptionsWrapper.isTreeData(),doingMultiAutoColumn=this.gridOptionsWrapper.isGroupMultiAutoColumn();return doingTreeData&&doingMultiAutoColumn&&(console.warn(\"AG Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data\"),doingMultiAutoColumn=!1),doingMultiAutoColumn?rowGroupColumns.forEach((function(rowGroupCol,index){groupAutoColumns.push(_this.createOneAutoGroupColumn(rowGroupCol,index))})):groupAutoColumns.push(this.createOneAutoGroupColumn()),groupAutoColumns},AutoGroupColService.prototype.createOneAutoGroupColumn=function(rowGroupCol,index){var colId,defaultAutoColDef=this.generateDefaultColDef(rowGroupCol);colId=rowGroupCol?Constants.GROUP_AUTO_COLUMN_ID+\"-\"+rowGroupCol.getId():AutoGroupColService_1.GROUP_AUTO_COLUMN_BUNDLE_ID,mergeDeep(defaultAutoColDef,this.gridOptionsWrapper.getAutoGroupColumnDef()),(defaultAutoColDef=this.columnFactory.mergeColDefs(defaultAutoColDef)).colId=colId,this.gridOptionsWrapper.isTreeData()||missing(defaultAutoColDef.field)&&missing(defaultAutoColDef.valueGetter)&&missing(defaultAutoColDef.filterValueGetter)&&(defaultAutoColDef.filter=!1),index&&index>0&&(defaultAutoColDef.headerCheckboxSelection=!1);var newCol=new Column(defaultAutoColDef,null,colId,!0);return this.context.createBean(newCol),newCol},AutoGroupColService.prototype.generateDefaultColDef=function(rowGroupCol){var userDef=this.gridOptionsWrapper.getAutoGroupColumnDef(),res={headerName:this.gridOptionsWrapper.getLocaleTextFunc()(\"group\",\"Group\")};if(userDef&&(userDef.cellRenderer||userDef.cellRendererFramework||userDef.cellRendererSelector)||(res.cellRenderer=\"agGroupCellRenderer\"),rowGroupCol){var colDef=rowGroupCol.getColDef();assign(res,{headerName:this.columnController.getDisplayNameForColumn(rowGroupCol,\"header\"),headerValueGetter:colDef.headerValueGetter}),colDef.cellRenderer&&assign(res,{cellRendererParams:{innerRenderer:colDef.cellRenderer,innerRendererParams:colDef.cellRendererParams}}),res.showRowGroup=rowGroupCol.getColId()}else res.showRowGroup=!0;return res},AutoGroupColService.GROUP_AUTO_COLUMN_BUNDLE_ID=Constants.GROUP_AUTO_COLUMN_ID,__decorate$1r([Autowired(\"columnController\")],AutoGroupColService.prototype,\"columnController\",void 0),__decorate$1r([Autowired(\"columnFactory\")],AutoGroupColService.prototype,\"columnFactory\",void 0),AutoGroupColService_1=__decorate$1r([Bean(\"autoGroupColService\")],AutoGroupColService)}(BeanStub),__extends$1z=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1s=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},PaginationProxy=function(_super){function PaginationProxy(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.currentPage=0,_this.topDisplayedRowIndex=0,_this.bottomDisplayedRowIndex=0,_this.pixelOffset=0,_this.masterRowCount=0,_this}return __extends$1z(PaginationProxy,_super),PaginationProxy.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addManagedListener(this.eventService,Events.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(this.gridOptionsWrapper,\"paginationPageSize\",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},PaginationProxy.prototype.ensureRowHeightsValid=function(startPixel,endPixel,startLimitIndex,endLimitIndex){var res=this.rowModel.ensureRowHeightsValid(startPixel,endPixel,this.getPageFirstRow(),this.getPageLastRow());return res&&this.calculatePages(),res},PaginationProxy.prototype.onModelUpdated=function(modelUpdatedEvent){this.calculatePages(),this.eventService.dispatchEvent({type:Events.EVENT_PAGINATION_CHANGED,animate:!!modelUpdatedEvent&&modelUpdatedEvent.animate,newData:!!modelUpdatedEvent&&modelUpdatedEvent.newData,newPage:!!modelUpdatedEvent&&modelUpdatedEvent.newPage,keepRenderedRows:!!modelUpdatedEvent&&modelUpdatedEvent.keepRenderedRows,api:this.gridApi,columnApi:this.columnApi})},PaginationProxy.prototype.onPaginationPageSizeChanged=function(){this.calculatePages(),this.eventService.dispatchEvent({type:Events.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0,api:this.gridApi,columnApi:this.columnApi})},PaginationProxy.prototype.goToPage=function(page){this.active&&this.currentPage!==page&&(this.currentPage=page,this.onModelUpdated({type:Events.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,api:this.gridApi,columnApi:this.columnApi}))},PaginationProxy.prototype.getPixelOffset=function(){return this.pixelOffset},PaginationProxy.prototype.getRow=function(index){return this.rowModel.getRow(index)},PaginationProxy.prototype.getRowNode=function(id){return this.rowModel.getRowNode(id)},PaginationProxy.prototype.getRowIndexAtPixel=function(pixel){return this.rowModel.getRowIndexAtPixel(pixel)},PaginationProxy.prototype.getCurrentPageHeight=function(){return missing(this.topRowBounds)||missing(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},PaginationProxy.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},PaginationProxy.prototype.isRowPresent=function(rowNode){return!!this.rowModel.isRowPresent(rowNode)&&rowNode.rowIndex>=this.topDisplayedRowIndex&&rowNode.rowIndex<=this.bottomDisplayedRowIndex},PaginationProxy.prototype.isEmpty=function(){return this.rowModel.isEmpty()},PaginationProxy.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},PaginationProxy.prototype.getNodesInRangeForSelection=function(firstInRange,lastInRange){return this.rowModel.getNodesInRangeForSelection(firstInRange,lastInRange)},PaginationProxy.prototype.forEachNode=function(callback){return this.rowModel.forEachNode(callback)},PaginationProxy.prototype.getType=function(){return this.rowModel.getType()},PaginationProxy.prototype.getRowBounds=function(index){var res=this.rowModel.getRowBounds(index);return res.rowIndex=index,res},PaginationProxy.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},PaginationProxy.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},PaginationProxy.prototype.getRowCount=function(){return this.rowModel.getRowCount()},PaginationProxy.prototype.getPageForIndex=function(index){return Math.floor(index/this.pageSize)},PaginationProxy.prototype.goToPageWithIndex=function(index){if(this.active){var pageNumber=this.getPageForIndex(index);this.goToPage(pageNumber)}},PaginationProxy.prototype.isRowInPage=function(row){return!this.active||this.getPageForIndex(row.rowIndex)===this.currentPage},PaginationProxy.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},PaginationProxy.prototype.getCurrentPage=function(){return this.currentPage},PaginationProxy.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},PaginationProxy.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},PaginationProxy.prototype.goToFirstPage=function(){this.goToPage(0)},PaginationProxy.prototype.goToLastPage=function(){var rowCount=this.rowModel.getRowCount(),lastPage=Math.floor(rowCount/this.pageSize);this.goToPage(lastPage)},PaginationProxy.prototype.getPageSize=function(){return this.pageSize},PaginationProxy.prototype.getTotalPages=function(){return this.totalPages},PaginationProxy.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)},PaginationProxy.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(exists(this.topRowBounds)?this.topRowBounds.rowTop:0)},PaginationProxy.prototype.setPixelOffset=function(value){this.pixelOffset!==value&&(this.pixelOffset=value,this.eventService.dispatchEvent({type:Events.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},PaginationProxy.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},PaginationProxy.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var masterLastRowIndex=this.masterRowCount-1;this.totalPages=Math.floor(masterLastRowIndex/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isNumeric(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var masterPageEndIndex=this.pageSize*(this.currentPage+1)-1;if(masterPageEndIndex>masterLastRowIndex&&(masterPageEndIndex=masterLastRowIndex),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),masterPageEndIndex===masterLastRowIndex)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var firstIndexNotToShow=this.rowModel.getTopLevelRowDisplayedIndex(masterPageEndIndex+1);this.bottomDisplayedRowIndex=firstIndexNotToShow-1}}},PaginationProxy.prototype.getMasterRowCount=function(){return this.masterRowCount},PaginationProxy.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var maxRowIndex=this.masterRowCount-1;this.totalPages=Math.floor(maxRowIndex/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isNumeric(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>maxRowIndex&&(this.bottomDisplayedRowIndex=maxRowIndex)}else this.setZeroRows()},PaginationProxy.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},__decorate$1s([Autowired(\"rowModel\")],PaginationProxy.prototype,\"rowModel\",void 0),__decorate$1s([Autowired(\"columnApi\")],PaginationProxy.prototype,\"columnApi\",void 0),__decorate$1s([Autowired(\"gridApi\")],PaginationProxy.prototype,\"gridApi\",void 0),__decorate$1s([PostConstruct],PaginationProxy.prototype,\"postConstruct\",null),__decorate$1s([Bean(\"paginationProxy\")],PaginationProxy)}(BeanStub),__extends$1A=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1t=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},PaginationAutoPageSizeService=function(_super){function PaginationAutoPageSizeService(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$1A(PaginationAutoPageSizeService,_super),PaginationAutoPageSizeService.prototype.postConstruct=function(){var _this=this;this.controllersService.whenReady((function(p){_this.centerRowContainerCon=p.centerRowContainerCon,_this.addManagedListener(_this.eventService,Events.EVENT_BODY_HEIGHT_CHANGED,_this.onBodyHeightChanged.bind(_this)),_this.addManagedListener(_this.eventService,Events.EVENT_SCROLL_VISIBILITY_CHANGED,_this.onScrollVisibilityChanged.bind(_this)),_this.checkPageSize()}))},PaginationAutoPageSizeService.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},PaginationAutoPageSizeService.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},PaginationAutoPageSizeService.prototype.onBodyHeightChanged=function(){this.checkPageSize()},PaginationAutoPageSizeService.prototype.checkPageSize=function(){if(!this.notActive()){var rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),bodyHeight=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(bodyHeight>0){var newPageSize=Math.floor(bodyHeight/rowHeight);this.gridOptionsWrapper.setProperty(\"paginationPageSize\",newPageSize)}}},__decorate$1t([Autowired(\"controllersService\")],PaginationAutoPageSizeService.prototype,\"controllersService\",void 0),__decorate$1t([PostConstruct],PaginationAutoPageSizeService.prototype,\"postConstruct\",null),__decorate$1t([Bean(\"paginationAutoPageSizeService\")],PaginationAutoPageSizeService)}(BeanStub),__extends$1B=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1u=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},ValueCache=function(_super){function ValueCache(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.cacheVersion=0,_this}return __extends$1B(ValueCache,_super),ValueCache.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},ValueCache.prototype.onDataChanged=function(){this.neverExpires||this.expire()},ValueCache.prototype.expire=function(){this.cacheVersion++},ValueCache.prototype.setValue=function(rowNode,colId,value){this.active&&(rowNode.__cacheVersion!==this.cacheVersion&&(rowNode.__cacheVersion=this.cacheVersion,rowNode.__cacheData={}),rowNode.__cacheData[colId]=value)},ValueCache.prototype.getValue=function(rowNode,colId){if(this.active&&rowNode.__cacheVersion===this.cacheVersion)return rowNode.__cacheData[colId]},__decorate$1u([PostConstruct],ValueCache.prototype,\"init\",null),__decorate$1u([Bean(\"valueCache\")],ValueCache)}(BeanStub),__extends$1C=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1v=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},ChangeDetectionService=function(_super){function ChangeDetectionService(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$1C(ChangeDetectionService,_super),ChangeDetectionService.prototype.init=function(){this.rowModel.getType()===Constants.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,Events.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},ChangeDetectionService.prototype.onCellValueChanged=function(event){event.source!==Constants.SOURCE_PASTE&&this.doChangeDetection(event.node,event.column)},ChangeDetectionService.prototype.doChangeDetection=function(rowNode,column){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!rowNode.isRowPinned()){var onlyChangedColumns=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),changedPath=new ChangedPath(onlyChangedColumns,this.clientSideRowModel.getRootNode());changedPath.addParentNode(rowNode.parent,[column]),this.clientSideRowModel.doAggregate(changedPath)}this.rowRenderer.refreshCells()}},__decorate$1v([Autowired(\"rowModel\")],ChangeDetectionService.prototype,\"rowModel\",void 0),__decorate$1v([Autowired(\"rowRenderer\")],ChangeDetectionService.prototype,\"rowRenderer\",void 0),__decorate$1v([PostConstruct],ChangeDetectionService.prototype,\"init\",null),__decorate$1v([Bean(\"changeDetectionService\")],ChangeDetectionService)}(BeanStub),__extends$1D=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1w=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},AlignedGridsService=function(_super){function AlignedGridsService(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.consuming=!1,_this}return __extends$1D(AlignedGridsService,_super),AlignedGridsService.prototype.setBeans=function(loggerFactory){this.logger=loggerFactory.create(\"AlignedGridsService\")},AlignedGridsService.prototype.init=function(){this.addManagedListener(this.eventService,Events.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},AlignedGridsService.prototype.fireEvent=function(callback){if(!this.consuming){var otherGrids=this.gridOptionsWrapper.getAlignedGrids();otherGrids&&otherGrids.forEach((function(otherGridOptions){if(otherGridOptions.api){var alignedGridService=otherGridOptions.api.__getAlignedGridService();callback(alignedGridService)}}))}},AlignedGridsService.prototype.onEvent=function(callback){this.consuming=!0,callback(),this.consuming=!1},AlignedGridsService.prototype.fireColumnEvent=function(event){this.fireEvent((function(alignedGridsService){alignedGridsService.onColumnEvent(event)}))},AlignedGridsService.prototype.fireScrollEvent=function(event){\"horizontal\"===event.direction&&this.fireEvent((function(alignedGridsService){alignedGridsService.onScrollEvent(event)}))},AlignedGridsService.prototype.onScrollEvent=function(event){var _this=this;this.onEvent((function(){_this.controllersService.getGridBodyController().getScrollFeature().setHorizontalScrollPosition(event.left)}))},AlignedGridsService.prototype.getMasterColumns=function(event){var result=[];return event.columns?event.columns.forEach((function(column){result.push(column)})):event.column&&result.push(event.column),result},AlignedGridsService.prototype.getColumnIds=function(event){var result=[];return event.columns?event.columns.forEach((function(column){result.push(column.getColId())})):event.column&&result.push(event.column.getColId()),result},AlignedGridsService.prototype.onColumnEvent=function(event){var _this=this;this.onEvent((function(){switch(event.type){case Events.EVENT_COLUMN_MOVED:case Events.EVENT_COLUMN_VISIBLE:case Events.EVENT_COLUMN_PINNED:case Events.EVENT_COLUMN_RESIZED:_this.processColumnEvent(event);break;case Events.EVENT_COLUMN_GROUP_OPENED:_this.processGroupOpenedEvent(event);break;case Events.EVENT_COLUMN_PIVOT_CHANGED:console.warn(\"AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.\")}}))},AlignedGridsService.prototype.processGroupOpenedEvent=function(groupOpenedEvent){var masterColumnGroup=groupOpenedEvent.columnGroup,otherColumnGroup=null;if(masterColumnGroup){var groupId=masterColumnGroup.getGroupId();otherColumnGroup=this.columnController.getOriginalColumnGroup(groupId)}masterColumnGroup&&!otherColumnGroup||(this.logger.log(\"onColumnEvent-> processing \"+groupOpenedEvent+\" expanded = \"+masterColumnGroup.isExpanded()),this.columnController.setColumnGroupOpened(otherColumnGroup,masterColumnGroup.isExpanded(),\"alignedGridChanged\"))},AlignedGridsService.prototype.processColumnEvent=function(colEvent){var _this=this,masterColumn=colEvent.column,otherColumn=null;if(masterColumn&&(otherColumn=this.columnController.getPrimaryColumn(masterColumn.getColId())),!masterColumn||otherColumn){var masterColumns=this.getMasterColumns(colEvent);switch(colEvent.type){case Events.EVENT_COLUMN_MOVED:var movedEvent=colEvent,destColState=colEvent.columnApi.getColumnState().map((function(s){return{colId:s.colId}}));this.columnController.applyColumnState({state:destColState,applyOrder:!0},\"alignedGridChanged\"),this.logger.log(\"onColumnEvent-> processing \"+colEvent.type+\" toIndex = \"+movedEvent.toIndex);break;case Events.EVENT_COLUMN_VISIBLE:var visibleEvent=colEvent;destColState=colEvent.columnApi.getColumnState().map((function(s){return{colId:s.colId,hide:s.hide}})),this.columnController.applyColumnState({state:destColState},\"alignedGridChanged\"),this.logger.log(\"onColumnEvent-> processing \"+colEvent.type+\" visible = \"+visibleEvent.visible);break;case Events.EVENT_COLUMN_PINNED:var pinnedEvent=colEvent;destColState=colEvent.columnApi.getColumnState().map((function(s){return{colId:s.colId,pinned:s.pinned}})),this.columnController.applyColumnState({state:destColState},\"alignedGridChanged\"),this.logger.log(\"onColumnEvent-> processing \"+colEvent.type+\" pinned = \"+pinnedEvent.pinned);break;case Events.EVENT_COLUMN_RESIZED:var resizedEvent_1=colEvent;masterColumns.forEach((function(column){_this.logger.log(\"onColumnEvent-> processing \"+colEvent.type+\" actualWidth = \"+column.getActualWidth());var columnWidths=[{key:column.getColId(),newWidth:column.getActualWidth()}];_this.columnController.setColumnWidths(columnWidths,!1,resizedEvent_1.finished,\"alignedGridChanged\")}))}var isVerticalScrollShowing=this.controllersService.getGridBodyController().isVerticalScrollShowing(),alignedGrids=this.gridOptionsWrapper.getAlignedGrids();alignedGrids&&alignedGrids.forEach((function(grid){grid.api&&grid.api.setAlwaysShowVerticalScroll(isVerticalScrollShowing)}))}},__decorate$1w([Autowired(\"columnController\")],AlignedGridsService.prototype,\"columnController\",void 0),__decorate$1w([Autowired(\"controllersService\")],AlignedGridsService.prototype,\"controllersService\",void 0),__decorate$1w([(0,decorator=Qualifier(\"loggerFactory\"),function(target,key){decorator(target,key,0)})],AlignedGridsService.prototype,\"setBeans\",null),__decorate$1w([PostConstruct],AlignedGridsService.prototype,\"init\",null),__decorate$1w([Bean(\"alignedGridsService\")],AlignedGridsService);var decorator}(BeanStub),__extends$1E=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1x=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},AgComponentUtils=function(_super){function AgComponentUtils(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$1E(AgComponentUtils,_super),AgComponentUtils.prototype.adaptFunction=function(propertyName,hardcodedJsFunction,componentFromFramework,source){if(null==hardcodedJsFunction)return{component:null,componentFromFramework:componentFromFramework,source:source,paramsFromSelector:null};var metadata=this.componentMetadataProvider.retrieve(propertyName);return metadata&&metadata.functionAdapter?{componentFromFramework:componentFromFramework,component:metadata.functionAdapter(hardcodedJsFunction),source:source,paramsFromSelector:null}:null},AgComponentUtils.prototype.adaptCellRendererFunction=function(callback){return function(){function Adapter(){}return Adapter.prototype.refresh=function(params){return!1},Adapter.prototype.getGui=function(){var callbackResult=callback(this.params),type=typeof callbackResult;return\"string\"===type||\"number\"===type||\"boolean\"===type?loadTemplate(\"<span>\"+callbackResult+\"</span>\"):callbackResult},Adapter.prototype.init=function(params){this.params=params},Adapter}()},AgComponentUtils.prototype.doesImplementIComponent=function(candidate){return!!candidate&&candidate.prototype&&\"getGui\"in candidate.prototype},__decorate$1x([Autowired(\"componentMetadataProvider\")],AgComponentUtils.prototype,\"componentMetadataProvider\",void 0),__decorate$1x([Bean(\"agComponentUtils\")],AgComponentUtils)}(BeanStub),__extends$1F=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1y=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},ComponentMetadataProvider=function(_super){function ComponentMetadataProvider(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$1F(ComponentMetadataProvider,_super),ComponentMetadataProvider.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:[\"getDate\",\"setDate\"],optionalMethodList:[\"afterGuiAttached\",\"setInputPlaceholder\",\"setInputAriaLabel\"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:[\"refresh\"]},headerComponent:{mandatoryMethodList:[],optionalMethodList:[\"refresh\"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:[\"onParentModelChanged\"],optionalMethodList:[\"afterGuiAttached\"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:[\"refresh\",\"afterGuiAttached\"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:[\"getValue\"],optionalMethodList:[\"isPopup\",\"isCancelBeforeStart\",\"isCancelAfterEnd\",\"getPopupPosition\",\"focusIn\",\"focusOut\",\"afterGuiAttached\"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:[\"afterGuiAttached\"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:[\"refresh\",\"afterGuiAttached\"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:[\"refresh\",\"afterGuiAttached\"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:[\"afterGuiAttached\"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:[\"isFilterActive\",\"doesFilterPass\",\"getModel\",\"setModel\"],optionalMethodList:[\"afterGuiAttached\",\"onNewRowsLoaded\",\"getModelAsString\",\"onFloatingFilterChanged\"]},filterComponent:{mandatoryMethodList:[\"isFilterActive\",\"doesFilterPass\",\"getModel\",\"setModel\"],optionalMethodList:[\"afterGuiAttached\",\"onNewRowsLoaded\",\"getModelAsString\",\"onFloatingFilterChanged\"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:[\"afterGuiAttached\"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:[\"refresh\",\"afterGuiAttached\"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},ComponentMetadataProvider.prototype.retrieve=function(name){return this.componentMetaData[name]},__decorate$1y([Autowired(\"agComponentUtils\")],ComponentMetadataProvider.prototype,\"agComponentUtils\",void 0),__decorate$1y([PostConstruct],ComponentMetadataProvider.prototype,\"postConstruct\",null),__decorate$1y([Bean(\"componentMetadataProvider\")],ComponentMetadataProvider)}(BeanStub),__decorate$1z=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},Beans=function(){function Beans(){}return Beans.prototype.registerGridComp=function(gridBodyComp){this.gridBodyComp=gridBodyComp},Beans.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.gridOptionsWrapper.isRowModelServerSide()&&(this.serverSideRowModel=this.rowModel)},__decorate$1z([Autowired(\"resizeObserverService\")],Beans.prototype,\"resizeObserverService\",void 0),__decorate$1z([Autowired(\"paginationProxy\")],Beans.prototype,\"paginationProxy\",void 0),__decorate$1z([Autowired(\"context\")],Beans.prototype,\"context\",void 0),__decorate$1z([Autowired(\"columnApi\")],Beans.prototype,\"columnApi\",void 0),__decorate$1z([Autowired(\"gridApi\")],Beans.prototype,\"gridApi\",void 0),__decorate$1z([Autowired(\"gridOptionsWrapper\")],Beans.prototype,\"gridOptionsWrapper\",void 0),__decorate$1z([Autowired(\"expressionService\")],Beans.prototype,\"expressionService\",void 0),__decorate$1z([Autowired(\"rowRenderer\")],Beans.prototype,\"rowRenderer\",void 0),__decorate$1z([Autowired(\"$compile\")],Beans.prototype,\"$compile\",void 0),__decorate$1z([Autowired(\"templateService\")],Beans.prototype,\"templateService\",void 0),__decorate$1z([Autowired(\"valueService\")],Beans.prototype,\"valueService\",void 0),__decorate$1z([Autowired(\"eventService\")],Beans.prototype,\"eventService\",void 0),__decorate$1z([Autowired(\"columnController\")],Beans.prototype,\"columnController\",void 0),__decorate$1z([Autowired(\"headerNavigationService\")],Beans.prototype,\"headerNavigationService\",void 0),__decorate$1z([Autowired(\"columnAnimationService\")],Beans.prototype,\"columnAnimationService\",void 0),__decorate$1z([Optional(\"rangeController\")],Beans.prototype,\"rangeController\",void 0),__decorate$1z([Autowired(\"focusController\")],Beans.prototype,\"focusController\",void 0),__decorate$1z([Optional(\"contextMenuFactory\")],Beans.prototype,\"contextMenuFactory\",void 0),__decorate$1z([Autowired(\"popupService\")],Beans.prototype,\"popupService\",void 0),__decorate$1z([Autowired(\"valueFormatterService\")],Beans.prototype,\"valueFormatterService\",void 0),__decorate$1z([Autowired(\"stylingService\")],Beans.prototype,\"stylingService\",void 0),__decorate$1z([Autowired(\"columnHoverService\")],Beans.prototype,\"columnHoverService\",void 0),__decorate$1z([Autowired(\"userComponentFactory\")],Beans.prototype,\"userComponentFactory\",void 0),__decorate$1z([Autowired(\"animationFrameService\")],Beans.prototype,\"taskQueue\",void 0),__decorate$1z([Autowired(\"dragAndDropService\")],Beans.prototype,\"dragAndDropService\",void 0),__decorate$1z([Autowired(\"sortController\")],Beans.prototype,\"sortController\",void 0),__decorate$1z([Autowired(\"filterManager\")],Beans.prototype,\"filterManager\",void 0),__decorate$1z([Autowired(\"rowContainerHeightService\")],Beans.prototype,\"rowContainerHeightService\",void 0),__decorate$1z([Autowired(\"frameworkOverrides\")],Beans.prototype,\"frameworkOverrides\",void 0),__decorate$1z([Autowired(\"detailRowCompCache\")],Beans.prototype,\"detailRowCompCache\",void 0),__decorate$1z([Autowired(\"cellPositionUtils\")],Beans.prototype,\"cellPositionUtils\",void 0),__decorate$1z([Autowired(\"rowPositionUtils\")],Beans.prototype,\"rowPositionUtils\",void 0),__decorate$1z([Autowired(\"selectionController\")],Beans.prototype,\"selectionController\",void 0),__decorate$1z([Optional(\"selectionHandleFactory\")],Beans.prototype,\"selectionHandleFactory\",void 0),__decorate$1z([Autowired(\"rowCssClassCalculator\")],Beans.prototype,\"rowCssClassCalculator\",void 0),__decorate$1z([Autowired(\"rowModel\")],Beans.prototype,\"rowModel\",void 0),__decorate$1z([Autowired(\"controllersService\")],Beans.prototype,\"controllersService\",void 0),__decorate$1z([PostConstruct],Beans.prototype,\"postConstruct\",null),__decorate$1z([Bean(\"beans\")],Beans)}(),__extends$1G=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1A=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},HARD_CODED_SIZES={\"ag-theme-custom\":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},\"ag-theme-material\":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},\"ag-theme-balham\":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},\"ag-theme-alpine\":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},SASS_PROPERTY_BUILDER={headerHeight:[\"ag-header-row\"],headerCellMinWidth:[\"ag-header-cell\"],listItemHeight:[\"ag-virtual-list-item\"],rowHeight:[\"ag-row\"],chartMenuPanelWidth:[\"ag-chart-docked-container\"]},CALCULATED_SIZES={},Environment=function(_super){function Environment(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$1G(Environment,_super),Environment.prototype.getSassVariable=function(theme,key){var useTheme=\"ag-theme-\"+(theme.match(\"material\")?\"material\":theme.match(\"balham\")?\"balham\":theme.match(\"alpine\")?\"alpine\":\"custom\"),defaultValue=HARD_CODED_SIZES[useTheme][key],calculatedValue=0;CALCULATED_SIZES[theme]||(CALCULATED_SIZES[theme]={});var size=CALCULATED_SIZES[theme][key];if(null!=size)return size;if(SASS_PROPERTY_BUILDER[key]){var classList=SASS_PROPERTY_BUILDER[key],div=document.createElement(\"div\");addCssClass(div,theme),div.style.position=\"absolute\";var el=classList.reduce((function(prevEl,currentClass){var currentDiv=document.createElement(\"div\");return currentDiv.style.position=\"static\",addCssClass(currentDiv,currentClass),prevEl.appendChild(currentDiv),currentDiv}),div);if(document.body){document.body.appendChild(div);var sizeName=-1!==key.toLowerCase().indexOf(\"height\")?\"height\":\"width\";calculatedValue=parseInt(window.getComputedStyle(el)[sizeName],10),document.body.removeChild(div)}}return CALCULATED_SIZES[theme][key]=calculatedValue||defaultValue,CALCULATED_SIZES[theme][key]},Environment.prototype.isThemeDark=function(){var theme=this.getTheme().theme;return!!theme&&theme.indexOf(\"dark\")>=0},Environment.prototype.chartMenuPanelWidth=function(){var theme=this.getTheme().themeFamily;return this.getSassVariable(theme,\"chartMenuPanelWidth\")},Environment.prototype.getTheme=function(){for(var reg=/\\bag-(material|(?:theme-([\\w\\-]*)))\\b/,el=this.eGridDiv,themeMatch=null;el&&!(themeMatch=reg.exec(el.className));)el=el.parentElement||void 0;if(!themeMatch)return{};var theme=themeMatch[0];if(void 0===themeMatch[2]){var newTheme_1=theme.replace(\"ag-\",\"ag-theme-\");doOnce((function(){return console.warn(\"AG Grid: As of v19 old theme are no longer provided. Please replace \"+theme+\" with \"+newTheme_1+\".\")}),\"using-old-theme\")}return{theme:theme,el:el,themeFamily:theme.replace(/-dark$/,\"\")}},__decorate$1A([Autowired(\"eGridDiv\")],Environment.prototype,\"eGridDiv\",void 0),__decorate$1A([Bean(\"environment\")],Environment)}(BeanStub),__extends$1H=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1B=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},AnimationFrameService=function(_super){function AnimationFrameService(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.createTasksP1={list:[],sorted:!1},_this.createTasksP2={list:[],sorted:!1},_this.destroyTasks=[],_this.ticking=!1,_this.scrollGoingDown=!0,_this.lastScrollTop=0,_this.taskCount=0,_this.cancelledTasks=new Set,_this}return __extends$1H(AnimationFrameService,_super),AnimationFrameService.prototype.setScrollTop=function(scrollTop){this.scrollGoingDown=scrollTop>this.lastScrollTop,this.lastScrollTop=scrollTop},AnimationFrameService.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},AnimationFrameService.prototype.verifyAnimationFrameOn=function(methodName){!1===this.useAnimationFrame&&console.warn(\"AG Grid: AnimationFrameService.\"+methodName+\" called but animation frames are off\")},AnimationFrameService.prototype.createTask=function(task,index,list){this.verifyAnimationFrameOn(list);var taskItem={task:task,index:index,createOrder:++this.taskCount};this.addTaskToList(this[list],taskItem),this.schedule()},AnimationFrameService.prototype.cancelTask=function(task){this.cancelledTasks.add(task)},AnimationFrameService.prototype.addTaskToList=function(taskList,task){taskList.list.push(task),taskList.sorted=!1},AnimationFrameService.prototype.sortTaskList=function(taskList){if(!taskList.sorted){var sortDirection=this.scrollGoingDown?1:-1;taskList.list.sort((function(a,b){return a.index!==b.index?sortDirection*(b.index-a.index):b.createOrder-a.createOrder})),taskList.sorted=!0}},AnimationFrameService.prototype.addDestroyTask=function(task){this.verifyAnimationFrameOn(\"createTasksP3\"),this.destroyTasks.push(task),this.schedule()},AnimationFrameService.prototype.executeFrame=function(millis){this.verifyAnimationFrameOn(\"executeFrame\");for(var p1TaskList=this.createTasksP1,p1Tasks=p1TaskList.list,p2TaskList=this.createTasksP2,p2Tasks=p2TaskList.list,destroyTasks=this.destroyTasks,frameStart=(new Date).getTime(),duration=(new Date).getTime()-frameStart,noMaxMillis=millis<=0,gridBodyCon=this.controllersService.getGridBodyController();noMaxMillis||duration<millis;){if(!gridBodyCon.getScrollFeature().executeAnimationFrameScroll()){var task=void 0;if(p1Tasks.length)this.sortTaskList(p1TaskList),task=p1Tasks.pop().task;else if(p2Tasks.length)this.sortTaskList(p2TaskList),task=p2Tasks.pop().task;else{if(!destroyTasks.length){this.cancelledTasks.clear();break}task=destroyTasks.pop()}this.cancelledTasks.has(task)||task()}duration=(new Date).getTime()-frameStart}p1Tasks.length||p2Tasks.length||destroyTasks.length?this.requestFrame():this.stopTicking()},AnimationFrameService.prototype.stopTicking=function(){this.ticking=!1;var event={type:Events.EVENT_ANIMATION_QUEUE_EMPTY,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};this.eventService.dispatchEvent(event)},AnimationFrameService.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},AnimationFrameService.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},AnimationFrameService.prototype.requestFrame=function(){var callback=this.executeFrame.bind(this,60);window.requestAnimationFrame?window.requestAnimationFrame(callback):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(callback):window.setTimeout(callback,0)},AnimationFrameService.prototype.isQueueEmpty=function(){return!this.ticking},__decorate$1B([Autowired(\"controllersService\")],AnimationFrameService.prototype,\"controllersService\",void 0),__decorate$1B([PostConstruct],AnimationFrameService.prototype,\"init\",null),__decorate$1B([Bean(\"animationFrameService\")],AnimationFrameService)}(BeanStub),__extends$1I=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1C=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},NavigationService=function(_super){function NavigationService(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.timeLastPageEventProcessed=0,_this}return __extends$1I(NavigationService,_super),NavigationService.prototype.postConstruct=function(){var _this=this;this.controllersService.whenReady((function(p){_this.gridBodyCon=p.gridBodyCon}))},NavigationService.prototype.handlePageScrollingKey=function(event){var key=event.which||event.keyCode,alt=event.altKey,ctrl=event.ctrlKey||event.metaKey,currentCell=this.mouseEventService.getCellPositionForEvent(event);if(!currentCell)return!1;var processed=!1;switch(key){case KeyCode.PAGE_HOME:case KeyCode.PAGE_END:ctrl||alt||(this.onHomeOrEndKey(key),processed=!0);break;case KeyCode.LEFT:case KeyCode.RIGHT:ctrl&&!alt&&(this.onCtrlLeftOrRight(key,currentCell),processed=!0);break;case KeyCode.UP:case KeyCode.DOWN:ctrl&&!alt&&(this.onCtrlUpOrDown(key,currentCell),processed=!0);break;case KeyCode.PAGE_DOWN:ctrl||alt||(this.onPageDown(currentCell),processed=!0);break;case KeyCode.PAGE_UP:ctrl||alt||(this.onPageUp(currentCell),processed=!0)}return processed&&event.preventDefault(),processed},NavigationService.prototype.isTimeSinceLastPageEventToRecent=function(){return(new Date).getTime()-this.timeLastPageEventProcessed<100},NavigationService.prototype.setTimeLastPageEventProcessed=function(){this.timeLastPageEventProcessed=(new Date).getTime()},NavigationService.prototype.navigateTo=function(navigateParams){var scrollIndex=navigateParams.scrollIndex,scrollType=navigateParams.scrollType,scrollColumn=navigateParams.scrollColumn,focusIndex=navigateParams.focusIndex,focusColumn=navigateParams.focusColumn;exists(scrollColumn)&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(scrollColumn),exists(scrollIndex)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(scrollIndex,scrollType),this.animationFrameService.flushAllFrames(),this.focusController.setFocusedCell(focusIndex,focusColumn,null,!0),this.rangeController&&this.rangeController.setRangeToCell({rowIndex:focusIndex,rowPinned:null,column:focusColumn})},NavigationService.prototype.onPageDown=function(gridCell){if(!this.isTimeSinceLastPageEventToRecent()){var scrollPosition=this.controllersService.getGridBodyController().getScrollFeature().getVScrollPosition(),scrollbarWidth=this.gridOptionsWrapper.getScrollbarWidth(),pixelsInOnePage=scrollPosition.bottom-scrollPosition.top;this.controllersService.getCenterRowContainerCon().isHorizontalScrollShowing()&&(pixelsInOnePage-=scrollbarWidth);var pagingPixelOffset=this.paginationProxy.getPixelOffset(),scrollIndex=this.paginationProxy.getRowIndexAtPixel(scrollPosition.top+pixelsInOnePage+pagingPixelOffset),currentCellPixel=this.paginationProxy.getRow(gridCell.rowIndex).rowTop,focusIndex=this.paginationProxy.getRowIndexAtPixel(currentCellPixel+pixelsInOnePage-pagingPixelOffset+pagingPixelOffset),pageLastRow=this.paginationProxy.getPageLastRow();focusIndex>pageLastRow&&(focusIndex=pageLastRow),scrollIndex>pageLastRow&&(scrollIndex=pageLastRow),this.navigateTo({scrollIndex:scrollIndex,scrollType:\"top\",scrollColumn:null,focusIndex:focusIndex,focusColumn:gridCell.column}),this.setTimeLastPageEventProcessed()}},NavigationService.prototype.onPageUp=function(gridCell){if(!this.isTimeSinceLastPageEventToRecent()){var scrollPosition=this.controllersService.getGridBodyController().getScrollFeature().getVScrollPosition(),scrollbarWidth=this.gridOptionsWrapper.getScrollbarWidth(),pixelsInOnePage=scrollPosition.bottom-scrollPosition.top;this.controllersService.getCenterRowContainerCon().isHorizontalScrollShowing()&&(pixelsInOnePage-=scrollbarWidth);var pagingPixelOffset=this.paginationProxy.getPixelOffset(),scrollIndex=this.paginationProxy.getRowIndexAtPixel(scrollPosition.top+pagingPixelOffset),currentRowNode=this.paginationProxy.getRow(gridCell.rowIndex),focusIndex=this.paginationProxy.getRowIndexAtPixel(currentRowNode.rowTop+currentRowNode.rowHeight-pixelsInOnePage-pagingPixelOffset+pagingPixelOffset),firstRow=this.paginationProxy.getPageFirstRow();focusIndex<firstRow&&(focusIndex=firstRow),scrollIndex<firstRow&&(scrollIndex=firstRow),this.navigateTo({scrollIndex:scrollIndex,scrollType:\"bottom\",scrollColumn:null,focusIndex:focusIndex,focusColumn:gridCell.column}),this.setTimeLastPageEventProcessed()}},NavigationService.prototype.getIndexToFocus=function(indexToScrollTo,isDown){var indexToFocus=indexToScrollTo;if(isDown){var node=this.paginationProxy.getRow(indexToScrollTo);node&&node.stub&&(indexToFocus-=1)}return indexToFocus},NavigationService.prototype.onCtrlUpOrDown=function(key,gridCell){var upKey=key===KeyCode.UP,rowIndexToScrollTo=upKey?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:rowIndexToScrollTo,scrollType:null,scrollColumn:gridCell.column,focusIndex:this.getIndexToFocus(rowIndexToScrollTo,!upKey),focusColumn:gridCell.column})},NavigationService.prototype.onCtrlLeftOrRight=function(key,gridCell){var leftKey=key===KeyCode.LEFT,allColumns=this.columnController.getAllDisplayedColumns(),columnToSelect=leftKey?allColumns[0]:last(allColumns);this.navigateTo({scrollIndex:gridCell.rowIndex,scrollType:null,scrollColumn:columnToSelect,focusIndex:gridCell.rowIndex,focusColumn:columnToSelect})},NavigationService.prototype.onHomeOrEndKey=function(key){var homeKey=key===KeyCode.PAGE_HOME,allColumns=this.columnController.getAllDisplayedColumns(),columnToSelect=homeKey?allColumns[0]:last(allColumns),scrollIndex=homeKey?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:scrollIndex,scrollType:null,scrollColumn:columnToSelect,focusIndex:this.getIndexToFocus(scrollIndex,!homeKey),focusColumn:columnToSelect})},__decorate$1C([Autowired(\"mouseEventService\")],NavigationService.prototype,\"mouseEventService\",void 0),__decorate$1C([Autowired(\"paginationProxy\")],NavigationService.prototype,\"paginationProxy\",void 0),__decorate$1C([Autowired(\"focusController\")],NavigationService.prototype,\"focusController\",void 0),__decorate$1C([Autowired(\"animationFrameService\")],NavigationService.prototype,\"animationFrameService\",void 0),__decorate$1C([Optional(\"rangeController\")],NavigationService.prototype,\"rangeController\",void 0),__decorate$1C([Autowired(\"columnController\")],NavigationService.prototype,\"columnController\",void 0),__decorate$1C([Autowired(\"controllersService\")],NavigationService.prototype,\"controllersService\",void 0),__decorate$1C([PostConstruct],NavigationService.prototype,\"postConstruct\",null),__decorate$1C([Bean(\"navigationService\")],NavigationService)}(BeanStub),__extends$1J=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1D=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},RowContainerHeightService=function(_super){function RowContainerHeightService(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.scrollY=0,_this.uiBodyHeight=0,_this}return __extends$1J(RowContainerHeightService,_super),RowContainerHeightService.prototype.agWire=function(loggerFactory){this.logger=loggerFactory.create(\"RowContainerHeightService\")},RowContainerHeightService.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Events.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=getMaxDivHeight(),this.logger.log(\"maxDivHeight = \"+this.maxDivHeight)},RowContainerHeightService.prototype.isStretching=function(){return this.stretching},RowContainerHeightService.prototype.getDivStretchOffset=function(){return this.divStretchOffset},RowContainerHeightService.prototype.updateOffset=function(){if(this.stretching){var newScrollY=this.controllersService.getGridBodyController().getScrollFeature().getVScrollPosition().top,newBodyHeight=this.getUiBodyHeight();(newScrollY!==this.scrollY||newBodyHeight!==this.uiBodyHeight)&&(this.scrollY=newScrollY,this.uiBodyHeight=newBodyHeight,this.calculateOffset())}},RowContainerHeightService.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var scrollPercent=this.scrollY/this.maxScrollY,divStretchOffset=scrollPercent*this.pixelsToShave;this.logger.log(\"Div Stretch Offset = \"+divStretchOffset+\" (\"+this.pixelsToShave+\" * \"+scrollPercent+\")\"),this.setDivStretchOffset(divStretchOffset)},RowContainerHeightService.prototype.setUiContainerHeight=function(height){height!==this.uiContainerHeight&&(this.uiContainerHeight=height,this.eventService.dispatchEvent({type:Events.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},RowContainerHeightService.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},RowContainerHeightService.prototype.setDivStretchOffset=function(newOffset){var newOffsetFloor=\"number\"==typeof newOffset?Math.floor(newOffset):null;this.divStretchOffset!==newOffsetFloor&&(this.divStretchOffset=newOffsetFloor,this.eventService.dispatchEvent({type:Events.EVENT_HEIGHT_SCALE_CHANGED}))},RowContainerHeightService.prototype.setModelHeight=function(modelHeight){this.modelHeight=modelHeight,this.stretching=null!=modelHeight&&this.maxDivHeight>0&&modelHeight>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},RowContainerHeightService.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},RowContainerHeightService.prototype.getRealPixelPosition=function(modelPixel){return modelPixel-this.divStretchOffset},RowContainerHeightService.prototype.getUiBodyHeight=function(){var pos=this.controllersService.getGridBodyController().getScrollFeature().getVScrollPosition();return pos.bottom-pos.top},RowContainerHeightService.prototype.getScrollPositionForPixel=function(rowTop){if(this.pixelsToShave<=0)return rowTop;var modelMaxScroll=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(rowTop/modelMaxScroll)},__decorate$1D([Autowired(\"controllersService\")],RowContainerHeightService.prototype,\"controllersService\",void 0),__decorate$1D([(0,decorator=Qualifier(\"loggerFactory\"),function(target,key){decorator(target,key,0)})],RowContainerHeightService.prototype,\"agWire\",null),__decorate$1D([PostConstruct],RowContainerHeightService.prototype,\"postConstruct\",null),__decorate$1D([Bean(\"rowContainerHeightService\")],RowContainerHeightService);var decorator}(BeanStub),__extends$1K=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1E=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},SelectableService=function(_super){function SelectableService(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$1K(SelectableService,_super),SelectableService.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},SelectableService.prototype.updateSelectableAfterGrouping=function(rowNode){this.isRowSelectableFunc&&this.recurseDown(rowNode.childrenAfterGroup,(function(node){return node.childrenAfterGroup}))},SelectableService.prototype.updateSelectableAfterFiltering=function(rowNode){this.isRowSelectableFunc&&this.recurseDown(rowNode.childrenAfterGroup,(function(node){return node.childrenAfterFilter}))},SelectableService.prototype.recurseDown=function(children,nextChildrenFunc){var _this=this;children&&children.forEach((function(child){var rowSelectable;child.group&&(child.hasChildren()&&_this.recurseDown(nextChildrenFunc(child),nextChildrenFunc),rowSelectable=_this.groupSelectsChildren?exists(find(nextChildrenFunc(child),\"selectable\",!0)):!!_this.isRowSelectableFunc&&_this.isRowSelectableFunc(child),child.setRowSelectable(rowSelectable))}))},__decorate$1E([PostConstruct],SelectableService.prototype,\"init\",null),__decorate$1E([Bean(\"selectableService\")],SelectableService)}(BeanStub),__extends$1L=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1F=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},AutoHeightCalculator=function(_super){function AutoHeightCalculator(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$1L(AutoHeightCalculator,_super),AutoHeightCalculator.prototype.postConstruct=function(){var _this=this;this.controllersService.whenReady((function(p){_this.centerRowContainerCon=p.centerRowContainerCon}))},AutoHeightCalculator.prototype.getPreferredHeightForRow=function(rowNode){var _this=this,eDummyContainer=document.createElement(\"div\");this.addInRowCssClasses(rowNode,eDummyContainer);var eBodyContainer=this.centerRowContainerCon.getContainerElement();eBodyContainer.appendChild(eDummyContainer);var scopeResult=AngularRowUtils.createChildScopeOrNull(rowNode,this.$scope,this.beans.gridOptionsWrapper),scope=scopeResult?scopeResult.scope:void 0,scopeDestroyFunc=scopeResult?scopeResult.scopeDestroyFunc:void 0,cellComps=[],autoRowHeightCols=this.columnController.getAllAutoRowHeightCols(),displayedCols=this.columnController.getAllDisplayedColumns();autoRowHeightCols.filter((function(col){return displayedCols.indexOf(col)>=0})).forEach((function(col){var cellComp=new CellComp(scope,_this.beans,col,rowNode,null,!0,!1,eDummyContainer,!1);cellComps.push(cellComp)})),cellComps.forEach((function(cellComp){return eDummyContainer.appendChild(cellComp.getGui())})),scope&&this.$compile(eDummyContainer)(scope);for(var maxCellHeight=0,i=0;i<eDummyContainer.children.length;i++){var child=eDummyContainer.children[i];child.offsetHeight>maxCellHeight&&(maxCellHeight=child.offsetHeight)}return eBodyContainer.removeChild(eDummyContainer),cellComps.forEach((function(cellComp){cellComp.detach(),cellComp.destroy()})),scopeDestroyFunc&&scopeDestroyFunc(),maxCellHeight},AutoHeightCalculator.prototype.addInRowCssClasses=function(rowNode,eDummyContainer){var rowIndex=rowNode.rowIndex,params={rowNode:rowNode,rowIsEven:rowIndex%2==0,rowLevel:this.rowCssClassCalculator.calculateRowLevel(rowNode),firstRowOnPage:rowIndex===this.beans.paginationProxy.getPageFirstRow(),lastRowOnPage:rowIndex===this.beans.paginationProxy.getPageLastRow(),printLayout:!1,expandable:rowNode.isExpandable()};addCssClass(eDummyContainer,this.rowCssClassCalculator.getInitialRowClasses(params).join(\" \"))},__decorate$1F([Autowired(\"beans\")],AutoHeightCalculator.prototype,\"beans\",void 0),__decorate$1F([Autowired(\"$scope\")],AutoHeightCalculator.prototype,\"$scope\",void 0),__decorate$1F([Autowired(\"columnController\")],AutoHeightCalculator.prototype,\"columnController\",void 0),__decorate$1F([Autowired(\"rowCssClassCalculator\")],AutoHeightCalculator.prototype,\"rowCssClassCalculator\",void 0),__decorate$1F([Autowired(\"$compile\")],AutoHeightCalculator.prototype,\"$compile\",void 0),__decorate$1F([Autowired(\"controllersService\")],AutoHeightCalculator.prototype,\"controllersService\",void 0),__decorate$1F([PostConstruct],AutoHeightCalculator.prototype,\"postConstruct\",null),__decorate$1F([Bean(\"autoHeightCalculator\")],AutoHeightCalculator)}(BeanStub),__extends$1M=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1G=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},PaginationComp=function(_super){function PaginationComp(){var _this=_super.call(this)||this;return _this.previousAndFirstButtonsDisabled=!1,_this.nextButtonDisabled=!1,_this.lastButtonDisabled=!1,_this}return __extends$1M(PaginationComp,_super),PaginationComp.prototype.postConstruct=function(){var _this=this,isRtl=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement(\"afterbegin\",createIconNoSpan(isRtl?\"last\":\"first\",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement(\"afterbegin\",createIconNoSpan(isRtl?\"next\":\"previous\",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement(\"afterbegin\",createIconNoSpan(isRtl?\"previous\":\"next\",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement(\"afterbegin\",createIconNoSpan(isRtl?\"first\":\"last\",this.gridOptionsWrapper)),this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()?(this.addManagedListener(this.eventService,Events.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach((function(item){var el=item.el,fn=item.fn;_this.addManagedListener(el,\"click\",fn),_this.addManagedListener(el,\"keydown\",(function(e){e.keyCode!==KeyCode.ENTER&&e.keyCode!==KeyCode.SPACE||(e.preventDefault(),fn())}))})),this.onPaginationChanged()):this.setDisplayed(!1)},PaginationComp.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},PaginationComp.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},PaginationComp.prototype.setCurrentPageLabel=function(){var pagesExist=this.paginationProxy.getTotalPages()>0,currentPage=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(pagesExist?currentPage+1:0)},PaginationComp.prototype.formatNumber=function(value){var userFunc=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();return userFunc?userFunc({value:value}):formatNumberCommas(value)},PaginationComp.prototype.getTemplate=function(){var localeTextFunc=this.gridOptionsWrapper.getLocaleTextFunc(),strPage=localeTextFunc(\"page\",\"Page\"),strTo=localeTextFunc(\"to\",\"to\"),strOf=localeTextFunc(\"of\",\"of\"),strFirst=localeTextFunc(\"firstPage\",\"First Page\"),strPrevious=localeTextFunc(\"previousPage\",\"Previous Page\"),strNext=localeTextFunc(\"nextPage\",\"Next Page\"),strLast=localeTextFunc(\"lastPage\",\"Last Page\"),compId=this.getCompId();return'<div class=\"ag-paging-panel ag-unselectable\" id=\"ag-'+compId+'\" aria-live=\"polite\" aria-describedby=\"ag-'+compId+\"-start-page ag-\"+compId+\"-start-page-number ag-\"+compId+\"-of-page ag-\"+compId+\"-of-page-number ag-\"+compId+\"-first-row ag-\"+compId+\"-to ag-\"+compId+\"-last-row ag-\"+compId+\"-of ag-\"+compId+'-row-count\">\\n                <span class=\"ag-paging-row-summary-panel\" aria-hidden=\"true\">\\n                    <span id=\"ag-'+compId+'-first-row\" ref=\"lbFirstRowOnPage\" class=\"ag-paging-row-summary-panel-number\"></span>\\n                    <span id=\"ag-'+compId+'-to\">'+strTo+'</span>\\n                    <span id=\"ag-'+compId+'-last-row\" ref=\"lbLastRowOnPage\" class=\"ag-paging-row-summary-panel-number\"></span>\\n                    <span id=\"ag-'+compId+'-of\">'+strOf+'</span>\\n                    <span id=\"ag-'+compId+'-row-count\" ref=\"lbRecordCount\" class=\"ag-paging-row-summary-panel-number\"></span>\\n                </span>\\n                <span class=\"ag-paging-page-summary-panel\" role=\"presentation\">\\n                    <div ref=\"btFirst\" class=\"ag-paging-button\" role=\"button\" aria-label=\"'+strFirst+'\" tabindex=\"0\"></div>\\n                    <div ref=\"btPrevious\" class=\"ag-paging-button\" role=\"button\" aria-label=\"'+strPrevious+'\" tabindex=\"0\"></div>\\n                    <span class=\"ag-paging-description\" aria-hidden=\"true\">\\n                        <span id=\"ag-'+compId+'-start-page\">'+strPage+'</span>\\n                        <span id=\"ag-'+compId+'-start-page-number\" ref=\"lbCurrent\" class=\"ag-paging-number\"></span>\\n                        <span id=\"ag-'+compId+'-of-page\">'+strOf+'</span>\\n                        <span id=\"ag-'+compId+'-of-page-number\" ref=\"lbTotal\" class=\"ag-paging-number\"></span>\\n                    </span>\\n                    <div ref=\"btNext\" class=\"ag-paging-button\" role=\"button\" aria-label=\"'+strNext+'\" tabindex=\"0\"></div>\\n                    <div ref=\"btLast\" class=\"ag-paging-button\" role=\"button\" aria-label=\"'+strLast+'\" tabindex=\"0\"></div>\\n                </span>\\n            </div>'},PaginationComp.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},PaginationComp.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},PaginationComp.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},PaginationComp.prototype.enableOrDisableButtons=function(){var currentPage=this.paginationProxy.getCurrentPage(),maxRowFound=this.paginationProxy.isLastPageFound(),totalPages=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===currentPage,addOrRemoveCssClass(this.btFirst,\"ag-disabled\",this.previousAndFirstButtonsDisabled),setAriaDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),addOrRemoveCssClass(this.btPrevious,\"ag-disabled\",this.previousAndFirstButtonsDisabled),setAriaDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var zeroPagesToDisplay=this.isZeroPagesToDisplay();this.nextButtonDisabled=maxRowFound&&currentPage===totalPages-1||zeroPagesToDisplay,addOrRemoveCssClass(this.btNext,\"ag-disabled\",this.nextButtonDisabled),setAriaDisabled(this.btNext,this.nextButtonDisabled),this.lastButtonDisabled=!maxRowFound||zeroPagesToDisplay||currentPage===totalPages-1,addOrRemoveCssClass(this.btLast,\"ag-disabled\",this.lastButtonDisabled),setAriaDisabled(this.btLast,this.lastButtonDisabled)},PaginationComp.prototype.updateRowLabels=function(){var startRow,endRow,currentPage=this.paginationProxy.getCurrentPage(),pageSize=this.paginationProxy.getPageSize(),maxRowFound=this.paginationProxy.isLastPageFound(),rowCount=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?startRow=endRow=0:(endRow=(startRow=pageSize*currentPage+1)+pageSize-1,maxRowFound&&endRow>rowCount&&(endRow=rowCount)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(startRow),this.lbLastRowOnPage.innerHTML=this.rowNodeBlockLoader.isLoading()?\"?\":this.formatNumber(endRow)},PaginationComp.prototype.isZeroPagesToDisplay=function(){var maxRowFound=this.paginationProxy.isLastPageFound(),totalPages=this.paginationProxy.getTotalPages();return maxRowFound&&0===totalPages},PaginationComp.prototype.setTotalLabels=function(){var lastPageFound=this.paginationProxy.isLastPageFound(),totalPages=this.paginationProxy.getTotalPages(),rowCount=lastPageFound?this.paginationProxy.getMasterRowCount():null;if(lastPageFound)this.lbTotal.innerHTML=this.formatNumber(totalPages),this.lbRecordCount.innerHTML=this.formatNumber(rowCount);else{var moreText=this.gridOptionsWrapper.getLocaleTextFunc()(\"more\",\"more\");this.lbTotal.innerHTML=moreText,this.lbRecordCount.innerHTML=moreText}},__decorate$1G([Autowired(\"paginationProxy\")],PaginationComp.prototype,\"paginationProxy\",void 0),__decorate$1G([Autowired(\"rowNodeBlockLoader\")],PaginationComp.prototype,\"rowNodeBlockLoader\",void 0),__decorate$1G([RefSelector(\"btFirst\")],PaginationComp.prototype,\"btFirst\",void 0),__decorate$1G([RefSelector(\"btPrevious\")],PaginationComp.prototype,\"btPrevious\",void 0),__decorate$1G([RefSelector(\"btNext\")],PaginationComp.prototype,\"btNext\",void 0),__decorate$1G([RefSelector(\"btLast\")],PaginationComp.prototype,\"btLast\",void 0),__decorate$1G([RefSelector(\"lbRecordCount\")],PaginationComp.prototype,\"lbRecordCount\",void 0),__decorate$1G([RefSelector(\"lbFirstRowOnPage\")],PaginationComp.prototype,\"lbFirstRowOnPage\",void 0),__decorate$1G([RefSelector(\"lbLastRowOnPage\")],PaginationComp.prototype,\"lbLastRowOnPage\",void 0),__decorate$1G([RefSelector(\"lbCurrent\")],PaginationComp.prototype,\"lbCurrent\",void 0),__decorate$1G([RefSelector(\"lbTotal\")],PaginationComp.prototype,\"lbTotal\",void 0),__decorate$1G([PostConstruct],PaginationComp.prototype,\"postConstruct\",null),PaginationComp}(Component),__extends$1N=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),ResizeObserverService=function(_super){function ResizeObserverService(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$1N(ResizeObserverService,_super),ResizeObserverService.prototype.observeResize=function(element,callback,debounceDelay){void 0===debounceDelay&&(debounceDelay=50);var widthLastTime,heightLastTime,running,periodicallyCheckWidthAndHeight,resizeObserver,frameworkFactory=this.getFrameworkOverrides(),debouncedCallback=debounce(callback,debounceDelay),suppressResize=this.gridOptionsWrapper.isSuppressBrowserResizeObserver();return window.ResizeObserver&&!suppressResize?((resizeObserver=new window.ResizeObserver(debouncedCallback)).observe(element),function(){return resizeObserver.disconnect()}):(widthLastTime=offsetWidth(element),heightLastTime=offsetHeight(element),running=!0,(periodicallyCheckWidthAndHeight=function(){if(running){var newWidth=offsetWidth(element),newHeight=offsetHeight(element);(newWidth!==widthLastTime||newHeight!==heightLastTime)&&(widthLastTime=newWidth,heightLastTime=newHeight,callback()),frameworkFactory.setTimeout(periodicallyCheckWidthAndHeight,debounceDelay)}})(),function(){return running=!1})},function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}([Bean(\"resizeObserverService\")],ResizeObserverService)}(BeanStub),__extends$1O=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1I=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};!function(LoadingType){LoadingType[LoadingType.Loading=0]=\"Loading\",LoadingType[LoadingType.NoRows=1]=\"NoRows\"}(LoadingType||(LoadingType={}));var OverlayWrapperComponent=function(_super){function OverlayWrapperComponent(){var _this=_super.call(this,OverlayWrapperComponent.TEMPLATE)||this;return _this.inProgress=!1,_this.destroyRequested=!1,_this}return __extends$1O(OverlayWrapperComponent,_super),OverlayWrapperComponent.prototype.updateLayoutClasses=function(params){addOrRemoveCssClass(this.eOverlayWrapper,exports.LayoutCssClasses.AUTO_HEIGHT,params.autoHeight),addOrRemoveCssClass(this.eOverlayWrapper,exports.LayoutCssClasses.NORMAL,params.normal),addOrRemoveCssClass(this.eOverlayWrapper,exports.LayoutCssClasses.PRINT,params.print)},OverlayWrapperComponent.prototype.postConstruct=function(){this.createManagedBean(new LayoutFeature(this)),this.setDisplayed(!1),this.addManagedListener(this.eventService,Events.EVENT_ROW_DATA_CHANGED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_ROW_DATA_UPDATED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},OverlayWrapperComponent.prototype.setWrapperTypeClass=function(loadingType){addOrRemoveCssClass(this.eOverlayWrapper,\"ag-overlay-loading-wrapper\",loadingType===LoadingType.Loading),addOrRemoveCssClass(this.eOverlayWrapper,\"ag-overlay-no-rows-wrapper\",loadingType===LoadingType.NoRows)},OverlayWrapperComponent.prototype.showLoadingOverlay=function(){if(!this.gridOptionsWrapper.isSuppressLoadingOverlay()){var workItem=this.userComponentFactory.newLoadingOverlayComponent({api:this.gridOptionsWrapper.getApi()});this.showOverlay(workItem,LoadingType.Loading)}},OverlayWrapperComponent.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsWrapper.isSuppressNoRowsOverlay()){var workItem=this.userComponentFactory.newNoRowsOverlayComponent({api:this.gridOptionsWrapper.getApi()});this.showOverlay(workItem,LoadingType.NoRows)}},OverlayWrapperComponent.prototype.showOverlay=function(workItem,type){var _this=this;this.inProgress||(this.setWrapperTypeClass(type),this.destroyActiveOverlay(),this.inProgress=!0,workItem&&workItem.then((function(comp){_this.inProgress=!1,_this.eOverlayWrapper.appendChild(comp.getGui()),_this.activeOverlay=comp,_this.destroyRequested&&(_this.destroyRequested=!1,_this.destroyActiveOverlay())})),this.setDisplayed(!0))},OverlayWrapperComponent.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),clearElement(this.eOverlayWrapper))},OverlayWrapperComponent.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1)},OverlayWrapperComponent.prototype.destroy=function(){this.destroyActiveOverlay(),_super.prototype.destroy.call(this)},OverlayWrapperComponent.prototype.showOrHideOverlay=function(){var isEmpty=this.paginationProxy.isEmpty(),isSuppressNoRowsOverlay=this.gridOptionsWrapper.isSuppressNoRowsOverlay();isEmpty&&!isSuppressNoRowsOverlay?this.showNoRowsOverlay():this.hideOverlay()},OverlayWrapperComponent.prototype.onRowDataChanged=function(){this.showOrHideOverlay()},OverlayWrapperComponent.prototype.onNewColumnsLoaded=function(){this.columnController.isReady()&&!this.paginationProxy.isEmpty()&&this.hideOverlay()},OverlayWrapperComponent.TEMPLATE='\\n        <div class=\"ag-overlay\" aria-hidden=\"true\">\\n            <div class=\"ag-overlay-panel\">\\n                <div class=\"ag-overlay-wrapper\" ref=\"eOverlayWrapper\"></div>\\n            </div>\\n        </div>',__decorate$1I([Autowired(\"userComponentFactory\")],OverlayWrapperComponent.prototype,\"userComponentFactory\",void 0),__decorate$1I([Autowired(\"paginationProxy\")],OverlayWrapperComponent.prototype,\"paginationProxy\",void 0),__decorate$1I([Autowired(\"gridApi\")],OverlayWrapperComponent.prototype,\"gridApi\",void 0),__decorate$1I([Autowired(\"columnController\")],OverlayWrapperComponent.prototype,\"columnController\",void 0),__decorate$1I([RefSelector(\"eOverlayWrapper\")],OverlayWrapperComponent.prototype,\"eOverlayWrapper\",void 0),__decorate$1I([PostConstruct],OverlayWrapperComponent.prototype,\"postConstruct\",null),OverlayWrapperComponent}(Component),__extends$1P=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1J=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},AgGroupComponent=function(_super){function AgGroupComponent(params){void 0===params&&(params={});var _this=_super.call(this,AgGroupComponent.getTemplate(params))||this;_this.suppressEnabledCheckbox=!0,_this.suppressOpenCloseIcons=!1;var enabled=params.enabled,items=params.items,suppressEnabledCheckbox=params.suppressEnabledCheckbox,suppressOpenCloseIcons=params.suppressOpenCloseIcons;return _this.title=params.title,_this.cssIdentifier=params.cssIdentifier||\"default\",_this.enabled=null==enabled||enabled,_this.items=items||[],_this.alignItems=params.alignItems||\"center\",null!=suppressEnabledCheckbox&&(_this.suppressEnabledCheckbox=suppressEnabledCheckbox),null!=suppressOpenCloseIcons&&(_this.suppressOpenCloseIcons=suppressOpenCloseIcons),_this}return __extends$1P(AgGroupComponent,_super),AgGroupComponent.getTemplate=function(params){var cssIdentifier=params.cssIdentifier||\"default\";return'<div class=\"ag-group ag-'+cssIdentifier+'-group\">\\n            <div class=\"ag-group-title-bar ag-'+cssIdentifier+'-group-title-bar ag-unselectable\" ref=\"eTitleBar\">\\n                <span class=\"ag-group-title-bar-icon ag-'+cssIdentifier+'-group-title-bar-icon\" ref=\"eGroupOpenedIcon\"></span>\\n                <span class=\"ag-group-title-bar-icon ag-'+cssIdentifier+'-group-title-bar-icon\" ref=\"eGroupClosedIcon\"></span>\\n                <span ref=\"eTitle\" class=\"ag-group-title ag-'+cssIdentifier+'-group-title\"></span>\\n            </div>\\n            <div ref=\"eToolbar\" class=\"ag-group-toolbar ag-'+cssIdentifier+'-group-toolbar\">\\n                <ag-checkbox ref=\"cbGroupEnabled\"></ag-checkbox>\\n            </div>\\n            <div ref=\"eContainer\" class=\"ag-group-container ag-group-container-'+(params.direction||\"vertical\")+\" ag-\"+cssIdentifier+'-group-container\"></div>\\n        </div>'},AgGroupComponent.prototype.postConstruct=function(){if(this.items.length){var initialItems=this.items;this.items=[],this.addItems(initialItems)}var localeTextFunc=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(localeTextFunc(\"enabled\",\"Enabled\")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshChildDisplay()},AgGroupComponent.prototype.setupExpandContract=function(){var _this=this;this.eGroupClosedIcon.appendChild(createIcon(\"columnSelectClosed\",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(createIcon(\"columnSelectOpen\",this.gridOptionsWrapper,null)),this.addManagedListener(this.eTitleBar,\"click\",(function(){return _this.toggleGroupExpand()})),this.addManagedListener(this.eTitleBar,\"keydown\",(function(e){switch(e.keyCode){case KeyCode.ENTER:_this.toggleGroupExpand();break;case KeyCode.RIGHT:_this.toggleGroupExpand(!0);break;case KeyCode.LEFT:_this.toggleGroupExpand(!1)}}))},AgGroupComponent.prototype.refreshChildDisplay=function(){var showIcon=!this.suppressOpenCloseIcons;setDisplayed(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),setDisplayed(this.eGroupOpenedIcon,showIcon&&this.expanded),setDisplayed(this.eGroupClosedIcon,showIcon&&!this.expanded)},AgGroupComponent.prototype.isExpanded=function(){return this.expanded},AgGroupComponent.prototype.setAlignItems=function(alignment){var eGui=this.getGui();return this.alignItems!==alignment&&removeCssClass(eGui,\"ag-group-item-alignment-\"+this.alignItems),this.alignItems=alignment,addCssClass(eGui,\"ag-group-item-alignment-\"+this.alignItems),this},AgGroupComponent.prototype.toggleGroupExpand=function(expanded){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),setDisplayed(this.eContainer,!0),this):this.expanded===(expanded=null!=expanded?expanded:!this.expanded)?this:(this.expanded=expanded,this.refreshChildDisplay(),setDisplayed(this.eContainer,expanded),this.dispatchEvent({type:this.expanded?AgGroupComponent.EVENT_EXPANDED:AgGroupComponent.EVENT_COLLAPSED}),this)},AgGroupComponent.prototype.addItems=function(items){var _this=this;items.forEach((function(item){return _this.addItem(item)}))},AgGroupComponent.prototype.addItem=function(item){var container=this.eContainer,el=item instanceof Component?item.getGui():item;addCssClass(el,\"ag-group-item\"),addCssClass(el,\"ag-\"+this.cssIdentifier+\"-group-item\"),container.appendChild(el),this.items.push(el)},AgGroupComponent.prototype.hideItem=function(hide,index){addOrRemoveCssClass(this.items[index],\"ag-hidden\",hide)},AgGroupComponent.prototype.setTitle=function(title){return this.eTitle.innerText=title,this},AgGroupComponent.prototype.addCssClassToTitleBar=function(cssClass){addCssClass(this.eTitleBar,cssClass)},AgGroupComponent.prototype.setEnabled=function(enabled,skipToggle){return this.enabled=enabled,this.refreshDisabledStyles(),this.toggleGroupExpand(enabled),skipToggle||this.cbGroupEnabled.setValue(enabled),this},AgGroupComponent.prototype.isEnabled=function(){return this.enabled},AgGroupComponent.prototype.onEnableChange=function(callbackFn){var _this=this;return this.cbGroupEnabled.onValueChange((function(newSelection){_this.setEnabled(newSelection,!0),callbackFn(newSelection)})),this},AgGroupComponent.prototype.hideEnabledCheckbox=function(hide){return this.suppressEnabledCheckbox=hide,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},AgGroupComponent.prototype.hideOpenCloseIcons=function(hide){return this.suppressOpenCloseIcons=hide,hide&&this.toggleGroupExpand(!0),this},AgGroupComponent.prototype.refreshDisabledStyles=function(){addOrRemoveCssClass(this.getGui(),\"ag-disabled\",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(addCssClass(this.eTitleBar,\"ag-disabled-group-title-bar\"),this.eTitleBar.removeAttribute(\"tabindex\")):(removeCssClass(this.eTitleBar,\"ag-disabled-group-title-bar\"),this.eTitleBar.setAttribute(\"tabindex\",\"0\")),addOrRemoveCssClass(this.eContainer,\"ag-disabled-group-container\",!this.enabled)},AgGroupComponent.EVENT_EXPANDED=\"expanded\",AgGroupComponent.EVENT_COLLAPSED=\"collapsed\",__decorate$1J([RefSelector(\"eTitleBar\")],AgGroupComponent.prototype,\"eTitleBar\",void 0),__decorate$1J([RefSelector(\"eGroupOpenedIcon\")],AgGroupComponent.prototype,\"eGroupOpenedIcon\",void 0),__decorate$1J([RefSelector(\"eGroupClosedIcon\")],AgGroupComponent.prototype,\"eGroupClosedIcon\",void 0),__decorate$1J([RefSelector(\"eToolbar\")],AgGroupComponent.prototype,\"eToolbar\",void 0),__decorate$1J([RefSelector(\"cbGroupEnabled\")],AgGroupComponent.prototype,\"cbGroupEnabled\",void 0),__decorate$1J([RefSelector(\"eTitle\")],AgGroupComponent.prototype,\"eTitle\",void 0),__decorate$1J([RefSelector(\"eContainer\")],AgGroupComponent.prototype,\"eContainer\",void 0),__decorate$1J([PostConstruct],AgGroupComponent.prototype,\"postConstruct\",null),AgGroupComponent}(Component),__extends$1Q=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1K=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},AgPanel=function(_super){function AgPanel(config){var _this=_super.call(this,AgPanel.getTemplate(config))||this;return _this.closable=!0,_this.positioned=!1,_this.dragStartPosition={x:0,y:0},_this.position={x:0,y:0},_this.size={width:void 0,height:void 0},_this.config=config,_this}return __extends$1Q(AgPanel,_super),AgPanel.getTemplate=function(config){var cssIdentifier=config&&config.cssIdentifier||\"default\";return('<div class=\"ag-panel ag-'+cssIdentifier+'-panel\" tabindex=\"-1\">\\n            <div ref=\"eTitleBar\" class=\"ag-panel-title-bar ag-'+cssIdentifier+'-panel-title-bar ag-unselectable\">\\n                <span ref=\"eTitle\" class=\"ag-panel-title-bar-title ag-'+cssIdentifier+'-panel-title-bar-title\"></span>\\n                <div ref=\"eTitleBarButtons\" class=\"ag-panel-title-bar-buttons ag-'+cssIdentifier+'-panel-title-bar-buttons\"></div>\\n            </div>\\n            <div ref=\"eContentWrapper\" class=\"ag-panel-content-wrapper ag-'+cssIdentifier+'-panel-content-wrapper\"></div>\\n        </div>')},AgPanel.prototype.postConstruct=function(){var _this=this,_a=this.config,component=_a.component,closable=_a.closable,hideTitleBar=_a.hideTitleBar,title=_a.title,minWidth=_a.minWidth,width=_a.width,minHeight=_a.minHeight,height=_a.height,centered=_a.centered,x=_a.x,y=_a.y,eGui=this.getGui();component&&this.setBodyComponent(component),hideTitleBar?addCssClass(this.eTitleBar,\"ag-hidden\"):(title&&this.setTitle(title),this.setClosable(null!=closable?closable:this.closable)),this.addManagedListener(this.eTitleBar,\"mousedown\",(function(e){if(eGui.contains(e.relatedTarget)||eGui.contains(document.activeElement)||_this.eTitleBarButtons.contains(e.target))e.preventDefault();else{var focusEl=_this.eContentWrapper.querySelector(\"button, [href], input, select, textarea, [tabindex]\");focusEl&&focusEl.focus()}})),this.positioned||(this.minHeight=null!=minHeight?minHeight:250,this.minWidth=null!=minWidth?minWidth:250,this.popupParent=this.popupService.getPopupParent(),width&&this.setWidth(width),height&&this.setHeight(height),this.renderComponent&&this.renderComponent(),width&&height||this.refreshSize(),centered?this.center():(x||y)&&this.offsetElement(x,y),this.positioned=!0,this.eContentWrapper.style.height=\"0\")},AgPanel.prototype.renderComponent=function(){var _this=this,eGui=this.getGui();eGui.focus(),this.close=function(){eGui.parentElement.removeChild(eGui),_this.destroy()}},AgPanel.prototype.updateDragStartPosition=function(x,y){this.dragStartPosition={x:x,y:y}},AgPanel.prototype.calculateMouseMovement=function(params){var parentRect=this.popupParent.getBoundingClientRect(),e=params.e,isLeft=params.isLeft,isTop=params.isTop,anywhereWithin=params.anywhereWithin,topBuffer=params.topBuffer,movementX=e.clientX-this.dragStartPosition.x,movementY=e.clientY-this.dragStartPosition.y,width=this.getWidth(),height=this.getHeight(),skipX=parentRect.left>=e.clientX&&this.position.x<=0||parentRect.right<=e.clientX&&parentRect.right<=this.position.x+parentRect.left+width;return skipX||(skipX=isLeft?movementX<0&&e.clientX>this.position.x+parentRect.left||movementX>0&&e.clientX<this.position.x+parentRect.left:anywhereWithin?movementX<0&&e.clientX>this.position.x+parentRect.left+width||movementX>0&&e.clientX<this.position.x+parentRect.left:movementX<0&&e.clientX>this.position.x+parentRect.left+width||movementX>0&&e.clientX<this.position.x+parentRect.left+width),{movementX:movementX=skipX?0:movementX,movementY:movementY=parentRect.top>=e.clientY&&this.position.y<=0||parentRect.bottom<=e.clientY&&parentRect.bottom<=this.position.y+parentRect.top+height||isTop&&(movementY<0&&e.clientY>this.position.y+parentRect.top+(topBuffer||0)||movementY>0&&e.clientY<this.position.y+parentRect.top)||!isTop&&(movementY<0&&e.clientY>this.position.y+parentRect.top+height||movementY>0&&e.clientY<this.position.y+parentRect.top+height)?0:movementY}},AgPanel.prototype.refreshSize=function(){var _a=this.size,height=_a.height;_a.width||this.setWidth(this.getGui().offsetWidth),height||this.setHeight(this.getGui().offsetHeight)},AgPanel.prototype.offsetElement=function(x,y){void 0===x&&(x=0),void 0===y&&(y=0);var ePopup=this.getGui();this.popupService.positionPopup({ePopup:ePopup,x:x,y:y,minWidth:this.minWidth,minHeight:this.minHeight,keepWithinBounds:!0}),this.position.x=parseInt(ePopup.style.left,10),this.position.y=parseInt(ePopup.style.top,10)},AgPanel.prototype.getHeight=function(){return this.size.height},AgPanel.prototype.setHeight=function(height){var eGui=this.getGui(),isPercent=!1;if(\"string\"==typeof height&&-1!==height.indexOf(\"%\"))setFixedHeight(eGui,height),height=getAbsoluteHeight(eGui),isPercent=!0;else{height=Math.max(this.minHeight,height);var offsetParent=eGui.offsetParent;offsetParent&&offsetParent.clientHeight&&height+this.position.y>offsetParent.clientHeight&&(height=offsetParent.clientHeight-this.position.y)}this.size.height!==height&&(this.size.height=height,isPercent?(eGui.style.maxHeight=\"unset\",eGui.style.minHeight=\"unset\"):setFixedHeight(eGui,height))},AgPanel.prototype.getWidth=function(){return this.size.width},AgPanel.prototype.setWidth=function(width){var eGui=this.getGui(),isPercent=!1;if(\"string\"==typeof width&&-1!==width.indexOf(\"%\"))setFixedWidth(eGui,width),width=getAbsoluteWidth(eGui),isPercent=!0;else{width=Math.max(this.minWidth,width);var offsetParent=eGui.offsetParent;offsetParent&&offsetParent.clientWidth&&width+this.position.x>offsetParent.clientWidth&&(width=offsetParent.clientWidth-this.position.x)}this.size.width!==width&&(this.size.width=width,isPercent?(eGui.style.maxWidth=\"unset\",eGui.style.minWidth=\"unset\"):setFixedWidth(eGui,width))},AgPanel.prototype.center=function(){var eGui=this.getGui(),x=eGui.offsetParent.clientWidth/2-this.getWidth()/2,y=eGui.offsetParent.clientHeight/2-this.getHeight()/2;this.offsetElement(x,y)},AgPanel.prototype.setClosable=function(closable){if(closable!==this.closable&&(this.closable=closable),closable){var closeButtonComp=this.closeButtonComp=new Component(AgPanel.CLOSE_BTN_TEMPLATE);this.getContext().createBean(closeButtonComp),(eGui=closeButtonComp.getGui()).appendChild(addCssClass(createIconNoSpan(\"close\",this.gridOptionsWrapper),\"ag-panel-title-bar-button-icon\")),this.addTitleBarButton(closeButtonComp),closeButtonComp.addManagedListener(eGui,\"click\",this.onBtClose.bind(this))}else if(this.closeButtonComp){var eGui;(eGui=this.closeButtonComp.getGui()).parentElement.removeChild(eGui),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},AgPanel.prototype.setBodyComponent=function(bodyComponent){bodyComponent.setParentComponent(this),this.eContentWrapper.appendChild(bodyComponent.getGui())},AgPanel.prototype.addTitleBarButton=function(button,position){var eTitleBarButtons=this.eTitleBarButtons,buttons=eTitleBarButtons.children,len=buttons.length;null==position&&(position=len),position=Math.max(0,Math.min(position,len));var eGui=button.getGui();addCssClass(eGui,\"ag-panel-title-bar-button\"),0===position?eTitleBarButtons.insertAdjacentElement(\"afterbegin\",eGui):position===len?eTitleBarButtons.insertAdjacentElement(\"beforeend\",eGui):buttons[position-1].insertAdjacentElement(\"afterend\",eGui),button.setParentComponent(this)},AgPanel.prototype.getBodyHeight=function(){return getInnerHeight(this.eContentWrapper)},AgPanel.prototype.getBodyWidth=function(){return getInnerWidth(this.eContentWrapper)},AgPanel.prototype.setTitle=function(title){this.eTitle.innerText=title},AgPanel.prototype.onBtClose=function(){this.close()},AgPanel.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var eGui=this.getGui();eGui&&eGui.offsetParent&&this.close(),_super.prototype.destroy.call(this)},AgPanel.CLOSE_BTN_TEMPLATE='<div class=\"ag-button\"></div>',__decorate$1K([Autowired(\"popupService\")],AgPanel.prototype,\"popupService\",void 0),__decorate$1K([RefSelector(\"eContentWrapper\")],AgPanel.prototype,\"eContentWrapper\",void 0),__decorate$1K([RefSelector(\"eTitleBar\")],AgPanel.prototype,\"eTitleBar\",void 0),__decorate$1K([RefSelector(\"eTitleBarButtons\")],AgPanel.prototype,\"eTitleBarButtons\",void 0),__decorate$1K([RefSelector(\"eTitle\")],AgPanel.prototype,\"eTitle\",void 0),__decorate$1K([PostConstruct],AgPanel.prototype,\"postConstruct\",null),AgPanel}(Component),__extends$1R=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),AgDialog=function(_super){function AgDialog(config){var _this=_super.call(this,config)||this;return _this.RESIZE_TEMPLATE='<div class=\"ag-resizer-wrapper\">\\n            <div ref=\"eTopLeftResizer\" class=\"ag-resizer ag-resizer-topLeft\"></div>\\n            <div ref=\"eTopResizer\" class=\"ag-resizer ag-resizer-top\"></div>\\n            <div ref=\"eTopRightResizer\" class=\"ag-resizer ag-resizer-topRight\"></div>\\n            <div ref=\"eRightResizer\" class=\"ag-resizer ag-resizer-right\"></div>\\n            <div ref=\"eBottomRightResizer\" class=\"ag-resizer ag-resizer-bottomRight\"></div>\\n            <div ref=\"eBottomResizer\" class=\"ag-resizer ag-resizer-bottom\"></div>\\n            <div ref=\"eBottomLeftResizer\" class=\"ag-resizer ag-resizer-bottomLeft\"></div>\\n            <div ref=\"eLeftResizer\" class=\"ag-resizer ag-resizer-left\"></div>\\n        </div>',_this.resizable={},_this.movable=!1,_this.isMoving=!1,_this.isMaximizable=!1,_this.isMaximized=!1,_this.maximizeListeners=[],_this.resizeListenerDestroy=null,_this.isResizing=!1,_this.lastPosition={x:0,y:0,width:0,height:0},_this}return __extends$1R(AgDialog,_super),AgDialog.prototype.postConstruct=function(){var _this=this,eGui=this.getGui(),_a=this.config,movable=_a.movable,resizable=_a.resizable,maximizable=_a.maximizable;addCssClass(eGui,\"ag-dialog\"),this.moveElement=this.eTitleBar,_super.prototype.postConstruct.call(this),this.addManagedListener(eGui,\"focusin\",(function(e){eGui.contains(e.relatedTarget)||_this.popupService.bringPopupToFront(eGui)})),movable&&this.setMovable(movable),maximizable&&this.setMaximizable(maximizable),this.addResizers(),resizable&&this.setResizable(resizable)},AgDialog.prototype.renderComponent=function(){var eGui=this.getGui(),_a=this.config,alwaysOnTop=_a.alwaysOnTop,addPopupRes=this.popupService.addPopup({modal:_a.modal,eChild:eGui,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:alwaysOnTop});addPopupRes&&(this.close=addPopupRes.hideFunc)},AgDialog.prototype.addResizers=function(){var eGui=this.getGui();if(eGui){var resizers=(new DOMParser).parseFromString(this.RESIZE_TEMPLATE,\"text/html\").body;eGui.appendChild(resizers.firstChild),this.createMap()}},AgDialog.prototype.createMap=function(){var eGui=this.getGui();this.resizerMap={topLeft:{element:eGui.querySelector(\"[ref=eTopLeftResizer]\")},top:{element:eGui.querySelector(\"[ref=eTopResizer]\")},topRight:{element:eGui.querySelector(\"[ref=eTopRightResizer]\")},right:{element:eGui.querySelector(\"[ref=eRightResizer]\")},bottomRight:{element:eGui.querySelector(\"[ref=eBottomRightResizer]\")},bottom:{element:eGui.querySelector(\"[ref=eBottomResizer]\")},bottomLeft:{element:eGui.querySelector(\"[ref=eBottomLeftResizer]\")},left:{element:eGui.querySelector(\"[ref=eLeftResizer]\")}}},AgDialog.prototype.getResizerElement=function(side){return this.resizerMap[side].element},AgDialog.prototype.onResizeStart=function(e){this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)},AgDialog.prototype.onResize=function(e,side){if(this.isResizing){var isLeft=!!side.match(/left/i),isRight=!!side.match(/right/i),isTop=!!side.match(/top/i),isBottom=!!side.match(/bottom/i),isHorizontal=isLeft||isRight,isVertical=isTop||isBottom,_a=this.calculateMouseMovement({e:e,isLeft:isLeft,isTop:isTop}),movementX=_a.movementX,movementY=_a.movementY,offsetLeft=0,offsetTop=0;if(isHorizontal&&movementX){var direction=isLeft?-1:1,oldWidth=this.getWidth(),newWidth=oldWidth+movementX*direction,skipWidth=!1;isLeft&&(this.position.x+(offsetLeft=oldWidth-newWidth)<=0||newWidth<=this.minWidth)&&(skipWidth=!0,offsetLeft=0),skipWidth||this.setWidth(newWidth)}if(isVertical&&movementY){direction=isTop?-1:1;var oldHeight=this.getHeight(),newHeight=oldHeight+movementY*direction,skipHeight=!1;isTop&&(this.position.y+(offsetTop=oldHeight-newHeight)<=0||newHeight<=this.minHeight)&&(skipHeight=!0,offsetTop=0),skipHeight||this.setHeight(newHeight)}this.updateDragStartPosition(e.clientX,e.clientY),(offsetLeft||offsetTop)&&this.offsetElement(this.position.x+offsetLeft,this.position.y+offsetTop)}},AgDialog.prototype.onResizeEnd=function(){this.isResizing=!1;var params={type:\"resize\",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.dispatchEvent(params)},AgDialog.prototype.onMoveStart=function(e){this.isMoving=!0,this.updateDragStartPosition(e.clientX,e.clientY)},AgDialog.prototype.onMove=function(e){if(this.isMoving){var _a=this.position,x=_a.x,y=_a.y,_b=this.calculateMouseMovement({e:e,isTop:!0,anywhereWithin:!0,topBuffer:this.getHeight()-this.getBodyHeight()});this.offsetElement(x+_b.movementX,y+_b.movementY),this.updateDragStartPosition(e.clientX,e.clientY)}},AgDialog.prototype.onMoveEnd=function(){this.isMoving=!1},AgDialog.prototype.toggleMaximize=function(){if(this.isMaximized){var _a=this.lastPosition,x=_a.x,y=_a.y,height=_a.height;this.setWidth(_a.width),this.setHeight(height),this.offsetElement(x,y)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=this.position.x,this.lastPosition.y=this.position.y,this.offsetElement(0,0),this.setHeight(\"100%\"),this.setWidth(\"100%\");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},AgDialog.prototype.refreshMaximizeIcon=function(){setDisplayed(this.maximizeIcon,!this.isMaximized),setDisplayed(this.minimizeIcon,this.isMaximized)},AgDialog.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach((function(destroyListener){return destroyListener()})),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},AgDialog.prototype.destroy=function(){this.setResizable(!1),this.setMovable(!1),this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),_super.prototype.destroy.call(this)},AgDialog.prototype.setResizable=function(resizable){var _this=this;\"boolean\"==typeof resizable&&(resizable={topLeft:resizable,top:resizable,topRight:resizable,right:resizable,bottomRight:resizable,bottom:resizable,bottomLeft:resizable,left:resizable}),Object.keys(resizable).forEach((function(side){var s=side,val=!!resizable[s],el=_this.getResizerElement(s),params=_this.resizerMap[s].dragSource||{eElement:el,onDragStart:_this.onResizeStart.bind(_this),onDragging:function(e){return _this.onResize(e,s)},onDragStop:_this.onResizeEnd.bind(_this)};!!_this.resizable[s]===val&&(_this.isAlive()||val)||(val?(_this.dragService.addDragSource(params),el.style.pointerEvents=\"all\"):(_this.dragService.removeDragSource(params),el.style.pointerEvents=\"none\"),_this.resizerMap[s].dragSource=val?params:void 0)}))},AgDialog.prototype.setMovable=function(movable){if(movable!==this.movable){this.movable=movable;var params=this.moveElementDragListener||{eElement:this.moveElement,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};movable?(this.dragService.addDragSource(params),this.moveElementDragListener=params):(this.dragService.removeDragSource(params),this.moveElementDragListener=void 0)}},AgDialog.prototype.setMaximizable=function(maximizable){var _this=this;if(!maximizable)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var eTitleBar=this.eTitleBar;if(eTitleBar&&maximizable!==this.isMaximizable){var maximizeButtonComp=this.maximizeButtonComp=this.createBean(new Component('<div class=\"ag-dialog-button\"></span>')),eGui=maximizeButtonComp.getGui();eGui.appendChild(this.maximizeIcon=createIconNoSpan(\"maximize\",this.gridOptionsWrapper)),addCssClass(this.maximizeIcon,\"ag-panel-title-bar-button-icon\"),eGui.appendChild(this.minimizeIcon=createIconNoSpan(\"minimize\",this.gridOptionsWrapper)),addCssClass(this.minimizeIcon,\"ag-panel-title-bar-button-icon\"),addCssClass(this.minimizeIcon,\"ag-hidden\"),maximizeButtonComp.addManagedListener(eGui,\"click\",this.toggleMaximize.bind(this)),this.addTitleBarButton(maximizeButtonComp,0),this.maximizeListeners.push(this.addManagedListener(eTitleBar,\"dblclick\",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,\"resize\",(function(){_this.isMaximized=!1,_this.refreshMaximizeIcon()}))}},function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);c>3&&r&&Object.defineProperty(target,key,r)}([Autowired(\"dragService\")],AgDialog.prototype,\"dragService\",void 0),AgDialog}(AgPanel),__extends$1S=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),AgInputTextField=function(_super){function AgInputTextField(config,className,inputType){return void 0===className&&(className=\"ag-text-field\"),void 0===inputType&&(inputType=\"text\"),_super.call(this,config,className,inputType)||this}return __extends$1S(AgInputTextField,_super),AgInputTextField.prototype.postConstruct=function(){_super.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},AgInputTextField.prototype.setValue=function(value,silent){var ret=_super.prototype.setValue.call(this,value,silent);return this.eInput.value!==value&&(this.eInput.value=exists(value)?value:\"\"),ret},AgInputTextField.prototype.preventDisallowedCharacters=function(){var pattern=new RegExp(\"[\"+this.config.allowedCharPattern+\"]\");this.addManagedListener(this.eInput,\"keypress\",(function(event){event.key&&!pattern.test(event.key)&&event.preventDefault()})),this.addManagedListener(this.eInput,\"paste\",(function(e){some(e.clipboardData.getData(\"text\"),(function(c){return!pattern.test(c)}))&&e.preventDefault()}))},AgInputTextField}(AgAbstractInputField),__extends$1T=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),AgInputTextArea=function(_super){function AgInputTextArea(config){return _super.call(this,config,\"ag-text-area\",null,\"textarea\")||this}return __extends$1T(AgInputTextArea,_super),AgInputTextArea.prototype.setValue=function(value,silent){var ret=_super.prototype.setValue.call(this,value,silent);return this.eInput.value=value,ret},AgInputTextArea.prototype.setCols=function(cols){return this.eInput.cols=cols,this},AgInputTextArea.prototype.setRows=function(rows){return this.eInput.rows=rows,this},AgInputTextArea}(AgAbstractInputField),__extends$1U=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1M=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},AgSlider=function(_super){function AgSlider(config){var _this=_super.call(this,config,AgSlider.TEMPLATE)||this;return _this.labelAlignment=\"top\",_this}return __extends$1U(AgSlider,_super),AgSlider.prototype.init=function(){addCssClass(this.eSlider.getGui(),\"ag-slider-field\")},AgSlider.prototype.onValueChange=function(callbackFn){var _this=this,eventChanged=AgAbstractField.EVENT_CHANGED;return this.addManagedListener(this.eText,eventChanged,(function(){var textValue=parseFloat(_this.eText.getValue());_this.eSlider.setValue(textValue.toString(),!0),callbackFn(textValue||0)})),this.addManagedListener(this.eSlider,eventChanged,(function(){var sliderValue=_this.eSlider.getValue();_this.eText.setValue(sliderValue,!0),callbackFn(parseFloat(sliderValue))})),this},AgSlider.prototype.setSliderWidth=function(width){return this.eSlider.setWidth(width),this},AgSlider.prototype.setTextFieldWidth=function(width){return this.eText.setWidth(width),this},AgSlider.prototype.setMinValue=function(minValue){return this.eSlider.setMinValue(minValue),this.eText.setMin(minValue),this},AgSlider.prototype.setMaxValue=function(maxValue){return this.eSlider.setMaxValue(maxValue),this.eText.setMax(maxValue),this},AgSlider.prototype.getValue=function(){return this.eText.getValue()},AgSlider.prototype.setValue=function(value){return this.getValue()===value?this:(this.eText.setValue(value,!0),this.eSlider.setValue(value,!0),this.dispatchEvent({type:AgAbstractField.EVENT_CHANGED}),this)},AgSlider.prototype.setStep=function(step){return this.eSlider.setStep(step),this.eText.setStep(step),this},AgSlider.TEMPLATE='<div class=\"ag-slider\">\\n            <label ref=\"eLabel\"></label>\\n            <div class=\"ag-wrapper ag-slider-wrapper\">\\n                <ag-input-range ref=\"eSlider\"></ag-input-range>\\n                <ag-input-number-field ref=\"eText\"></ag-input-number-field>\\n            </div>\\n        </div>',__decorate$1M([RefSelector(\"eLabel\")],AgSlider.prototype,\"eLabel\",void 0),__decorate$1M([RefSelector(\"eSlider\")],AgSlider.prototype,\"eSlider\",void 0),__decorate$1M([RefSelector(\"eText\")],AgSlider.prototype,\"eText\",void 0),__decorate$1M([PostConstruct],AgSlider.prototype,\"init\",null),AgSlider}(AgAbstractLabel),__extends$1V=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1N=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},AgColorPanel=function(_super){function AgColorPanel(config){var _this=_super.call(this,AgColorPanel.TEMPLATE)||this;return _this.H=1,_this.S=1,_this.B=1,_this.A=1,_this.isSpectrumDragging=!1,_this.isSpectrumHueDragging=!1,_this.isSpectrumAlphaDragging=!1,_this.colorChanged=!1,_this.picker=config.picker,_this}return __extends$1V(AgColorPanel,_super),AgColorPanel.prototype.postConstruct=function(){var eGui=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,\"mousedown\",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(eGui,\"mousemove\",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,\"mousedown\",this.onSpectrumHueDown.bind(this)),this.addManagedListener(eGui,\"mousemove\",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,\"mousedown\",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(eGui,\"mousemove\",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,\"mouseup\",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,\"click\",this.onRecentColorClick.bind(this))},AgColorPanel.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},AgColorPanel.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},AgColorPanel.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},AgColorPanel.prototype.onSpectrumDraggerDown=function(e){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(e)},AgColorPanel.prototype.onSpectrumDraggerMove=function(e){this.isSpectrumDragging&&this.moveDragger(e)},AgColorPanel.prototype.onSpectrumHueDown=function(e){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(e)},AgColorPanel.prototype.onSpectrumHueMove=function(e){this.isSpectrumHueDragging&&this.moveHueSlider(e)},AgColorPanel.prototype.onSpectrumAlphaDown=function(e){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(e)},AgColorPanel.prototype.onSpectrumAlphaMove=function(e){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(e)},AgColorPanel.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},AgColorPanel.prototype.moveDragger=function(e){var valRect=this.spectrumValRect;if(valRect){var x=e.clientX-valRect.left,y=e.clientY-valRect.top;x=Math.max(x,0),x=Math.min(x,valRect.width),y=Math.max(y,0),y=Math.min(y,valRect.height),this.setSpectrumValue(x/valRect.width,1-y/valRect.height)}},AgColorPanel.prototype.moveHueSlider=function(e){var hueRect=this.spectrumHueRect;if(hueRect){var slider=this.spectrumHueSlider,sliderRect=slider.getBoundingClientRect(),x=e.clientX-hueRect.left;x=Math.max(x,0),x=Math.min(x,hueRect.width),this.H=1-x/hueRect.width,slider.style.left=x+sliderRect.width/2+\"px\",this.update()}},AgColorPanel.prototype.moveAlphaSlider=function(e){var alphaRect=this.spectrumAlphaRect;if(alphaRect){var slider=this.spectrumAlphaSlider,sliderRect=slider.getBoundingClientRect(),x=e.clientX-alphaRect.left;x=Math.max(x,0),x=Math.min(x,alphaRect.width),this.A=x/alphaRect.width,slider.style.left=x+sliderRect.width/2+\"px\",this.update()}},AgColorPanel.prototype.update=function(){var color=Color.fromHSB(360*this.H,this.S,this.B,this.A),spectrumColor=Color.fromHSB(360*this.H,1,1),rgbaColor=color.toRgbaString(),colorPicker=this.picker;Color.fromString(colorPicker.getValue()).toRgbaString()!==rgbaColor&&(this.colorChanged=!0),colorPicker.setValue(rgbaColor),this.spectrumColor.style.backgroundColor=spectrumColor.toRgbaString(),this.spectrumDragger.style.backgroundColor=rgbaColor},AgColorPanel.prototype.setSpectrumValue=function(saturation,brightness){var valRect=this.spectrumValRect||this.refreshSpectrumRect();if(valRect){var dragger=this.spectrumDragger,draggerRect=dragger.getBoundingClientRect();saturation=Math.max(0,saturation),saturation=Math.min(1,saturation),brightness=Math.max(0,brightness),brightness=Math.min(1,brightness),this.S=saturation,this.B=brightness,dragger.style.left=saturation*valRect.width-draggerRect.width/2+\"px\",dragger.style.top=(1-brightness)*valRect.height-draggerRect.height/2+\"px\",this.update()}},AgColorPanel.prototype.initRecentColors=function(){var innerHtml=AgColorPanel.recentColors.map((function(color,index){return'<div class=\"ag-recent-color\" id='+index+' style=\"background-color: '+color+'; width: 15px; height: 15px;\" recent-color=\"'+color+'\"></div>'}));this.recentColors.innerHTML=innerHtml.join(\"\")},AgColorPanel.prototype.setValue=function(val){var color=Color.fromString(val),_a=color.toHSB(),h=_a[0],s=_a[1],b=_a[2];this.H=(isNaN(h)?0:h)/360,this.A=color.a;var spectrumHueRect=this.spectrumHueRect||this.refreshHueRect(),spectrumAlphaRect=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-spectrumHueRect.width+\"px\",this.spectrumAlphaSlider.style.left=this.A*spectrumAlphaRect.width+\"px\",this.setSpectrumValue(s,b)},AgColorPanel.prototype.onRecentColorClick=function(e){var target=e.target;if(exists(target.id)){var id=parseInt(target.id,10);this.setValue(AgColorPanel.recentColors[id]),this.destroy()}},AgColorPanel.prototype.addRecentColor=function(){var rgbaColor=Color.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),recentColors=AgColorPanel.recentColors;this.colorChanged&&recentColors[0]!==rgbaColor&&(recentColors=recentColors.filter((function(currentColor){return currentColor!=rgbaColor})),(recentColors=[rgbaColor].concat(recentColors)).length>AgColorPanel.maxRecentColors&&(recentColors=recentColors.slice(0,AgColorPanel.maxRecentColors)),AgColorPanel.recentColors=recentColors)},AgColorPanel.prototype.destroy=function(){this.addRecentColor(),_super.prototype.destroy.call(this)},AgColorPanel.maxRecentColors=8,AgColorPanel.recentColors=[],AgColorPanel.TEMPLATE='<div class=\"ag-color-panel\">\\n            <div ref=\"spectrumColor\" class=\"ag-spectrum-color\">\\n                <div class=\"ag-spectrum-sat ag-spectrum-fill\">\\n                    <div ref=\"spectrumVal\" class=\"ag-spectrum-val ag-spectrum-fill\">\\n                        <div ref=\"spectrumDragger\" class=\"ag-spectrum-dragger\"></div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\"ag-spectrum-tools\">\\n                <div ref=\"spectrumHue\" class=\"ag-spectrum-hue ag-spectrum-tool\">\\n                    <div class=\"ag-spectrum-hue-background\"></div>\\n                    <div ref=\"spectrumHueSlider\" class=\"ag-spectrum-slider\"></div>\\n                </div>\\n                <div ref=\"spectrumAlpha\" class=\"ag-spectrum-alpha ag-spectrum-tool\">\\n                    <div class=\"ag-spectrum-alpha-background\"></div>\\n                    <div ref=\"spectrumAlphaSlider\" class=\"ag-spectrum-slider\"></div>\\n                </div>\\n                <div ref=\"recentColors\" class=\"ag-recent-colors\"></div>\\n            </div>\\n        </div>',__decorate$1N([RefSelector(\"spectrumColor\")],AgColorPanel.prototype,\"spectrumColor\",void 0),__decorate$1N([RefSelector(\"spectrumVal\")],AgColorPanel.prototype,\"spectrumVal\",void 0),__decorate$1N([RefSelector(\"spectrumDragger\")],AgColorPanel.prototype,\"spectrumDragger\",void 0),__decorate$1N([RefSelector(\"spectrumHue\")],AgColorPanel.prototype,\"spectrumHue\",void 0),__decorate$1N([RefSelector(\"spectrumHueSlider\")],AgColorPanel.prototype,\"spectrumHueSlider\",void 0),__decorate$1N([RefSelector(\"spectrumAlpha\")],AgColorPanel.prototype,\"spectrumAlpha\",void 0),__decorate$1N([RefSelector(\"spectrumAlphaSlider\")],AgColorPanel.prototype,\"spectrumAlphaSlider\",void 0),__decorate$1N([RefSelector(\"recentColors\")],AgColorPanel.prototype,\"recentColors\",void 0),__decorate$1N([PostConstruct],AgColorPanel.prototype,\"postConstruct\",null),AgColorPanel}(Component),__extends$1W=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1O=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},AgPickerField=function(_super){function AgPickerField(config,className,pickerIcon,popupRole){var _this=_super.call(this,config,'<div class=\"ag-picker-field\" role=\"presentation\">\\n                <div ref=\"eLabel\"></div>\\n                <div ref=\"eWrapper\"\\n                    class=\"ag-wrapper ag-picker-field-wrapper\"\\n                    tabIndex=\"-1\"\\n                    '+(popupRole?'aria-haspopup=\"'+popupRole+'\"':\"\")+'\\n                >\\n                    <div ref=\"eDisplayField\" class=\"ag-picker-field-display\"></div>\\n                    <div ref=\"eIcon\" class=\"ag-picker-field-icon\" aria-hidden=\"true\"></div>\\n                </div>\\n            </div>',className)||this;return _this.pickerIcon=pickerIcon,_this.isPickerDisplayed=!1,_this.isDestroyingPicker=!1,_this.skipClick=!1,_this}return __extends$1W(AgPickerField,_super),AgPickerField.prototype.postConstruct=function(){var _this=this;_super.prototype.postConstruct.call(this);var displayId=this.getCompId()+\"-display\";this.eDisplayField.setAttribute(\"id\",displayId),setAriaDescribedBy(this.eWrapper,displayId);var clickHandler=function(){_this.skipClick?_this.skipClick=!1:_this.isDisabled()||(_this.pickerComponent=_this.showPicker())},eGui=this.getGui();if(this.addManagedListener(eGui,\"mousedown\",(function(e){!_this.skipClick&&_this.pickerComponent&&_this.pickerComponent.isAlive()&&isVisible(_this.pickerComponent.getGui())&&eGui.contains(e.target)&&(_this.skipClick=!0)})),this.addManagedListener(eGui,\"keydown\",(function(e){switch(e.keyCode){case KeyCode.UP:case KeyCode.DOWN:case KeyCode.ENTER:case KeyCode.SPACE:clickHandler();case KeyCode.ESCAPE:_this.isPickerDisplayed&&e.preventDefault()}})),this.addManagedListener(this.eWrapper,\"click\",clickHandler),this.addManagedListener(this.eLabel,\"click\",clickHandler),this.pickerIcon){var icon=createIconNoSpan(this.pickerIcon,this.gridOptionsWrapper);icon&&this.eIcon.appendChild(icon)}},AgPickerField.prototype.refreshLabel=function(){exists(this.getLabel())?setAriaLabelledBy(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute(\"aria-labelledby\"),_super.prototype.refreshLabel.call(this)},AgPickerField.prototype.setAriaLabel=function(label){return setAriaLabel(this.eWrapper,label),this},AgPickerField.prototype.setInputWidth=function(width){return setElementWidth(this.eWrapper,width),this},AgPickerField.prototype.getFocusableElement=function(){return this.eWrapper},__decorate$1O([RefSelector(\"eLabel\")],AgPickerField.prototype,\"eLabel\",void 0),__decorate$1O([RefSelector(\"eWrapper\")],AgPickerField.prototype,\"eWrapper\",void 0),__decorate$1O([RefSelector(\"eDisplayField\")],AgPickerField.prototype,\"eDisplayField\",void 0),__decorate$1O([RefSelector(\"eIcon\")],AgPickerField.prototype,\"eIcon\",void 0),AgPickerField}(AgAbstractField),__extends$1X=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),AgColorPicker=function(_super){function AgColorPicker(config){var _this=_super.call(this,config,\"ag-color-picker\",\"colorPicker\")||this;return config&&config.color&&(_this.value=config.color),_this}return __extends$1X(AgColorPicker,_super),AgColorPicker.prototype.postConstruct=function(){_super.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},AgColorPicker.prototype.showPicker=function(){var _this=this,eGuiRect=this.getGui().getBoundingClientRect(),colorDialog=this.createBean(new AgDialog({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:eGuiRect.right-190,y:eGuiRect.top-250}));this.isPickerDisplayed=!0,addCssClass(colorDialog.getGui(),\"ag-color-dialog\");var colorPanel=this.createBean(new AgColorPanel({picker:this}));return colorPanel.addDestroyFunc((function(){colorDialog.isAlive()&&_this.destroyBean(colorDialog)})),colorDialog.setParentComponent(this),colorDialog.setBodyComponent(colorPanel),colorPanel.setValue(this.getValue()),colorDialog.addDestroyFunc((function(){_this.isDestroyingPicker?_this.isDestroyingPicker=!1:(_this.isDestroyingPicker=!0,colorPanel.isAlive()&&_this.destroyBean(colorPanel)),_this.isAlive()&&_this.getFocusableElement().focus(),_this.isPickerDisplayed=!1})),colorDialog},AgColorPicker.prototype.setValue=function(color){return this.value===color?this:(this.eDisplayField.style.backgroundColor=color,_super.prototype.setValue.call(this,color))},AgColorPicker.prototype.getValue=function(){return this.value},AgColorPicker}(AgPickerField),__extends$1Y=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),AgInputNumberField=function(_super){function AgInputNumberField(config){return _super.call(this,config,\"ag-number-field\",\"number\")||this}return __extends$1Y(AgInputNumberField,_super),AgInputNumberField.prototype.postConstruct=function(){var _this=this;_super.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,\"blur\",(function(){var floatedValue=parseFloat(_this.eInput.value),value=isNaN(floatedValue)?\"\":_this.normalizeValue(floatedValue.toString());_this.value!==value&&_this.setValue(value)}))},AgInputNumberField.prototype.normalizeValue=function(value){if(\"\"===value)return\"\";this.precision&&(value=this.adjustPrecision(value));var val=parseFloat(value);return null!=this.min&&val<this.min?value=this.min.toString():null!=this.max&&val>this.max&&(value=this.max.toString()),value},AgInputNumberField.prototype.adjustPrecision=function(value){if(this.precision){var floatString=parseFloat(value).toFixed(this.precision);value=parseFloat(floatString).toString()}return value},AgInputNumberField.prototype.setMin=function(min){return this.min===min?this:(this.min=min,addOrRemoveAttribute(this.eInput,\"min\",min),this)},AgInputNumberField.prototype.setMax=function(max){return this.max===max?this:(this.max=max,addOrRemoveAttribute(this.eInput,\"max\",max),this)},AgInputNumberField.prototype.setPrecision=function(precision){return this.precision=precision,this},AgInputNumberField.prototype.setStep=function(step){return this.step===step?this:(this.step=step,addOrRemoveAttribute(this.eInput,\"step\",step),this)},AgInputNumberField.prototype.setValue=function(value,silent){return(value=this.adjustPrecision(value))!=this.normalizeValue(value)?this:_super.prototype.setValue.call(this,value,silent)},AgInputNumberField}(AgInputTextField),__extends$1Z=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),AgInputRange=function(_super){function AgInputRange(config){return _super.call(this,config,\"ag-range-field\",\"range\")||this}return __extends$1Z(AgInputRange,_super),AgInputRange.prototype.postConstruct=function(){_super.prototype.postConstruct.call(this);var _a=this.config,min=_a.min,max=_a.max,step=_a.step;null!=min&&this.setMinValue(min),null!=max&&this.setMaxValue(max),this.setStep(step||1)},AgInputRange.prototype.addInputListeners=function(){var _this=this,isIE=isBrowserIE();this.addManagedListener(this.eInput,isIE?\"change\":\"input\",(function(e){_this.setValue(e.target.value)}))},AgInputRange.prototype.setMinValue=function(value){return this.min=value,this.eInput.setAttribute(\"min\",value.toString()),this},AgInputRange.prototype.setMaxValue=function(value){return this.max=value,this.eInput.setAttribute(\"max\",value.toString()),this},AgInputRange.prototype.setStep=function(value){return this.eInput.setAttribute(\"step\",value.toString()),this},AgInputRange.prototype.setValue=function(value,silent){null!=this.min&&(value=Math.max(parseFloat(value),this.min).toString()),null!=this.max&&(value=Math.min(parseFloat(value),this.max).toString());var ret=_super.prototype.setValue.call(this,value,silent);return this.eInput.value=value,ret},AgInputRange}(AgAbstractInputField),__extends$1_=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),AgList=function(_super){function AgList(cssIdentifier){void 0===cssIdentifier&&(cssIdentifier=\"default\");var _this=_super.call(this,'<div class=\"ag-list ag-'+cssIdentifier+'-list\" role=\"listbox\"></div>')||this;return _this.cssIdentifier=cssIdentifier,_this.options=[],_this.itemEls=[],_this}return __extends$1_(AgList,_super),AgList.prototype.init=function(){this.addManagedListener(this.getGui(),\"keydown\",this.handleKeyDown.bind(this))},AgList.prototype.handleKeyDown=function(e){var key=e.keyCode;switch(key){case KeyCode.ENTER:if(this.highlightedEl){var pos=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(pos)}else this.setValue(this.getValue());break;case KeyCode.DOWN:case KeyCode.UP:var isDown=key===KeyCode.DOWN,itemToHighlight=void 0;if(e.preventDefault(),this.highlightedEl){var nextPos=this.itemEls.indexOf(this.highlightedEl)+(isDown?1:-1);nextPos=Math.min(Math.max(nextPos,0),this.itemEls.length-1),itemToHighlight=this.itemEls[nextPos]}else itemToHighlight=this.itemEls[isDown?0:this.itemEls.length-1];this.highlightItem(itemToHighlight)}},AgList.prototype.addOptions=function(listOptions){var _this=this;return listOptions.forEach((function(listOption){return _this.addOption(listOption)})),this},AgList.prototype.addOption=function(listOption){var value=listOption.value,sanitisedText=escapeString(listOption.text||value);return this.options.push({value:value,text:sanitisedText}),this.renderOption(value,sanitisedText),this},AgList.prototype.renderOption=function(value,text){var _this=this,itemEl=document.createElement(\"div\");itemEl.setAttribute(\"role\",\"option\"),addCssClass(itemEl,\"ag-list-item\"),addCssClass(itemEl,\"ag-\"+this.cssIdentifier+\"-list-item\"),itemEl.innerHTML=\"<span>\"+text+\"</span>\",itemEl.tabIndex=-1,this.itemEls.push(itemEl),this.addManagedListener(itemEl,\"mouseover\",(function(){return _this.highlightItem(itemEl)})),this.addManagedListener(itemEl,\"mouseleave\",(function(){return _this.clearHighlighted()})),this.addManagedListener(itemEl,\"click\",(function(){return _this.setValue(value)})),this.getGui().appendChild(itemEl)},AgList.prototype.setValue=function(value,silent){if(this.value===value)return this.fireItemSelected(),this;if(null==value)return this.reset(),this;var idx=findIndex(this.options,(function(option){return option.value===value}));if(-1!==idx){var option=this.options[idx];this.value=option.value,this.displayValue=null!=option.text?option.text:option.value,this.highlightItem(this.itemEls[idx]),silent||this.fireChangeEvent()}return this},AgList.prototype.setValueByIndex=function(idx){return this.setValue(this.options[idx].value)},AgList.prototype.getValue=function(){return this.value},AgList.prototype.getDisplayValue=function(){return this.displayValue},AgList.prototype.refreshHighlighted=function(){var _this=this;this.clearHighlighted();var idx=findIndex(this.options,(function(option){return option.value===_this.value}));-1!==idx&&this.highlightItem(this.itemEls[idx])},AgList.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},AgList.prototype.highlightItem=function(el){el.offsetParent&&(this.clearHighlighted(),this.highlightedEl=el,addCssClass(this.highlightedEl,AgList.ACTIVE_CLASS),setAriaSelected(this.highlightedEl,!0),this.highlightedEl.focus())},AgList.prototype.clearHighlighted=function(){this.highlightedEl&&this.highlightedEl.offsetParent&&(removeCssClass(this.highlightedEl,AgList.ACTIVE_CLASS),setAriaSelected(this.highlightedEl,!1),this.highlightedEl=null)},AgList.prototype.fireChangeEvent=function(){this.dispatchEvent({type:AgAbstractField.EVENT_CHANGED}),this.fireItemSelected()},AgList.prototype.fireItemSelected=function(){this.dispatchEvent({type:AgList.EVENT_ITEM_SELECTED})},AgList.EVENT_ITEM_SELECTED=\"selectedItem\",AgList.ACTIVE_CLASS=\"ag-active-item\",function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);c>3&&r&&Object.defineProperty(target,key,r)}([PostConstruct],AgList.prototype,\"init\",null),AgList}(Component),__extends$1$=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1Q=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},AgSelect=function(_super){function AgSelect(config){return _super.call(this,config,\"ag-select\",\"smallDown\",\"listbox\")||this}return __extends$1$(AgSelect,_super),AgSelect.prototype.init=function(){var _this=this;this.listComponent=this.createBean(new AgList(\"select\")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,AgList.EVENT_ITEM_SELECTED,(function(){_this.hideList&&_this.hideList()})),this.listComponent.addManagedListener(this.listComponent,AgAbstractField.EVENT_CHANGED,(function(){_this.setValue(_this.listComponent.getValue(),!1,!0),_this.hideList&&_this.hideList()}))},AgSelect.prototype.showPicker=function(){var _this=this,listGui=this.listComponent.getGui(),destroyMouseWheelFunc=this.addManagedListener(document.body,\"wheel\",(function(e){!listGui.contains(e.target)&&_this.hideList&&_this.hideList()})),destroyFocusOutFunc=this.addManagedListener(listGui,\"focusout\",(function(e){!listGui.contains(e.relatedTarget)&&_this.hideList&&_this.hideList()})),addPopupRes=this.popupService.addPopup({modal:!0,eChild:listGui,closeOnEsc:!0,closedCallback:function(){_this.hideList=null,_this.isPickerDisplayed=!1,destroyFocusOutFunc(),destroyMouseWheelFunc(),_this.isAlive()&&_this.getFocusableElement().focus()}});return addPopupRes&&(this.hideList=addPopupRes.hideFunc),this.isPickerDisplayed=!0,setElementWidth(listGui,getAbsoluteWidth(this.eWrapper)),listGui.style.maxHeight=getInnerHeight(this.popupService.getPopupParent())+\"px\",listGui.style.position=\"absolute\",this.popupService.positionPopupUnderComponent({type:\"ag-list\",eventSource:this.eWrapper,ePopup:listGui,keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},AgSelect.prototype.addOptions=function(options){var _this=this;return options.forEach((function(option){return _this.addOption(option)})),this},AgSelect.prototype.addOption=function(option){return this.listComponent.addOption(option),this},AgSelect.prototype.setValue=function(value,silent,fromPicker){return this.value===value?this:(fromPicker||this.listComponent.setValue(value,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),_super.prototype.setValue.call(this,value,silent)))},AgSelect.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),_super.prototype.destroy.call(this)},__decorate$1Q([Autowired(\"popupService\")],AgSelect.prototype,\"popupService\",void 0),__decorate$1Q([PostConstruct],AgSelect.prototype,\"init\",null),AgSelect}(AgPickerField),__extends$20=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1R=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},AgAngleSelect=function(_super){function AgAngleSelect(config){var _this=_super.call(this,config,AgAngleSelect.TEMPLATE)||this;return _this.radius=0,_this.offsetX=0,_this.offsetY=0,_this}return __extends$20(AgAngleSelect,_super),AgAngleSelect.prototype.postConstruct=function(){var _this=this;_super.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(e){_this.parentCircleRect=_this.eParentCircle.getBoundingClientRect()},onDragging:function(e){return _this.calculateAngleDrag(e)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel(\"\").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(\"\"+this.degrees).onValueChange((function(value){null!=value&&\"\"!==value||(value=\"0\"),value=_this.eAngleValue.normalizeValue(value);var floatValue=parseFloat(value);floatValue>180&&(floatValue-=360),_this.setValue(floatValue)})),this.updateNumberInput(),exists(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,AgAbstractField.EVENT_CHANGED,(function(){_this.eAngleValue.getInputElement().contains(document.activeElement)||_this.updateNumberInput()}))},AgAngleSelect.prototype.updateNumberInput=function(){var normalizedValue=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(normalizedValue.toString())},AgAngleSelect.prototype.positionChildCircle=function(radians){var rect=this.parentCircleRect||{width:24,height:24},eChildCircle=this.eChildCircle,centerY=rect.height/2;eChildCircle.style.left=rect.width/2+8*Math.cos(radians)+\"px\",eChildCircle.style.top=centerY+8*Math.sin(radians)+\"px\"},AgAngleSelect.prototype.calculatePolar=function(){var x=this.offsetX,y=this.offsetY,radians=Math.atan2(y,x);this.degrees=this.toDegrees(radians),this.radius=Math.sqrt(x*x+y*y),this.positionChildCircle(radians)},AgAngleSelect.prototype.calculateCartesian=function(){var radians=this.toRadians(this.getValue()),radius=this.getRadius();this.setOffsetX(Math.cos(radians)*radius).setOffsetY(Math.sin(radians)*radius)},AgAngleSelect.prototype.setOffsetX=function(offset){return this.offsetX!==offset&&(this.offsetX=offset,this.calculatePolar()),this},AgAngleSelect.prototype.setOffsetY=function(offset){return this.offsetY!==offset&&(this.offsetY=offset,this.calculatePolar()),this},AgAngleSelect.prototype.calculateAngleDrag=function(e){var rect=this.parentCircleRect,radians=Math.atan2(e.clientY-rect.top-rect.height/2,e.clientX-rect.left-rect.width/2);this.setValue(radians,!0)},AgAngleSelect.prototype.toDegrees=function(radians){return radians/Math.PI*180},AgAngleSelect.prototype.toRadians=function(degrees){return degrees/180*Math.PI},AgAngleSelect.prototype.normalizeNegativeValue=function(degrees){return degrees<0?360+degrees:degrees},AgAngleSelect.prototype.normalizeAngle180=function(radians){return(radians%=2*Math.PI)<-Math.PI?radians+=2*Math.PI:radians>=Math.PI&&(radians-=2*Math.PI),radians},AgAngleSelect.prototype.getRadius=function(){return this.radius},AgAngleSelect.prototype.setRadius=function(r){return this.radius===r?this:(this.radius=r,this.calculateCartesian(),this)},AgAngleSelect.prototype.onValueChange=function(callbackFn){var _this=this;return this.addManagedListener(this,AgAbstractField.EVENT_CHANGED,(function(){callbackFn(_this.degrees)})),this},AgAngleSelect.prototype.getValue=function(radians){return radians?this.toRadians(this.degrees):this.degrees},AgAngleSelect.prototype.setValue=function(degrees,radians){var radiansValue;return radiansValue=radians?degrees:this.normalizeAngle180(this.toRadians(degrees)),degrees=this.toDegrees(radiansValue),this.degrees!==degrees&&(this.degrees=Math.floor(degrees),this.calculateCartesian(),this.positionChildCircle(radiansValue),this.dispatchEvent({type:AgAbstractField.EVENT_CHANGED})),this},AgAngleSelect.prototype.setWidth=function(width){return setFixedWidth(this.getGui(),width),this},AgAngleSelect.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),_super.prototype.destroy.call(this)},AgAngleSelect.TEMPLATE='<div class=\"ag-angle-select\">\\n            <div ref=\"eLabel\"></div>\\n            <div class=\"ag-wrapper ag-angle-select-wrapper\">\\n                <div ref=\"eAngleSelectField\" class=\"ag-angle-select-field\">\\n                    <div ref=\"eParentCircle\" class=\"ag-angle-select-parent-circle\">\\n                        <div ref=\"eChildCircle\" class=\"ag-angle-select-child-circle\"></div>\\n                    </div>\\n                </div>\\n                <ag-input-number-field ref=\"eAngleValue\"></ag-input-number-field>\\n            </div>\\n        </div>',__decorate$1R([RefSelector(\"eLabel\")],AgAngleSelect.prototype,\"eLabel\",void 0),__decorate$1R([RefSelector(\"eParentCircle\")],AgAngleSelect.prototype,\"eParentCircle\",void 0),__decorate$1R([RefSelector(\"eChildCircle\")],AgAngleSelect.prototype,\"eChildCircle\",void 0),__decorate$1R([RefSelector(\"eAngleValue\")],AgAngleSelect.prototype,\"eAngleValue\",void 0),__decorate$1R([Autowired(\"dragService\")],AgAngleSelect.prototype,\"dragService\",void 0),AgAngleSelect}(AgAbstractLabel),__extends$21=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),AgToggleButton=function(_super){function AgToggleButton(config){return _super.call(this,config,\"ag-toggle-button\")||this}return __extends$21(AgToggleButton,_super),AgToggleButton.prototype.setValue=function(value,silent){return _super.prototype.setValue.call(this,value,silent),addOrRemoveCssClass(this.getGui(),\"ag-selected\",this.getValue()),this},AgToggleButton}(AgCheckbox),__extends$22=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1S=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},DetailRowCompCache=function(_super){function DetailRowCompCache(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.cacheItems=[],_this}return __extends$22(DetailRowCompCache,_super),DetailRowCompCache.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isKeepDetailRows(),this.maxCacheSize=this.gridOptionsWrapper.getKeepDetailRowsCount()},DetailRowCompCache.prototype.addOrDestroy=function(rowNode,pinned,comp){if(this.active&&rowNode.detail){var item=this.getCacheItem(rowNode,!0);switch(pinned){case Constants.PINNED_LEFT:this.destroyFullWidthRow(item.left),item.left=comp;break;case Constants.PINNED_RIGHT:this.destroyFullWidthRow(item.right),item.right=comp;break;default:this.destroyFullWidthRow(item.center),item.center=comp}this.cacheItems.sort((function(a,b){return b.lastAccessedTime-a.lastAccessedTime})),this.purgeCache(this.maxCacheSize)}else this.destroyFullWidthRow(comp)},DetailRowCompCache.prototype.getCacheItem=function(rowNode,autoCreate){void 0===autoCreate&&(autoCreate=!1);for(var res=null,i=0;i<this.cacheItems.length;i++){var item=this.cacheItems[i];if(item.rowNode===rowNode){res=item;break}}return!res&&autoCreate&&this.cacheItems.push(res={rowNode:rowNode}),res&&this.stampCacheItem(res),res},DetailRowCompCache.prototype.stampCacheItem=function(item){item.lastAccessedTime=(new Date).getTime()},DetailRowCompCache.prototype.destroyFullWidthRow=function(comp){this.getContext().destroyBean(comp)},DetailRowCompCache.prototype.purgeCache=function(startIndex){for(var i=startIndex;i<this.cacheItems.length;i++){var item=this.cacheItems[i];this.destroyFullWidthRow(item.center),this.destroyFullWidthRow(item.left),this.destroyFullWidthRow(item.right)}this.cacheItems.length>startIndex&&(this.cacheItems.length=startIndex)},DetailRowCompCache.prototype.get=function(rowNode,pinned){if(rowNode.detail){var res,item=this.getCacheItem(rowNode);if(item)switch(pinned){case Constants.PINNED_LEFT:item.left&&(res=item.left,item.left=void 0);break;case Constants.PINNED_RIGHT:item.right&&(res=item.right,item.right=void 0);break;default:item.center&&(res=item.center,item.center=void 0)}return res}},DetailRowCompCache.prototype.destroy=function(){_super.prototype.destroy.call(this),this.purgeCache(0)},__decorate$1S([PostConstruct],DetailRowCompCache.prototype,\"postConstruct\",null),__decorate$1S([PreDestroy],DetailRowCompCache.prototype,\"destroy\",null),__decorate$1S([Bean(\"detailRowCompCache\")],DetailRowCompCache)}(BeanStub),__extends$23=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1T=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},RowPositionUtils=function(_super){function RowPositionUtils(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$23(RowPositionUtils,_super),RowPositionUtils.prototype.getFirstRow=function(){var rowPinned,rowIndex=0;return this.pinnedRowModel.getPinnedTopRowCount()?rowPinned=Constants.PINNED_TOP:this.rowModel.getRowCount()?(rowPinned=null,rowIndex=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(rowPinned=Constants.PINNED_BOTTOM),void 0===rowPinned?null:{rowIndex:rowIndex,rowPinned:rowPinned}},RowPositionUtils.prototype.getLastRow=function(){var rowIndex,rowPinned=null,pinnedBottomCount=this.pinnedRowModel.getPinnedBottomRowCount(),pinnedTopCount=this.pinnedRowModel.getPinnedTopRowCount();return pinnedBottomCount?(rowPinned=Constants.PINNED_BOTTOM,rowIndex=pinnedBottomCount-1):this.rowModel.getRowCount()?(rowPinned=null,rowIndex=this.paginationProxy.getPageLastRow()):pinnedTopCount&&(rowPinned=Constants.PINNED_TOP,rowIndex=pinnedTopCount-1),void 0===rowIndex?null:{rowIndex:rowIndex,rowPinned:rowPinned}},RowPositionUtils.prototype.getRowNode=function(gridRow){switch(gridRow.rowPinned){case Constants.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[gridRow.rowIndex];case Constants.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[gridRow.rowIndex];default:return this.rowModel.getRow(gridRow.rowIndex)}},RowPositionUtils.prototype.sameRow=function(rowA,rowB){return!rowA&&!rowB||!(rowA&&!rowB||!rowA&&rowB)&&rowA.rowIndex===rowB.rowIndex&&rowA.rowPinned==rowB.rowPinned},RowPositionUtils.prototype.before=function(rowA,rowB){switch(rowA.rowPinned){case Constants.PINNED_TOP:if(rowB.rowPinned!==Constants.PINNED_TOP)return!0;break;case Constants.PINNED_BOTTOM:if(rowB.rowPinned!==Constants.PINNED_BOTTOM)return!1;break;default:if(exists(rowB.rowPinned))return rowB.rowPinned!==Constants.PINNED_TOP}return rowA.rowIndex<rowB.rowIndex},__decorate$1T([Autowired(\"rowModel\")],RowPositionUtils.prototype,\"rowModel\",void 0),__decorate$1T([Autowired(\"pinnedRowModel\")],RowPositionUtils.prototype,\"pinnedRowModel\",void 0),__decorate$1T([Autowired(\"paginationProxy\")],RowPositionUtils.prototype,\"paginationProxy\",void 0),__decorate$1T([Bean(\"rowPositionUtils\")],RowPositionUtils)}(BeanStub),__extends$24=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),CellPositionUtils=function(_super){function CellPositionUtils(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$24(CellPositionUtils,_super),CellPositionUtils.prototype.createId=function(cellPosition){return this.createIdFromValues(cellPosition.rowIndex,cellPosition.column,cellPosition.rowPinned)},CellPositionUtils.prototype.createIdFromValues=function(rowIndex,column,rowPinned){return rowIndex+\".\"+(null==rowPinned?\"null\":rowPinned)+\".\"+column.getId()},CellPositionUtils.prototype.equals=function(cellA,cellB){return cellA.column===cellB.column&&cellA.rowPinned===cellB.rowPinned&&cellA.rowIndex===cellB.rowIndex},function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}([Bean(\"cellPositionUtils\")],CellPositionUtils)}(BeanStub),__extends$25=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1V=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},PinnedRowModel=function(_super){function PinnedRowModel(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$25(PinnedRowModel,_super),PinnedRowModel.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},PinnedRowModel.prototype.isEmpty=function(floating){return missingOrEmpty(floating===Constants.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows)},PinnedRowModel.prototype.isRowsToRender=function(floating){return!this.isEmpty(floating)},PinnedRowModel.prototype.getRowAtPixel=function(pixel,floating){var rows=floating===Constants.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(missingOrEmpty(rows))return 0;for(var i=0;i<rows.length;i++){var rowNode=rows[i];if(rowNode.rowTop+rowNode.rowHeight-1>=pixel)return i}return rows.length-1},PinnedRowModel.prototype.setPinnedTopRowData=function(rowData){this.pinnedTopRows=this.createNodesFromData(rowData,!0),this.eventService.dispatchEvent({type:Events.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},PinnedRowModel.prototype.setPinnedBottomRowData=function(rowData){this.pinnedBottomRows=this.createNodesFromData(rowData,!1),this.eventService.dispatchEvent({type:Events.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},PinnedRowModel.prototype.createNodesFromData=function(allData,isTop){var _this=this,rowNodes=[];if(allData){var nextRowTop_1=0;allData.forEach((function(dataItem,index){var rowNode=new RowNode;_this.context.createBean(rowNode),rowNode.data=dataItem,rowNode.id=(isTop?RowNode.ID_PREFIX_TOP_PINNED:RowNode.ID_PREFIX_BOTTOM_PINNED)+index,rowNode.rowPinned=isTop?Constants.PINNED_TOP:Constants.PINNED_BOTTOM,rowNode.setRowTop(nextRowTop_1),rowNode.setRowHeight(_this.gridOptionsWrapper.getRowHeightForNode(rowNode).height),rowNode.setRowIndex(index),nextRowTop_1+=rowNode.rowHeight,rowNodes.push(rowNode)}))}return rowNodes},PinnedRowModel.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},PinnedRowModel.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},PinnedRowModel.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},PinnedRowModel.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},PinnedRowModel.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},PinnedRowModel.prototype.getPinnedTopRow=function(index){return this.pinnedTopRows[index]},PinnedRowModel.prototype.getPinnedBottomRow=function(index){return this.pinnedBottomRows[index]},PinnedRowModel.prototype.forEachPinnedTopRow=function(callback){missingOrEmpty(this.pinnedTopRows)||this.pinnedTopRows.forEach(callback)},PinnedRowModel.prototype.forEachPinnedBottomRow=function(callback){missingOrEmpty(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(callback)},PinnedRowModel.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},PinnedRowModel.prototype.getTotalHeight=function(rowNodes){if(!rowNodes||0===rowNodes.length)return 0;var lastNode=last(rowNodes);return lastNode.rowTop+lastNode.rowHeight},__decorate$1V([Autowired(\"columnApi\")],PinnedRowModel.prototype,\"columnApi\",void 0),__decorate$1V([Autowired(\"gridApi\")],PinnedRowModel.prototype,\"gridApi\",void 0),__decorate$1V([PostConstruct],PinnedRowModel.prototype,\"init\",null),__decorate$1V([Bean(\"pinnedRowModel\")],PinnedRowModel)}(BeanStub),__extends$26=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),UndoRedoAction=function(cellValueChanges){this.cellValueChanges=cellValueChanges},FillUndoRedoAction=function(_super){function FillUndoRedoAction(cellValueChanges,initialRange,finalRange){var _this=_super.call(this,cellValueChanges)||this;return _this.initialRange=initialRange,_this.finalRange=finalRange,_this}return __extends$26(FillUndoRedoAction,_super),FillUndoRedoAction}(UndoRedoAction),UndoRedoStack=function(){function UndoRedoStack(maxStackSize){this.actionStack=[],this.maxStackSize=maxStackSize||UndoRedoStack.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return UndoRedoStack.prototype.pop=function(){return this.actionStack.pop()},UndoRedoStack.prototype.push=function(item){item.cellValueChanges&&item.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(item))},UndoRedoStack.prototype.clear=function(){this.actionStack=[]},UndoRedoStack.prototype.getCurrentStackSize=function(){return this.actionStack.length},UndoRedoStack.DEFAULT_STACK_SIZE=10,UndoRedoStack}(),__extends$27=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1W=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},UndoRedoService=function(_super){function UndoRedoService(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.cellValueChanges=[],_this.isCellEditing=!1,_this.isRowEditing=!1,_this.isPasting=!1,_this.isFilling=!1,_this.onCellValueChanged=function(event){if(_this.isCellEditing||_this.isRowEditing||_this.isPasting||_this.isFilling){var oldValue=event.oldValue,value=event.value,cellValueChange={rowPinned:event.rowPinned,rowIndex:event.rowIndex,columnId:event.column.getColId(),newValue:value,oldValue:oldValue};_this.cellValueChanges.push(cellValueChange)}},_this.clearStacks=function(){_this.undoStack.clear(),_this.redoStack.clear()},_this}return __extends$27(UndoRedoService,_super),UndoRedoService.prototype.init=function(){if(this.gridOptionsWrapper.isUndoRedoCellEditing()){var undoRedoLimit=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();undoRedoLimit<=0||(this.undoStack=new UndoRedoStack(undoRedoLimit),this.redoStack=new UndoRedoStack(undoRedoLimit),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addManagedListener(this.eventService,Events.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,Events.EVENT_MODEL_UPDATED,this.clearStacks),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Events.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,Events.EVENT_ROW_DRAG_END,this.clearStacks))}},UndoRedoService.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},UndoRedoService.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},UndoRedoService.prototype.undo=function(){if(this.undoStack){var undoAction=this.undoStack.pop();undoAction&&undoAction.cellValueChanges&&(this.processAction(undoAction,(function(cellValueChange){return cellValueChange.oldValue})),undoAction instanceof FillUndoRedoAction?this.processRangeAndCellFocus(undoAction.cellValueChanges,undoAction.initialRange):this.processRangeAndCellFocus(undoAction.cellValueChanges),this.redoStack.push(undoAction))}},UndoRedoService.prototype.redo=function(){if(this.redoStack){var redoAction=this.redoStack.pop();redoAction&&redoAction.cellValueChanges&&(this.processAction(redoAction,(function(cellValueChange){return cellValueChange.newValue})),redoAction instanceof FillUndoRedoAction?this.processRangeAndCellFocus(redoAction.cellValueChanges,redoAction.finalRange):this.processRangeAndCellFocus(redoAction.cellValueChanges),this.undoStack.push(redoAction))}},UndoRedoService.prototype.processAction=function(action,valueExtractor){var _this=this;action.cellValueChanges.forEach((function(cellValueChange){var columnId=cellValueChange.columnId,currentRow=_this.getRowNode({rowIndex:cellValueChange.rowIndex,rowPinned:cellValueChange.rowPinned});currentRow.displayed&&currentRow.setDataValue(columnId,valueExtractor(cellValueChange))}))},UndoRedoService.prototype.processRangeAndCellFocus=function(cellValueChanges,range){var lastFocusedCell;if(range){var startRow=range.startRow,endRow=range.endRow;return lastFocusedCell={rowPinned:startRow.rowPinned,rowIndex:startRow.rowIndex,columnId:range.startColumn.getColId()},this.setLastFocusedCell(lastFocusedCell),void this.gridApi.addCellRange({rowStartIndex:startRow.rowIndex,rowStartPinned:startRow.rowPinned,rowEndIndex:endRow.rowIndex,rowEndPinned:endRow.rowPinned,columnStart:range.startColumn,columns:range.columns})}var cellValueChange=cellValueChanges[0],row=this.getRowNode({rowIndex:cellValueChange.rowIndex,rowPinned:cellValueChange.rowPinned});this.setLastFocusedCell(lastFocusedCell={rowPinned:cellValueChange.rowPinned,rowIndex:row.rowIndex,columnId:cellValueChange.columnId})},UndoRedoService.prototype.setLastFocusedCell=function(lastFocusedCell){var rowIndex=lastFocusedCell.rowIndex,columnId=lastFocusedCell.columnId,rowPinned=lastFocusedCell.rowPinned;this.gridApi.ensureIndexVisible(rowIndex),this.gridApi.ensureColumnVisible(columnId),ModuleRegistry.isRegistered(exports.ModuleNames.RangeSelectionModule)&&this.gridApi.clearRangeSelection(),this.focusController.setFocusedCell(rowIndex,columnId,rowPinned,!0)},UndoRedoService.prototype.addRowEditingListeners=function(){var _this=this;this.addManagedListener(this.eventService,Events.EVENT_ROW_EDITING_STARTED,(function(){_this.isRowEditing=!0})),this.addManagedListener(this.eventService,Events.EVENT_ROW_EDITING_STOPPED,(function(){var action=new UndoRedoAction(_this.cellValueChanges);_this.pushActionsToUndoStack(action),_this.isRowEditing=!1}))},UndoRedoService.prototype.addCellEditingListeners=function(){var _this=this;this.addManagedListener(this.eventService,Events.EVENT_CELL_EDITING_STARTED,(function(){_this.isCellEditing=!0})),this.addManagedListener(this.eventService,Events.EVENT_CELL_EDITING_STOPPED,(function(){if(_this.isCellEditing=!1,!_this.isRowEditing&&!_this.isPasting&&!_this.isFilling){var action=new UndoRedoAction(_this.cellValueChanges);_this.pushActionsToUndoStack(action)}}))},UndoRedoService.prototype.addPasteListeners=function(){var _this=this;this.addManagedListener(this.eventService,Events.EVENT_PASTE_START,(function(){_this.isPasting=!0})),this.addManagedListener(this.eventService,Events.EVENT_PASTE_END,(function(){var action=new UndoRedoAction(_this.cellValueChanges);_this.pushActionsToUndoStack(action),_this.isPasting=!1}))},UndoRedoService.prototype.addFillListeners=function(){var _this=this;this.addManagedListener(this.eventService,Events.EVENT_FILL_START,(function(){_this.isFilling=!0})),this.addManagedListener(this.eventService,Events.EVENT_FILL_END,(function(event){var action=new FillUndoRedoAction(_this.cellValueChanges,event.initialRange,event.finalRange);_this.pushActionsToUndoStack(action),_this.isFilling=!1}))},UndoRedoService.prototype.pushActionsToUndoStack=function(action){this.undoStack.push(action),this.cellValueChanges=[],this.redoStack.clear()},UndoRedoService.prototype.getRowNode=function(gridRow){switch(gridRow.rowPinned){case Constants.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[gridRow.rowIndex];case Constants.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[gridRow.rowIndex];default:return this.rowModel.getRow(gridRow.rowIndex)}},__decorate$1W([Autowired(\"focusController\")],UndoRedoService.prototype,\"focusController\",void 0),__decorate$1W([Autowired(\"gridApi\")],UndoRedoService.prototype,\"gridApi\",void 0),__decorate$1W([Autowired(\"rowModel\")],UndoRedoService.prototype,\"rowModel\",void 0),__decorate$1W([Autowired(\"pinnedRowModel\")],UndoRedoService.prototype,\"pinnedRowModel\",void 0),__decorate$1W([PostConstruct],UndoRedoService.prototype,\"init\",null),__decorate$1W([Bean(\"undoRedoService\")],UndoRedoService)}(BeanStub),__extends$28=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),AgStackComponentsRegistry=function(_super){function AgStackComponentsRegistry(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.componentsMappedByName={},_this}return __extends$28(AgStackComponentsRegistry,_super),AgStackComponentsRegistry.prototype.setupComponents=function(components){var _this=this;components&&components.forEach((function(componentMeta){return _this.addComponent(componentMeta)}))},AgStackComponentsRegistry.prototype.addComponent=function(componentMeta){var classUpperCase=componentMeta.componentName.replace(/([a-z])([A-Z])/g,\"$1-$2\").toLowerCase().toUpperCase();this.componentsMappedByName[classUpperCase]=componentMeta.componentClass},AgStackComponentsRegistry.prototype.getComponentClass=function(htmlTag){return this.componentsMappedByName[htmlTag]},function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}([Bean(\"agStackComponentsRegistry\")],AgStackComponentsRegistry)}(BeanStub),__extends$29=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1Y=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},HeaderPositionUtils=function(_super){function HeaderPositionUtils(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$29(HeaderPositionUtils,_super),HeaderPositionUtils.prototype.findHeader=function(focusedHeader,direction){var nextColumn;if(nextColumn=focusedHeader.column instanceof ColumnGroup?this.columnController[\"getDisplayedGroup\"+direction](focusedHeader.column):this.columnController[\"getDisplayedCol\"+direction](focusedHeader.column))return{column:nextColumn,headerRowIndex:focusedHeader.headerRowIndex}},HeaderPositionUtils.prototype.findColAtEdgeForHeaderRow=function(level,position){var displayedColumns=this.columnController.getAllDisplayedColumns(),column=displayedColumns[\"start\"===position?0:displayedColumns.length-1];if(column){var headerRowComp=this.headerNavigationService.getHeaderContainer(column.getPinned()).getRowComps()[level];return(headerRowComp&&headerRowComp.getType())==HeaderRowType.COLUMN_GROUP?{headerRowIndex:level,column:this.columnController.getColumnGroupAtLevel(column,level)}:{headerRowIndex:headerRowComp?level:-1,column:column}}},__decorate$1Y([Autowired(\"columnController\")],HeaderPositionUtils.prototype,\"columnController\",void 0),__decorate$1Y([Autowired(\"headerNavigationService\")],HeaderPositionUtils.prototype,\"headerNavigationService\",void 0),__decorate$1Y([Bean(\"headerPositionUtils\")],HeaderPositionUtils)}(BeanStub),ColumnDefFactory=function(){function ColumnDefFactory(){}return ColumnDefFactory.prototype.buildColumnDefs=function(cols,rowGroupColumns,pivotColumns){var _this=this,res=[],colGroupDefs={};return cols.forEach((function(col){for(var addToResult=!0,childDef=_this.createDefFromColumn(col,rowGroupColumns,pivotColumns),pointer=col.getOriginalParent();pointer;){var parentDef=null;if(pointer.isPadding())pointer=pointer.getOriginalParent();else{var existingParentDef=colGroupDefs[pointer.getGroupId()];if(existingParentDef){existingParentDef.children.push(childDef),addToResult=!1;break}(parentDef=_this.createDefFromGroup(pointer))&&(parentDef.children=[childDef],colGroupDefs[parentDef.groupId]=parentDef,childDef=parentDef,pointer=pointer.getOriginalParent())}}addToResult&&res.push(childDef)})),res},ColumnDefFactory.prototype.createDefFromGroup=function(group){var defCloned=deepCloneDefinition(group.getColGroupDef(),[\"children\"]);return defCloned&&(defCloned.groupId=group.getGroupId()),defCloned},ColumnDefFactory.prototype.createDefFromColumn=function(col,rowGroupColumns,pivotColumns){var colDefCloned=deepCloneDefinition(col.getColDef());return colDefCloned.colId=col.getColId(),colDefCloned.width=col.getActualWidth(),colDefCloned.rowGroup=col.isRowGroupActive(),colDefCloned.rowGroupIndex=col.isRowGroupActive()?rowGroupColumns.indexOf(col):null,colDefCloned.pivot=col.isPivotActive(),colDefCloned.pivotIndex=col.isPivotActive()?pivotColumns.indexOf(col):null,colDefCloned.aggFunc=col.isValueActive()?col.getAggFunc():null,colDefCloned.hide=!col.isVisible()||void 0,colDefCloned.pinned=col.isPinned()?col.getPinned():null,colDefCloned.sort=col.getSort()?col.getSort():null,colDefCloned.sortIndex=null!=col.getSortIndex()?col.getSortIndex():null,colDefCloned},function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}([Bean(\"columnDefFactory\")],ColumnDefFactory)}(),__decorate$1_=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},RowCssClassCalculator=function(){function RowCssClassCalculator(){}return RowCssClassCalculator.prototype.getInitialRowClasses=function(params){var classes=[];return exists(params.extraCssClass)&&classes.push(params.extraCssClass),classes.push(\"ag-row\"),classes.push(params.rowFocused?\"ag-row-focus\":\"ag-row-no-focus\"),params.fadeRowIn&&classes.push(\"ag-opacity-zero\"),classes.push(params.rowIsEven?\"ag-row-even\":\"ag-row-odd\"),params.rowNode.isRowPinned()&&classes.push(\"ag-row-pinned\"),params.rowNode.isSelected()&&classes.push(\"ag-row-selected\"),params.rowNode.footer&&classes.push(\"ag-row-footer\"),classes.push(\"ag-row-level-\"+params.rowLevel),params.rowNode.stub&&classes.push(\"ag-row-loading\"),params.fullWidthRow&&classes.push(\"ag-full-width-row\"),params.expandable&&(classes.push(\"ag-row-group\"),classes.push(params.rowNode.expanded?\"ag-row-group-expanded\":\"ag-row-group-contracted\")),params.rowNode.dragging&&classes.push(\"ag-row-dragging\"),pushAll(classes,this.processClassesFromGridOptions(params.rowNode,params.scope)),pushAll(classes,this.preProcessRowClassRules(params.rowNode,params.scope)),classes.push(params.printLayout?\"ag-row-position-relative\":\"ag-row-position-absolute\"),params.firstRowOnPage&&classes.push(\"ag-row-first\"),params.lastRowOnPage&&classes.push(\"ag-row-last\"),params.fullWidthRow&&(params.pinned===Constants.PINNED_LEFT&&classes.push(\"ag-cell-last-left-pinned\"),params.pinned===Constants.PINNED_RIGHT&&classes.push(\"ag-cell-first-right-pinned\")),classes},RowCssClassCalculator.prototype.processClassesFromGridOptions=function(rowNode,scope){var res=[],process=function(rowCls){\"string\"==typeof rowCls?res.push(rowCls):Array.isArray(rowCls)&&rowCls.forEach((function(e){return res.push(e)}))},rowClass=this.gridOptionsWrapper.getRowClass();if(rowClass){if(\"function\"==typeof rowClass)return console.warn(\"AG Grid: rowClass should not be a function, please use getRowClass instead\"),[];process(rowClass)}var rowClassFunc=this.gridOptionsWrapper.getRowClassFunc();return rowClassFunc&&process(rowClassFunc({data:rowNode.data,node:rowNode,rowIndex:rowNode.rowIndex,$scope:scope,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()})),res},RowCssClassCalculator.prototype.preProcessRowClassRules=function(rowNode,scope){var res=[];return this.processRowClassRules(rowNode,scope,(function(className){res.push(className)}),(function(className){})),res},RowCssClassCalculator.prototype.processRowClassRules=function(rowNode,scope,onApplicableClass,onNotApplicableClass){var rowClassParams={data:rowNode.data,node:rowNode,rowIndex:rowNode.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),$scope:scope,context:this.gridOptionsWrapper.getContext()};this.stylingService.processClassRules(this.gridOptionsWrapper.rowClassRules(),rowClassParams,onApplicableClass,onNotApplicableClass)},RowCssClassCalculator.prototype.calculateRowLevel=function(rowNode){return rowNode.group?rowNode.level:rowNode.parent?rowNode.parent.level+1:0},__decorate$1_([Autowired(\"stylingService\")],RowCssClassCalculator.prototype,\"stylingService\",void 0),__decorate$1_([Autowired(\"gridOptionsWrapper\")],RowCssClassCalculator.prototype,\"gridOptionsWrapper\",void 0),__decorate$1_([Bean(\"rowCssClassCalculator\")],RowCssClassCalculator)}(),__extends$2a=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),RowNodeBlock=function(_super){function RowNodeBlock(id){var _this=_super.call(this)||this;return _this.state=RowNodeBlock.STATE_WAITING_TO_LOAD,_this.version=0,_this.id=id,_this}return __extends$2a(RowNodeBlock,_super),RowNodeBlock.prototype.getId=function(){return this.id},RowNodeBlock.prototype.load=function(){this.state=RowNodeBlock.STATE_LOADING,this.loadFromDatasource()},RowNodeBlock.prototype.getVersion=function(){return this.version},RowNodeBlock.prototype.setStateWaitingToLoad=function(){this.version++,this.state=RowNodeBlock.STATE_WAITING_TO_LOAD},RowNodeBlock.prototype.getState=function(){return this.state},RowNodeBlock.prototype.pageLoadFailed=function(version){this.isRequestMostRecentAndLive(version)&&(this.state=RowNodeBlock.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},RowNodeBlock.prototype.success=function(version,params){this.successCommon(version,params)},RowNodeBlock.prototype.pageLoaded=function(version,rows,lastRow){this.successCommon(version,{rowData:rows,rowCount:lastRow})},RowNodeBlock.prototype.isRequestMostRecentAndLive=function(version){var thisIsMostRecentRequest=version===this.version,weAreNotDestroyed=this.isAlive();return thisIsMostRecentRequest&&weAreNotDestroyed},RowNodeBlock.prototype.successCommon=function(version,params){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(version)&&(this.state=RowNodeBlock.STATE_LOADED,this.processServerResult(params))},RowNodeBlock.prototype.dispatchLoadCompleted=function(success){void 0===success&&(success=!0),this.dispatchEvent({type:RowNodeBlock.EVENT_LOAD_COMPLETE,success:success,block:this})},RowNodeBlock.EVENT_LOAD_COMPLETE=\"loadComplete\",RowNodeBlock.STATE_WAITING_TO_LOAD=\"needsLoading\",RowNodeBlock.STATE_LOADING=\"loading\",RowNodeBlock.STATE_LOADED=\"loaded\",RowNodeBlock.STATE_FAILED=\"failed\",RowNodeBlock}(BeanStub),__extends$2b=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$1$=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},RowNodeBlockLoader=function(_super){function RowNodeBlockLoader(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.activeBlockLoadsCount=0,_this.blocks=[],_this.active=!0,_this}var RowNodeBlockLoader_1,decorator;return __extends$2b(RowNodeBlockLoader,_super),RowNodeBlockLoader_1=RowNodeBlockLoader,RowNodeBlockLoader.prototype.postConstruct=function(){this.maxConcurrentRequests=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();var blockLoadDebounceMillis=this.gridOptionsWrapper.getBlockLoadDebounceMillis();blockLoadDebounceMillis&&blockLoadDebounceMillis>0&&(this.checkBlockToLoadDebounce=_.debounce(this.performCheckBlocksToLoad.bind(this),blockLoadDebounceMillis))},RowNodeBlockLoader.prototype.setBeans=function(loggerFactory){this.logger=loggerFactory.create(\"RowNodeBlockLoader\")},RowNodeBlockLoader.prototype.addBlock=function(block){this.blocks.push(block),block.addEventListener(RowNodeBlock.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},RowNodeBlockLoader.prototype.removeBlock=function(block){_.removeFromArray(this.blocks,block)},RowNodeBlockLoader.prototype.destroy=function(){_super.prototype.destroy.call(this),this.active=!1},RowNodeBlockLoader.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:RowNodeBlockLoader_1.BLOCK_LOADER_FINISHED_EVENT})},RowNodeBlockLoader.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},RowNodeBlockLoader.prototype.performCheckBlocksToLoad=function(){if(this.active)if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)this.logger.log(\"checkBlockToLoad: max loads exceeded\");else{var blockToLoad=null;this.blocks.forEach((function(block){block.getState()===RowNodeBlock.STATE_WAITING_TO_LOAD&&(blockToLoad=block)})),blockToLoad&&(blockToLoad.load(),this.activeBlockLoadsCount++,this.printCacheStatus())}},RowNodeBlockLoader.prototype.getBlockState=function(){var result={};return this.blocks.forEach((function(block){var _a=block.getBlockStateJson();result[_a.id]=_a.state})),result},RowNodeBlockLoader.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log(\"printCacheStatus: activePageLoadsCount = \"+this.activeBlockLoadsCount+\", blocks = \"+JSON.stringify(this.getBlockState()))},RowNodeBlockLoader.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},RowNodeBlockLoader.BLOCK_LOADER_FINISHED_EVENT=\"blockLoaderFinished\",__decorate$1$([PostConstruct],RowNodeBlockLoader.prototype,\"postConstruct\",null),__decorate$1$([(0,decorator=Qualifier(\"loggerFactory\"),function(target,key){decorator(target,key,0)})],RowNodeBlockLoader.prototype,\"setBeans\",null),RowNodeBlockLoader_1=__decorate$1$([Bean(\"rowNodeBlockLoader\")],RowNodeBlockLoader)}(BeanStub),__decorate$20=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},RowNodeSorter=function(){function RowNodeSorter(){}return RowNodeSorter.prototype.doFullSort=function(rowNodes,sortOptions){var sortedRowNodes=rowNodes.map((function(rowNode,pos){return{currentPos:pos,rowNode:rowNode}}));return sortedRowNodes.sort(this.compareRowNodes.bind(this,sortOptions)),sortedRowNodes.map((function(item){return item.rowNode}))},RowNodeSorter.prototype.compareRowNodes=function(sortOptions,sortedNodeA,sortedNodeB){for(var nodeA=sortedNodeA.rowNode,nodeB=sortedNodeB.rowNode,i=0,len=sortOptions.length;i<len;i++){var comparatorResult,sortOption=sortOptions[i],isInverted=sortOption.sort===Constants.SORT_DESC,valueA=this.getValue(nodeA,sortOption.column),valueB=this.getValue(nodeB,sortOption.column),providedComparator=sortOption.column.getColDef().comparator;if(0!==(comparatorResult=providedComparator?providedComparator(valueA,valueB,nodeA,nodeB,isInverted):_.defaultComparator(valueA,valueB,this.gridOptionsWrapper.isAccentedSort())))return sortOption.sort===Constants.SORT_ASC?comparatorResult:-1*comparatorResult}return sortedNodeA.currentPos-sortedNodeB.currentPos},RowNodeSorter.prototype.getValue=function(nodeA,column){return this.valueService.getValue(column,nodeA)},__decorate$20([Autowired(\"gridOptionsWrapper\")],RowNodeSorter.prototype,\"gridOptionsWrapper\",void 0),__decorate$20([Autowired(\"valueService\")],RowNodeSorter.prototype,\"valueService\",void 0),__decorate$20([Bean(\"rowNodeSorter\")],RowNodeSorter)}(),__extends$2c=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),ControllersService=function(_super){function ControllersService(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.ready=!1,_this.readyCallbacks=[],_this}return __extends$2c(ControllersService,_super),ControllersService.prototype.checkReady=function(){if(this.ready=null!=this.gridCompCon&&null!=this.gridBodyCon&&null!=this.centerRowContainerCon&&null!=this.leftRowContainerCon&&null!=this.rightRowContainerCon&&null!=this.bottomCenterRowContainerCon&&null!=this.bottomLeftRowContainerCon&&null!=this.bottomRightRowContainerCon&&null!=this.topCenterRowContainerCon&&null!=this.topLeftRowContainerCon&&null!=this.topRightRowContainerCon&&null!=this.fakeHScrollCon&&null!=this.headerRootComp,this.ready){var p_1=this.createReadyParams();this.readyCallbacks.forEach((function(c){return c(p_1)})),this.readyCallbacks.length=0}},ControllersService.prototype.whenReady=function(callback){this.ready?callback(this.createReadyParams()):this.readyCallbacks.push(callback)},ControllersService.prototype.createReadyParams=function(){return{centerRowContainerCon:this.centerRowContainerCon,leftRowContainerCon:this.leftRowContainerCon,rightRowContainerCon:this.rightRowContainerCon,bottomCenterRowContainerCon:this.bottomCenterRowContainerCon,bottomLeftRowContainerCon:this.bottomLeftRowContainerCon,bottomRightRowContainerCon:this.bottomRightRowContainerCon,topCenterRowContainerCon:this.topCenterRowContainerCon,topLeftRowContainerCon:this.topLeftRowContainerCon,topRightRowContainerCon:this.topRightRowContainerCon,fakeHScrollCon:this.fakeHScrollCon,gridBodyCon:this.gridBodyCon,gridCompCon:this.gridCompCon,headerRootComp:this.headerRootComp}},ControllersService.prototype.registerFakeHScrollCon=function(con){this.fakeHScrollCon=con,this.checkReady()},ControllersService.prototype.registerHeaderRootComp=function(headerRootComp){this.headerRootComp=headerRootComp,this.checkReady()},ControllersService.prototype.registerCenterRowContainerCon=function(con){this.centerRowContainerCon=con,this.checkReady()},ControllersService.prototype.registerLeftRowContainerCon=function(con){this.leftRowContainerCon=con,this.checkReady()},ControllersService.prototype.registerRightRowContainerCon=function(con){this.rightRowContainerCon=con,this.checkReady()},ControllersService.prototype.registerTopCenterRowContainerCon=function(con){this.topCenterRowContainerCon=con,this.checkReady()},ControllersService.prototype.registerTopLeftRowContainerCon=function(con){this.topLeftRowContainerCon=con,this.checkReady()},ControllersService.prototype.registerTopRightRowContainerCon=function(con){this.topRightRowContainerCon=con,this.checkReady()},ControllersService.prototype.registerBottomCenterRowContainerCon=function(con){this.bottomCenterRowContainerCon=con,this.checkReady()},ControllersService.prototype.registerBottomLeftRowContainerCon=function(con){this.bottomLeftRowContainerCon=con,this.checkReady()},ControllersService.prototype.registerBottomRightRowContainerCon=function(con){this.bottomRightRowContainerCon=con,this.checkReady()},ControllersService.prototype.registerGridBodyController=function(con){this.gridBodyCon=con,this.checkReady()},ControllersService.prototype.registerGridCompController=function(con){this.gridCompCon=con,this.checkReady()},ControllersService.prototype.getFakeHScrollCon=function(){return this.fakeHScrollCon},ControllersService.prototype.getHeaderRootComp=function(){return this.headerRootComp},ControllersService.prototype.getGridCompController=function(){return this.gridCompCon},ControllersService.prototype.getCenterRowContainerCon=function(){return this.centerRowContainerCon},ControllersService.prototype.getTopCenterRowContainerCon=function(){return this.topCenterRowContainerCon},ControllersService.prototype.getBottomCenterRowContainerCon=function(){return this.bottomCenterRowContainerCon},ControllersService.prototype.getGridBodyController=function(){return this.gridBodyCon},function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}([Bean(\"controllersService\")],ControllersService)}(BeanStub),__extends$2d=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$22=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},FakeHorizontalScrollController=function(_super){function FakeHorizontalScrollController(){return _super.call(this)||this}return __extends$2d(FakeHorizontalScrollController,_super),FakeHorizontalScrollController.prototype.setView=function(view,eViewport,eContainer){this.view=view,this.eViewport=eViewport,this.eContainer=eContainer,this.addManagedListener(this.eventService,Events.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged();var spacerWidthsListener=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,spacerWidthsListener),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,spacerWidthsListener),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_DOM_LAYOUT,spacerWidthsListener),this.setFakeHScrollSpacerWidths(),this.controllersService.registerFakeHScrollCon(this)},FakeHorizontalScrollController.prototype.postConstruct=function(){this.enableRtl=this.gridOptionsWrapper.isEnableRtl()},FakeHorizontalScrollController.prototype.onScrollVisibilityChanged=function(){this.setScrollVisible(),this.setFakeHScrollSpacerWidths()},FakeHorizontalScrollController.prototype.setFakeHScrollSpacerWidths=function(){var vScrollShowing=this.scrollVisibleService.isVerticalScrollShowing(),rightSpacing=this.columnController.getDisplayedColumnsRightWidth(),scrollOnRight=!this.enableRtl&&vScrollShowing,scrollbarWidth=this.gridOptionsWrapper.getScrollbarWidth();scrollOnRight&&(rightSpacing+=scrollbarWidth),this.view.setRightSpacerFixedWidth(rightSpacing),this.view.includeRightSpacerScrollerCss(\"ag-scroller-corner\",rightSpacing<=scrollbarWidth);var leftSpacing=this.columnController.getDisplayedColumnsLeftWidth();this.enableRtl&&vScrollShowing&&(leftSpacing+=scrollbarWidth),this.view.setLeftSpacerFixedWidth(leftSpacing),this.view.includeLeftSpacerScrollerCss(\"ag-scroller-corner\",leftSpacing<=scrollbarWidth)},FakeHorizontalScrollController.prototype.setScrollVisible=function(){var hScrollShowing=this.scrollVisibleService.isHorizontalScrollShowing(),scrollbarInvisible=isInvisibleScrollbar(),isSuppressHorizontalScroll=this.gridOptionsWrapper.isSuppressHorizontalScroll(),scrollbarWidth=hScrollShowing&&this.gridOptionsWrapper.getScrollbarWidth()||0,scrollContainerSize=isSuppressHorizontalScroll?0:0===scrollbarWidth&&scrollbarInvisible?15:scrollbarWidth,addIEPadding=isBrowserIE()&&hScrollShowing;this.view.setInvisibleStyles(scrollbarInvisible),this.view.setHeight(scrollContainerSize),this.view.setViewportHeight(scrollContainerSize+(addIEPadding?1:0)),this.view.setContainerHeight(scrollContainerSize)},FakeHorizontalScrollController.prototype.getViewport=function(){return this.eViewport},FakeHorizontalScrollController.prototype.getContainer=function(){return this.eContainer},__decorate$22([Autowired(\"scrollVisibleService\")],FakeHorizontalScrollController.prototype,\"scrollVisibleService\",void 0),__decorate$22([Autowired(\"columnController\")],FakeHorizontalScrollController.prototype,\"columnController\",void 0),__decorate$22([Autowired(\"controllersService\")],FakeHorizontalScrollController.prototype,\"controllersService\",void 0),__decorate$22([PostConstruct],FakeHorizontalScrollController.prototype,\"postConstruct\",null),FakeHorizontalScrollController}(BeanStub),__extends$2e=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$23=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},FakeHorizontalScrollComp=function(_super){function FakeHorizontalScrollComp(){return _super.call(this,FakeHorizontalScrollComp.TEMPLATE)||this}return __extends$2e(FakeHorizontalScrollComp,_super),FakeHorizontalScrollComp.prototype.postConstruct=function(){var _this=this,view={setHeight:function(height){return setFixedHeight(_this.getGui(),height)},setContainerHeight:function(height){return setFixedHeight(_this.eContainer,height)},setViewportHeight:function(height){return setFixedHeight(_this.eViewport,height)},setRightSpacerFixedWidth:function(width){return setFixedWidth(_this.eRightSpacer,width)},setLeftSpacerFixedWidth:function(width){return setFixedWidth(_this.eLeftSpacer,width)},setInvisibleStyles:function(isInvisible){return addOrRemoveCssClass(_this.getGui(),\"ag-invisible-scrollbar\",isInvisible)},includeLeftSpacerScrollerCss:function(cssClass,include){return addOrRemoveCssClass(_this.eLeftSpacer,cssClass,include)},includeRightSpacerScrollerCss:function(cssClass,include){return addOrRemoveCssClass(_this.eRightSpacer,cssClass,include)}};this.controller=this.createManagedBean(new FakeHorizontalScrollController),this.controller.setView(view,this.eViewport,this.eContainer),this.createManagedBean(new CenterWidthFeature((function(width){return _this.eContainer.style.width=width+\"px\"})))},FakeHorizontalScrollComp.TEMPLATE='<div class=\"ag-body-horizontal-scroll\" aria-hidden=\"true\">\\n            <div class=\"ag-horizontal-left-spacer\" ref=\"eLeftSpacer\"></div>\\n            <div class=\"ag-body-horizontal-scroll-viewport\" ref=\"eViewport\">\\n                <div class=\"ag-body-horizontal-scroll-container\" ref=\"eContainer\"></div>\\n            </div>\\n            <div class=\"ag-horizontal-right-spacer\" ref=\"eRightSpacer\"></div>\\n        </div>',__decorate$23([RefSelector(\"eLeftSpacer\")],FakeHorizontalScrollComp.prototype,\"eLeftSpacer\",void 0),__decorate$23([RefSelector(\"eRightSpacer\")],FakeHorizontalScrollComp.prototype,\"eRightSpacer\",void 0),__decorate$23([RefSelector(\"eViewport\")],FakeHorizontalScrollComp.prototype,\"eViewport\",void 0),__decorate$23([RefSelector(\"eContainer\")],FakeHorizontalScrollComp.prototype,\"eContainer\",void 0),__decorate$23([PostConstruct],FakeHorizontalScrollComp.prototype,\"postConstruct\",null),FakeHorizontalScrollComp}(Component),__extends$2f=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$24=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},PinnedWidthService=function(_super){function PinnedWidthService(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$2f(PinnedWidthService,_super),PinnedWidthService.prototype.postConstruct=function(){var listener=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,listener),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,listener),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_DOM_LAYOUT,listener)},PinnedWidthService.prototype.checkContainerWidths=function(){var printLayout=this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_PRINT,newLeftWidth=printLayout?0:this.columnController.getDisplayedColumnsLeftWidth(),newRightWidth=printLayout?0:this.columnController.getDisplayedColumnsRightWidth();newLeftWidth!=this.leftWidth&&(this.leftWidth=newLeftWidth,this.eventService.dispatchEvent({type:Events.EVENT_LEFT_PINNED_WIDTH_CHANGED})),newRightWidth!=this.rightWidth&&(this.rightWidth=newRightWidth,this.eventService.dispatchEvent({type:Events.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},PinnedWidthService.prototype.getPinnedRightWidth=function(){return this.rightWidth},PinnedWidthService.prototype.getPinnedLeftWidth=function(){return this.leftWidth},__decorate$24([Autowired(\"columnController\")],PinnedWidthService.prototype,\"columnController\",void 0),__decorate$24([PostConstruct],PinnedWidthService.prototype,\"postConstruct\",null),__decorate$24([Bean(\"pinnedWidthService\")],PinnedWidthService)}(BeanStub),__extends$2g=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),RowComp=function(_super){function RowComp(controller,container,beans,pinned){var _this=_super.call(this)||this;_this.cellComps={},_this.container=container,_this.beans=beans,_this.rowNode=controller.getRowNode(),_this.pinned=pinned,_this.controller=controller;var template=_this.createTemplate();switch(_this.setTemplate(template),_this.afterRowAttached(),pinned){case Constants.PINNED_LEFT:controller.setLeftRowComp(_this);break;case Constants.PINNED_RIGHT:controller.setRightRowComp(_this);break;default:controller.isFullWidth()&&!beans.gridOptionsWrapper.isEmbedFullWidthRows()?controller.setFullWidthRowComp(_this):controller.setCenterRowComp(_this)}return controller.isFullWidth()?_this.createFullWidthRowCell():(_this.onColumnChanged(),_this.controller.refreshAriaLabel(_this.getGui(),!!_this.rowNode.isSelected())),_this}return __extends$2g(RowComp,_super),RowComp.prototype.createFullWidthRowCell=function(){var _this=this,params=this.controller.createFullWidthParams(this.getGui(),this.pinned),callback=function(cellRenderer){if(_this.isAlive()){var eGui=cellRenderer.getGui();_this.getGui().appendChild(eGui),_this.controller.getRowType()===RowType.FullWidthDetail&&_this.controller.setupDetailRowAutoHeight(eGui),_this.setFullWidthRowComp(cellRenderer)}else _this.beans.context.destroyBean(cellRenderer)},cachedDetailComp=this.beans.detailRowCompCache.get(this.rowNode,this.pinned);if(cachedDetailComp)callback(cachedDetailComp);else{var cellRendererType=FullWidthKeys.get(this.controller.getRowType()),cellRendererName=FullWidthRenderers.get(this.controller.getRowType()),res=this.beans.userComponentFactory.newFullWidthCellRenderer(params,cellRendererType,cellRendererName);if(res)res.then(callback);else{var masterDetailModuleLoaded=ModuleRegistry.isRegistered(exports.ModuleNames.MasterDetailModule);\"agDetailCellRenderer\"!==cellRendererName||masterDetailModuleLoaded?console.error(\"AG Grid: fullWidthCellRenderer \"+cellRendererName+\" not found\"):console.warn(\"AG Grid: cell renderer agDetailCellRenderer (for master detail) not found. Did you forget to include the master detail module?\")}}},RowComp.prototype.onColumnChanged=function(){var _this=this,cols=this.controller.getColsForRowComp(this.pinned),cellsToRemove=assign({},this.cellComps);cols.forEach((function(col){var colId=col.getId(),existingCellComp=_this.cellComps[colId];existingCellComp&&existingCellComp.getColumn()!==col&&(_this.destroyCells([existingCellComp]),existingCellComp=null),null==existingCellComp?_this.newCellComp(col):cellsToRemove[colId]=null}));var cellCompsToRemove=getAllValuesInObject(cellsToRemove).filter((function(cellComp){return!!cellComp&&_this.isCellEligibleToBeRemoved(cellComp)}));this.destroyCells(cellCompsToRemove),this.ensureDomOrder(cols)},RowComp.prototype.ensureDomOrder=function(cols){var _this=this;if(this.beans.gridOptionsWrapper.isEnsureDomOrder()){var elementsInOrder=[];cols.forEach((function(col){var cellComp=_this.cellComps[col.getColId()];cellComp&&elementsInOrder.push(cellComp.getGui())})),setDomChildOrder(this.getGui(),elementsInOrder)}},RowComp.prototype.isCellEligibleToBeRemoved=function(cellComp){if(cellComp.getColumn().getPinned()!=this.pinned)return!0;var editing=cellComp.isEditing(),focused=this.beans.focusController.isCellFocused(cellComp.getCellPosition());if(editing||focused){var column_1=cellComp.getColumn();return!(this.beans.columnController.getAllDisplayedColumns().indexOf(column_1)>=0)}return!0},RowComp.prototype.newCellComp=function(col){var cellComp=new CellComp(this.controller.getScope(),this.beans,col,this.rowNode,this.controller,!1,this.controller.isPrintLayout(),this.getGui(),this.controller.isEditing());this.cellComps[col.getId()]=cellComp,this.getGui().appendChild(cellComp.getGui())},RowComp.prototype.getCellComp=function(id){return this.cellComps[id]},RowComp.prototype.getCellCompSpanned=function(column){var _this=this,spanList=Object.keys(this.cellComps).map((function(name){return _this.cellComps[name]})).filter((function(cmp){return cmp&&-1!==cmp.getColSpanningList().indexOf(column)}));return spanList.length?spanList[0]:null},RowComp.prototype.destroy=function(){_super.prototype.destroy.call(this),this.destroyAllCells()},RowComp.prototype.destroyAllCells=function(){var cellsToDestroy=getAllValuesInObject(this.cellComps).filter((function(cp){return null!=cp}));this.destroyCells(cellsToDestroy)},RowComp.prototype.getContainer=function(){return this.container},RowComp.prototype.setFullWidthRowComp=function(fullWidthRowComponent){var _this=this;this.fullWidthRowComponent&&console.error(\"AG Grid - should not be setting fullWidthRowComponent twice\"),this.fullWidthRowComponent=fullWidthRowComponent,this.addDestroyFunc((function(){_this.beans.detailRowCompCache.addOrDestroy(_this.rowNode,_this.pinned,fullWidthRowComponent),_this.fullWidthRowComponent=null}))},RowComp.prototype.getFullWidthRowComp=function(){return this.fullWidthRowComponent},RowComp.prototype.createTemplate=function(){var con=this.controller,templateParts=[],rowHeight=this.rowNode.rowHeight,rowClasses=con.getInitialRowClasses(this.pinned).join(\" \"),rowIdSanitised=escapeString(this.rowNode.id),userRowStyles=con.preProcessStylesFromGridOptions(),businessKey=con.getRowBusinessKey(),businessKeySanitised=escapeString(businessKey),rowTopStyle=con.getInitialRowTopStyle(),rowIdx=this.rowNode.getRowIndexString(),headerRowCount=this.beans.headerNavigationService.getHeaderRowCount();return templateParts.push(\"<div\"),templateParts.push(' role=\"row\"'),templateParts.push(' row-index=\"'+rowIdx+'\" aria-rowindex=\"'+(headerRowCount+this.rowNode.rowIndex+1)+'\"'),templateParts.push(rowIdSanitised?' row-id=\"'+rowIdSanitised+'\"':\"\"),templateParts.push(businessKey?' row-business-key=\"'+businessKeySanitised+'\"':\"\"),templateParts.push(' comp-id=\"'+this.getCompId()+'\"'),templateParts.push(' class=\"'+rowClasses+'\"'),con.isFullWidth()&&templateParts.push(' tabindex=\"-1\"'),this.beans.gridOptionsWrapper.isRowSelection()&&templateParts.push(' aria-selected=\"'+(this.rowNode.isSelected()?\"true\":\"false\")+'\"'),this.rowNode.group&&templateParts.push(\" aria-expanded=\"+(this.rowNode.expanded?\"true\":\"false\")),templateParts.push(' style=\"height: '+rowHeight+\"px; \"+rowTopStyle+\" \"+userRowStyles+'\">'),templateParts.push(\"</div>\"),templateParts.join(\"\")},RowComp.prototype.afterRowAttached=function(){this.addDomData();var eRow=this.getGui();this.controller.isUseAnimationFrameForCreate()?this.beans.taskQueue.createTask(this.controller.addHoverFunctionality.bind(this.controller,eRow),this.rowNode.rowIndex,\"createTasksP2\"):this.controller.addHoverFunctionality(eRow),this.controller.executeProcessRowPostCreateFunc()},RowComp.prototype.addDomData=function(){var _this=this,gow=this.beans.gridOptionsWrapper;gow.setDomData(this.getGui(),RowController.DOM_DATA_KEY_RENDERED_ROW,this.controller),this.addDestroyFunc((function(){return gow.setDomData(_this.getGui(),RowController.DOM_DATA_KEY_RENDERED_ROW,null)}))},RowComp.prototype.destroyCells=function(cellComps){var _this=this;cellComps.forEach((function(cellComp){if(cellComp){var id=cellComp.getColumn().getId();_this.cellComps[id]===cellComp&&(cellComp.detach(),cellComp.destroy(),_this.cellComps[id]=null)}}))},RowComp.prototype.forEachCellComp=function(callback){iterateObject(this.cellComps,(function(key,cellComp){cellComp&&callback(cellComp)}))},RowComp}(Component),__extends$2h=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__assign$8=function(){return(__assign$8=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__decorate$25=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},RowContainerComp=function(_super){function RowContainerComp(){var _this=_super.call(this,function(){var res,name=elementGettingCreated.getAttribute(\"name\"),containerClass=ContainerCssClasses.get(name),viewportClass=ViewportCssClasses.get(name),wrapperClass=WrapperCssClasses.get(name);switch(name){case RowContainerNames.LEFT:case RowContainerNames.RIGHT:case RowContainerNames.FULL_WIDTH:case RowContainerNames.TOP_LEFT:case RowContainerNames.TOP_RIGHT:case RowContainerNames.TOP_FULL_WITH:case RowContainerNames.BOTTOM_LEFT:case RowContainerNames.BOTTOM_RIGHT:case RowContainerNames.BOTTOM_FULL_WITH:res='<div class=\"'+containerClass+'\" ref=\"eContainer\" role=\"presentation\" unselectable=\"on\"></div>';break;case RowContainerNames.CENTER:res='<div class=\"'+wrapperClass+'\" ref=\"eWrapper\" role=\"presentation\" unselectable=\"on\">\\n                <div class=\"'+viewportClass+'\" ref=\"eViewport\" role=\"presentation\">\\n                    <div class=\"'+containerClass+'\" ref=\"eContainer\" role=\"rowgroup\" unselectable=\"on\"></div>\\n                </div>\\n            </div>';break;case RowContainerNames.TOP_CENTER:case RowContainerNames.BOTTOM_CENTER:res='<div class=\"'+viewportClass+'\" ref=\"eViewport\" role=\"presentation\" unselectable=\"on\">\\n                <div class=\"'+containerClass+'\" ref=\"eContainer\" role=\"presentation\" unselectable=\"on\"></div>\\n            </div>';break;default:return\"\"}return res}())||this;return _this.renderedRows={},_this.name=elementGettingCreated.getAttribute(\"name\"),_this}return __extends$2h(RowContainerComp,_super),RowContainerComp.prototype.postConstruct=function(){var _this=this;this.embedFullWidthRows=this.gridOptionsWrapper.isEmbedFullWidthRows();var view={setViewportHeight:function(height){return _this.eViewport.style.height=height}};this.createManagedBean(new RowContainerController(this.name)).setView(view,this.eContainer,this.eViewport,this.eWrapper),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows(),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_ROWS_CHANGED,this.onDisplayedRowsChanged.bind(this))},RowContainerComp.prototype.forContainers=function(names,callback){names.indexOf(this.name)>=0&&callback()},RowContainerComp.prototype.stopHScrollOnPinnedRows=function(){var _this=this;this.forContainers([RowContainerNames.TOP_CENTER,RowContainerNames.BOTTOM_CENTER],(function(){_this.addManagedListener(_this.eViewport,\"scroll\",(function(){return _this.eViewport.scrollLeft=0}))}))},RowContainerComp.prototype.listenOnDomOrder=function(){var _this=this,listener=function(){return _this.domOrder=_this.gridOptionsWrapper.isEnsureDomOrder()};this.gridOptionsWrapper.addEventListener(GridOptionsWrapper.PROP_DOM_LAYOUT,listener),listener()},RowContainerComp.prototype.getViewportElement=function(){return this.eViewport},RowContainerComp.prototype.clearLastPlacedElement=function(){this.lastPlacedElement=null},RowContainerComp.prototype.appendRow=function(element){this.domOrder?insertWithDomOrder(this.eContainer,element,this.lastPlacedElement):this.eContainer.appendChild(element),this.lastPlacedElement=element},RowContainerComp.prototype.ensureDomOrder=function(eRow){this.domOrder&&(ensureDomOrder(this.eContainer,eRow,this.lastPlacedElement),this.lastPlacedElement=eRow)},RowContainerComp.prototype.removeRow=function(eRow){this.eContainer.removeChild(eRow)},RowContainerComp.prototype.onDisplayedRowsChanged=function(){var _this=this,fullWithContainer=this.name===RowContainerNames.TOP_FULL_WITH||this.name===RowContainerNames.BOTTOM_FULL_WITH||this.name===RowContainerNames.FULL_WIDTH,oldRows=__assign$8({},this.renderedRows);this.renderedRows={},this.clearLastPlacedElement(),this.getRowCons().filter((function(rowCon){var fullWidthController=rowCon.isFullWidth(),printLayout=_this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_PRINT,embedFW=_this.embedFullWidthRows||printLayout;return fullWithContainer?!embedFW&&fullWidthController:embedFW||!fullWidthController})).forEach((function(rowCon){var instanceId=rowCon.getInstanceId(),existingRowComp=oldRows[instanceId];if(existingRowComp)_this.renderedRows[instanceId]=existingRowComp,delete oldRows[instanceId],_this.ensureDomOrder(existingRowComp.getGui());else{var rowComp=_this.newRowComp(rowCon);_this.renderedRows[instanceId]=rowComp,_this.appendRow(rowComp.getGui())}})),getAllValuesInObject(oldRows).forEach((function(rowComp){return _this.removeRow(rowComp.getGui())}))},RowContainerComp.prototype.getRowCons=function(){switch(this.name){case RowContainerNames.TOP_CENTER:case RowContainerNames.TOP_LEFT:case RowContainerNames.TOP_RIGHT:case RowContainerNames.TOP_FULL_WITH:return this.rowRenderer.getTopRowCons();case RowContainerNames.BOTTOM_CENTER:case RowContainerNames.BOTTOM_LEFT:case RowContainerNames.BOTTOM_RIGHT:case RowContainerNames.BOTTOM_FULL_WITH:return this.rowRenderer.getBottomRowCons();default:return this.rowRenderer.getRowCons()}},RowContainerComp.prototype.newRowComp=function(rowCon){var pinned;switch(this.name){case RowContainerNames.BOTTOM_LEFT:case RowContainerNames.TOP_LEFT:case RowContainerNames.LEFT:pinned=Constants.PINNED_LEFT;break;case RowContainerNames.BOTTOM_RIGHT:case RowContainerNames.TOP_RIGHT:case RowContainerNames.RIGHT:pinned=Constants.PINNED_RIGHT;break;default:pinned=null}return new RowComp(rowCon,this,this.beans,pinned)},__decorate$25([Autowired(\"rowRenderer\")],RowContainerComp.prototype,\"rowRenderer\",void 0),__decorate$25([Autowired(\"beans\")],RowContainerComp.prototype,\"beans\",void 0),__decorate$25([RefSelector(\"eViewport\")],RowContainerComp.prototype,\"eViewport\",void 0),__decorate$25([RefSelector(\"eContainer\")],RowContainerComp.prototype,\"eContainer\",void 0),__decorate$25([RefSelector(\"eWrapper\")],RowContainerComp.prototype,\"eWrapper\",void 0),__decorate$25([PostConstruct],RowContainerComp.prototype,\"postConstruct\",null),RowContainerComp}(Component),Grid=function(){function Grid(eGridDiv,gridOptions,params){gridOptions?(this.gridOptions=gridOptions,(new GridCoreCreator).create(eGridDiv,gridOptions,(function(context){var gridComp=new GridComp(eGridDiv);context.createBean(gridComp)}),params)):console.error(\"AG Grid: no gridOptions provided to the grid\")}return Grid.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},Grid}(),GridCoreCreator=function(){function GridCoreCreator(){}return GridCoreCreator.prototype.create=function(eGridDiv,gridOptions,uiCallback,params){var debug=!!gridOptions.debug,registeredModules=this.getRegisteredModules(params),beanClasses=this.createBeansList(gridOptions.rowModelType,registeredModules),providedBeanInstances=this.createProvidedBeans(eGridDiv,gridOptions,params);if(beanClasses){var contextParams={providedBeanInstances:providedBeanInstances,beanClasses:beanClasses,debug:debug},logger=new Logger(\"AG Grid\",(function(){return gridOptions.debug})),contextLogger=new Logger(\"Context\",(function(){return contextParams.debug})),context=new Context(contextParams,contextLogger);this.registerModuleUserComponents(context,registeredModules),this.registerStackComponents(context,registeredModules),uiCallback(context),this.setColumnsAndData(context),this.dispatchGridReadyEvent(context,gridOptions);var isEnterprise=ModuleRegistry.isRegistered(exports.ModuleNames.EnterpriseCoreModule);logger.log(\"initialised successfully, enterprise = \"+isEnterprise)}},GridCoreCreator.prototype.registerStackComponents=function(context,registeredModules){var agStackComponents=this.createAgStackComponentsList(registeredModules);context.getBean(\"agStackComponentsRegistry\").setupComponents(agStackComponents)},GridCoreCreator.prototype.getRegisteredModules=function(params){var passedViaConstructor=params?params.modules:null,registered=ModuleRegistry.getRegisteredModules(),allModules=[],mapNames={};function addModule(moduleBased,mod){var currentModule;mapNames[(currentModule=mod).moduleName]||(mapNames[currentModule.moduleName]=!0,allModules.push(currentModule),ModuleRegistry.register(currentModule,moduleBased)),mod.dependantModules&&mod.dependantModules.forEach(addModule.bind(null,moduleBased))}return passedViaConstructor&&passedViaConstructor.forEach(addModule.bind(null,!0)),registered&&registered.forEach(addModule.bind(null,!ModuleRegistry.isPackageBased())),allModules},GridCoreCreator.prototype.registerModuleUserComponents=function(context,registeredModules){var userComponentRegistry=context.getBean(\"userComponentRegistry\");this.extractModuleEntity(registeredModules,(function(module){return module.userComponents?module.userComponents:[]})).forEach((function(compMeta){userComponentRegistry.registerDefaultComponent(compMeta.componentName,compMeta.componentClass)}))},GridCoreCreator.prototype.createProvidedBeans=function(eGridDiv,gridOptions,params){var frameworkOverrides=params?params.frameworkOverrides:null;missing(frameworkOverrides)&&(frameworkOverrides=new VanillaFrameworkOverrides);var seed={gridOptions:gridOptions,eGridDiv:eGridDiv,$scope:params?params.$scope:null,$compile:params?params.$compile:null,globalEventListener:params?params.globalEventListener:null,frameworkOverrides:frameworkOverrides};return params&&params.providedBeanInstances&&assign(seed,params.providedBeanInstances),seed},GridCoreCreator.prototype.createAgStackComponentsList=function(registeredModules){var components=[{componentName:\"AgCheckbox\",componentClass:AgCheckbox},{componentName:\"AgRadioButton\",componentClass:AgRadioButton},{componentName:\"AgToggleButton\",componentClass:AgToggleButton},{componentName:\"AgInputTextField\",componentClass:AgInputTextField},{componentName:\"AgInputTextArea\",componentClass:AgInputTextArea},{componentName:\"AgInputNumberField\",componentClass:AgInputNumberField},{componentName:\"AgInputRange\",componentClass:AgInputRange},{componentName:\"AgSelect\",componentClass:AgSelect},{componentName:\"AgSlider\",componentClass:AgSlider},{componentName:\"AgAngleSelect\",componentClass:AgAngleSelect},{componentName:\"AgColorPicker\",componentClass:AgColorPicker},{componentName:\"AgGridBody\",componentClass:GridBodyComp},{componentName:\"AgHeaderRoot\",componentClass:HeaderRootComp},{componentName:\"AgPagination\",componentClass:PaginationComp},{componentName:\"AgOverlayWrapper\",componentClass:OverlayWrapperComponent},{componentName:\"AgGroupComponent\",componentClass:AgGroupComponent},{componentName:\"AgPanel\",componentClass:AgPanel},{componentName:\"AgDialog\",componentClass:AgDialog},{componentName:\"AgRowContainer\",componentClass:RowContainerComp},{componentName:\"AgFakeHorizontalScroll\",componentClass:FakeHorizontalScrollComp}],moduleAgStackComps=this.extractModuleEntity(registeredModules,(function(module){return module.agStackComponents?module.agStackComponents:[]}));return components.concat(moduleAgStackComps)},GridCoreCreator.prototype.createBeansList=function(rowModelType,registeredModules){var rowModelClass=this.getRowModelClass(rowModelType,registeredModules);if(rowModelClass){var beans=[rowModelClass,Beans,RowPositionUtils,CellPositionUtils,HeaderPositionUtils,PaginationAutoPageSizeService,GridApi,UserComponentRegistry,AgComponentUtils,ComponentMetadataProvider,ResizeObserverService,UserComponentFactory,RowContainerHeightService,AutoHeightCalculator,HorizontalResizeService,PinnedRowModel,DragService,DisplayedGroupCreator,EventService,GridOptionsWrapper,PopupService,SelectionController,FilterManager,ColumnController,HeaderNavigationService,PaginationProxy,RowRenderer,ExpressionService,ColumnFactory,TemplateService,AlignedGridsService,NavigationService,ValueCache,ValueService,LoggerFactory,ColumnUtils,AutoWidthCalculator,StandardMenuFactory,DragAndDropService,ColumnApi,FocusController,MouseEventService,Environment,CellNavigationService,ValueFormatterService,StylingService,ScrollVisibleService,SortController,ColumnHoverService,ColumnAnimationService,SelectableService,AutoGroupColService,ChangeDetectionService,AnimationFrameService,DetailRowCompCache,UndoRedoService,AgStackComponentsRegistry,ColumnDefFactory,RowCssClassCalculator,RowNodeBlockLoader,RowNodeSorter,ControllersService,PinnedWidthService],moduleBeans=this.extractModuleEntity(registeredModules,(function(module){return module.beans?module.beans:[]}));beans.push.apply(beans,moduleBeans);var beansNoDuplicates=[];return beans.forEach((function(bean){beansNoDuplicates.indexOf(bean)<0&&beansNoDuplicates.push(bean)})),beansNoDuplicates}},GridCoreCreator.prototype.extractModuleEntity=function(moduleEntities,extractor){return[].concat.apply([],moduleEntities.map(extractor))},GridCoreCreator.prototype.setColumnsAndData=function(context){var gridOptionsWrapper=context.getBean(\"gridOptionsWrapper\"),columnController=context.getBean(\"columnController\"),columnDefs=gridOptionsWrapper.getColumnDefs();columnController.setColumnDefs(columnDefs||[],\"gridInitializing\"),context.getBean(\"rowModel\").start()},GridCoreCreator.prototype.dispatchGridReadyEvent=function(context,gridOptions){context.getBean(\"eventService\").dispatchEvent({type:Events.EVENT_GRID_READY,api:gridOptions.api,columnApi:gridOptions.columnApi})},GridCoreCreator.prototype.getRowModelClass=function(rowModelType,registeredModules){rowModelType||(rowModelType=Constants.ROW_MODEL_TYPE_CLIENT_SIDE);var rowModelClasses={};registeredModules.forEach((function(module){iterateObject(module.rowModels,(function(key,value){rowModelClasses[key]=value}))}));var rowModelClass=rowModelClasses[rowModelType];if(exists(rowModelClass))return rowModelClass;rowModelType===Constants.ROW_MODEL_TYPE_INFINITE&&console.error('AG Grid: Row Model \"Infinite\" not found. Please ensure the '+exports.ModuleNames.InfiniteRowModelModule+\" is registered.';\"),console.error(\"AG Grid: could not find matching row model for rowModelType \"+rowModelType),rowModelType===Constants.ROW_MODEL_TYPE_VIEWPORT&&console.error('AG Grid: Row Model \"Viewport\" not found. Please ensure the AG Grid Enterprise Module '+exports.ModuleNames.ViewportRowModelModule+\" is registered.';\"),rowModelType===Constants.ROW_MODEL_TYPE_SERVER_SIDE&&console.error('AG Grid: Row Model \"Server Side\" not found. Please ensure the AG Grid Enterprise Module '+exports.ModuleNames.ServerSideRowModelModule+\" is registered.';\"),rowModelType===Constants.ROW_MODEL_TYPE_CLIENT_SIDE&&console.error('AG Grid: Row Model \"Client Side\" not found. Please ensure the '+exports.ModuleNames.ClientSideRowModelModule+\" is registered.';\")},GridCoreCreator}();function AngularDirectiveController($element,$scope,$compile,$attrs){var gridOptions,keyOfGridInScope=$attrs.agGrid;if(gridOptions=$scope.$eval(keyOfGridInScope)){var grid=new Grid($element[0],gridOptions,{$scope:$scope,$compile:$compile}),quickFilterUnregisterFn=$scope.$watch(keyOfGridInScope+\".quickFilterText\",(function(newFilter){gridOptions.api.setQuickFilter(newFilter)}));$scope.$on(\"$destroy\",(function(){quickFilterUnregisterFn(),grid&&grid.destroy(),grid=null}))}else console.warn(\"WARNING - grid options for AG Grid not found. Please ensure the attribute ag-grid points to a valid object on the scope\")}var ServerSideTransactionResultStatus,registered=!1,__extends$2i=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$26=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},TabbedLayout=function(_super){function TabbedLayout(params){var _this=_super.call(this,TabbedLayout.getTemplate(params.cssClass))||this;return _this.items=[],_this.params=params,params.items&&params.items.forEach((function(item){return _this.addItem(item)})),_this}return __extends$2i(TabbedLayout,_super),TabbedLayout.getTemplate=function(cssClass){return'<div class=\"ag-tabs '+cssClass+'\">\\n            <div ref=\"eHeader\" role=\"menu\" class=\"ag-tabs-header '+(cssClass?cssClass+\"-header\":\"\")+'\"></div>\\n            <div ref=\"eBody\" role=\"presentation\" class=\"ag-tabs-body '+(cssClass?cssClass+\"-body\":\"\")+'\"></div>\\n        </div>'},TabbedLayout.prototype.handleKeyDown=function(e){switch(e.keyCode){case KeyCode.RIGHT:case KeyCode.LEFT:if(!this.eHeader.contains(document.activeElement))return;var currentPosition=this.items.indexOf(this.activeItem),nextPosition=e.keyCode===KeyCode.RIGHT?Math.min(currentPosition+1,this.items.length-1):Math.max(currentPosition-1,0);if(currentPosition===nextPosition)return;e.preventDefault();var nextItem=this.items[nextPosition];this.showItemWrapper(nextItem),nextItem.eHeaderButton.focus();break;case KeyCode.UP:case KeyCode.DOWN:e.stopPropagation()}},TabbedLayout.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var focusController=this.focusController,eHeader=this.eHeader,eBody=this.eBody,activeItem=this.activeItem,activeElement=document.activeElement;if(e.preventDefault(),eHeader.contains(activeElement))focusController.focusInto(eBody,e.shiftKey);else if(focusController.isFocusUnderManagedComponent(eBody))activeItem.eHeaderButton.focus();else{var nextEl=focusController.findNextFocusableElement(eBody,!1,e.shiftKey);nextEl?nextEl.focus():activeItem.eHeaderButton.focus()}}},TabbedLayout.prototype.setAfterAttachedParams=function(params){this.afterAttachedParams=params},TabbedLayout.prototype.getMinDimensions=function(){var eDummyContainer=this.getGui().cloneNode(!0),eDummyBody=eDummyContainer.querySelector('[ref=\"eBody\"]');eDummyContainer.style.position=\"fixed\",this.getGui().appendChild(eDummyContainer);var minWidth=0,minHeight=0;return this.items.forEach((function(itemWrapper){clearElement(eDummyBody);var eClone=itemWrapper.tabbedItem.bodyPromise.resolveNow(null,(function(body){return body.cloneNode(!0)}));null!=eClone&&(eDummyBody.appendChild(eClone),minWidth<eDummyContainer.offsetWidth&&(minWidth=eDummyContainer.offsetWidth),minHeight<eDummyContainer.offsetHeight&&(minHeight=eDummyContainer.offsetHeight))})),this.getGui().removeChild(eDummyContainer),{height:minHeight,width:minWidth}},TabbedLayout.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},TabbedLayout.prototype.addItem=function(item){var eHeaderButton=document.createElement(\"span\");eHeaderButton.setAttribute(\"tabIndex\",\"-1\"),eHeaderButton.setAttribute(\"role\",\"menuitem\"),eHeaderButton.appendChild(item.title),addCssClass(eHeaderButton,\"ag-tab\"),this.eHeader.appendChild(eHeaderButton),setAriaLabel(eHeaderButton,item.titleLabel);var wrapper={tabbedItem:item,eHeaderButton:eHeaderButton};this.items.push(wrapper),eHeaderButton.addEventListener(\"click\",this.showItemWrapper.bind(this,wrapper))},TabbedLayout.prototype.showItem=function(tabbedItem){var itemWrapper=find(this.items,(function(wrapper){return wrapper.tabbedItem===tabbedItem}));itemWrapper&&this.showItemWrapper(itemWrapper)},TabbedLayout.prototype.showItemWrapper=function(wrapper){var _this=this;this.params.onItemClicked&&this.params.onItemClicked({item:wrapper.tabbedItem}),this.activeItem!==wrapper?(clearElement(this.eBody),wrapper.tabbedItem.bodyPromise.then((function(body){_this.eBody.appendChild(body);var onlyUnmanaged=!_this.focusController.isKeyboardMode();_this.focusController.focusInto(_this.eBody,!1,onlyUnmanaged),wrapper.tabbedItem.afterAttachedCallback&&wrapper.tabbedItem.afterAttachedCallback(_this.afterAttachedParams)})),this.activeItem&&removeCssClass(this.activeItem.eHeaderButton,\"ag-tab-selected\"),addCssClass(wrapper.eHeaderButton,\"ag-tab-selected\"),this.activeItem=wrapper):callIfPresent(this.params.onActiveItemClicked)},__decorate$26([RefSelector(\"eHeader\")],TabbedLayout.prototype,\"eHeader\",void 0),__decorate$26([RefSelector(\"eBody\")],TabbedLayout.prototype,\"eBody\",void 0),TabbedLayout}(ManagedFocusComponent);(ServerSideTransactionResultStatus=exports.ServerSideTransactionResultStatus||(exports.ServerSideTransactionResultStatus={})).StoreNotFound=\"StoreNotFound\",ServerSideTransactionResultStatus.StoreLoading=\"StoreLoading\",ServerSideTransactionResultStatus.StoreWaitingToLoad=\"StoreWaitingToLoad\",ServerSideTransactionResultStatus.StoreLoadingFailed=\"StoreLoadingFailed\",ServerSideTransactionResultStatus.StoreWrongType=\"StoreWrongType\",ServerSideTransactionResultStatus.Applied=\"Applied\",ServerSideTransactionResultStatus.Cancelled=\"Cancelled\";var ServerSideStoreType,__extends$2j=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$27=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},VirtualList=function(_super){function VirtualList(cssIdentifier,ariaRole){void 0===cssIdentifier&&(cssIdentifier=\"default\"),void 0===ariaRole&&(ariaRole=\"listbox\");var _this=_super.call(this,VirtualList.getTemplate(cssIdentifier),!0)||this;return _this.cssIdentifier=cssIdentifier,_this.ariaRole=ariaRole,_this.renderedRows=new Map,_this.rowHeight=20,_this.isDestroyed=!1,_this}return __extends$2j(VirtualList,_super),VirtualList.prototype.postConstruct=function(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),_super.prototype.postConstruct.call(this)},VirtualList.prototype.addResizeObserver=function(){var listener=this.drawVirtualRows.bind(this),destroyObserver=this.resizeObserverService.observeResize(this.getGui(),listener);this.addDestroyFunc(destroyObserver)},VirtualList.prototype.focusInnerElement=function(fromBottom){this.focusRow(fromBottom?this.model.getRowCount()-1:0)},VirtualList.prototype.onFocusIn=function(e){_super.prototype.onFocusIn.call(this,e);var target=e.target;containsClass(target,\"ag-virtual-list-item\")&&(this.lastFocusedRowIndex=getAriaPosInSet(target)-1)},VirtualList.prototype.onFocusOut=function(e){_super.prototype.onFocusOut.call(this,e),this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null)},VirtualList.prototype.handleKeyDown=function(e){switch(e.keyCode){case KeyCode.UP:case KeyCode.DOWN:this.navigate(e.keyCode===KeyCode.UP)&&e.preventDefault()}},VirtualList.prototype.onTabKeyDown=function(e){this.navigate(e.shiftKey)?e.preventDefault():this.focusController.focusInto(this.getGui(),!e.shiftKey)},VirtualList.prototype.navigate=function(up){if(null==this.lastFocusedRowIndex)return!1;var nextRow=this.lastFocusedRowIndex+(up?-1:1);return!(nextRow<0||nextRow>=this.model.getRowCount()||(this.focusRow(nextRow),0))},VirtualList.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},VirtualList.prototype.focusRow=function(rowNumber){var _this=this;this.ensureIndexVisible(rowNumber),window.setTimeout((function(){var renderedRow=_this.renderedRows.get(rowNumber);renderedRow&&renderedRow.eDiv.focus()}),10)},VirtualList.prototype.getComponentAt=function(rowIndex){var comp=this.renderedRows.get(rowIndex);return comp&&comp.rowComponent},VirtualList.getTemplate=function(cssIdentifier){return'\\n            <div class=\"ag-virtual-list-viewport ag-'+cssIdentifier+'-virtual-list-viewport\" role=\"listbox\">\\n                <div class=\"ag-virtual-list-container ag-'+cssIdentifier+'-virtual-list-container\" ref=\"eContainer\"></div>\\n            </div>'},VirtualList.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getListItemHeight()},VirtualList.prototype.ensureIndexVisible=function(index){var lastRow=this.model.getRowCount();if(\"number\"!=typeof index||index<0||index>=lastRow)console.warn(\"invalid row index for ensureIndexVisible: \"+index);else{var rowTopPixel=index*this.rowHeight,rowBottomPixel=rowTopPixel+this.rowHeight,eGui=this.getGui(),viewportTopPixel=eGui.scrollTop,viewportHeight=eGui.offsetHeight,viewportScrolledBeforeRow=viewportTopPixel+viewportHeight<rowBottomPixel;viewportTopPixel>rowTopPixel?eGui.scrollTop=rowTopPixel:viewportScrolledBeforeRow&&(eGui.scrollTop=rowBottomPixel-viewportHeight)}},VirtualList.prototype.setComponentCreator=function(componentCreator){this.componentCreator=componentCreator},VirtualList.prototype.getRowHeight=function(){return this.rowHeight},VirtualList.prototype.getScrollTop=function(){return this.getGui().scrollTop},VirtualList.prototype.setRowHeight=function(rowHeight){this.rowHeight=rowHeight,this.refresh()},VirtualList.prototype.refresh=function(){var _this=this;if(null!=this.model&&!this.isDestroyed){var rowCount=this.model.getRowCount();this.eContainer.style.height=rowCount*this.rowHeight+\"px\",waitUntil((function(){return _this.eContainer.clientHeight>=rowCount*_this.rowHeight}),(function(){_this.isDestroyed||(_this.clearVirtualRows(),_this.drawVirtualRows())}))}},VirtualList.prototype.clearVirtualRows=function(){var _this=this;this.renderedRows.forEach((function(_,rowIndex){return _this.removeRow(rowIndex)}))},VirtualList.prototype.drawVirtualRows=function(){var gui=this.getGui(),topPixel=gui.scrollTop,bottomPixel=topPixel+gui.offsetHeight,firstRow=Math.floor(topPixel/this.rowHeight),lastRow=Math.floor(bottomPixel/this.rowHeight);this.ensureRowsRendered(firstRow,lastRow)},VirtualList.prototype.ensureRowsRendered=function(start,finish){var _this=this;this.renderedRows.forEach((function(_,rowIndex){(rowIndex<start||rowIndex>finish)&&rowIndex!==_this.lastFocusedRowIndex&&_this.removeRow(rowIndex)}));for(var rowIndex=start;rowIndex<=finish;rowIndex++)this.renderedRows.has(rowIndex)||rowIndex<this.model.getRowCount()&&this.insertRow(rowIndex)},VirtualList.prototype.insertRow=function(rowIndex){var _this=this,value=this.model.getRow(rowIndex),eDiv=document.createElement(\"div\");if(addCssClass(eDiv,\"ag-virtual-list-item\"),addCssClass(eDiv,\"ag-\"+this.cssIdentifier+\"-virtual-list-item\"),eDiv.setAttribute(\"role\",\"tree\"===this.ariaRole?\"treeitem\":\"option\"),setAriaSetSize(eDiv,this.model.getRowCount()),setAriaPosInSet(eDiv,rowIndex+1),eDiv.setAttribute(\"tabindex\",\"-1\"),\"function\"==typeof this.model.isRowSelected){var isSelected=this.model.isRowSelected(rowIndex);setAriaSelected(eDiv,!!isSelected),setAriaChecked(eDiv,isSelected)}eDiv.style.height=this.rowHeight+\"px\",eDiv.style.top=this.rowHeight*rowIndex+\"px\";var rowComponent=this.componentCreator(value,eDiv);rowComponent.addGuiEventListener(\"focusin\",(function(){return _this.lastFocusedRowIndex=rowIndex})),eDiv.appendChild(rowComponent.getGui()),this.renderedRows.has(rowIndex-1)?this.renderedRows.get(rowIndex-1).eDiv.insertAdjacentElement(\"afterend\",eDiv):this.renderedRows.has(rowIndex+1)?this.renderedRows.get(rowIndex+1).eDiv.insertAdjacentElement(\"beforebegin\",eDiv):this.eContainer.appendChild(eDiv),this.renderedRows.set(rowIndex,{rowComponent:rowComponent,eDiv:eDiv})},VirtualList.prototype.removeRow=function(rowIndex){var component=this.renderedRows.get(rowIndex);this.eContainer.removeChild(component.eDiv),this.destroyBean(component.rowComponent),this.renderedRows.delete(rowIndex)},VirtualList.prototype.addScrollListener=function(){var _this=this;this.addGuiEventListener(\"scroll\",(function(){return _this.drawVirtualRows()}))},VirtualList.prototype.setModel=function(model){this.model=model},VirtualList.prototype.destroy=function(){this.isDestroyed||(this.clearVirtualRows(),this.isDestroyed=!0,_super.prototype.destroy.call(this))},__decorate$27([Autowired(\"resizeObserverService\")],VirtualList.prototype,\"resizeObserverService\",void 0),__decorate$27([RefSelector(\"eContainer\")],VirtualList.prototype,\"eContainer\",void 0),VirtualList}(ManagedFocusComponent);(ServerSideStoreType=exports.ServerSideStoreType||(exports.ServerSideStoreType={})).Full=\"full\",ServerSideStoreType.Partial=\"partial\";var ChartType,LegendPosition,BaseComponentWrapper=function(){function BaseComponentWrapper(){}return BaseComponentWrapper.prototype.wrap=function(OriginalConstructor,mandatoryMethodList,optionalMethodList,componentType,componentName){var _this=this;void 0===optionalMethodList&&(optionalMethodList=[]);var wrapper=this.createWrapper(OriginalConstructor,componentType,componentName);return mandatoryMethodList.forEach((function(methodName){_this.createMethod(wrapper,methodName,!0)})),optionalMethodList.forEach((function(methodName){_this.createMethod(wrapper,methodName,!1)})),wrapper},BaseComponentWrapper.prototype.createMethod=function(wrapper,methodName,mandatory){wrapper.addMethod(methodName,this.createMethodProxy(wrapper,methodName,mandatory))},BaseComponentWrapper.prototype.createMethodProxy=function(wrapper,methodName,mandatory){return function(){return wrapper.hasMethod(methodName)?wrapper.callMethod(methodName,arguments):(mandatory&&console.warn(\"AG Grid: Framework component is missing the method \"+methodName+\"()\"),null)}},BaseComponentWrapper}();(ChartType=exports.ChartType||(exports.ChartType={})).Column=\"column\",ChartType.GroupedColumn=\"groupedColumn\",ChartType.StackedColumn=\"stackedColumn\",ChartType.NormalizedColumn=\"normalizedColumn\",ChartType.Bar=\"bar\",ChartType.GroupedBar=\"groupedBar\",ChartType.StackedBar=\"stackedBar\",ChartType.NormalizedBar=\"normalizedBar\",ChartType.Line=\"line\",ChartType.Scatter=\"scatter\",ChartType.Bubble=\"bubble\",ChartType.Pie=\"pie\",ChartType.Doughnut=\"doughnut\",ChartType.Area=\"area\",ChartType.StackedArea=\"stackedArea\",ChartType.NormalizedArea=\"normalizedArea\",ChartType.Histogram=\"histogram\",(LegendPosition=exports.LegendPosition||(exports.LegendPosition={})).Top=\"top\",LegendPosition.Right=\"right\",LegendPosition.Bottom=\"bottom\",LegendPosition.Left=\"left\";var globalObj=\"undefined\"==typeof global?{}:global;globalObj.HTMLElement=\"undefined\"==typeof HTMLElement?{}:HTMLElement,globalObj.HTMLButtonElement=\"undefined\"==typeof HTMLButtonElement?{}:HTMLButtonElement,globalObj.HTMLSelectElement=\"undefined\"==typeof HTMLSelectElement?{}:HTMLSelectElement,globalObj.HTMLInputElement=\"undefined\"==typeof HTMLInputElement?{}:HTMLInputElement,globalObj.Node=\"undefined\"==typeof Node?{}:Node,globalObj.MouseEvent=\"undefined\"==typeof MouseEvent?{}:MouseEvent;var RecursionType,__spreadArrays$8=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},ClientSideNodeManager=function(){function ClientSideNodeManager(rootNode,gridOptionsWrapper,context,eventService,columnController,gridApi,columnApi,selectionController){this.nextId=0,this.allNodesMap={},this.rootNode=rootNode,this.gridOptionsWrapper=gridOptionsWrapper,this.context=context,this.eventService=eventService,this.columnController=columnController,this.gridApi=gridApi,this.columnApi=columnApi,this.selectionController=selectionController,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=ClientSideNodeManager.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return ClientSideNodeManager.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},ClientSideNodeManager.prototype.getCopyOfNodesMap=function(){return _.cloneObject(this.allNodesMap)},ClientSideNodeManager.prototype.getRowNode=function(id){return this.allNodesMap[id]},ClientSideNodeManager.prototype.setRowData=function(rowData){if(this.rootNode.childrenAfterFilter=null,this.rootNode.childrenAfterGroup=null,this.rootNode.childrenAfterSort=null,this.rootNode.childrenMapped=null,this.rootNode.updateHasChildren(),this.nextId=0,this.allNodesMap={},!rowData)return this.rootNode.allLeafChildren=[],void(this.rootNode.childrenAfterGroup=[]);this.rootNode.allLeafChildren=this.recursiveFunction(rowData,this.rootNode,ClientSideNodeManager.TOP_LEVEL)},ClientSideNodeManager.prototype.updateRowData=function(rowDataTran,rowNodeOrder){var rowNodeTransaction={remove:[],update:[],add:[]},nodesToUnselect=[];return this.executeRemove(rowDataTran,rowNodeTransaction,nodesToUnselect),this.executeUpdate(rowDataTran,rowNodeTransaction,nodesToUnselect),this.executeAdd(rowDataTran,rowNodeTransaction),this.updateSelection(nodesToUnselect),rowNodeOrder&&_.sortRowNodesByOrder(this.rootNode.allLeafChildren,rowNodeOrder),rowNodeTransaction},ClientSideNodeManager.prototype.updateSelection=function(nodesToUnselect){var selectionChanged=nodesToUnselect.length>0;selectionChanged&&nodesToUnselect.forEach((function(rowNode){rowNode.setSelected(!1,!1,!0)})),this.selectionController.updateGroupsFromChildrenSelections(),selectionChanged&&this.eventService.dispatchEvent({type:Events.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},ClientSideNodeManager.prototype.executeAdd=function(rowDataTran,rowNodeTransaction){var _this=this,add=rowDataTran.add,addIndex=rowDataTran.addIndex;if(!_.missingOrEmpty(add)){var newNodes=add.map((function(item){return _this.createNode(item,_this.rootNode,ClientSideNodeManager.TOP_LEVEL)}));if(\"number\"==typeof addIndex&&addIndex>=0){var existingLeafChildren=this.rootNode.allLeafChildren,nodesBeforeIndex=existingLeafChildren.slice(0,addIndex),nodesAfterIndex=existingLeafChildren.slice(addIndex,existingLeafChildren.length);this.rootNode.allLeafChildren=__spreadArrays$8(nodesBeforeIndex,newNodes,nodesAfterIndex)}else this.rootNode.allLeafChildren=__spreadArrays$8(this.rootNode.allLeafChildren,newNodes);rowNodeTransaction.add=newNodes}},ClientSideNodeManager.prototype.executeRemove=function(rowDataTran,rowNodeTransaction,nodesToUnselect){var _this=this,remove=rowDataTran.remove;if(!_.missingOrEmpty(remove)){var rowIdsRemoved={};remove.forEach((function(item){var rowNode=_this.lookupRowNode(item);rowNode&&(rowNode.isSelected()&&nodesToUnselect.push(rowNode),rowNode.clearRowTopAndRowIndex(),rowIdsRemoved[rowNode.id]=!0,delete _this.allNodesMap[rowNode.id],rowNodeTransaction.remove.push(rowNode))})),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter((function(rowNode){return!rowIdsRemoved[rowNode.id]}))}},ClientSideNodeManager.prototype.executeUpdate=function(rowDataTran,rowNodeTransaction,nodesToUnselect){var _this=this,update=rowDataTran.update;_.missingOrEmpty(update)||update.forEach((function(item){var rowNode=_this.lookupRowNode(item);rowNode&&(rowNode.updateData(item),!rowNode.selectable&&rowNode.isSelected()&&nodesToUnselect.push(rowNode),_this.setMasterForRow(rowNode,item,ClientSideNodeManager.TOP_LEVEL,!1),rowNodeTransaction.update.push(rowNode))}))},ClientSideNodeManager.prototype.lookupRowNode=function(data){var rowNode,rowNodeIdFunc=this.gridOptionsWrapper.getRowNodeIdFunc();if(_.exists(rowNodeIdFunc)){var id=rowNodeIdFunc(data);if(!(rowNode=this.allNodesMap[id]))return console.error(\"AG Grid: could not find row id=\"+id+\", data item was not found for this id\"),null}else if(!(rowNode=_.find(this.rootNode.allLeafChildren,(function(node){return node.data===data}))))return console.error(\"AG Grid: could not find data item as object was not found\",data),null;return rowNode},ClientSideNodeManager.prototype.recursiveFunction=function(rowData,parent,level){var _this=this;if(\"string\"!=typeof rowData){var rowNodes=[];return rowData.forEach((function(dataItem){var node=_this.createNode(dataItem,parent,level);rowNodes.push(node)})),rowNodes}console.warn(\"AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first\")},ClientSideNodeManager.prototype.createNode=function(dataItem,parent,level){var node=new RowNode;return this.context.createBean(node),node.group=!1,this.setMasterForRow(node,dataItem,level,!0),parent&&!this.suppressParentsInRowNodes&&(node.parent=parent),node.level=level,node.setDataAndId(dataItem,this.nextId.toString()),this.allNodesMap[node.id]&&console.warn(\"ag-grid: duplicate node id '\"+node.id+\"' detected from getRowNodeId callback, this could cause issues in your grid.\"),this.allNodesMap[node.id]=node,this.nextId++,node},ClientSideNodeManager.prototype.setMasterForRow=function(rowNode,data,level,setExpanded){if(this.doingTreeData)rowNode.setMaster(!1),setExpanded&&(rowNode.expanded=!1);else if(rowNode.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(data))),setExpanded){var rowGroupColumns=this.columnController.getRowGroupColumns();rowNode.expanded=!!rowNode.master&&this.isExpanded(level+(rowGroupColumns?rowGroupColumns.length:0))}},ClientSideNodeManager.prototype.isExpanded=function(level){var expandByDefault=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===expandByDefault||level<expandByDefault},ClientSideNodeManager.TOP_LEVEL=0,ClientSideNodeManager.ROOT_NODE_ID=\"ROOT_NODE_ID\",ClientSideNodeManager}(),__extends$2k=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$28=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};!function(RecursionType){RecursionType[RecursionType.Normal=0]=\"Normal\",RecursionType[RecursionType.AfterFilter=1]=\"AfterFilter\",RecursionType[RecursionType.AfterFilterAndSort=2]=\"AfterFilterAndSort\",RecursionType[RecursionType.PivotNodes=3]=\"PivotNodes\"}(RecursionType||(RecursionType={}));var ClientSideRowModel=function(_super){function ClientSideRowModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.onRowGroupOpenedPending=!1,_this}return __extends$2k(ClientSideRowModel,_super),ClientSideRowModel.prototype.init=function(){var refreshEverythingFunc=this.refreshModel.bind(this,{step:exports.ClientSideRowModelSteps.EVERYTHING}),refreshEverythingAfterColsChangedFunc=this.refreshModel.bind(this,{step:exports.ClientSideRowModelSteps.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:!0});this.addManagedListener(this.eventService,Events.EVENT_NEW_COLUMNS_LOADED,refreshEverythingAfterColsChangedFunc),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,refreshEverythingFunc),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:exports.ClientSideRowModelSteps.PIVOT})),this.addManagedListener(this.eventService,Events.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,refreshEverythingFunc);var refreshMapListener=this.refreshModel.bind(this,{step:exports.ClientSideRowModelSteps.MAP,keepRenderedRows:!0,animate:!0});this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_GROUP_REMOVE_SINGLE_CHILDREN,refreshMapListener),this.addManagedListener(this.gridOptionsWrapper,GridOptionsWrapper.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,refreshMapListener),this.rootNode=new RowNode,this.nodeManager=new ClientSideNodeManager(this.rootNode,this.gridOptionsWrapper,this.getContext(),this.eventService,this.columnController,this.gridApi,this.columnApi,this.selectionController),this.createBean(this.rootNode)},ClientSideRowModel.prototype.start=function(){var rowData=this.gridOptionsWrapper.getRowData();rowData&&this.setRowData(rowData)},ClientSideRowModel.prototype.ensureRowHeightsValid=function(startPixel,endPixel,startLimitIndex,endLimitIndex){var atLeastOneChange,res=!1;do{atLeastOneChange=!1;for(var rowAtStartPixel=this.getRowIndexAtPixel(startPixel),rowAtEndPixel=this.getRowIndexAtPixel(endPixel),firstRow=Math.max(rowAtStartPixel,startLimitIndex),lastRow=Math.min(rowAtEndPixel,endLimitIndex),rowIndex=firstRow;rowIndex<=lastRow;rowIndex++){var rowNode=this.getRow(rowIndex);if(rowNode.rowHeightEstimated){var rowHeight=this.gridOptionsWrapper.getRowHeightForNode(rowNode);rowNode.setRowHeight(rowHeight.height),atLeastOneChange=!0,res=!0}}atLeastOneChange&&this.setRowTops()}while(atLeastOneChange);return res},ClientSideRowModel.prototype.setRowTops=function(){for(var nextRowTop=0,i=0;i<this.rowsToDisplay.length;i++){var allowEstimate=this.gridOptionsWrapper.getDomLayout()===Constants.DOM_LAYOUT_NORMAL,rowNode=this.rowsToDisplay[i];if(_.missing(rowNode.rowHeight)){var rowHeight=this.gridOptionsWrapper.getRowHeightForNode(rowNode,allowEstimate);rowNode.setRowHeight(rowHeight.height,rowHeight.estimated)}rowNode.setRowTop(nextRowTop),rowNode.setRowIndex(i),nextRowTop+=rowNode.rowHeight}},ClientSideRowModel.prototype.resetRowTops=function(changedPath){var displayedRowsMapped={};this.rowsToDisplay.forEach((function(rowNode){null!=rowNode.id&&(displayedRowsMapped[rowNode.id]=rowNode)}));var clearIfNotDisplayed=function(rowNode){rowNode&&null!=rowNode.id&&null==displayedRowsMapped[rowNode.id]&&rowNode.clearRowTopAndRowIndex()},recurse=function(rowNode){if(clearIfNotDisplayed(rowNode),clearIfNotDisplayed(rowNode.detailNode),clearIfNotDisplayed(rowNode.sibling),rowNode.hasChildren()&&rowNode.childrenAfterGroup){var isRootNode=-1==rowNode.level;changedPath.isActive()&&!isRootNode&&!rowNode.expanded||rowNode.childrenAfterGroup.forEach(recurse)}};recurse(this.rootNode)},ClientSideRowModel.prototype.ensureRowsAtPixel=function(rowNodes,pixel,increment){var _this=this;void 0===increment&&(increment=0);var indexAtPixelNow=this.getRowIndexAtPixel(pixel);return this.getRow(indexAtPixelNow)!==rowNodes[0]&&(rowNodes.forEach((function(rowNode){_.removeFromArray(_this.rootNode.allLeafChildren,rowNode)})),rowNodes.forEach((function(rowNode,idx){_.insertIntoArray(_this.rootNode.allLeafChildren,rowNode,Math.max(indexAtPixelNow+increment,0)+idx)})),this.refreshModel({step:exports.ClientSideRowModelSteps.EVERYTHING,keepRenderedRows:!0,animate:!0,keepEditingRows:!0}),!0)},ClientSideRowModel.prototype.highlightRowAtPixel=function(rowNode,pixel){var indexAtPixelNow=null!=pixel?this.getRowIndexAtPixel(pixel):null,rowNodeAtPixelNow=null!=indexAtPixelNow?this.getRow(indexAtPixelNow):null;if(rowNodeAtPixelNow&&rowNode&&rowNodeAtPixelNow!==rowNode&&null!=pixel){var highlight=this.getHighlightPosition(pixel,rowNodeAtPixelNow);this.lastHighlightedRow&&this.lastHighlightedRow!==rowNodeAtPixelNow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),rowNodeAtPixelNow.setHighlighted(highlight),this.lastHighlightedRow=rowNodeAtPixelNow}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},ClientSideRowModel.prototype.getHighlightPosition=function(pixel,rowNode){if(!rowNode){var index=this.getRowIndexAtPixel(pixel);if(!(rowNode=this.getRow(index||0)))return\"below\"}return pixel-rowNode.rowTop<rowNode.rowHeight/2?\"above\":\"below\"},ClientSideRowModel.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},ClientSideRowModel.prototype.isLastRowIndexKnown=function(){return!0},ClientSideRowModel.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},ClientSideRowModel.prototype.getTopLevelRowCount=function(){return this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode?1:this.rootNode.childrenAfterFilter?this.rootNode.childrenAfterFilter.length:0},ClientSideRowModel.prototype.getTopLevelRowDisplayedIndex=function(topLevelIndex){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return topLevelIndex;var rowNode=this.rootNode.childrenAfterSort[topLevelIndex];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;rowNode.expanded&&rowNode.childrenAfterSort&&rowNode.childrenAfterSort.length>0;)rowNode=rowNode.childrenAfterSort[0];return rowNode.rowIndex},ClientSideRowModel.prototype.getRowBounds=function(index){if(_.missing(this.rowsToDisplay))return null;var rowNode=this.rowsToDisplay[index];return rowNode?{rowTop:rowNode.rowTop,rowHeight:rowNode.rowHeight}:null},ClientSideRowModel.prototype.onRowGroupOpened=function(){var _this=this;if(!this.onRowGroupOpenedPending){this.onRowGroupOpenedPending=!0;var action=function(){_this.onRowGroupOpenedPending=!1;var animate=_this.gridOptionsWrapper.isAnimateRows();_this.refreshModel({step:exports.ClientSideRowModelSteps.MAP,keepRenderedRows:!0,animate:animate})};this.gridOptionsWrapper.isSuppressAnimationFrame()?action():this.animationFrameService.addDestroyTask(action)}},ClientSideRowModel.prototype.onFilterChanged=function(event){if(!event.afterDataChange){var animate=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:exports.ClientSideRowModelSteps.FILTER,keepRenderedRows:!0,animate:animate})}},ClientSideRowModel.prototype.onSortChanged=function(){var animate=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:exports.ClientSideRowModelSteps.SORT,keepRenderedRows:!0,animate:animate,keepEditingRows:!0})},ClientSideRowModel.prototype.getType=function(){return Constants.ROW_MODEL_TYPE_CLIENT_SIDE},ClientSideRowModel.prototype.onValueChanged=function(){this.columnController.isPivotActive()?this.refreshModel({step:exports.ClientSideRowModelSteps.PIVOT}):this.refreshModel({step:exports.ClientSideRowModelSteps.AGGREGATE})},ClientSideRowModel.prototype.createChangePath=function(rowNodeTransactions){var noTransactions=_.missingOrEmpty(rowNodeTransactions),changedPath=new ChangedPath(!1,this.rootNode);return(noTransactions||this.gridOptionsWrapper.isTreeData())&&changedPath.setInactive(),changedPath},ClientSideRowModel.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(params){if(!this.gridOptionsWrapper.isSuppressModelUpdateAfterUpdateTransaction())return!1;if(null==params.rowNodeTransactions)return!1;var transWithAddsOrDeletes=_.filter(params.rowNodeTransactions,(function(tx){return null!=tx.add&&tx.add.length>0||null!=tx.remove&&tx.remove.length>0}));return null==transWithAddsOrDeletes||0==transWithAddsOrDeletes.length},ClientSideRowModel.prototype.refreshModel=function(params){var _this=this;if(!this.isSuppressModelUpdateAfterUpdateTransaction(params)){var changedPath=this.createChangePath(params.rowNodeTransactions);switch(params.step){case exports.ClientSideRowModelSteps.EVERYTHING:this.doRowGrouping(params.groupState,params.rowNodeTransactions,params.rowNodeOrder,changedPath,!!params.afterColumnsChanged);case exports.ClientSideRowModelSteps.FILTER:this.doFilter(changedPath);case exports.ClientSideRowModelSteps.PIVOT:this.doPivot(changedPath);case exports.ClientSideRowModelSteps.AGGREGATE:this.doAggregate(changedPath);case exports.ClientSideRowModelSteps.SORT:this.doSort(params.rowNodeTransactions,changedPath);case exports.ClientSideRowModelSteps.MAP:this.doRowsToDisplay()}this.setRowTops(),this.resetRowTops(changedPath),this.eventService.dispatchEvent({type:Events.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:params.animate,keepRenderedRows:params.keepRenderedRows,newData:params.newData,newPage:!1}),this.$scope&&window.setTimeout((function(){_this.$scope.$apply()}),0)}},ClientSideRowModel.prototype.isEmpty=function(){var rowsMissing=_.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return _.missing(this.rootNode)||rowsMissing||!this.columnController.isReady()},ClientSideRowModel.prototype.isRowsToRender=function(){return _.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},ClientSideRowModel.prototype.getNodesInRangeForSelection=function(firstInRange,lastInRange){var lastRow,firstRowHit=!lastInRange,lastRowHit=!1,result=[],groupsSelectChildren=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort((function(rowNode){var lookingForLastRow=firstRowHit&&!lastRowHit;if(firstRowHit||rowNode!==lastInRange&&rowNode!==firstInRange||(firstRowHit=!0),!rowNode.group||!groupsSelectChildren){var inRange=firstRowHit&&!lastRowHit,childOfLastRow=rowNode.isParentOfNode(lastRow);(inRange||childOfLastRow)&&result.push(rowNode)}lookingForLastRow&&(rowNode!==lastInRange&&rowNode!==firstInRange||(lastRowHit=!0,lastRow=rowNode===lastInRange?lastInRange:firstInRange))})),result},ClientSideRowModel.prototype.setDatasource=function(datasource){console.error(\"AG Grid: should never call setDatasource on clientSideRowController\")},ClientSideRowModel.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},ClientSideRowModel.prototype.getRootNode=function(){return this.rootNode},ClientSideRowModel.prototype.getRow=function(index){return this.rowsToDisplay[index]},ClientSideRowModel.prototype.isRowPresent=function(rowNode){return this.rowsToDisplay.indexOf(rowNode)>=0},ClientSideRowModel.prototype.getRowIndexAtPixel=function(pixelToMatch){if(this.isEmpty())return-1;var bottomPointer=0,topPointer=this.rowsToDisplay.length-1;if(pixelToMatch<=0)return 0;if(_.last(this.rowsToDisplay).rowTop<=pixelToMatch)return this.rowsToDisplay.length-1;for(;;){var midPointer=Math.floor((bottomPointer+topPointer)/2),currentRowNode=this.rowsToDisplay[midPointer];if(this.isRowInPixel(currentRowNode,pixelToMatch))return midPointer;currentRowNode.rowTop<pixelToMatch?bottomPointer=midPointer+1:currentRowNode.rowTop>pixelToMatch&&(topPointer=midPointer-1)}},ClientSideRowModel.prototype.isRowInPixel=function(rowNode,pixelToMatch){return rowNode.rowTop<=pixelToMatch&&rowNode.rowTop+rowNode.rowHeight>pixelToMatch},ClientSideRowModel.prototype.forEachLeafNode=function(callback){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((function(rowNode,index){return callback(rowNode,index)}))},ClientSideRowModel.prototype.forEachNode=function(callback){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,callback,RecursionType.Normal,0)},ClientSideRowModel.prototype.forEachNodeAfterFilter=function(callback){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterFilter,callback,RecursionType.AfterFilter,0)},ClientSideRowModel.prototype.forEachNodeAfterFilterAndSort=function(callback){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,callback,RecursionType.AfterFilterAndSort,0)},ClientSideRowModel.prototype.forEachPivotNode=function(callback){this.recursivelyWalkNodesAndCallback([this.rootNode],callback,RecursionType.PivotNodes,0)},ClientSideRowModel.prototype.recursivelyWalkNodesAndCallback=function(nodes,callback,recursionType,index){if(!nodes)return index;for(var i=0;i<nodes.length;i++){var node=nodes[i];if(callback(node,index++),node.hasChildren()){var nodeChildren=null;switch(recursionType){case RecursionType.Normal:nodeChildren=node.childrenAfterGroup;break;case RecursionType.AfterFilter:nodeChildren=node.childrenAfterFilter;break;case RecursionType.AfterFilterAndSort:nodeChildren=node.childrenAfterSort;break;case RecursionType.PivotNodes:nodeChildren=node.leafGroup?null:node.childrenAfterSort}nodeChildren&&(index=this.recursivelyWalkNodesAndCallback(nodeChildren,callback,recursionType,index))}}return index},ClientSideRowModel.prototype.doAggregate=function(changedPath){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:changedPath})},ClientSideRowModel.prototype.expandOrCollapseAll=function(expand){var usingTreeData=this.gridOptionsWrapper.isTreeData();this.rootNode&&function recursiveExpandOrCollapse(rowNodes){rowNodes&&rowNodes.forEach((function(rowNode){(usingTreeData?_.exists(rowNode.childrenAfterGroup):rowNode.group)&&(rowNode.expanded=expand,recursiveExpandOrCollapse(rowNode.childrenAfterGroup))}))}(this.rootNode.childrenAfterGroup),this.refreshModel({step:exports.ClientSideRowModelSteps.MAP}),this.eventService.dispatchEvent({api:this.gridApi,columnApi:this.columnApi,type:Events.EVENT_EXPAND_COLLAPSE_ALL,source:expand?\"expandAll\":\"collapseAll\"})},ClientSideRowModel.prototype.doSort=function(rowNodeTransactions,changedPath){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:rowNodeTransactions,changedPath:changedPath})},ClientSideRowModel.prototype.doRowGrouping=function(groupState,rowNodeTransactions,rowNodeOrder,changedPath,afterColumnsChanged){this.groupStage?(rowNodeTransactions?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:rowNodeTransactions,rowNodeOrder:rowNodeOrder,changedPath:changedPath}):(this.selectionController.removeGroupsFromSelection(),this.groupStage.execute({rowNode:this.rootNode,changedPath:changedPath,afterColumnsChanged:afterColumnsChanged}),this.restoreGroupState(groupState)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionController.updateGroupsFromChildrenSelections(changedPath)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.updateHasChildren())},ClientSideRowModel.prototype.restoreGroupState=function(groupState){groupState&&_.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(function(node,key){\"boolean\"==typeof groupState[key]&&(node.expanded=groupState[key])}))},ClientSideRowModel.prototype.doFilter=function(changedPath){this.filterStage.execute({rowNode:this.rootNode,changedPath:changedPath})},ClientSideRowModel.prototype.doPivot=function(changedPath){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:changedPath})},ClientSideRowModel.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var result={};return _.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(function(node,key){return result[key]=node.expanded})),result},ClientSideRowModel.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},ClientSideRowModel.prototype.getRowNode=function(id){if(\"string\"==typeof id&&0==id.indexOf(RowNode.ID_PREFIX_ROW_GROUP)){var res_1=null;return this.forEachNode((function(node){node.id===id&&(res_1=node)})),res_1}return this.nodeManager.getRowNode(id)},ClientSideRowModel.prototype.setRowData=function(rowData){var groupState=this.getGroupState();this.nodeManager.setRowData(rowData),this.eventService.dispatchEvent({type:Events.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi}),this.refreshModel({step:exports.ClientSideRowModelSteps.EVERYTHING,groupState:groupState,newData:!0})},ClientSideRowModel.prototype.batchUpdateRowData=function(rowDataTransaction,callback){var _this=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var waitMillis=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout((function(){_this.executeBatchUpdateRowData()}),waitMillis)}this.rowDataTransactionBatch.push({rowDataTransaction:rowDataTransaction,callback:callback})},ClientSideRowModel.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},ClientSideRowModel.prototype.executeBatchUpdateRowData=function(){var _this=this;this.valueCache.onDataChanged();var callbackFuncsBound=[],rowNodeTrans=[],forceRowNodeOrder=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach((function(tranItem){var rowNodeTran=_this.nodeManager.updateRowData(tranItem.rowDataTransaction,void 0);rowNodeTrans.push(rowNodeTran),tranItem.callback&&callbackFuncsBound.push(tranItem.callback.bind(null,rowNodeTran)),\"number\"==typeof tranItem.rowDataTransaction.addIndex&&(forceRowNodeOrder=!0)})),this.commonUpdateRowData(rowNodeTrans,void 0,forceRowNodeOrder),callbackFuncsBound.length>0&&window.setTimeout((function(){callbackFuncsBound.forEach((function(func){return func()}))}),0),rowNodeTrans.length>0){var event_1={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:Events.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:rowNodeTrans};this.eventService.dispatchEvent(event_1)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},ClientSideRowModel.prototype.updateRowData=function(rowDataTran,rowNodeOrder){this.valueCache.onDataChanged();var rowNodeTran=this.nodeManager.updateRowData(rowDataTran,rowNodeOrder);return this.commonUpdateRowData([rowNodeTran],rowNodeOrder,\"number\"==typeof rowDataTran.addIndex),rowNodeTran},ClientSideRowModel.prototype.createRowNodeOrder=function(){if(!this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()){var orderMap={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var index=0;index<this.rootNode.allLeafChildren.length;index++)orderMap[this.rootNode.allLeafChildren[index].id]=index;return orderMap}},ClientSideRowModel.prototype.commonUpdateRowData=function(rowNodeTrans,rowNodeOrder,forceRowNodeOrder){forceRowNodeOrder&&(rowNodeOrder=this.createRowNodeOrder()),this.refreshModel({step:exports.ClientSideRowModelSteps.EVERYTHING,rowNodeTransactions:rowNodeTrans,rowNodeOrder:rowNodeOrder,keepRenderedRows:!0,animate:!0,keepEditingRows:!0}),this.eventService.dispatchEvent({type:Events.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi})},ClientSideRowModel.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},ClientSideRowModel.prototype.onRowHeightChanged=function(){this.refreshModel({step:exports.ClientSideRowModelSteps.MAP,keepRenderedRows:!0,keepEditingRows:!0})},ClientSideRowModel.prototype.resetRowHeights=function(){var atLeastOne=!1;this.forEachNode((function(rowNode){rowNode.setRowHeight(rowNode.rowHeight,!0);var detailNode=rowNode.detailNode;detailNode&&detailNode.setRowHeight(detailNode.rowHeight,!0),atLeastOne=!0})),atLeastOne&&this.onRowHeightChanged()},__decorate$28([Autowired(\"columnController\")],ClientSideRowModel.prototype,\"columnController\",void 0),__decorate$28([Autowired(\"$scope\")],ClientSideRowModel.prototype,\"$scope\",void 0),__decorate$28([Autowired(\"selectionController\")],ClientSideRowModel.prototype,\"selectionController\",void 0),__decorate$28([Autowired(\"valueCache\")],ClientSideRowModel.prototype,\"valueCache\",void 0),__decorate$28([Autowired(\"columnApi\")],ClientSideRowModel.prototype,\"columnApi\",void 0),__decorate$28([Autowired(\"gridApi\")],ClientSideRowModel.prototype,\"gridApi\",void 0),__decorate$28([Autowired(\"animationFrameService\")],ClientSideRowModel.prototype,\"animationFrameService\",void 0),__decorate$28([Autowired(\"filterStage\")],ClientSideRowModel.prototype,\"filterStage\",void 0),__decorate$28([Autowired(\"sortStage\")],ClientSideRowModel.prototype,\"sortStage\",void 0),__decorate$28([Autowired(\"flattenStage\")],ClientSideRowModel.prototype,\"flattenStage\",void 0),__decorate$28([Optional(\"groupStage\")],ClientSideRowModel.prototype,\"groupStage\",void 0),__decorate$28([Optional(\"aggregationStage\")],ClientSideRowModel.prototype,\"aggregationStage\",void 0),__decorate$28([Optional(\"pivotStage\")],ClientSideRowModel.prototype,\"pivotStage\",void 0),__decorate$28([PostConstruct],ClientSideRowModel.prototype,\"init\",null),__decorate$28([Bean(\"rowModel\")],ClientSideRowModel)}(BeanStub),__extends$2l=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$29=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},FilterStage=function(_super){function FilterStage(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$2l(FilterStage,_super),FilterStage.prototype.execute=function(params){var rowNode=params.rowNode;this.filterService.filter(params.changedPath),this.selectableService.updateSelectableAfterFiltering(rowNode)},__decorate$29([Autowired(\"selectableService\")],FilterStage.prototype,\"selectableService\",void 0),__decorate$29([Autowired(\"filterService\")],FilterStage.prototype,\"filterService\",void 0),__decorate$29([Bean(\"filterStage\")],FilterStage)}(BeanStub),__extends$2m=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$2a=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},SortStage=function(_super){function SortStage(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$2m(SortStage,_super),SortStage.prototype.execute=function(params){var sortOptions=this.sortController.getSortOptions(),sortActive=_.exists(sortOptions)&&sortOptions.length>0,deltaSort=sortActive&&_.exists(params.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),dirtyLeafNodes=deltaSort?this.calculateDirtyNodes(params.rowNodeTransactions):null,valueColumns=this.columnController.getValueColumns(),noAggregations=_.missingOrEmpty(valueColumns);this.sortService.sort(sortOptions,sortActive,deltaSort,dirtyLeafNodes,params.changedPath,noAggregations)},SortStage.prototype.calculateDirtyNodes=function(rowNodeTransactions){var dirtyNodes={},addNodesFunc=function(rowNodes){rowNodes&&rowNodes.forEach((function(rowNode){return dirtyNodes[rowNode.id]=!0}))};return rowNodeTransactions&&rowNodeTransactions.forEach((function(tran){addNodesFunc(tran.add),addNodesFunc(tran.update),addNodesFunc(tran.remove)})),dirtyNodes},__decorate$2a([Autowired(\"sortService\")],SortStage.prototype,\"sortService\",void 0),__decorate$2a([Autowired(\"sortController\")],SortStage.prototype,\"sortController\",void 0),__decorate$2a([Autowired(\"columnController\")],SortStage.prototype,\"columnController\",void 0),__decorate$2a([Bean(\"sortStage\")],SortStage)}(BeanStub),__extends$2n=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$2b=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},FlattenStage=function(_super){function FlattenStage(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$2n(FlattenStage,_super),FlattenStage.prototype.execute=function(params){var rootNode=params.rowNode,result=[],nextRowTop={value:0},skipLeafNodes=this.columnController.isPivotMode(),showRootNode=skipLeafNodes&&rootNode.leafGroup;return this.recursivelyAddToRowsToDisplay(showRootNode?[rootNode]:rootNode.childrenAfterSort,result,nextRowTop,skipLeafNodes,0),!showRootNode&&result.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(rootNode),this.addRowNodeToRowsToDisplay(rootNode.sibling,result,nextRowTop,0)),result},FlattenStage.prototype.recursivelyAddToRowsToDisplay=function(rowsToFlatten,result,nextRowTop,skipLeafNodes,uiLevel){if(!_.missingOrEmpty(rowsToFlatten))for(var hideOpenParents=this.gridOptionsWrapper.isGroupHideOpenParents(),groupRemoveSingleChildren=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),groupRemoveLowestSingleChildren=!groupRemoveSingleChildren&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),i=0;i<rowsToFlatten.length;i++){var rowNode=rowsToFlatten[i],isParent=rowNode.hasChildren(),isRemovedSingleChildrenGroup=groupRemoveSingleChildren&&isParent&&1===rowNode.childrenAfterGroup.length,isRemovedLowestSingleChildrenGroup=groupRemoveLowestSingleChildren&&isParent&&rowNode.leafGroup&&1===rowNode.childrenAfterGroup.length;if(!(skipLeafNodes&&!isParent||hideOpenParents&&rowNode.expanded&&(!skipLeafNodes||!rowNode.leafGroup)||isRemovedSingleChildrenGroup||isRemovedLowestSingleChildrenGroup)&&this.addRowNodeToRowsToDisplay(rowNode,result,nextRowTop,uiLevel),!skipLeafNodes||!rowNode.leafGroup)if(isParent){var excludedParent=isRemovedSingleChildrenGroup||isRemovedLowestSingleChildrenGroup;(rowNode.expanded||excludedParent)&&(this.recursivelyAddToRowsToDisplay(rowNode.childrenAfterSort,result,nextRowTop,skipLeafNodes,excludedParent?uiLevel:uiLevel+1),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(rowNode),this.addRowNodeToRowsToDisplay(rowNode.sibling,result,nextRowTop,uiLevel)))}else if(rowNode.master&&rowNode.expanded){var detailNode=this.createDetailNode(rowNode);this.addRowNodeToRowsToDisplay(detailNode,result,nextRowTop,uiLevel)}}},FlattenStage.prototype.addRowNodeToRowsToDisplay=function(rowNode,result,nextRowTop,uiLevel){var isGroupMultiAutoColumn=this.gridOptionsWrapper.isGroupMultiAutoColumn();result.push(rowNode),rowNode.setUiLevel(isGroupMultiAutoColumn?0:uiLevel)},FlattenStage.prototype.ensureFooterNodeExists=function(groupNode){if(!_.exists(groupNode.sibling)){var footerNode=new RowNode;this.context.createBean(footerNode),Object.keys(groupNode).forEach((function(key){footerNode[key]=groupNode[key]})),footerNode.footer=!0,footerNode.setRowTop(null),footerNode.setRowIndex(null),footerNode.oldRowTop=null,_.exists(footerNode.id)&&(footerNode.id=\"rowGroupFooter_\"+footerNode.id),footerNode.sibling=groupNode,groupNode.sibling=footerNode}},FlattenStage.prototype.createDetailNode=function(masterNode){if(_.exists(masterNode.detailNode))return masterNode.detailNode;var detailNode=new RowNode;return this.context.createBean(detailNode),detailNode.detail=!0,detailNode.selectable=!1,detailNode.parent=masterNode,_.exists(masterNode.id)&&(detailNode.id=\"detail_\"+masterNode.id),detailNode.data=masterNode.data,detailNode.level=masterNode.level+1,masterNode.detailNode=detailNode,detailNode},__decorate$2b([Autowired(\"columnController\")],FlattenStage.prototype,\"columnController\",void 0),__decorate$2b([Bean(\"flattenStage\")],FlattenStage)}(BeanStub),__extends$2o=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$2c=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},SortService=function(_super){function SortService(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$2o(SortService,_super),SortService.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},SortService.prototype.sort=function(sortOptions,sortActive,deltaSort,dirtyLeafNodes,changedPath,noAggregations){var _this=this;changedPath&&changedPath.forEachChangedNodeDepthFirst((function(rowNode){_this.pullDownGroupDataForHideOpenParents(rowNode.childrenAfterFilter,!0),rowNode.childrenAfterSort=sortActive?deltaSort?_this.doDeltaSort(rowNode,sortOptions,dirtyLeafNodes,changedPath,noAggregations):_this.rowNodeSorter.doFullSort(rowNode.childrenAfterFilter,sortOptions):rowNode.childrenAfterFilter.slice(0),_this.updateChildIndexes(rowNode),_this.postSortFunc&&_this.postSortFunc(rowNode.childrenAfterSort)})),this.updateGroupDataForHiddenOpenParents(changedPath)},SortService.prototype.mapNodeToSortedNode=function(rowNode,pos){return{currentPos:pos,rowNode:rowNode}},SortService.prototype.doDeltaSort=function(rowNode,sortOptions,dirtyLeafNodes,changedPath,noAggregations){var cleanNodes=rowNode.childrenAfterSort.filter((function(node){var passesDirtyNodesCheck=!dirtyLeafNodes[node.id],passesChangedPathCheck=noAggregations||changedPath&&changedPath.canSkip(node);return passesDirtyNodesCheck&&passesChangedPathCheck})).map(this.mapNodeToSortedNode.bind(this)),cleanNodesMapped={};cleanNodes.forEach((function(sortedRowNode){return cleanNodesMapped[sortedRowNode.rowNode.id]=sortedRowNode.rowNode}));var changedNodes=rowNode.childrenAfterFilter.filter((function(node){return!cleanNodesMapped[node.id]})).map(this.mapNodeToSortedNode.bind(this));return changedNodes.sort(this.rowNodeSorter.compareRowNodes.bind(this,sortOptions)),(0===changedNodes.length?cleanNodes:0===cleanNodes.length?changedNodes:this.mergeSortedArrays(sortOptions,cleanNodes,changedNodes)).map((function(item){return item.rowNode}))},SortService.prototype.mergeSortedArrays=function(sortOptions,arr1,arr2){for(var res=[],i=0,j=0;i<arr1.length&&j<arr2.length;){var compareResult=this.rowNodeSorter.compareRowNodes(sortOptions,arr1[i],arr2[j]);res.push(compareResult<0?arr1[i++]:arr2[j++])}for(;i<arr1.length;)res.push(arr1[i++]);for(;j<arr2.length;)res.push(arr2[j++]);return res},SortService.prototype.updateChildIndexes=function(rowNode){if(!_.missing(rowNode.childrenAfterSort))for(var listToSort=rowNode.childrenAfterSort,i=0;i<listToSort.length;i++){var child=listToSort[i],lastChild=i===rowNode.childrenAfterSort.length-1;child.setFirstChild(0===i),child.setLastChild(lastChild),child.setChildIndex(i)}},SortService.prototype.updateGroupDataForHiddenOpenParents=function(changedPath){var _this=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){var callback=function(rowNode){_this.pullDownGroupDataForHideOpenParents(rowNode.childrenAfterSort,!1),rowNode.childrenAfterSort.forEach((function(child){child.hasChildren()&&callback(child)}))};changedPath&&changedPath.executeFromRootNode((function(rowNode){return callback(rowNode)}))}},SortService.prototype.pullDownGroupDataForHideOpenParents=function(rowNodes,clearOperation){var _this=this;this.gridOptionsWrapper.isGroupHideOpenParents()&&!_.missing(rowNodes)&&rowNodes.forEach((function(childRowNode){_this.columnController.getGroupDisplayColumns().forEach((function(groupDisplayCol){var showRowGroup=groupDisplayCol.getColDef().showRowGroup;if(\"string\"==typeof showRowGroup){var rowGroupColumn=_this.columnController.getPrimaryColumn(showRowGroup);if(rowGroupColumn!==childRowNode.rowGroupColumn)if(clearOperation)childRowNode.setGroupValue(groupDisplayCol.getId(),null);else{var parentToStealFrom=childRowNode.getFirstChildOfFirstChild(rowGroupColumn);parentToStealFrom&&childRowNode.setGroupValue(groupDisplayCol.getId(),parentToStealFrom.key)}}else console.error(\"AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup\")}))}))},__decorate$2c([Autowired(\"columnController\")],SortService.prototype,\"columnController\",void 0),__decorate$2c([Autowired(\"rowNodeSorter\")],SortService.prototype,\"rowNodeSorter\",void 0),__decorate$2c([PostConstruct],SortService.prototype,\"init\",null),__decorate$2c([Bean(\"sortService\")],SortService)}(BeanStub),__extends$2p=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$2d=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},FilterService=function(_super){function FilterService(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$2p(FilterService,_super),FilterService.prototype.postConstruct=function(){this.doingTreeData=this.gridOptionsWrapper.isTreeData()},FilterService.prototype.filter=function(changedPath){var filterActive=this.filterManager.isAnyFilterPresent();this.filterNodes(filterActive,changedPath)},FilterService.prototype.filterNodes=function(filterActive,changedPath){var _this=this,filterCallback=function(rowNode,includeChildNodes){rowNode.hasChildren()?(rowNode.childrenAfterFilter=filterActive&&!includeChildNodes?rowNode.childrenAfterGroup.filter((function(childNode){var passBecauseChildren=childNode.childrenAfterFilter&&childNode.childrenAfterFilter.length>0,passBecauseDataPasses=childNode.data&&_this.filterManager.doesRowPassFilter({rowNode:childNode});return passBecauseChildren||passBecauseDataPasses})):rowNode.childrenAfterGroup,_this.setAllChildrenCount(rowNode)):(rowNode.childrenAfterFilter=rowNode.childrenAfterGroup,rowNode.setAllChildrenCount(null))};if(this.doingTreeDataFiltering()){var treeDataDepthFirstFilter_1=function(rowNode,alreadyFoundInParent){if(rowNode.childrenAfterGroup)for(var i=0;i<rowNode.childrenAfterGroup.length;i++){var childNode=rowNode.childrenAfterGroup[i],foundInParent=alreadyFoundInParent||_this.filterManager.doesRowPassFilter({rowNode:childNode});childNode.childrenAfterGroup?treeDataDepthFirstFilter_1(rowNode.childrenAfterGroup[i],foundInParent):filterCallback(childNode,foundInParent)}filterCallback(rowNode,alreadyFoundInParent)};changedPath.executeFromRootNode((function(rowNode){return treeDataDepthFirstFilter_1(rowNode,!1)}))}else changedPath.forEachChangedNodeDepthFirst((function(rowNode){return filterCallback(rowNode,!1)}),!0)},FilterService.prototype.setAllChildrenCountTreeData=function(rowNode){var allChildrenCount=0;rowNode.childrenAfterFilter.forEach((function(child){allChildrenCount++,allChildrenCount+=child.allChildrenCount})),rowNode.setAllChildrenCount(allChildrenCount)},FilterService.prototype.setAllChildrenCountGridGrouping=function(rowNode){var allChildrenCount=0;rowNode.childrenAfterFilter.forEach((function(child){child.group?allChildrenCount+=child.allChildrenCount:allChildrenCount++})),rowNode.setAllChildrenCount(allChildrenCount)},FilterService.prototype.setAllChildrenCount=function(rowNode){this.doingTreeData?this.setAllChildrenCountTreeData(rowNode):this.setAllChildrenCountGridGrouping(rowNode)},FilterService.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},__decorate$2d([Autowired(\"filterManager\")],FilterService.prototype,\"filterManager\",void 0),__decorate$2d([PostConstruct],FilterService.prototype,\"postConstruct\",null),__decorate$2d([Bean(\"filterService\")],FilterService)}(BeanStub),__extends$2q=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$2e=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},ImmutableService=function(_super){function ImmutableService(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$2q(ImmutableService,_super),ImmutableService.prototype.postConstruct=function(){this.rowModel.getType()===Constants.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},ImmutableService.prototype.createTransactionForRowData=function(data){if(_.missing(this.clientSideRowModel))console.error(\"AG Grid: ImmutableService only works with ClientSideRowModel\");else{var getRowNodeIdFunc=this.gridOptionsWrapper.getRowNodeIdFunc();if(getRowNodeIdFunc&&!_.missing(getRowNodeIdFunc)){var transaction={remove:[],update:[],add:[]},existingNodesMap=this.clientSideRowModel.getCopyOfNodesMap(),orderMap=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?null:{};return _.exists(data)&&data.forEach((function(dataItem,index){var id=getRowNodeIdFunc(dataItem),existingNode=existingNodesMap[id];orderMap&&(orderMap[id]=index),existingNode?(existingNode.data!==dataItem&&transaction.update.push(dataItem),existingNodesMap[id]=void 0):transaction.add.push(dataItem)})),_.iterateObject(existingNodesMap,(function(id,rowNode){rowNode&&transaction.remove.push(rowNode.data)})),[transaction,orderMap]}console.error(\"AG Grid: ImmutableService requires getRowNodeId() callback to be implemented, your row data need IDs!\")}},__decorate$2e([Autowired(\"rowModel\")],ImmutableService.prototype,\"rowModel\",void 0),__decorate$2e([PostConstruct],ImmutableService.prototype,\"postConstruct\",null),__decorate$2e([Bean(\"immutableService\")],ImmutableService)}(BeanStub),ClientSideRowModelModule={moduleName:exports.ModuleNames.ClientSideRowModelModule,beans:[FilterStage,SortStage,FlattenStage,SortService,FilterService,ImmutableService],rowModels:{clientSide:ClientSideRowModel}},__extends$2r=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$2f=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},InfiniteBlock=function(_super){function InfiniteBlock(id,parentCache,params){var _this=_super.call(this,id)||this;return _this.parentCache=parentCache,_this.params=params,_this.startRow=id*params.blockSize,_this.endRow=_this.startRow+params.blockSize,_this}return __extends$2r(InfiniteBlock,_super),InfiniteBlock.prototype.postConstruct=function(){this.createRowNodes()},InfiniteBlock.prototype.getBlockStateJson=function(){return{id:\"\"+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},InfiniteBlock.prototype.setDataAndId=function(rowNode,data,index){_.exists(data)?rowNode.setDataAndId(data,index.toString()):rowNode.setDataAndId(void 0,void 0)},InfiniteBlock.prototype.loadFromDatasource=function(){var _this=this,params=this.createLoadParams();_.missing(this.params.datasource.getRows)?console.warn(\"AG Grid: datasource is missing getRows method\"):window.setTimeout((function(){_this.params.datasource.getRows(params)}),0)},InfiniteBlock.prototype.processServerFail=function(){},InfiniteBlock.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsWrapper.getContext()}},InfiniteBlock.prototype.forEachNode=function(callback,sequence,rowCount){var _this=this;this.rowNodes.forEach((function(rowNode,index){_this.startRow+index<rowCount&&callback(rowNode,sequence.next())}))},InfiniteBlock.prototype.getLastAccessed=function(){return this.lastAccessed},InfiniteBlock.prototype.getRow=function(rowIndex,dontTouchLastAccessed){return void 0===dontTouchLastAccessed&&(dontTouchLastAccessed=!1),dontTouchLastAccessed||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[rowIndex-this.startRow]},InfiniteBlock.prototype.getStartRow=function(){return this.startRow},InfiniteBlock.prototype.getEndRow=function(){return this.endRow},InfiniteBlock.prototype.createRowNodes=function(){this.rowNodes=[];for(var i=0;i<this.params.blockSize;i++){var rowIndex=this.startRow+i,rowNode=this.getContext().createBean(new RowNode);rowNode.setRowHeight(this.params.rowHeight),rowNode.uiLevel=0,rowNode.setRowIndex(rowIndex),rowNode.setRowTop(this.params.rowHeight*rowIndex),this.rowNodes.push(rowNode)}},InfiniteBlock.prototype.processServerResult=function(params){var _this=this;this.rowNodes.forEach((function(rowNode,index){_this.setDataAndId(rowNode,params.rowData?params.rowData[index]:void 0,_this.startRow+index)})),this.parentCache.pageLoaded(this,null!=params.rowCount&&params.rowCount>=0?params.rowCount:void 0)},InfiniteBlock.prototype.destroyRowNodes=function(){this.rowNodes.forEach((function(rowNode){rowNode.clearRowTopAndRowIndex()}))},__decorate$2f([PostConstruct],InfiniteBlock.prototype,\"postConstruct\",null),__decorate$2f([PreDestroy],InfiniteBlock.prototype,\"destroyRowNodes\",null),InfiniteBlock}(RowNodeBlock),__extends$2s=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$2g=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},InfiniteCache=function(_super){function InfiniteCache(params){var _this=_super.call(this)||this;return _this.lastRowIndexKnown=!1,_this.blocks={},_this.blockCount=0,_this.rowCount=params.initialRowCount,_this.params=params,_this}return __extends$2s(InfiniteCache,_super),InfiniteCache.prototype.setBeans=function(loggerFactory){this.logger=loggerFactory.create(\"InfiniteCache\")},InfiniteCache.prototype.getRow=function(rowIndex,dontCreatePage){void 0===dontCreatePage&&(dontCreatePage=!1);var blockId=Math.floor(rowIndex/this.params.blockSize),block=this.blocks[blockId];if(!block){if(dontCreatePage)return null;block=this.createBlock(blockId)}return block.getRow(rowIndex)},InfiniteCache.prototype.createBlock=function(blockNumber){var newBlock=this.createBean(new InfiniteBlock(blockNumber,this,this.params));return this.blocks[newBlock.getId()]=newBlock,this.blockCount++,this.purgeBlocksIfNeeded(newBlock),this.params.rowNodeBlockLoader.addBlock(newBlock),newBlock},InfiniteCache.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach((function(block){return block.setStateWaitingToLoad()})),this.params.rowNodeBlockLoader.checkBlockToLoad())},InfiniteCache.prototype.destroyAllBlocks=function(){var _this=this;this.getBlocksInOrder().forEach((function(block){return _this.destroyBlock(block)}))},InfiniteCache.prototype.getRowCount=function(){return this.rowCount},InfiniteCache.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},InfiniteCache.prototype.pageLoaded=function(block,lastRow){this.isAlive()&&(this.logger.log(\"onPageLoaded: page = \"+block.getId()+\", lastRow = \"+lastRow),this.checkRowCount(block,lastRow),this.onCacheUpdated())},InfiniteCache.prototype.purgeBlocksIfNeeded=function(blockToExclude){var _this=this,blocksForPurging=this.getBlocksInOrder().filter((function(b){return b!=blockToExclude}));blocksForPurging.sort((function(a,b){return b.getLastAccessed()-a.getLastAccessed()}));var maxBlocksProvided=this.params.maxBlocksInCache>0,blocksToKeep=maxBlocksProvided?this.params.maxBlocksInCache-1:null,emptyBlocksToKeep=InfiniteCache.MAX_EMPTY_BLOCKS_TO_KEEP-1;blocksForPurging.forEach((function(block,index){if(block.getState()===InfiniteBlock.STATE_WAITING_TO_LOAD&&index>=emptyBlocksToKeep||maxBlocksProvided&&index>=blocksToKeep){if(_this.isBlockCurrentlyDisplayed(block))return;if(_this.isBlockFocused(block))return;_this.removeBlockFromCache(block)}}))},InfiniteCache.prototype.isBlockFocused=function(block){var focusedCell=this.focusController.getFocusCellToUseAfterRefresh();if(!focusedCell)return!1;if(null!=focusedCell.rowPinned)return!1;var blockIndexStart=block.getStartRow(),blockIndexEnd=block.getEndRow();return focusedCell.rowIndex>=blockIndexStart&&focusedCell.rowIndex<blockIndexEnd},InfiniteCache.prototype.isBlockCurrentlyDisplayed=function(block){var startIndex=block.getStartRow(),endIndex=block.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(startIndex,endIndex)},InfiniteCache.prototype.removeBlockFromCache=function(blockToRemove){blockToRemove&&this.destroyBlock(blockToRemove)},InfiniteCache.prototype.checkRowCount=function(block,lastRow){if(\"number\"==typeof lastRow&&lastRow>=0)this.rowCount=lastRow,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var lastRowIndexPlusOverflow=(block.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<lastRowIndexPlusOverflow&&(this.rowCount=lastRowIndexPlusOverflow)}},InfiniteCache.prototype.setRowCount=function(rowCount,lastRowIndexKnown){this.rowCount=rowCount,_.exists(lastRowIndexKnown)&&(this.lastRowIndexKnown=lastRowIndexKnown),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},InfiniteCache.prototype.forEachNodeDeep=function(callback){var _this=this,sequence=new NumberSequence;this.getBlocksInOrder().forEach((function(block){return block.forEachNode(callback,sequence,_this.rowCount)}))},InfiniteCache.prototype.getBlocksInOrder=function(){return _.getAllValuesInObject(this.blocks).sort((function(a,b){return a.getId()-b.getId()}))},InfiniteCache.prototype.destroyBlock=function(block){delete this.blocks[block.getId()],this.destroyBean(block),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(block)},InfiniteCache.prototype.onCacheUpdated=function(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:Events.EVENT_STORE_UPDATED}))},InfiniteCache.prototype.destroyAllBlocksPastVirtualRowCount=function(){var _this=this,blocksToDestroy=[];this.getBlocksInOrder().forEach((function(block){block.getId()*_this.params.blockSize>=_this.rowCount&&blocksToDestroy.push(block)})),blocksToDestroy.length>0&&blocksToDestroy.forEach((function(block){return _this.destroyBlock(block)}))},InfiniteCache.prototype.purgeCache=function(){var _this=this;this.getBlocksInOrder().forEach((function(block){return _this.removeBlockFromCache(block)})),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},InfiniteCache.prototype.getRowNodesInRange=function(firstInRange,lastInRange){var _this=this,result=[],lastBlockId=-1,inActiveRange=!1,numberSequence=new NumberSequence;_.missing(firstInRange)&&(inActiveRange=!0);var foundGapInSelection=!1;return this.getBlocksInOrder().forEach((function(block){foundGapInSelection||(inActiveRange&&lastBlockId+1!==block.getId()?foundGapInSelection=!0:(lastBlockId=block.getId(),block.forEachNode((function(rowNode){var hitFirstOrLast=rowNode===firstInRange||rowNode===lastInRange;(inActiveRange||hitFirstOrLast)&&result.push(rowNode),hitFirstOrLast&&(inActiveRange=!inActiveRange)}),numberSequence,_this.rowCount)))})),foundGapInSelection||inActiveRange?[]:result},InfiniteCache.MAX_EMPTY_BLOCKS_TO_KEEP=2,__decorate$2g([Autowired(\"rowRenderer\")],InfiniteCache.prototype,\"rowRenderer\",void 0),__decorate$2g([Autowired(\"focusController\")],InfiniteCache.prototype,\"focusController\",void 0),__decorate$2g([(0,decorator=Qualifier(\"loggerFactory\"),function(target,key){decorator(target,key,0)})],InfiniteCache.prototype,\"setBeans\",null),__decorate$2g([PreDestroy],InfiniteCache.prototype,\"destroyAllBlocks\",null),InfiniteCache;var decorator}(BeanStub),__extends$2t=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$2h=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},InfiniteRowModel=function(_super){function InfiniteRowModel(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$2t(InfiniteRowModel,_super),InfiniteRowModel.prototype.getRowBounds=function(index){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*index}},InfiniteRowModel.prototype.ensureRowHeightsValid=function(startPixel,endPixel,startLimitIndex,endLimitIndex){return!1},InfiniteRowModel.prototype.init=function(){var _this=this;this.gridOptionsWrapper.isRowModelInfinite()&&(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc((function(){return _this.destroyCache()})),this.verifyProps())},InfiniteRowModel.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getDefaultGroupSortComparator()&&_.doOnce((function(){return console.warn(\"AG Grid: defaultGroupSortComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.\")}),\"IRM.DefaultGroupSortComparator\")},InfiniteRowModel.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},InfiniteRowModel.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},InfiniteRowModel.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,Events.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},InfiniteRowModel.prototype.onFilterChanged=function(){this.reset()},InfiniteRowModel.prototype.onSortChanged=function(){this.reset()},InfiniteRowModel.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},InfiniteRowModel.prototype.isSortModelDifferent=function(){return!_.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},InfiniteRowModel.prototype.getType=function(){return Constants.ROW_MODEL_TYPE_INFINITE},InfiniteRowModel.prototype.setDatasource=function(datasource){this.destroyDatasource(),this.datasource=datasource,datasource&&this.reset()},InfiniteRowModel.prototype.isEmpty=function(){return!this.infiniteCache},InfiniteRowModel.prototype.isRowsToRender=function(){return!!this.infiniteCache},InfiniteRowModel.prototype.getNodesInRangeForSelection=function(firstInRange,lastInRange){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(firstInRange,lastInRange):[]},InfiniteRowModel.prototype.reset=function(){if(this.datasource){_.exists(this.gridOptionsWrapper.getRowNodeIdFunc())||this.selectionController.reset(),this.resetCache();var event=this.createModelUpdatedEvent();this.eventService.dispatchEvent(event)}},InfiniteRowModel.prototype.createModelUpdatedEvent=function(){return{type:Events.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},InfiniteRowModel.prototype.resetCache=function(){this.destroyCache();var maxConcurrentRequests=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,maxConcurrentRequests:this.defaultIfInvalid(maxConcurrentRequests,2),initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new NumberSequence},this.infiniteCache=this.createBean(new InfiniteCache(this.cacheParams))},InfiniteRowModel.prototype.defaultIfInvalid=function(value,defaultValue){return value>0?value:defaultValue},InfiniteRowModel.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},InfiniteRowModel.prototype.onCacheUpdated=function(){var event=this.createModelUpdatedEvent();this.eventService.dispatchEvent(event)},InfiniteRowModel.prototype.getRow=function(rowIndex){return this.infiniteCache?this.infiniteCache.getRow(rowIndex):null},InfiniteRowModel.prototype.getRowNode=function(id){var result=null;return this.forEachNode((function(rowNode){rowNode.id===id&&(result=rowNode)})),result},InfiniteRowModel.prototype.forEachNode=function(callback){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(callback)},InfiniteRowModel.prototype.getTopLevelRowCount=function(){return this.getRowCount()},InfiniteRowModel.prototype.getTopLevelRowDisplayedIndex=function(topLevelIndex){return topLevelIndex},InfiniteRowModel.prototype.getRowIndexAtPixel=function(pixel){if(0!==this.rowHeight){var rowIndexForPixel=Math.floor(pixel/this.rowHeight),lastRowIndex=this.getRowCount()-1;return rowIndexForPixel>lastRowIndex?lastRowIndex:rowIndexForPixel}return 0},InfiniteRowModel.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},InfiniteRowModel.prototype.isRowPresent=function(rowNode){return!!this.getRowNode(rowNode.id)},InfiniteRowModel.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},InfiniteRowModel.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},InfiniteRowModel.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},InfiniteRowModel.prototype.setRowCount=function(rowCount,lastRowIndexKnown){this.infiniteCache&&this.infiniteCache.setRowCount(rowCount,lastRowIndexKnown)},__decorate$2h([Autowired(\"filterManager\")],InfiniteRowModel.prototype,\"filterManager\",void 0),__decorate$2h([Autowired(\"sortController\")],InfiniteRowModel.prototype,\"sortController\",void 0),__decorate$2h([Autowired(\"selectionController\")],InfiniteRowModel.prototype,\"selectionController\",void 0),__decorate$2h([Autowired(\"gridApi\")],InfiniteRowModel.prototype,\"gridApi\",void 0),__decorate$2h([Autowired(\"columnApi\")],InfiniteRowModel.prototype,\"columnApi\",void 0),__decorate$2h([Autowired(\"rowRenderer\")],InfiniteRowModel.prototype,\"rowRenderer\",void 0),__decorate$2h([Autowired(\"rowNodeBlockLoader\")],InfiniteRowModel.prototype,\"rowNodeBlockLoader\",void 0),__decorate$2h([PostConstruct],InfiniteRowModel.prototype,\"init\",null),__decorate$2h([PreDestroy],InfiniteRowModel.prototype,\"destroyDatasource\",null),__decorate$2h([Bean(\"rowModel\")],InfiniteRowModel)}(BeanStub),InfiniteRowModelModule={moduleName:exports.ModuleNames.InfiniteRowModelModule,rowModels:{infinite:InfiniteRowModel}},BaseCreator=function(){function BaseCreator(){}return BaseCreator.prototype.setBeans=function(beans){this.beans=beans},BaseCreator.prototype.getFileName=function(fileName){var extension=this.getDefaultFileExtension();return null!=fileName&&fileName.length||(fileName=this.getDefaultFileName()),-1===fileName.indexOf(\".\")?fileName+\".\"+extension:fileName},BaseCreator.prototype.getMergedParamsAndData=function(userParams){var mergedParams=this.mergeDefaultParams(userParams);return{mergedParams:mergedParams,data:this.beans.gridSerializer.serialize(this.createSerializingSession(mergedParams),mergedParams)}},BaseCreator.prototype.mergeDefaultParams=function(userParams){var baseParams=this.getDefaultExportParams(),params={};return _.assign(params,baseParams),_.assign(params,userParams),params},BaseCreator}(),BaseGridSerializingSession=function(){function BaseGridSerializingSession(config){this.groupColumns=[];var valueService=config.valueService,gridOptionsWrapper=config.gridOptionsWrapper,processCellCallback=config.processCellCallback,processHeaderCallback=config.processHeaderCallback,processGroupHeaderCallback=config.processGroupHeaderCallback,processRowGroupCallback=config.processRowGroupCallback;this.columnController=config.columnController,this.valueService=valueService,this.gridOptionsWrapper=gridOptionsWrapper,this.processCellCallback=processCellCallback,this.processHeaderCallback=processHeaderCallback,this.processGroupHeaderCallback=processGroupHeaderCallback,this.processRowGroupCallback=processRowGroupCallback}return BaseGridSerializingSession.prototype.prepare=function(columnsToExport){this.groupColumns=_.filter(columnsToExport,(function(col){return!!col.getColDef().showRowGroup}))},BaseGridSerializingSession.prototype.extractHeaderValue=function(column){var value=this.getHeaderName(this.processHeaderCallback,column);return null!=value?value:\"\"},BaseGridSerializingSession.prototype.extractRowCellValue=function(column,index,accumulatedRowIndex,type,node){var valueForCell,groupIndex=this.gridOptionsWrapper.isGroupMultiAutoColumn()?node.rowGroupIndex:0;valueForCell=node&&node.group&&(index===groupIndex&&-1!==this.groupColumns.indexOf(column)||0===index&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnController.isPivotMode()))?this.createValueForGroupNode(node):this.valueService.getValue(column,node);var value=this.processCell(accumulatedRowIndex,node,column,valueForCell,this.processCellCallback,type);return null!=value?value:\"\"},BaseGridSerializingSession.prototype.getHeaderName=function(callback,column){return callback?callback({column:column,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnController.getDisplayNameForColumn(column,\"csv\",!0)},BaseGridSerializingSession.prototype.createValueForGroupNode=function(node){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:node,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var keys=[node.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;node.parent;)keys.push((node=node.parent).key);return keys.reverse().join(\" -> \")},BaseGridSerializingSession.prototype.processCell=function(accumulatedRowIndex,rowNode,column,value,processCellCallback,type){return processCellCallback?processCellCallback({accumulatedRowIndex:accumulatedRowIndex,column:column,node:rowNode,value:value,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:type}):null!=value?value:\"\"},BaseGridSerializingSession}(),Downloader=function(){function Downloader(){}return Downloader.download=function(fileName,content){var win=document.defaultView||window;if(win)if(win.navigator.msSaveOrOpenBlob)win.navigator.msSaveOrOpenBlob(content,fileName);else{var element=document.createElement(\"a\"),url_1=win.URL.createObjectURL(content);element.setAttribute(\"href\",url_1),element.setAttribute(\"download\",fileName),element.style.display=\"none\",document.body.appendChild(element),element.dispatchEvent(new MouseEvent(\"click\",{bubbles:!1,cancelable:!0,view:win})),document.body.removeChild(element),win.setTimeout((function(){win.URL.revokeObjectURL(url_1)}),0)}else console.warn(\"AG Grid: There is no `window` associated with the current `document`\")},Downloader}(),__extends$2u=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),CsvSerializingSession=function(_super){function CsvSerializingSession(config){var _this=_super.call(this,config)||this;_this.isFirstLine=!0,_this.result=\"\";var columnSeparator=config.columnSeparator;return _this.suppressQuotes=config.suppressQuotes,_this.columnSeparator=columnSeparator,_this}return __extends$2u(CsvSerializingSession,_super),CsvSerializingSession.prototype.addCustomContent=function(content){var _this=this;content&&(\"string\"==typeof content?(/^\\s*\\n/.test(content)||this.beginNewLine(),content=content.replace(/\\r?\\n/g,\"\\r\\n\"),this.result+=content):content.forEach((function(row){_this.beginNewLine(),row.forEach((function(cell,index){0!==index&&(_this.result+=_this.columnSeparator),_this.result+=_this.putInQuotes(cell.data.value||\"\"),cell.mergeAcross&&_this.appendEmptyCells(cell.mergeAcross)}))})))},CsvSerializingSession.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},CsvSerializingSession.prototype.onNewHeaderGroupingRowColumn=function(header,index,span){0!=index&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(header),this.appendEmptyCells(span)},CsvSerializingSession.prototype.appendEmptyCells=function(count){for(var i=1;i<=count;i++)this.result+=this.columnSeparator+this.putInQuotes(\"\")},CsvSerializingSession.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},CsvSerializingSession.prototype.onNewHeaderRowColumn=function(column,index){0!=index&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(column))},CsvSerializingSession.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},CsvSerializingSession.prototype.onNewBodyRowColumn=function(column,index,node){0!=index&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(column,index,index,Constants.EXPORT_TYPE_CSV,node))},CsvSerializingSession.prototype.putInQuotes=function(value){return this.suppressQuotes?value:null==value?'\"\"':(\"string\"==typeof value?stringValue=value:\"function\"==typeof value.toString?stringValue=value.toString():(console.warn(\"unknown value type during csv conversion\"),stringValue=\"\"),'\"'+stringValue.replace(/\"/g,'\"\"')+'\"');var stringValue},CsvSerializingSession.prototype.parse=function(){return this.result},CsvSerializingSession.prototype.beginNewLine=function(){this.isFirstLine||(this.result+=\"\\r\\n\"),this.isFirstLine=!1},CsvSerializingSession}(BaseGridSerializingSession),__extends$2v=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$2i=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},CsvCreator=function(_super){function CsvCreator(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$2v(CsvCreator,_super),CsvCreator.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},CsvCreator.prototype.getDefaultExportParams=function(){return this.gridOptionsWrapper.getDefaultExportParams(\"csv\")},CsvCreator.prototype.export=function(userParams){if(this.isExportSuppressed())return console.warn(\"ag-grid: Export cancelled. Export is not allowed as per your configuration.\"),\"\";var _a=this.getMergedParamsAndData(userParams),mergedParams=_a.mergedParams,data=_a.data,packagedFile=new Blob([\"\\ufeff\",data],{type:window.navigator.msSaveOrOpenBlob?this.getMimeType():\"octet/stream\"});return Downloader.download(this.getFileName(mergedParams.fileName),packagedFile),data},CsvCreator.prototype.exportDataAsCsv=function(params){return this.export(params)},CsvCreator.prototype.getDataAsCsv=function(params){return this.getMergedParamsAndData(params).data},CsvCreator.prototype.getMimeType=function(){return\"text/csv;charset=utf-8;\"},CsvCreator.prototype.getDefaultFileName=function(){return\"export.csv\"},CsvCreator.prototype.getDefaultFileExtension=function(){return\"csv\"},CsvCreator.prototype.createSerializingSession=function(params){return new CsvSerializingSession({columnController:this.columnController,valueService:this.valueService,gridOptionsWrapper:this.gridOptionsWrapper,processCellCallback:params.processCellCallback||void 0,processHeaderCallback:params.processHeaderCallback||void 0,processGroupHeaderCallback:params.processGroupHeaderCallback||void 0,processRowGroupCallback:params.processRowGroupCallback||void 0,suppressQuotes:params.suppressQuotes||!1,columnSeparator:params.columnSeparator||\",\"})},CsvCreator.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},__decorate$2i([Autowired(\"columnController\")],CsvCreator.prototype,\"columnController\",void 0),__decorate$2i([Autowired(\"valueService\")],CsvCreator.prototype,\"valueService\",void 0),__decorate$2i([Autowired(\"gridSerializer\")],CsvCreator.prototype,\"gridSerializer\",void 0),__decorate$2i([Autowired(\"gridOptionsWrapper\")],CsvCreator.prototype,\"gridOptionsWrapper\",void 0),__decorate$2i([PostConstruct],CsvCreator.prototype,\"postConstruct\",null),__decorate$2i([Bean(\"csvCreator\")],CsvCreator)}(BaseCreator),__extends$2w=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__decorate$2j=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};!function(RowType){RowType[RowType.HEADER_GROUPING=0]=\"HEADER_GROUPING\",RowType[RowType.HEADER=1]=\"HEADER\",RowType[RowType.BODY=2]=\"BODY\"}(exports.RowType||(exports.RowType={}));var GridSerializer=function(_super){function GridSerializer(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$2w(GridSerializer,_super),GridSerializer.prototype.serialize=function(gridSerializingSession,params){void 0===params&&(params={});var columnsToExport=this.getColumnsToExport(params.allColumns,params.columnKeys);return _.compose(this.prepareSession(columnsToExport),this.prependContent(params),this.exportColumnGroups(params,columnsToExport),this.exportHeaders(params,columnsToExport),this.processPinnedTopRows(params,columnsToExport),this.processRows(params,columnsToExport),this.processPinnedBottomRows(params,columnsToExport),this.appendContent(params))(gridSerializingSession).parse()},GridSerializer.prototype.processRow=function(gridSerializingSession,params,columnsToExport,node){var rowSkipper=params.shouldRowBeSkipped||function(){return!1},gridOptionsWrapper=this.gridOptionsWrapper,context=gridOptionsWrapper.getContext(),api=gridOptionsWrapper.getApi(),columnApi=gridOptionsWrapper.getColumnApi(),skipSingleChildrenGroup=gridOptionsWrapper.isGroupRemoveSingleChildren(),hideOpenParents=gridOptionsWrapper.isGroupHideOpenParents(),skipLowestSingleChildrenGroup=gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),isLeafNode=this.columnController.isPivotMode()?node.leafGroup:!node.group,shouldSkipCurrentGroup=1===node.allChildrenCount&&(skipSingleChildrenGroup||skipLowestSingleChildrenGroup&&node.leafGroup);if((params.skipGroups||params.skipRowGroups)&&params.skipGroups&&_.doOnce((function(){return console.warn(\"AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.\")}),\"gridSerializer-skipGroups\"),!(!isLeafNode&&(params.skipRowGroups||shouldSkipCurrentGroup||hideOpenParents)||params.onlySelected&&!node.isSelected()||params.skipPinnedTop&&\"top\"===node.rowPinned||params.skipPinnedBottom&&\"bottom\"===node.rowPinned)&&(-1!==node.level||node.leafGroup)&&!rowSkipper({node:node,api:api,context:context})){var rowAccumulator=gridSerializingSession.onNewBodyRow();if(columnsToExport.forEach((function(column,index){rowAccumulator.onColumn(column,index,node)})),params.getCustomContentBelowRow){var content=params.getCustomContentBelowRow({node:node,api:api,columnApi:columnApi,context:context});content&&gridSerializingSession.addCustomContent(content)}}},GridSerializer.prototype.appendContent=function(params){return function(gridSerializingSession){var appendContent=params.customFooter||params.appendContent;return appendContent&&(params.customFooter&&_.doOnce((function(){return console.warn(\"AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.\")}),\"gridSerializer-customFooter\"),gridSerializingSession.addCustomContent(appendContent)),gridSerializingSession}},GridSerializer.prototype.prependContent=function(params){return function(gridSerializingSession){var prependContent=params.customHeader||params.prependContent;return prependContent&&(params.customHeader&&_.doOnce((function(){return console.warn(\"AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.\")}),\"gridSerializer-customHeader\"),gridSerializingSession.addCustomContent(prependContent)),gridSerializingSession}},GridSerializer.prototype.prepareSession=function(columnsToExport){return function(gridSerializingSession){return gridSerializingSession.prepare(columnsToExport),gridSerializingSession}},GridSerializer.prototype.exportColumnGroups=function(params,columnsToExport){var _this=this;return function(gridSerializingSession){if(params.skipColumnGroupHeaders)params.columnGroups&&_.doOnce((function(){return console.warn(\"AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.\")}),\"gridSerializer-columnGroups\");else{var groupInstanceIdCreator=new GroupInstanceIdCreator,displayedGroups=_this.displayedGroupCreator.createDisplayedGroups(columnsToExport,_this.columnController.getGridBalancedTree(),groupInstanceIdCreator,null);_this.recursivelyAddHeaderGroups(displayedGroups,gridSerializingSession,params.processGroupHeaderCallback)}return gridSerializingSession}},GridSerializer.prototype.exportHeaders=function(params,columnsToExport){return function(gridSerializingSession){if(params.skipHeader||params.skipColumnHeaders)params.skipHeader&&_.doOnce((function(){return console.warn(\"AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.\")}),\"gridSerializer-skipHeader\");else{var gridRowIterator_1=gridSerializingSession.onNewHeaderRow();columnsToExport.forEach((function(column,index){gridRowIterator_1.onColumn(column,index,void 0)}))}return gridSerializingSession}},GridSerializer.prototype.processPinnedTopRows=function(params,columnsToExport){var _this=this;return function(gridSerializingSession){var processRow=_this.processRow.bind(_this,gridSerializingSession,params,columnsToExport);return _this.pinnedRowModel.forEachPinnedTopRow(processRow),gridSerializingSession}},GridSerializer.prototype.processRows=function(params,columnsToExport){var _this=this;return function(gridSerializingSession){var rowModel=_this.rowModel,rowModelType=rowModel.getType(),usingCsrm=rowModelType===Constants.ROW_MODEL_TYPE_CLIENT_SIDE,usingSsrm=rowModelType===Constants.ROW_MODEL_TYPE_SERVER_SIDE,onlySelectedNonStandardModel=!usingCsrm&&params.onlySelected,processRow=_this.processRow.bind(_this,gridSerializingSession,params,columnsToExport);return _this.columnController.isPivotMode()?usingCsrm?rowModel.forEachPivotNode(processRow):rowModel.forEachNode(processRow):params.onlySelectedAllPages||onlySelectedNonStandardModel?_this.selectionController.getSelectedNodes().forEach(processRow):usingCsrm?rowModel.forEachNodeAfterFilterAndSort(processRow):usingSsrm?rowModel.forEachNodeAfterFilterAndSort(processRow):rowModel.forEachNode(processRow),gridSerializingSession}},GridSerializer.prototype.processPinnedBottomRows=function(params,columnsToExport){var _this=this;return function(gridSerializingSession){var processRow=_this.processRow.bind(_this,gridSerializingSession,params,columnsToExport);return _this.pinnedRowModel.forEachPinnedBottomRow(processRow),gridSerializingSession}},GridSerializer.prototype.getColumnsToExport=function(allColumns,columnKeys){void 0===allColumns&&(allColumns=!1);var isPivotMode=this.columnController.isPivotMode();return columnKeys&&columnKeys.length?this.columnController.getGridColumns(columnKeys):allColumns&&!isPivotMode?(this.gridOptionsWrapper.isTreeData()?this.columnController.getGridColumns([Constants.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnController.getAllPrimaryColumns()||[]):this.columnController.getAllDisplayedColumns()},GridSerializer.prototype.recursivelyAddHeaderGroups=function(displayedGroups,gridSerializingSession,processGroupHeaderCallback){var directChildrenHeaderGroups=[];displayedGroups.forEach((function(columnGroupChild){columnGroupChild.getChildren&&columnGroupChild.getChildren().forEach((function(it){return directChildrenHeaderGroups.push(it)}))})),displayedGroups.length>0&&displayedGroups[0]instanceof ColumnGroup&&this.doAddHeaderHeader(gridSerializingSession,displayedGroups,processGroupHeaderCallback),directChildrenHeaderGroups&&directChildrenHeaderGroups.length>0&&this.recursivelyAddHeaderGroups(directChildrenHeaderGroups,gridSerializingSession,processGroupHeaderCallback)},GridSerializer.prototype.doAddHeaderHeader=function(gridSerializingSession,displayedGroups,processGroupHeaderCallback){var _this=this,gridRowIterator=gridSerializingSession.onNewHeaderGroupingRow(),columnIndex=0;displayedGroups.forEach((function(columnGroupChild){var name,columnGroup=columnGroupChild;name=processGroupHeaderCallback?processGroupHeaderCallback({columnGroup:columnGroup,api:_this.gridOptionsWrapper.getApi(),columnApi:_this.gridOptionsWrapper.getColumnApi(),context:_this.gridOptionsWrapper.getContext()}):_this.columnController.getDisplayNameForColumnGroup(columnGroup,\"header\"),gridRowIterator.onColumn(name||\"\",columnIndex++,columnGroup.getLeafColumns().length-1)}))},__decorate$2j([Autowired(\"displayedGroupCreator\")],GridSerializer.prototype,\"displayedGroupCreator\",void 0),__decorate$2j([Autowired(\"columnController\")],GridSerializer.prototype,\"columnController\",void 0),__decorate$2j([Autowired(\"rowModel\")],GridSerializer.prototype,\"rowModel\",void 0),__decorate$2j([Autowired(\"pinnedRowModel\")],GridSerializer.prototype,\"pinnedRowModel\",void 0),__decorate$2j([Autowired(\"selectionController\")],GridSerializer.prototype,\"selectionController\",void 0),__decorate$2j([Bean(\"gridSerializer\")],GridSerializer)}(BeanStub),CsvExportModule={moduleName:exports.ModuleNames.CsvExportModule,beans:[CsvCreator,GridSerializer]},XmlFactory=function(){function XmlFactory(){}return XmlFactory.createHeader=function(headerElement){void 0===headerElement&&(headerElement={});var keys=[\"version\"];return headerElement.version||(headerElement.version=\"1.0\"),headerElement.encoding&&keys.push(\"encoding\"),headerElement.standalone&&keys.push(\"standalone\"),\"<?xml \"+keys.map((function(key){return key+'=\"'+headerElement[key]+'\"'})).join(\" \")+\" ?>\"},XmlFactory.createXml=function(xmlElement,booleanTransformer){var _this=this,props=\"\";xmlElement.properties&&(xmlElement.properties.prefixedAttributes&&xmlElement.properties.prefixedAttributes.forEach((function(prefixedSet){Object.keys(prefixedSet.map).forEach((function(key){props+=_this.returnAttributeIfPopulated(prefixedSet.prefix+key,prefixedSet.map[key],booleanTransformer)}))})),xmlElement.properties.rawMap&&Object.keys(xmlElement.properties.rawMap).forEach((function(key){props+=_this.returnAttributeIfPopulated(key,xmlElement.properties.rawMap[key],booleanTransformer)})));var result=\"<\"+xmlElement.name+props;return xmlElement.children||null!=xmlElement.textNode?null!=xmlElement.textNode?result+\">\"+xmlElement.textNode+\"</\"+xmlElement.name+\">\\r\\n\":(result+=\">\\r\\n\",xmlElement.children&&xmlElement.children.forEach((function(it){result+=_this.createXml(it,booleanTransformer)})),result+\"</\"+xmlElement.name+\">\\r\\n\"):result+\"/>\\r\\n\"},XmlFactory.returnAttributeIfPopulated=function(key,value,booleanTransformer){if(!value&&\"\"!==value&&0!==value)return\"\";var xmlValue=value;return\"boolean\"==typeof value&&booleanTransformer&&(xmlValue=booleanTransformer(value)),\" \"+key+'=\"'+xmlValue+'\"'},XmlFactory}(),crcTable=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),ZipContainer=function(){function ZipContainer(){}return ZipContainer.addFolders=function(paths){paths.forEach(this.addFolder.bind(this))},ZipContainer.addFolder=function(path){this.folders.push({path:path,created:new Date,isBase64:!1})},ZipContainer.addFile=function(path,content,isBase64){void 0===isBase64&&(isBase64=!1),this.files.push({path:path,created:new Date,content:content,isBase64:isBase64})},ZipContainer.getContent=function(mimeType){void 0===mimeType&&(mimeType=\"application/zip\");var textOutput=this.buildFileStream(),uInt8Output=this.buildUint8Array(textOutput);return this.clearStream(),new Blob([uInt8Output],{type:mimeType})},ZipContainer.clearStream=function(){this.folders=[],this.files=[]},ZipContainer.buildFileStream=function(fData){void 0===fData&&(fData=\"\");for(var totalFiles=this.folders.concat(this.files),len=totalFiles.length,foData=\"\",lL=0,cL=0,_i=0,totalFiles_1=totalFiles;_i<totalFiles_1.length;_i++){var _a=this.getHeader(totalFiles_1[_i],lL),fileHeader=_a.fileHeader,folderHeader=_a.folderHeader,content=_a.content;lL+=fileHeader.length+content.length,cL+=folderHeader.length,fData+=fileHeader+content,foData+=folderHeader}return fData+foData+this.buildFolderEnd(len,cL,lL)},ZipContainer.getHeader=function(currentFile,offset){var content=currentFile.content,path=currentFile.path,created=currentFile.created,isBase64=currentFile.isBase64,decToHex=_.decToHex,utfPath=(0,_.utf8_encode)(path),isUTF8=utfPath!==path,time=this.convertTime(created),dt=this.convertDate(created),extraFields=\"\";if(isUTF8){var uExtraFieldPath=decToHex(1,1)+decToHex(this.getFromCrc32Table(utfPath),4)+utfPath;extraFields=\"up\"+decToHex(uExtraFieldPath.length,2)+uExtraFieldPath}var _a=content?this.getConvertedContent(content,isBase64):{size:0,content:\"\"},size=_a.size,convertedContent=_a.content,header=\"\\n\\0\"+(isUTF8?\"\\0\\b\":\"\\0\\0\")+\"\\0\\0\"+decToHex(time,2)+decToHex(dt,2)+decToHex(size?this.getFromCrc32Table(convertedContent):0,4)+decToHex(size,4)+decToHex(size,4)+decToHex(utfPath.length,2)+decToHex(extraFields.length,2);return{fileHeader:\"PK\u0003\u0004\"+header+utfPath+extraFields,folderHeader:\"PK\u0001\u0002\u0014\\0\"+header+\"\\0\\0\\0\\0\\0\\0\"+(content?\"\\0\\0\\0\\0\":\"\u0010\\0\\0\\0\")+decToHex(offset,4)+utfPath+extraFields,content:convertedContent||\"\"}},ZipContainer.getConvertedContent=function(content,isBase64){return void 0===isBase64&&(isBase64=!1),isBase64&&(content=content.split(\";base64,\")[1]),{size:(content=isBase64?atob(content):content).length,content:content}},ZipContainer.buildFolderEnd=function(tLen,cLen,lLen){var decToHex=_.decToHex;return\"PK\u0005\u0006\\0\\0\\0\\0\"+decToHex(tLen,2)+decToHex(tLen,2)+decToHex(cLen,4)+decToHex(lLen,4)+\"\\0\\0\"},ZipContainer.buildUint8Array=function(content){for(var uint8=new Uint8Array(content.length),i=0;i<uint8.length;i++)uint8[i]=content.charCodeAt(i);return uint8},ZipContainer.getFromCrc32Table=function(content){if(!content.length)return 0;for(var size=content.length,iterable=new Uint8Array(size),i=0;i<size;i++)iterable[i]=content.charCodeAt(i);var crc=-1;for(i=0;i<size;i++)crc=crc>>>8^crcTable[255&(crc^iterable[i])];return-1^crc},ZipContainer.convertTime=function(date){var time=date.getHours();return time<<=6,time|=date.getMinutes(),(time<<=5)|date.getSeconds()/2},ZipContainer.convertDate=function(date){var dt=date.getFullYear()-1980;return dt<<=4,dt|=date.getMonth()+1,(dt<<=5)|date.getDate()},ZipContainer.folders=[],ZipContainer.files=[],ZipContainer}();ModuleRegistry.register(ClientSideRowModelModule,!1),ModuleRegistry.register(InfiniteRowModelModule,!1),ModuleRegistry.register(CsvExportModule,!1),exports.AgAbstractField=AgAbstractField,exports.AgAngleSelect=AgAngleSelect,exports.AgCheckbox=AgCheckbox,exports.AgColorPicker=AgColorPicker,exports.AgDialog=AgDialog,exports.AgGroupComponent=AgGroupComponent,exports.AgInputNumberField=AgInputNumberField,exports.AgInputRange=AgInputRange,exports.AgInputTextArea=AgInputTextArea,exports.AgInputTextField=AgInputTextField,exports.AgPanel=AgPanel,exports.AgPromise=AgPromise,exports.AgRadioButton=AgRadioButton,exports.AgSelect=AgSelect,exports.AgSlider=AgSlider,exports.AgToggleButton=AgToggleButton,exports.AlignedGridsService=AlignedGridsService,exports.AnimateShowChangeCellRenderer=AnimateShowChangeCellRenderer,exports.AnimateSlideCellRenderer=AnimateSlideCellRenderer,exports.AnimationFrameService=AnimationFrameService,exports.AutoWidthCalculator=AutoWidthCalculator,exports.Autowired=Autowired,exports.BaseComponentWrapper=BaseComponentWrapper,exports.BaseCreator=BaseCreator,exports.BaseGridSerializingSession=BaseGridSerializingSession,exports.Bean=Bean,exports.BeanStub=BeanStub,exports.BodyDropPivotTarget=BodyDropPivotTarget,exports.BodyDropTarget=BodyDropTarget,exports.CellComp=CellComp,exports.CellNavigationService=CellNavigationService,exports.CellPositionUtils=CellPositionUtils,exports.ChangedPath=ChangedPath,exports.CheckboxSelectionComponent=CheckboxSelectionComponent,exports.ColDefUtil=ColDefUtil,exports.Color=Color,exports.Column=Column,exports.ColumnApi=ColumnApi,exports.ColumnController=ColumnController,exports.ColumnFactory=ColumnFactory,exports.ColumnGroup=ColumnGroup,exports.ColumnKeyCreator=ColumnKeyCreator,exports.ColumnUtils=ColumnUtils,exports.Component=Component,exports.ComponentUtil=ComponentUtil,exports.Constants=Constants,exports.Context=Context,exports.ControllersService=ControllersService,exports.CssClassApplier=CssClassApplier,exports.CsvCreator=CsvCreator,exports.CsvExportModule=CsvExportModule,exports.DateFilter=DateFilter,exports.DisplayedGroupCreator=DisplayedGroupCreator,exports.Downloader=Downloader,exports.DragAndDropService=DragAndDropService,exports.DragService=DragService,exports.Environment=Environment,exports.EventService=EventService,exports.Events=Events,exports.ExpressionService=ExpressionService,exports.FilterManager=FilterManager,exports.FloatingFilterMapper=FloatingFilterMapper,exports.FloatingFilterWrapper=FloatingFilterWrapper,exports.FocusController=FocusController,exports.Grid=Grid,exports.GridApi=GridApi,exports.GridBodyComp=GridBodyComp,exports.GridBodyController=GridBodyController,exports.GridComp=GridComp,exports.GridCompController=GridCompController,exports.GridCoreCreator=GridCoreCreator,exports.GridListener=function(eventName){return gridListenerFunc.bind(this,eventName)},exports.GridOptionsWrapper=GridOptionsWrapper,exports.GridSerializer=GridSerializer,exports.GroupCellRenderer=GroupCellRenderer,exports.GroupInstanceIdCreator=GroupInstanceIdCreator,exports.GuiListener=function(ref,eventName){return guiListenerFunc.bind(this,ref,eventName)},exports.HeaderContainer=HeaderContainer,exports.HeaderNavigationService=HeaderNavigationService,exports.HeaderPositionUtils=HeaderPositionUtils,exports.HeaderRootComp=HeaderRootComp,exports.HeaderRowComp=HeaderRowComp,exports.HeadlessService=HeadlessService,exports.HorizontalResizeService=HorizontalResizeService,exports.KeyCode=KeyCode,exports.KeyName=KeyName,exports.LargeTextCellEditor=LargeTextCellEditor,exports.Logger=Logger,exports.LoggerFactory=LoggerFactory,exports.ManagedFocusComponent=ManagedFocusComponent,exports.ModuleRegistry=ModuleRegistry,exports.MouseEventService=MouseEventService,exports.MoveColumnController=MoveColumnController,exports.NumberFilter=NumberFilter,exports.NumberSequence=NumberSequence,exports.Optional=Optional,exports.OriginalColumnGroup=OriginalColumnGroup,exports.PaginationProxy=PaginationProxy,exports.PinnedRowModel=PinnedRowModel,exports.PopupComponent=PopupComponent,exports.PopupEditorWrapper=PopupEditorWrapper,exports.PopupSelectCellEditor=PopupSelectCellEditor,exports.PopupService=PopupService,exports.PopupTextCellEditor=PopupTextCellEditor,exports.PostConstruct=PostConstruct,exports.PreConstruct=PreConstruct,exports.PreDestroy=PreDestroy,exports.PropertyKeys=PropertyKeys,exports.ProvidedFilter=ProvidedFilter,exports.Qualifier=Qualifier,exports.QuerySelector=function(selector){return querySelectorFunc.bind(this,selector,void 0)},exports.RefSelector=RefSelector,exports.ResizeObserverService=ResizeObserverService,exports.RowController=RowController,exports.RowNode=RowNode,exports.RowNodeBlock=RowNodeBlock,exports.RowNodeBlockLoader=RowNodeBlockLoader,exports.RowNodeSorter=RowNodeSorter,exports.RowPositionUtils=RowPositionUtils,exports.RowRenderer=RowRenderer,exports.ScalarFilter=ScalarFilter,exports.ScrollVisibleService=ScrollVisibleService,exports.SelectCellEditor=SelectCellEditor,exports.SelectableService=SelectableService,exports.SelectionController=SelectionController,exports.SetLeftFeature=SetLeftFeature,exports.SimpleFilter=SimpleFilter,exports.SortController=SortController,exports.StandardMenuFactory=StandardMenuFactory,exports.StylingService=StylingService,exports.TabbedLayout=TabbedLayout,exports.TemplateService=TemplateService,exports.TestHeadless=TestHeadless,exports.TextCellEditor=TextCellEditor,exports.TextFilter=TextFilter,exports.TextFloatingFilter=TextFloatingFilter,exports.Timer=Timer,exports.TooltipFeature=TooltipFeature,exports.TouchListener=TouchListener,exports.UserComponentFactory=UserComponentFactory,exports.UserComponentRegistry=UserComponentRegistry,exports.ValueCache=ValueCache,exports.ValueFormatterService=ValueFormatterService,exports.ValueService=ValueService,exports.VanillaFrameworkOverrides=VanillaFrameworkOverrides,exports.VirtualList=VirtualList,exports.XmlFactory=XmlFactory,exports.ZipContainer=ZipContainer,exports._=_,exports.defaultGroupComparator=function(valueA,valueB,nodeA,nodeB,accentedCompare){void 0===accentedCompare&&(accentedCompare=!1),console.warn(\"AG Grid: Since ag-grid 11.0.0 defaultGroupComparator is not necessary. You can remove this from your colDef\");var nodeAIsGroup=exists(nodeA)&&nodeA.group,nodeBIsGroup=exists(nodeB)&&nodeB.group,bothAreNormal=!nodeAIsGroup&&!nodeBIsGroup;return nodeAIsGroup&&nodeBIsGroup?defaultComparator(nodeA.key,nodeB.key,accentedCompare):bothAreNormal?defaultComparator(valueA,valueB,accentedCompare):nodeAIsGroup?1:-1},exports.initialiseAgGridWithAngular1=function(angular){angular.module(\"agGrid\",[]).directive(\"agGrid\",(function(){return{restrict:\"A\",controller:[\"$element\",\"$scope\",\"$compile\",\"$attrs\",AngularDirectiveController],scope:!0}}))},exports.initialiseAgGridWithWebComponents=function(){if(console.warn(\"ag-grid: initialiseAgGridWithWebComponents is deprecated. Please use the ag-grid-webcomponent dependency instead. \"),!registered){registered=!0,\"undefined\"!=typeof document&&document.registerElement||console.error(\"AG Grid: unable to find document.registerElement() function, unable to initialise AG Grid as a Web Component\");var AgileGridProto=Object.create(HTMLElement.prototype);ComponentUtil.ALL_PROPERTIES.forEach((function(key){Object.defineProperty(AgileGridProto,key,{set:function(v){this.__agGridSetProperty(key,v)},get:function(){return this.__agGridGetProperty(key)},enumerable:!0,configurable:!0})}));var agGridProtoNoType=AgileGridProto;agGridProtoNoType.__agGridSetProperty=function(key,value){this.__attributes||(this.__attributes={}),this.__attributes[key]=value;var changeObject={};changeObject[key]={currentValue:value},this.onChange(changeObject)},agGridProtoNoType.onChange=function(changes){this._initialised&&ComponentUtil.processOnChange(changes,this._gridOptions,this.api,this.columnApi)},agGridProtoNoType.__agGridGetProperty=function(key){return this.__attributes||(this.__attributes={}),this.__attributes[key]},agGridProtoNoType.setGridOptions=function(options){var globalEventListener=this.globalEventListener.bind(this);this._gridOptions=ComponentUtil.copyAttributesToGridOptions(options,this),this._agGrid=new Grid(this,this._gridOptions,{globalEventListener:globalEventListener}),this.api=options.api,this.columnApi=options.columnApi,this._initialised=!0},agGridProtoNoType.createdCallback=function(){for(var i=0;i<this.attributes.length;i++)this.setPropertyFromAttribute(this.attributes[i])},agGridProtoNoType.setPropertyFromAttribute=function(attribute){var myString,name=\"string\"==typeof(myString=attribute.nodeName)?myString.replace(/-([a-z])/g,(function(g){return g[1].toUpperCase()})):myString,value=attribute.nodeValue;ComponentUtil.ALL_PROPERTIES.indexOf(name)>=0&&(this[name]=value)},agGridProtoNoType.attachedCallback=function(params){},agGridProtoNoType.detachedCallback=function(params){},agGridProtoNoType.attributeChangedCallback=function(attributeName){this.setPropertyFromAttribute(this.attributes[attributeName])},agGridProtoNoType.globalEventListener=function(eventType,event){var eventLowerCase=eventType.toLowerCase(),browserEvent=new Event(eventLowerCase);browserEvent.agGridDetails=event,this.dispatchEvent(browserEvent);var callbackMethod=\"on\"+eventLowerCase;\"function\"==typeof this[callbackMethod]&&this[callbackMethod](browserEvent)},document.registerElement(\"ag-grid\",{prototype:AgileGridProto})}},exports.simpleHttpRequest=function(params){return new AgPromise((function(resolve){var httpRequest=new XMLHttpRequest;httpRequest.open(\"GET\",params.url),httpRequest.send(),httpRequest.onreadystatechange=function(){4===httpRequest.readyState&&200===httpRequest.status&&resolve(JSON.parse(httpRequest.responseText))}}))},exports.stringToArray=stringToArray},zUnb:function(module,__webpack_exports__,__webpack_require__){\"use strict\";function isFunction(x){return\"function\"==typeof x}__webpack_require__.r(__webpack_exports__);let _enable_super_gross_mode_that_will_cause_bad_things=!1;const config_config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(value){if(value){const error=new Error;console.warn(\"DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n\"+error.stack)}else _enable_super_gross_mode_that_will_cause_bad_things&&console.log(\"RxJS: Back to a better error behavior. Thank you. <3\");_enable_super_gross_mode_that_will_cause_bad_things=value},get useDeprecatedSynchronousErrorHandling(){return _enable_super_gross_mode_that_will_cause_bad_things}};function hostReportError(err){setTimeout(()=>{throw err},0)}const empty={closed:!0,next(value){},error(err){if(config_config.useDeprecatedSynchronousErrorHandling)throw err;hostReportError(err)},complete(){}},isArray=(()=>Array.isArray||(x=>x&&\"number\"==typeof x.length))();function isObject(x){return null!==x&&\"object\"==typeof x}const UnsubscriptionError=(()=>{function UnsubscriptionErrorImpl(errors){return Error.call(this),this.message=errors?`${errors.length} errors occurred during unsubscription:\\n${errors.map((err,i)=>`${i+1}) ${err.toString()}`).join(\"\\n  \")}`:\"\",this.name=\"UnsubscriptionError\",this.errors=errors,this}return UnsubscriptionErrorImpl.prototype=Object.create(Error.prototype),UnsubscriptionErrorImpl})();let Subscription_Subscription=(()=>{class Subscription{constructor(unsubscribe){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,unsubscribe&&(this._unsubscribe=unsubscribe)}unsubscribe(){let errors;if(this.closed)return;let{_parentOrParents:_parentOrParents,_unsubscribe:_unsubscribe,_subscriptions:_subscriptions}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,_parentOrParents instanceof Subscription)_parentOrParents.remove(this);else if(null!==_parentOrParents)for(let index=0;index<_parentOrParents.length;++index)_parentOrParents[index].remove(this);if(isFunction(_unsubscribe))try{_unsubscribe.call(this)}catch(e){errors=e instanceof UnsubscriptionError?flattenUnsubscriptionErrors(e.errors):[e]}if(isArray(_subscriptions)){let index=-1,len=_subscriptions.length;for(;++index<len;){const sub=_subscriptions[index];if(isObject(sub))try{sub.unsubscribe()}catch(e){errors=errors||[],e instanceof UnsubscriptionError?errors=errors.concat(flattenUnsubscriptionErrors(e.errors)):errors.push(e)}}}if(errors)throw new UnsubscriptionError(errors)}add(teardown){let subscription=teardown;if(!teardown)return Subscription.EMPTY;switch(typeof teardown){case\"function\":subscription=new Subscription(teardown);case\"object\":if(subscription===this||subscription.closed||\"function\"!=typeof subscription.unsubscribe)return subscription;if(this.closed)return subscription.unsubscribe(),subscription;if(!(subscription instanceof Subscription)){const tmp=subscription;subscription=new Subscription,subscription._subscriptions=[tmp]}break;default:throw new Error(\"unrecognized teardown \"+teardown+\" added to Subscription.\")}let{_parentOrParents:_parentOrParents}=subscription;if(null===_parentOrParents)subscription._parentOrParents=this;else if(_parentOrParents instanceof Subscription){if(_parentOrParents===this)return subscription;subscription._parentOrParents=[_parentOrParents,this]}else{if(-1!==_parentOrParents.indexOf(this))return subscription;_parentOrParents.push(this)}const subscriptions=this._subscriptions;return null===subscriptions?this._subscriptions=[subscription]:subscriptions.push(subscription),subscription}remove(subscription){const subscriptions=this._subscriptions;if(subscriptions){const subscriptionIndex=subscriptions.indexOf(subscription);-1!==subscriptionIndex&&subscriptions.splice(subscriptionIndex,1)}}}return Subscription.EMPTY=function(empty){return empty.closed=!0,empty}(new Subscription),Subscription})();function flattenUnsubscriptionErrors(errors){return errors.reduce((errs,err)=>errs.concat(err instanceof UnsubscriptionError?err.errors:err),[])}const rxSubscriber=(()=>\"function\"==typeof Symbol?Symbol(\"rxSubscriber\"):\"@@rxSubscriber_\"+Math.random())();class Subscriber_Subscriber extends Subscription_Subscription{constructor(destinationOrNext,error,complete){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=empty;break;case 1:if(!destinationOrNext){this.destination=empty;break}if(\"object\"==typeof destinationOrNext){destinationOrNext instanceof Subscriber_Subscriber?(this.syncErrorThrowable=destinationOrNext.syncErrorThrowable,this.destination=destinationOrNext,destinationOrNext.add(this)):(this.syncErrorThrowable=!0,this.destination=new Subscriber_SafeSubscriber(this,destinationOrNext));break}default:this.syncErrorThrowable=!0,this.destination=new Subscriber_SafeSubscriber(this,destinationOrNext,error,complete)}}[rxSubscriber](){return this}static create(next,error,complete){const subscriber=new Subscriber_Subscriber(next,error,complete);return subscriber.syncErrorThrowable=!1,subscriber}next(value){this.isStopped||this._next(value)}error(err){this.isStopped||(this.isStopped=!0,this._error(err))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(value){this.destination.next(value)}_error(err){this.destination.error(err),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:_parentOrParents}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=_parentOrParents,this}}class Subscriber_SafeSubscriber extends Subscriber_Subscriber{constructor(_parentSubscriber,observerOrNext,error,complete){let next;super(),this._parentSubscriber=_parentSubscriber;let context=this;isFunction(observerOrNext)?next=observerOrNext:observerOrNext&&(next=observerOrNext.next,error=observerOrNext.error,complete=observerOrNext.complete,observerOrNext!==empty&&(context=Object.create(observerOrNext),isFunction(context.unsubscribe)&&this.add(context.unsubscribe.bind(context)),context.unsubscribe=this.unsubscribe.bind(this))),this._context=context,this._next=next,this._error=error,this._complete=complete}next(value){if(!this.isStopped&&this._next){const{_parentSubscriber:_parentSubscriber}=this;config_config.useDeprecatedSynchronousErrorHandling&&_parentSubscriber.syncErrorThrowable?this.__tryOrSetError(_parentSubscriber,this._next,value)&&this.unsubscribe():this.__tryOrUnsub(this._next,value)}}error(err){if(!this.isStopped){const{_parentSubscriber:_parentSubscriber}=this,{useDeprecatedSynchronousErrorHandling:useDeprecatedSynchronousErrorHandling}=config_config;if(this._error)useDeprecatedSynchronousErrorHandling&&_parentSubscriber.syncErrorThrowable?(this.__tryOrSetError(_parentSubscriber,this._error,err),this.unsubscribe()):(this.__tryOrUnsub(this._error,err),this.unsubscribe());else if(_parentSubscriber.syncErrorThrowable)useDeprecatedSynchronousErrorHandling?(_parentSubscriber.syncErrorValue=err,_parentSubscriber.syncErrorThrown=!0):hostReportError(err),this.unsubscribe();else{if(this.unsubscribe(),useDeprecatedSynchronousErrorHandling)throw err;hostReportError(err)}}}complete(){if(!this.isStopped){const{_parentSubscriber:_parentSubscriber}=this;if(this._complete){const wrappedComplete=()=>this._complete.call(this._context);config_config.useDeprecatedSynchronousErrorHandling&&_parentSubscriber.syncErrorThrowable?(this.__tryOrSetError(_parentSubscriber,wrappedComplete),this.unsubscribe()):(this.__tryOrUnsub(wrappedComplete),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(fn,value){try{fn.call(this._context,value)}catch(err){if(this.unsubscribe(),config_config.useDeprecatedSynchronousErrorHandling)throw err;hostReportError(err)}}__tryOrSetError(parent,fn,value){if(!config_config.useDeprecatedSynchronousErrorHandling)throw new Error(\"bad call\");try{fn.call(this._context,value)}catch(err){return config_config.useDeprecatedSynchronousErrorHandling?(parent.syncErrorValue=err,parent.syncErrorThrown=!0,!0):(hostReportError(err),!0)}return!1}_unsubscribe(){const{_parentSubscriber:_parentSubscriber}=this;this._context=null,this._parentSubscriber=null,_parentSubscriber.unsubscribe()}}const observable_observable=(()=>\"function\"==typeof Symbol&&Symbol.observable||\"@@observable\")();function identity(x){return x}function pipe(...fns){return pipeFromArray(fns)}function pipeFromArray(fns){return 0===fns.length?identity:1===fns.length?fns[0]:function(input){return fns.reduce((prev,fn)=>fn(prev),input)}}let Observable_Observable=(()=>{class Observable{constructor(subscribe){this._isScalar=!1,subscribe&&(this._subscribe=subscribe)}lift(operator){const observable=new Observable;return observable.source=this,observable.operator=operator,observable}subscribe(observerOrNext,error,complete){const{operator:operator}=this,sink=function(nextOrObserver,error,complete){if(nextOrObserver){if(nextOrObserver instanceof Subscriber_Subscriber)return nextOrObserver;if(nextOrObserver[rxSubscriber])return nextOrObserver[rxSubscriber]()}return nextOrObserver||error||complete?new Subscriber_Subscriber(nextOrObserver,error,complete):new Subscriber_Subscriber(empty)}(observerOrNext,error,complete);if(sink.add(operator?operator.call(sink,this.source):this.source||config_config.useDeprecatedSynchronousErrorHandling&&!sink.syncErrorThrowable?this._subscribe(sink):this._trySubscribe(sink)),config_config.useDeprecatedSynchronousErrorHandling&&sink.syncErrorThrowable&&(sink.syncErrorThrowable=!1,sink.syncErrorThrown))throw sink.syncErrorValue;return sink}_trySubscribe(sink){try{return this._subscribe(sink)}catch(err){config_config.useDeprecatedSynchronousErrorHandling&&(sink.syncErrorThrown=!0,sink.syncErrorValue=err),function(observer){for(;observer;){const{closed:closed,destination:destination,isStopped:isStopped}=observer;if(closed||isStopped)return!1;observer=destination&&destination instanceof Subscriber_Subscriber?destination:null}return!0}(sink)?sink.error(err):console.warn(err)}}forEach(next,promiseCtor){return new(promiseCtor=getPromiseCtor(promiseCtor))((resolve,reject)=>{let subscription;subscription=this.subscribe(value=>{try{next(value)}catch(err){reject(err),subscription&&subscription.unsubscribe()}},reject,resolve)})}_subscribe(subscriber){const{source:source}=this;return source&&source.subscribe(subscriber)}[observable_observable](){return this}pipe(...operations){return 0===operations.length?this:pipeFromArray(operations)(this)}toPromise(promiseCtor){return new(promiseCtor=getPromiseCtor(promiseCtor))((resolve,reject)=>{let value;this.subscribe(x=>value=x,err=>reject(err),()=>resolve(value))})}}return Observable.create=subscribe=>new Observable(subscribe),Observable})();function getPromiseCtor(promiseCtor){if(promiseCtor||(promiseCtor=config_config.Promise||Promise),!promiseCtor)throw new Error(\"no Promise impl found\");return promiseCtor}const ObjectUnsubscribedError=(()=>{function ObjectUnsubscribedErrorImpl(){return Error.call(this),this.message=\"object unsubscribed\",this.name=\"ObjectUnsubscribedError\",this}return ObjectUnsubscribedErrorImpl.prototype=Object.create(Error.prototype),ObjectUnsubscribedErrorImpl})();class SubjectSubscription_SubjectSubscription extends Subscription_Subscription{constructor(subject,subscriber){super(),this.subject=subject,this.subscriber=subscriber,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const subject=this.subject,observers=subject.observers;if(this.subject=null,!observers||0===observers.length||subject.isStopped||subject.closed)return;const subscriberIndex=observers.indexOf(this.subscriber);-1!==subscriberIndex&&observers.splice(subscriberIndex,1)}}class Subject_SubjectSubscriber extends Subscriber_Subscriber{constructor(destination){super(destination),this.destination=destination}}let Subject_Subject=(()=>{class Subject extends Observable_Observable{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[rxSubscriber](){return new Subject_SubjectSubscriber(this)}lift(operator){const subject=new Subject_AnonymousSubject(this,this);return subject.operator=operator,subject}next(value){if(this.closed)throw new ObjectUnsubscribedError;if(!this.isStopped){const{observers:observers}=this,len=observers.length,copy=observers.slice();for(let i=0;i<len;i++)copy[i].next(value)}}error(err){if(this.closed)throw new ObjectUnsubscribedError;this.hasError=!0,this.thrownError=err,this.isStopped=!0;const{observers:observers}=this,len=observers.length,copy=observers.slice();for(let i=0;i<len;i++)copy[i].error(err);this.observers.length=0}complete(){if(this.closed)throw new ObjectUnsubscribedError;this.isStopped=!0;const{observers:observers}=this,len=observers.length,copy=observers.slice();for(let i=0;i<len;i++)copy[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(subscriber){if(this.closed)throw new ObjectUnsubscribedError;return super._trySubscribe(subscriber)}_subscribe(subscriber){if(this.closed)throw new ObjectUnsubscribedError;return this.hasError?(subscriber.error(this.thrownError),Subscription_Subscription.EMPTY):this.isStopped?(subscriber.complete(),Subscription_Subscription.EMPTY):(this.observers.push(subscriber),new SubjectSubscription_SubjectSubscription(this,subscriber))}asObservable(){const observable=new Observable_Observable;return observable.source=this,observable}}return Subject.create=(destination,source)=>new Subject_AnonymousSubject(destination,source),Subject})();class Subject_AnonymousSubject extends Subject_Subject{constructor(destination,source){super(),this.destination=destination,this.source=source}next(value){const{destination:destination}=this;destination&&destination.next&&destination.next(value)}error(err){const{destination:destination}=this;destination&&destination.error&&this.destination.error(err)}complete(){const{destination:destination}=this;destination&&destination.complete&&this.destination.complete()}_subscribe(subscriber){const{source:source}=this;return source?this.source.subscribe(subscriber):Subscription_Subscription.EMPTY}}function isScheduler(value){return value&&\"function\"==typeof value.schedule}class InnerSubscriber_InnerSubscriber extends Subscriber_Subscriber{constructor(parent,outerValue,outerIndex){super(),this.parent=parent,this.outerValue=outerValue,this.outerIndex=outerIndex,this.index=0}_next(value){this.parent.notifyNext(this.outerValue,value,this.outerIndex,this.index++,this)}_error(error){this.parent.notifyError(error,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const subscribeToArray=array=>subscriber=>{for(let i=0,len=array.length;i<len&&!subscriber.closed;i++)subscriber.next(array[i]);subscriber.complete()};function getSymbolIterator(){return\"function\"==typeof Symbol&&Symbol.iterator?Symbol.iterator:\"@@iterator\"}const iterator_iterator=getSymbolIterator(),isArrayLike=x=>x&&\"number\"==typeof x.length&&\"function\"!=typeof x;function isPromise(value){return!!value&&\"function\"!=typeof value.subscribe&&\"function\"==typeof value.then}const subscribeTo=result=>{if(result&&\"function\"==typeof result[observable_observable])return obj=result,subscriber=>{const obs=obj[observable_observable]();if(\"function\"!=typeof obs.subscribe)throw new TypeError(\"Provided object does not correctly implement Symbol.observable\");return obs.subscribe(subscriber)};if(isArrayLike(result))return subscribeToArray(result);if(isPromise(result))return promise=result,subscriber=>(promise.then(value=>{subscriber.closed||(subscriber.next(value),subscriber.complete())},err=>subscriber.error(err)).then(null,hostReportError),subscriber);if(result&&\"function\"==typeof result[iterator_iterator])return iterable=result,subscriber=>{const iterator=iterable[iterator_iterator]();for(;;){const item=iterator.next();if(item.done){subscriber.complete();break}if(subscriber.next(item.value),subscriber.closed)break}return\"function\"==typeof iterator.return&&subscriber.add(()=>{iterator.return&&iterator.return()}),subscriber};{const value=isObject(result)?\"an invalid object\":`'${result}'`;throw new TypeError(`You provided ${value} where a stream was expected.`+\" You can provide an Observable, Promise, Array, or Iterable.\")}var iterable,promise,obj};function subscribeToResult(outerSubscriber,result,outerValue,outerIndex,innerSubscriber=new InnerSubscriber_InnerSubscriber(outerSubscriber,outerValue,outerIndex)){if(!innerSubscriber.closed)return result instanceof Observable_Observable?result.subscribe(innerSubscriber):subscribeTo(result)(innerSubscriber)}class OuterSubscriber_OuterSubscriber extends Subscriber_Subscriber{notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue)}notifyError(error,innerSub){this.destination.error(error)}notifyComplete(innerSub){this.destination.complete()}}function map(project,thisArg){return function(source){if(\"function\"!=typeof project)throw new TypeError(\"argument is not a function. Are you looking for `mapTo()`?\");return source.lift(new MapOperator(project,thisArg))}}class MapOperator{constructor(project,thisArg){this.project=project,this.thisArg=thisArg}call(subscriber,source){return source.subscribe(new map_MapSubscriber(subscriber,this.project,this.thisArg))}}class map_MapSubscriber extends Subscriber_Subscriber{constructor(destination,project,thisArg){super(destination),this.project=project,this.count=0,this.thisArg=thisArg||this}_next(value){let result;try{result=this.project.call(this.thisArg,value,this.count++)}catch(err){return void this.destination.error(err)}this.destination.next(result)}}function scheduleArray(input,scheduler){return new Observable_Observable(subscriber=>{const sub=new Subscription_Subscription;let i=0;return sub.add(scheduler.schedule((function(){i!==input.length?(subscriber.next(input[i++]),subscriber.closed||sub.add(this.schedule())):subscriber.complete()}))),sub})}function from_from(input,scheduler){return scheduler?function(input,scheduler){if(null!=input){if(function(input){return input&&\"function\"==typeof input[observable_observable]}(input))return function(input,scheduler){return new Observable_Observable(subscriber=>{const sub=new Subscription_Subscription;return sub.add(scheduler.schedule(()=>{const observable=input[observable_observable]();sub.add(observable.subscribe({next(value){sub.add(scheduler.schedule(()=>subscriber.next(value)))},error(err){sub.add(scheduler.schedule(()=>subscriber.error(err)))},complete(){sub.add(scheduler.schedule(()=>subscriber.complete()))}}))})),sub})}(input,scheduler);if(isPromise(input))return function(input,scheduler){return new Observable_Observable(subscriber=>{const sub=new Subscription_Subscription;return sub.add(scheduler.schedule(()=>input.then(value=>{sub.add(scheduler.schedule(()=>{subscriber.next(value),sub.add(scheduler.schedule(()=>subscriber.complete()))}))},err=>{sub.add(scheduler.schedule(()=>subscriber.error(err)))}))),sub})}(input,scheduler);if(isArrayLike(input))return scheduleArray(input,scheduler);if(function(input){return input&&\"function\"==typeof input[iterator_iterator]}(input)||\"string\"==typeof input)return function(input,scheduler){if(!input)throw new Error(\"Iterable cannot be null\");return new Observable_Observable(subscriber=>{const sub=new Subscription_Subscription;let iterator;return sub.add(()=>{iterator&&\"function\"==typeof iterator.return&&iterator.return()}),sub.add(scheduler.schedule(()=>{iterator=input[iterator_iterator](),sub.add(scheduler.schedule((function(){if(subscriber.closed)return;let value,done;try{const result=iterator.next();value=result.value,done=result.done}catch(err){return void subscriber.error(err)}done?subscriber.complete():(subscriber.next(value),this.schedule())})))})),sub})}(input,scheduler)}throw new TypeError((null!==input&&typeof input||input)+\" is not observable\")}(input,scheduler):input instanceof Observable_Observable?input:new Observable_Observable(subscribeTo(input))}function mergeMap(project,resultSelector,concurrent=Number.POSITIVE_INFINITY){return\"function\"==typeof resultSelector?source=>source.pipe(mergeMap((a,i)=>from_from(project(a,i)).pipe(map((b,ii)=>resultSelector(a,b,i,ii))),concurrent)):(\"number\"==typeof resultSelector&&(concurrent=resultSelector),source=>source.lift(new MergeMapOperator(project,concurrent)))}class MergeMapOperator{constructor(project,concurrent=Number.POSITIVE_INFINITY){this.project=project,this.concurrent=concurrent}call(observer,source){return source.subscribe(new mergeMap_MergeMapSubscriber(observer,this.project,this.concurrent))}}class mergeMap_MergeMapSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination,project,concurrent=Number.POSITIVE_INFINITY){super(destination),this.project=project,this.concurrent=concurrent,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(value){this.active<this.concurrent?this._tryNext(value):this.buffer.push(value)}_tryNext(value){let result;const index=this.index++;try{result=this.project(value,index)}catch(err){return void this.destination.error(err)}this.active++,this._innerSub(result,value,index)}_innerSub(ish,value,index){const innerSubscriber=new InnerSubscriber_InnerSubscriber(this,value,index),destination=this.destination;destination.add(innerSubscriber);const innerSubscription=subscribeToResult(this,ish,void 0,void 0,innerSubscriber);innerSubscription!==innerSubscriber&&destination.add(innerSubscription)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue)}notifyComplete(innerSub){const buffer=this.buffer;this.remove(innerSub),this.active--,buffer.length>0?this._next(buffer.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function mergeAll(concurrent=Number.POSITIVE_INFINITY){return mergeMap(identity,concurrent)}function fromArray(input,scheduler){return scheduler?scheduleArray(input,scheduler):new Observable_Observable(subscribeToArray(input))}function refCount(){return function(source){return source.lift(new RefCountOperator(source))}}class RefCountOperator{constructor(connectable){this.connectable=connectable}call(subscriber,source){const{connectable:connectable}=this;connectable._refCount++;const refCounter=new refCount_RefCountSubscriber(subscriber,connectable),subscription=source.subscribe(refCounter);return refCounter.closed||(refCounter.connection=connectable.connect()),subscription}}class refCount_RefCountSubscriber extends Subscriber_Subscriber{constructor(destination,connectable){super(destination),this.connectable=connectable}_unsubscribe(){const{connectable:connectable}=this;if(!connectable)return void(this.connection=null);this.connectable=null;const refCount=connectable._refCount;if(refCount<=0)return void(this.connection=null);if(connectable._refCount=refCount-1,refCount>1)return void(this.connection=null);const{connection:connection}=this,sharedConnection=connectable._connection;this.connection=null,!sharedConnection||connection&&sharedConnection!==connection||sharedConnection.unsubscribe()}}class ConnectableObservable_ConnectableObservable extends Observable_Observable{constructor(source,subjectFactory){super(),this.source=source,this.subjectFactory=subjectFactory,this._refCount=0,this._isComplete=!1}_subscribe(subscriber){return this.getSubject().subscribe(subscriber)}getSubject(){const subject=this._subject;return subject&&!subject.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let connection=this._connection;return connection||(this._isComplete=!1,connection=this._connection=new Subscription_Subscription,connection.add(this.source.subscribe(new ConnectableObservable_ConnectableSubscriber(this.getSubject(),this))),connection.closed&&(this._connection=null,connection=Subscription_Subscription.EMPTY)),connection}refCount(){return refCount()(this)}}const connectableObservableDescriptor=(()=>{const connectableProto=ConnectableObservable_ConnectableObservable.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:connectableProto._subscribe},_isComplete:{value:connectableProto._isComplete,writable:!0},getSubject:{value:connectableProto.getSubject},connect:{value:connectableProto.connect},refCount:{value:connectableProto.refCount}}})();class ConnectableObservable_ConnectableSubscriber extends Subject_SubjectSubscriber{constructor(destination,connectable){super(destination),this.connectable=connectable}_error(err){this._unsubscribe(),super._error(err)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const connectable=this.connectable;if(connectable){this.connectable=null;const connection=connectable._connection;connectable._refCount=0,connectable._subject=null,connectable._connection=null,connection&&connection.unsubscribe()}}}function shareSubjectFactory(){return new Subject_Subject}function noSideEffects(fn){return{toString:fn}.toString()}function makeParamDecorator(name,props,parentClass){return noSideEffects(()=>{const metaCtor=function(props){return function(...args){if(props){const values=props(...args);for(const propName in values)this[propName]=values[propName]}}}(props);function ParamDecoratorFactory(...args){if(this instanceof ParamDecoratorFactory)return metaCtor.apply(this,args),this;const annotationInstance=new ParamDecoratorFactory(...args);return ParamDecorator.annotation=annotationInstance,ParamDecorator;function ParamDecorator(cls,unusedKey,index){const parameters=cls.hasOwnProperty(\"__parameters__\")?cls.__parameters__:Object.defineProperty(cls,\"__parameters__\",{value:[]}).__parameters__;for(;parameters.length<=index;)parameters.push(null);return(parameters[index]=parameters[index]||[]).push(annotationInstance),cls}}return parentClass&&(ParamDecoratorFactory.prototype=Object.create(parentClass.prototype)),ParamDecoratorFactory.prototype.ngMetadataName=name,ParamDecoratorFactory.annotationCls=ParamDecoratorFactory,ParamDecoratorFactory})}const Inject=makeParamDecorator(\"Inject\",token=>({token:token})),Optional=makeParamDecorator(\"Optional\"),Self=makeParamDecorator(\"Self\"),SkipSelf=makeParamDecorator(\"SkipSelf\");var InjectFlags=function(InjectFlags){return InjectFlags[InjectFlags.Default=0]=\"Default\",InjectFlags[InjectFlags.Host=1]=\"Host\",InjectFlags[InjectFlags.Self=2]=\"Self\",InjectFlags[InjectFlags.SkipSelf=4]=\"SkipSelf\",InjectFlags[InjectFlags.Optional=8]=\"Optional\",InjectFlags}({});function getClosureSafeProperty(objWithPropertyToExtract){for(let key in objWithPropertyToExtract)if(objWithPropertyToExtract[key]===getClosureSafeProperty)return key;throw Error(\"Could not find renamed property on target object.\")}function defineInjectable(opts){return{token:opts.token,providedIn:opts.providedIn||null,factory:opts.factory,value:void 0}}function defineInjector(options){return{factory:options.factory,providers:options.providers||[],imports:options.imports||[]}}function getInjectableDef(type){return getOwnDefinition(type,type[NG_PROV_DEF])||getOwnDefinition(type,type[NG_INJECTABLE_DEF])}function getOwnDefinition(type,def){return def&&def.token===type?def:null}function getInjectorDef(type){return type&&(type.hasOwnProperty(NG_INJ_DEF)||type.hasOwnProperty(NG_INJECTOR_DEF))?type[NG_INJ_DEF]:null}const NG_PROV_DEF=getClosureSafeProperty({\"prov\":getClosureSafeProperty}),NG_INJ_DEF=getClosureSafeProperty({\"inj\":getClosureSafeProperty}),NG_PROV_DEF_FALLBACK=getClosureSafeProperty({\"provFallback\":getClosureSafeProperty}),NG_INJECTABLE_DEF=getClosureSafeProperty({ngInjectableDef:getClosureSafeProperty}),NG_INJECTOR_DEF=getClosureSafeProperty({ngInjectorDef:getClosureSafeProperty});function stringify(token){if(\"string\"==typeof token)return token;if(Array.isArray(token))return\"[\"+token.map(stringify).join(\", \")+\"]\";if(null==token)return\"\"+token;if(token.overriddenName)return`${token.overriddenName}`;if(token.name)return`${token.name}`;const res=token.toString();if(null==res)return\"\"+res;const newLineIndex=res.indexOf(\"\\n\");return-1===newLineIndex?res:res.substring(0,newLineIndex)}function concatStringsWithSpace(before,after){return null==before||\"\"===before?null===after?\"\":after:null==after||\"\"===after?before:before+\" \"+after}const __forward_ref__=getClosureSafeProperty({__forward_ref__:getClosureSafeProperty});function forwardRef(forwardRefFn){return forwardRefFn.__forward_ref__=forwardRef,forwardRefFn.toString=function(){return stringify(this())},forwardRefFn}function resolveForwardRef(type){return\"function\"==typeof(fn=type)&&fn.hasOwnProperty(__forward_ref__)&&fn.__forward_ref__===forwardRef?type():type;var fn}const __globalThis=\"undefined\"!=typeof globalThis&&globalThis,__window=\"undefined\"!=typeof window&&window,__self=\"undefined\"!=typeof self&&\"undefined\"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,__global=\"undefined\"!=typeof global&&global,_global=__globalThis||__global||__window||__self,NG_COMP_DEF=getClosureSafeProperty({\"cmp\":getClosureSafeProperty}),NG_DIR_DEF=getClosureSafeProperty({\"dir\":getClosureSafeProperty}),NG_PIPE_DEF=getClosureSafeProperty({\"pipe\":getClosureSafeProperty}),NG_MOD_DEF=getClosureSafeProperty({\"mod\":getClosureSafeProperty}),NG_LOC_ID_DEF=getClosureSafeProperty({\"loc\":getClosureSafeProperty}),NG_FACTORY_DEF=getClosureSafeProperty({\"fac\":getClosureSafeProperty}),NG_ELEMENT_ID=getClosureSafeProperty({__NG_ELEMENT_ID__:getClosureSafeProperty});class InjectionToken{constructor(_desc,options){this._desc=_desc,this.ngMetadataName=\"InjectionToken\",this.prov=void 0,\"number\"==typeof options?this.__NG_ELEMENT_ID__=options:void 0!==options&&(this.prov=defineInjectable({token:this,providedIn:options.providedIn||\"root\",factory:options.factory}))}toString(){return`InjectionToken ${this._desc}`}}const INJECTOR=new InjectionToken(\"INJECTOR\",-1),THROW_IF_NOT_FOUND={},NEW_LINE=/\\n/gm,USE_VALUE=getClosureSafeProperty({provide:String,useValue:getClosureSafeProperty});let _injectImplementation,_currentInjector=void 0;function setCurrentInjector(injector){const former=_currentInjector;return _currentInjector=injector,former}function setInjectImplementation(impl){const previous=_injectImplementation;return _injectImplementation=impl,previous}function injectInjectorOnly(token,flags=InjectFlags.Default){if(void 0===_currentInjector)throw new Error(\"inject() must be called from an injection context\");return null===_currentInjector?injectRootLimpMode(token,void 0,flags):_currentInjector.get(token,flags&InjectFlags.Optional?null:void 0,flags)}function inject(token,flags=InjectFlags.Default){return(_injectImplementation||injectInjectorOnly)(resolveForwardRef(token),flags)}function injectRootLimpMode(token,notFoundValue,flags){const injectableDef=getInjectableDef(token);if(injectableDef&&\"root\"==injectableDef.providedIn)return void 0===injectableDef.value?injectableDef.value=injectableDef.factory():injectableDef.value;if(flags&InjectFlags.Optional)return null;if(void 0!==notFoundValue)return notFoundValue;throw new Error(`Injector: NOT_FOUND [${stringify(token)}]`)}function injectArgs(types){const args=[];for(let i=0;i<types.length;i++){const arg=resolveForwardRef(types[i]);if(Array.isArray(arg)){if(0===arg.length)throw new Error(\"Arguments array must have arguments.\");let type=void 0,flags=InjectFlags.Default;for(let j=0;j<arg.length;j++){const meta=arg[j];meta instanceof Optional||\"Optional\"===meta.ngMetadataName||meta===Optional?flags|=InjectFlags.Optional:meta instanceof SkipSelf||\"SkipSelf\"===meta.ngMetadataName||meta===SkipSelf?flags|=InjectFlags.SkipSelf:meta instanceof Self||\"Self\"===meta.ngMetadataName||meta===Self?flags|=InjectFlags.Self:type=meta instanceof Inject||meta===Inject?meta.token:meta}args.push(inject(type,flags))}else args.push(inject(arg))}return args}class NullInjector{get(token,notFoundValue=THROW_IF_NOT_FOUND){if(notFoundValue===THROW_IF_NOT_FOUND){const error=new Error(`NullInjectorError: No provider for ${stringify(token)}!`);throw error.name=\"NullInjectorError\",error}return notFoundValue}}class NgModuleRef{}class NgModuleFactory{}function deepForEach(input,fn){input.forEach(value=>Array.isArray(value)?deepForEach(value,fn):fn(value))}function addToArray(arr,index,value){index>=arr.length?arr.push(value):arr.splice(index,0,value)}function removeFromArray(arr,index){return index>=arr.length-1?arr.pop():arr.splice(index,1)[0]}const ChangeDetectionStrategy=function(){var ChangeDetectionStrategy={OnPush:0,Default:1};return ChangeDetectionStrategy[ChangeDetectionStrategy.OnPush]=\"OnPush\",ChangeDetectionStrategy[ChangeDetectionStrategy.Default]=\"Default\",ChangeDetectionStrategy}(),ViewEncapsulation$1=function(){var ViewEncapsulation$1={Emulated:0,Native:1,None:2,ShadowDom:3};return ViewEncapsulation$1[ViewEncapsulation$1.Emulated]=\"Emulated\",ViewEncapsulation$1[ViewEncapsulation$1.Native]=\"Native\",ViewEncapsulation$1[ViewEncapsulation$1.None]=\"None\",ViewEncapsulation$1[ViewEncapsulation$1.ShadowDom]=\"ShadowDom\",ViewEncapsulation$1}(),EMPTY_OBJ={},EMPTY_ARRAY=[];let _renderCompCount=0;function defineComponent(componentDefinition){return noSideEffects(()=>{const type=componentDefinition.type,typePrototype=type.prototype,declaredInputs={},def={type:type,providersResolver:null,decls:componentDefinition.decls,vars:componentDefinition.vars,factory:null,template:componentDefinition.template||null,consts:componentDefinition.consts||null,ngContentSelectors:componentDefinition.ngContentSelectors,hostBindings:componentDefinition.hostBindings||null,hostVars:componentDefinition.hostVars||0,hostAttrs:componentDefinition.hostAttrs||null,contentQueries:componentDefinition.contentQueries||null,declaredInputs:declaredInputs,inputs:null,outputs:null,exportAs:componentDefinition.exportAs||null,onChanges:null,onInit:typePrototype.ngOnInit||null,doCheck:typePrototype.ngDoCheck||null,afterContentInit:typePrototype.ngAfterContentInit||null,afterContentChecked:typePrototype.ngAfterContentChecked||null,afterViewInit:typePrototype.ngAfterViewInit||null,afterViewChecked:typePrototype.ngAfterViewChecked||null,onDestroy:typePrototype.ngOnDestroy||null,onPush:componentDefinition.changeDetection===ChangeDetectionStrategy.OnPush,directiveDefs:null,pipeDefs:null,selectors:componentDefinition.selectors||EMPTY_ARRAY,viewQuery:componentDefinition.viewQuery||null,features:componentDefinition.features||null,data:componentDefinition.data||{},encapsulation:componentDefinition.encapsulation||ViewEncapsulation$1.Emulated,id:\"c\",styles:componentDefinition.styles||EMPTY_ARRAY,_:null,setInput:null,schemas:componentDefinition.schemas||null,tView:null},directiveTypes=componentDefinition.directives,feature=componentDefinition.features,pipeTypes=componentDefinition.pipes;return def.id+=_renderCompCount++,def.inputs=invertObject(componentDefinition.inputs,declaredInputs),def.outputs=invertObject(componentDefinition.outputs),feature&&feature.forEach(fn=>fn(def)),def.directiveDefs=directiveTypes?()=>(\"function\"==typeof directiveTypes?directiveTypes():directiveTypes).map(extractDirectiveDef):null,def.pipeDefs=pipeTypes?()=>(\"function\"==typeof pipeTypes?pipeTypes():pipeTypes).map(extractPipeDef):null,def})}function extractDirectiveDef(type){return getComponentDef(type)||function(type){return type[NG_DIR_DEF]||null}(type)}function extractPipeDef(type){return function(type){return type[NG_PIPE_DEF]||null}(type)}const autoRegisterModuleById={};function defineNgModule(def){const res={type:def.type,bootstrap:def.bootstrap||EMPTY_ARRAY,declarations:def.declarations||EMPTY_ARRAY,imports:def.imports||EMPTY_ARRAY,exports:def.exports||EMPTY_ARRAY,transitiveCompileScopes:null,schemas:def.schemas||null,id:def.id||null};return null!=def.id&&noSideEffects(()=>{autoRegisterModuleById[def.id]=def.type}),res}function invertObject(obj,secondary){if(null==obj)return EMPTY_OBJ;const newLookup={};for(const minifiedKey in obj)if(obj.hasOwnProperty(minifiedKey)){let publicName=obj[minifiedKey],declaredName=publicName;Array.isArray(publicName)&&(declaredName=publicName[1],publicName=publicName[0]),newLookup[publicName]=minifiedKey,secondary&&(secondary[publicName]=declaredName)}return newLookup}const defineDirective=defineComponent;function getComponentDef(type){return type[NG_COMP_DEF]||null}function getFactoryDef(type,throwNotFound){return type.hasOwnProperty(NG_FACTORY_DEF)?type[NG_FACTORY_DEF]:null}function getNgModuleDef(type,throwNotFound){const ngModuleDef=type[NG_MOD_DEF]||null;if(!ngModuleDef&&!0===throwNotFound)throw new Error(`Type ${stringify(type)} does not have 'mod' property.`);return ngModuleDef}function isLView(value){return Array.isArray(value)&&\"object\"==typeof value[1]}function isLContainer(value){return Array.isArray(value)&&!0===value[1]}function isContentQueryHost(tNode){return 0!=(8&tNode.flags)}function isComponentHost(tNode){return 2==(2&tNode.flags)}function isComponentDef(def){return null!==def.template}function isRootView(target){return 0!=(512&target[2])}let DOCUMENT=void 0;function isProceduralRenderer(renderer){return!!renderer.listen}const domRendererFactory3={createRenderer:(hostElement,rendererType)=>void 0!==DOCUMENT?DOCUMENT:\"undefined\"!=typeof document?document:void 0};function unwrapRNode(value){for(;Array.isArray(value);)value=value[0];return(value)}function getNativeByTNode(tNode,lView){return unwrapRNode(lView[tNode.index])}function getComponentLViewByIndex(nodeIndex,hostView){const slotValue=hostView[nodeIndex];return isLView(slotValue)?slotValue:slotValue[0]}function readPatchedLView(target){const value=function(target){return target.__ngContext__||null}(target);return value?Array.isArray(value)?value:value.lView:null}function viewAttachedToChangeDetector(view){return 128==(128&view[2])}function getConstant(consts,index){return null===consts||null==index?null:consts[index]}function resetPreOrderHookFlags(lView){lView[18]=0}const instructionState={lFrame:createLFrame(null),bindingsEnabled:!0,checkNoChangesMode:!1};function getBindingsEnabled(){return instructionState.bindingsEnabled}function getLView(){return instructionState.lFrame.lView}function getTView(){return instructionState.lFrame.tView}function getPreviousOrParentTNode(){return instructionState.lFrame.previousOrParentTNode}function setPreviousOrParentTNode(tNode,isParent){instructionState.lFrame.previousOrParentTNode=tNode,instructionState.lFrame.isParent=isParent}function getIsParent(){return instructionState.lFrame.isParent}function getCheckNoChangesMode(){return instructionState.checkNoChangesMode}function setCheckNoChangesMode(mode){instructionState.checkNoChangesMode=mode}function setBindingRootForHostBindings(bindingRootIndex,currentDirectiveIndex){const lFrame=instructionState.lFrame;lFrame.bindingIndex=lFrame.bindingRootIndex=bindingRootIndex,lFrame.currentDirectiveIndex=currentDirectiveIndex}function setCurrentQueryIndex(value){instructionState.lFrame.currentQueryIndex=value}function enterDI(newView,tNode){const newLFrame=allocLFrame();instructionState.lFrame=newLFrame,newLFrame.previousOrParentTNode=tNode,newLFrame.lView=newView}function enterView(newView,tNode){const newLFrame=allocLFrame(),tView=newView[1];instructionState.lFrame=newLFrame,newLFrame.previousOrParentTNode=tNode,newLFrame.lView=newView,newLFrame.tView=tView,newLFrame.contextLView=newView,newLFrame.bindingIndex=tView.bindingStartIndex}function allocLFrame(){const currentLFrame=instructionState.lFrame,childLFrame=null===currentLFrame?null:currentLFrame.child;return null===childLFrame?createLFrame(currentLFrame):childLFrame}function createLFrame(parent){const lFrame={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:parent,child:null};return null!==parent&&(parent.child=lFrame),lFrame}function leaveViewLight(){const oldLFrame=instructionState.lFrame;return instructionState.lFrame=oldLFrame.parent,oldLFrame.previousOrParentTNode=null,oldLFrame.lView=null,oldLFrame}const leaveDI=leaveViewLight;function leaveView(){const oldLFrame=leaveViewLight();oldLFrame.isParent=!0,oldLFrame.tView=null,oldLFrame.selectedIndex=0,oldLFrame.contextLView=null,oldLFrame.elementDepthCount=0,oldLFrame.currentDirectiveIndex=-1,oldLFrame.currentNamespace=null,oldLFrame.currentSanitizer=null,oldLFrame.bindingRootIndex=-1,oldLFrame.bindingIndex=-1,oldLFrame.currentQueryIndex=0}function setSelectedIndex(index){instructionState.lFrame.selectedIndex=index}function registerPostOrderHooks(tView,tNode){for(let i=tNode.directiveStart,end=tNode.directiveEnd;i<end;i++){const directiveDef=tView.data[i];directiveDef.afterContentInit&&(tView.contentHooks||(tView.contentHooks=[])).push(-i,directiveDef.afterContentInit),directiveDef.afterContentChecked&&((tView.contentHooks||(tView.contentHooks=[])).push(i,directiveDef.afterContentChecked),(tView.contentCheckHooks||(tView.contentCheckHooks=[])).push(i,directiveDef.afterContentChecked)),directiveDef.afterViewInit&&(tView.viewHooks||(tView.viewHooks=[])).push(-i,directiveDef.afterViewInit),directiveDef.afterViewChecked&&((tView.viewHooks||(tView.viewHooks=[])).push(i,directiveDef.afterViewChecked),(tView.viewCheckHooks||(tView.viewCheckHooks=[])).push(i,directiveDef.afterViewChecked)),null!=directiveDef.onDestroy&&(tView.destroyHooks||(tView.destroyHooks=[])).push(i,directiveDef.onDestroy)}}function executeCheckHooks(lView,hooks,nodeIndex){callHooks(lView,hooks,3,nodeIndex)}function executeInitAndCheckHooks(lView,hooks,initPhase,nodeIndex){(3&lView[2])===initPhase&&callHooks(lView,hooks,initPhase,nodeIndex)}function incrementInitPhaseFlags(lView,initPhase){let flags=lView[2];(3&flags)===initPhase&&(flags&=1023,flags+=1,lView[2]=flags)}function callHooks(currentView,arr,initPhase,currentNodeIndex){const nodeIndexLimit=null!=currentNodeIndex?currentNodeIndex:-1;let lastNodeIndexFound=0;for(let i=void 0!==currentNodeIndex?65535&currentView[18]:0;i<arr.length;i++)if(\"number\"==typeof arr[i+1]){if(lastNodeIndexFound=arr[i],null!=currentNodeIndex&&lastNodeIndexFound>=currentNodeIndex)break}else arr[i]<0&&(currentView[18]+=65536),(lastNodeIndexFound<nodeIndexLimit||-1==nodeIndexLimit)&&(callHook(currentView,initPhase,arr,i),currentView[18]=(4294901760&currentView[18])+i+2),i++}function callHook(currentView,initPhase,arr,i){const isInitHook=arr[i]<0,hook=arr[i+1],directive=currentView[isInitHook?-arr[i]:arr[i]];isInitHook?currentView[2]>>10<currentView[18]>>16&&(3&currentView[2])===initPhase&&(currentView[2]+=1024,hook.call(directive)):hook.call(directive)}class NodeInjectorFactory{constructor(factory,isViewProvider,injectImplementation){this.factory=factory,this.resolving=!1,this.canSeeViewProviders=isViewProvider,this.injectImpl=injectImplementation}}function setUpAttributes(renderer,native,attrs){const isProc=isProceduralRenderer(renderer);let i=0;for(;i<attrs.length;){const value=attrs[i];if(\"number\"==typeof value){if(0!==value)break;i++;const namespaceURI=attrs[i++],attrName=attrs[i++],attrVal=attrs[i++];isProc?renderer.setAttribute(native,attrName,attrVal,namespaceURI):native.setAttributeNS(namespaceURI,attrName,attrVal)}else{const attrName=value,attrVal=attrs[++i];64===attrName.charCodeAt(0)?isProc&&renderer.setProperty(native,attrName,attrVal):isProc?renderer.setAttribute(native,attrName,attrVal):native.setAttribute(attrName,attrVal),i++}}return i}function isNameOnlyAttributeMarker(marker){return 3===marker||4===marker||6===marker}function mergeHostAttrs(dst,src){if(null===src||0===src.length);else if(null===dst||0===dst.length)dst=src.slice();else{let srcMarker=-1;for(let i=0;i<src.length;i++){const item=src[i];\"number\"==typeof item?srcMarker=item:0===srcMarker||mergeHostAttribute(dst,srcMarker,item,null,-1===srcMarker||2===srcMarker?src[++i]:null)}}return dst}function mergeHostAttribute(dst,marker,key1,key2,value){let i=0,markerInsertPosition=dst.length;if(-1===marker)markerInsertPosition=-1;else for(;i<dst.length;){const dstValue=dst[i++];if(\"number\"==typeof dstValue){if(dstValue===marker){markerInsertPosition=-1;break}if(dstValue>marker){markerInsertPosition=i-1;break}}}for(;i<dst.length;){const item=dst[i];if(\"number\"==typeof item)break;if(item===key1){if(null===key2)return void(null!==value&&(dst[i+1]=value));if(key2===dst[i+1])return void(dst[i+2]=value)}i++,null!==key2&&i++,null!==value&&i++}-1!==markerInsertPosition&&(dst.splice(markerInsertPosition,0,marker),i=markerInsertPosition+1),dst.splice(i++,0,key1),null!==key2&&dst.splice(i++,0,key2),null!==value&&dst.splice(i++,0,value)}function hasParentInjector(parentLocation){return-1!==parentLocation}function getParentInjectorIndex(parentLocation){return 32767&parentLocation}function getParentInjectorViewOffset(parentLocation){return parentLocation>>16}function getParentInjectorView(location,startView){let viewOffset=getParentInjectorViewOffset(location),parentView=startView;for(;viewOffset>0;)parentView=parentView[15],viewOffset--;return parentView}function stringifyForError(value){return\"function\"==typeof value?value.name||value.toString():\"object\"==typeof value&&null!=value&&\"function\"==typeof value.type?value.type.name||value.type.toString():function(value){return\"string\"==typeof value?value:null==value?\"\":\"\"+value}(value)}const defaultScheduler=(()=>(\"undefined\"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(_global))();function maybeUnwrapFn(value){return value instanceof Function?value():value}let includeViewProviders=!0;function setIncludeViewProviders(v){const oldValue=includeViewProviders;return includeViewProviders=v,oldValue}let nextNgElementId=0;function getOrCreateNodeInjectorForNode(tNode,hostView){const existingInjectorIndex=getInjectorIndex(tNode,hostView);if(-1!==existingInjectorIndex)return existingInjectorIndex;const tView=hostView[1];tView.firstCreatePass&&(tNode.injectorIndex=hostView.length,insertBloom(tView.data,tNode),insertBloom(hostView,null),insertBloom(tView.blueprint,null));const parentLoc=getParentInjectorLocation(tNode,hostView),injectorIndex=tNode.injectorIndex;if(hasParentInjector(parentLoc)){const parentIndex=getParentInjectorIndex(parentLoc),parentLView=getParentInjectorView(parentLoc,hostView),parentData=parentLView[1].data;for(let i=0;i<8;i++)hostView[injectorIndex+i]=parentLView[parentIndex+i]|parentData[parentIndex+i]}return hostView[injectorIndex+8]=parentLoc,injectorIndex}function insertBloom(arr,footer){arr.push(0,0,0,0,0,0,0,0,footer)}function getInjectorIndex(tNode,hostView){return-1===tNode.injectorIndex||tNode.parent&&tNode.parent.injectorIndex===tNode.injectorIndex||null==hostView[tNode.injectorIndex+8]?-1:tNode.injectorIndex}function getParentInjectorLocation(tNode,view){if(tNode.parent&&-1!==tNode.parent.injectorIndex)return tNode.parent.injectorIndex;let hostTNode=view[6],viewOffset=1;for(;hostTNode&&-1===hostTNode.injectorIndex;)hostTNode=(view=view[15])?view[6]:null,viewOffset++;return hostTNode?hostTNode.injectorIndex|viewOffset<<16:-1}function diPublicInInjector(injectorIndex,tView,token){!function(injectorIndex,tView,type){let id=\"string\"!=typeof type?type[NG_ELEMENT_ID]:type.charCodeAt(0)||0;null==id&&(id=type[NG_ELEMENT_ID]=nextNgElementId++);const bloomBit=255&id,mask=1<<bloomBit,b6=64&bloomBit,b5=32&bloomBit,tData=tView.data;128&bloomBit?b6?b5?tData[injectorIndex+7]|=mask:tData[injectorIndex+6]|=mask:b5?tData[injectorIndex+5]|=mask:tData[injectorIndex+4]|=mask:b6?b5?tData[injectorIndex+3]|=mask:tData[injectorIndex+2]|=mask:b5?tData[injectorIndex+1]|=mask:tData[injectorIndex]|=mask}(injectorIndex,tView,token)}function getOrCreateInjectable(tNode,lView,token,flags=InjectFlags.Default,notFoundValue){if(null!==tNode){const bloomHash=function(token){if(\"string\"==typeof token)return token.charCodeAt(0)||0;const tokenId=token[NG_ELEMENT_ID];return\"number\"==typeof tokenId&&tokenId>0?255&tokenId:tokenId}(token);if(\"function\"==typeof bloomHash){enterDI(lView,tNode);try{const value=bloomHash();if(null!=value||flags&InjectFlags.Optional)return value;throw new Error(`No provider for ${stringifyForError(token)}!`)}finally{leaveDI()}}else if(\"number\"==typeof bloomHash){if(-1===bloomHash)return new NodeInjector(tNode,lView);let previousTView=null,injectorIndex=getInjectorIndex(tNode,lView),parentLocation=-1,hostTElementNode=flags&InjectFlags.Host?lView[16][6]:null;for((-1===injectorIndex||flags&InjectFlags.SkipSelf)&&(parentLocation=-1===injectorIndex?getParentInjectorLocation(tNode,lView):lView[injectorIndex+8],shouldSearchParent(flags,!1)?(previousTView=lView[1],injectorIndex=getParentInjectorIndex(parentLocation),lView=getParentInjectorView(parentLocation,lView)):injectorIndex=-1);-1!==injectorIndex;){parentLocation=lView[injectorIndex+8];const tView=lView[1];if(bloomHasToken(bloomHash,injectorIndex,tView.data)){const instance=searchTokensOnInjector(injectorIndex,lView,token,previousTView,flags,hostTElementNode);if(instance!==NOT_FOUND)return instance}shouldSearchParent(flags,lView[1].data[injectorIndex+8]===hostTElementNode)&&bloomHasToken(bloomHash,injectorIndex,lView)?(previousTView=tView,injectorIndex=getParentInjectorIndex(parentLocation),lView=getParentInjectorView(parentLocation,lView)):injectorIndex=-1}}}if(flags&InjectFlags.Optional&&void 0===notFoundValue&&(notFoundValue=null),0==(flags&(InjectFlags.Self|InjectFlags.Host))){const moduleInjector=lView[9],previousInjectImplementation=setInjectImplementation(void 0);try{return moduleInjector?moduleInjector.get(token,notFoundValue,flags&InjectFlags.Optional):injectRootLimpMode(token,notFoundValue,flags&InjectFlags.Optional)}finally{setInjectImplementation(previousInjectImplementation)}}if(flags&InjectFlags.Optional)return notFoundValue;throw new Error(`NodeInjector: NOT_FOUND [${stringifyForError(token)}]`)}const NOT_FOUND={};function searchTokensOnInjector(injectorIndex,lView,token,previousTView,flags,hostTElementNode){const currentTView=lView[1],tNode=currentTView.data[injectorIndex+8],injectableIdx=function(tNode,tView,token,canAccessViewProviders,isHostSpecialCase){const nodeProviderIndexes=tNode.providerIndexes,tInjectables=tView.data,injectablesStart=65535&nodeProviderIndexes,directivesStart=tNode.directiveStart,cptViewProvidersCount=nodeProviderIndexes>>16,endIndex=isHostSpecialCase?injectablesStart+cptViewProvidersCount:tNode.directiveEnd;for(let i=canAccessViewProviders?injectablesStart:injectablesStart+cptViewProvidersCount;i<endIndex;i++){const providerTokenOrDef=tInjectables[i];if(i<directivesStart&&token===providerTokenOrDef||i>=directivesStart&&providerTokenOrDef.type===token)return i}if(isHostSpecialCase){const dirDef=tInjectables[directivesStart];if(dirDef&&isComponentDef(dirDef)&&dirDef.type===token)return directivesStart}return null}(tNode,currentTView,token,null==previousTView?isComponentHost(tNode)&&includeViewProviders:previousTView!=currentTView&&3===tNode.type,flags&InjectFlags.Host&&hostTElementNode===tNode);return null!==injectableIdx?getNodeInjectable(lView,currentTView,injectableIdx,tNode):NOT_FOUND}function getNodeInjectable(lView,tView,index,tNode){let value=lView[index];const tData=tView.data;if(value instanceof NodeInjectorFactory){const factory=value;if(factory.resolving)throw new Error(`Circular dep for ${stringifyForError(tData[index])}`);const previousIncludeViewProviders=setIncludeViewProviders(factory.canSeeViewProviders);let previousInjectImplementation;factory.resolving=!0,factory.injectImpl&&(previousInjectImplementation=setInjectImplementation(factory.injectImpl)),enterDI(lView,tNode);try{value=lView[index]=factory.factory(void 0,tData,lView,tNode),tView.firstCreatePass&&index>=tNode.directiveStart&&function(directiveIndex,directiveDef,tView){const{onChanges:onChanges,onInit:onInit,doCheck:doCheck}=directiveDef;onChanges&&((tView.preOrderHooks||(tView.preOrderHooks=[])).push(directiveIndex,onChanges),(tView.preOrderCheckHooks||(tView.preOrderCheckHooks=[])).push(directiveIndex,onChanges)),onInit&&(tView.preOrderHooks||(tView.preOrderHooks=[])).push(-directiveIndex,onInit),doCheck&&((tView.preOrderHooks||(tView.preOrderHooks=[])).push(directiveIndex,doCheck),(tView.preOrderCheckHooks||(tView.preOrderCheckHooks=[])).push(directiveIndex,doCheck))}(index,tData[index],tView)}finally{factory.injectImpl&&setInjectImplementation(previousInjectImplementation),setIncludeViewProviders(previousIncludeViewProviders),factory.resolving=!1,leaveDI()}}return value}function bloomHasToken(bloomHash,injectorIndex,injectorView){const b6=64&bloomHash,b5=32&bloomHash;let value;return value=128&bloomHash?b6?b5?injectorView[injectorIndex+7]:injectorView[injectorIndex+6]:b5?injectorView[injectorIndex+5]:injectorView[injectorIndex+4]:b6?b5?injectorView[injectorIndex+3]:injectorView[injectorIndex+2]:b5?injectorView[injectorIndex+1]:injectorView[injectorIndex],!!(value&1<<bloomHash)}function shouldSearchParent(flags,isFirstHostTNode){return!(flags&InjectFlags.Self||flags&InjectFlags.Host&&isFirstHostTNode)}class NodeInjector{constructor(_tNode,_lView){this._tNode=_tNode,this._lView=_lView}get(token,notFoundValue){return getOrCreateInjectable(this._tNode,this._lView,token,void 0,notFoundValue)}}function getDebugContext(error){return error.ngDebugContext}function getOriginalError(error){return error.ngOriginalError}function defaultErrorLogger(console,...values){console.error(...values)}class ErrorHandler{constructor(){this._console=console}handleError(error){const originalError=this._findOriginalError(error),context=this._findContext(error),errorLogger=function(error){return error.ngErrorLogger||defaultErrorLogger}(error);errorLogger(this._console,\"ERROR\",error),originalError&&errorLogger(this._console,\"ORIGINAL ERROR\",originalError),context&&errorLogger(this._console,\"ERROR CONTEXT\",context)}_findContext(error){return error?getDebugContext(error)?getDebugContext(error):this._findContext(getOriginalError(error)):null}_findOriginalError(error){let e=getOriginalError(error);for(;e&&getOriginalError(e);)e=getOriginalError(e);return e}}let _devMode=!0,_runModeLocked=!1;function isDevMode(){return _runModeLocked=!0,_devMode}function attachPatchData(target,data){target.__ngContext__=data}function throwMultipleComponentError(tNode){throw new Error(`Multiple components match node with tagname ${tNode.tagName}`)}function throwMixedMultiProviderError(){throw new Error(\"Cannot mix multi providers and regular providers\")}function classIndexOf(className,classToSearch,startingIndex){let end=className.length;for(;;){const foundIndex=className.indexOf(classToSearch,startingIndex);if(-1===foundIndex)return foundIndex;if(0===foundIndex||className.charCodeAt(foundIndex-1)<=32){const length=classToSearch.length;if(foundIndex+length===end||className.charCodeAt(foundIndex+length)<=32)return foundIndex}startingIndex=foundIndex+1}}function isCssClassMatching(attrs,cssClassToMatch,isProjectionMode){let i=0;for(;i<attrs.length;){let item=attrs[i++];if(isProjectionMode&&\"class\"===item){if(item=attrs[i],-1!==classIndexOf(item.toLowerCase(),cssClassToMatch,0))return!0}else if(1===item){for(;i<attrs.length&&\"string\"==typeof(item=attrs[i++]);)if(item.toLowerCase()===cssClassToMatch)return!0;return!1}}return!1}function hasTagAndTypeMatch(tNode,currentSelector,isProjectionMode){return currentSelector===(0!==tNode.type||isProjectionMode?tNode.tagName:\"ng-template\")}function isNodeMatchingSelector(tNode,selector,isProjectionMode){let mode=4;const nodeAttrs=tNode.attrs||[],nameOnlyMarkerIdx=function(nodeAttrs){for(let i=0;i<nodeAttrs.length;i++)if(isNameOnlyAttributeMarker(nodeAttrs[i]))return i;return nodeAttrs.length}(nodeAttrs);let skipToNextSelector=!1;for(let i=0;i<selector.length;i++){const current=selector[i];if(\"number\"!=typeof current){if(!skipToNextSelector)if(4&mode){if(mode=2|1&mode,\"\"!==current&&!hasTagAndTypeMatch(tNode,current,isProjectionMode)||\"\"===current&&1===selector.length){if(isPositive(mode))return!1;skipToNextSelector=!0}}else{const selectorAttrValue=8&mode?current:selector[++i];if(8&mode&&null!==tNode.attrs){if(!isCssClassMatching(tNode.attrs,selectorAttrValue,isProjectionMode)){if(isPositive(mode))return!1;skipToNextSelector=!0}continue}const attrIndexInNode=findAttrIndexInNode(8&mode?\"class\":current,nodeAttrs,0==tNode.type&&\"ng-template\"!==tNode.tagName,isProjectionMode);if(-1===attrIndexInNode){if(isPositive(mode))return!1;skipToNextSelector=!0;continue}if(\"\"!==selectorAttrValue){let nodeAttrValue;nodeAttrValue=attrIndexInNode>nameOnlyMarkerIdx?\"\":nodeAttrs[attrIndexInNode+1].toLowerCase();const compareAgainstClassName=8&mode?nodeAttrValue:null;if(compareAgainstClassName&&-1!==classIndexOf(compareAgainstClassName,selectorAttrValue,0)||2&mode&&selectorAttrValue!==nodeAttrValue){if(isPositive(mode))return!1;skipToNextSelector=!0}}}}else{if(!skipToNextSelector&&!isPositive(mode)&&!isPositive(current))return!1;if(skipToNextSelector&&isPositive(current))continue;skipToNextSelector=!1,mode=current|1&mode}}return isPositive(mode)||skipToNextSelector}function isPositive(mode){return 0==(1&mode)}function findAttrIndexInNode(name,attrs,isInlineTemplate,isProjectionMode){if(null===attrs)return-1;let i=0;if(isProjectionMode||!isInlineTemplate){let bindingsMode=!1;for(;i<attrs.length;){const maybeAttrName=attrs[i];if(maybeAttrName===name)return i;if(3===maybeAttrName||6===maybeAttrName)bindingsMode=!0;else{if(1===maybeAttrName||2===maybeAttrName){let value=attrs[++i];for(;\"string\"==typeof value;)value=attrs[++i];continue}if(4===maybeAttrName)break;if(0===maybeAttrName){i+=4;continue}}i+=bindingsMode?1:2}return-1}return function(attrs,name){let i=attrs.indexOf(4);if(i>-1)for(i++;i<attrs.length;){if(attrs[i]===name)return i;i++}return-1}(attrs,name)}function isNodeMatchingSelectorList(tNode,selector,isProjectionMode=!1){for(let i=0;i<selector.length;i++)if(isNodeMatchingSelector(tNode,selector[i],isProjectionMode))return!0;return!1}function maybeWrapInNotSelector(isNegativeMode,chunk){return isNegativeMode?\":not(\"+chunk.trim()+\")\":chunk}function stringifyCSSSelector(selector){let result=selector[0],i=1,mode=2,currentChunk=\"\",isNegativeMode=!1;for(;i<selector.length;){let valueOrMarker=selector[i];if(\"string\"==typeof valueOrMarker)if(2&mode){const attrValue=selector[++i];currentChunk+=\"[\"+valueOrMarker+(attrValue.length>0?'=\"'+attrValue+'\"':\"\")+\"]\"}else 8&mode?currentChunk+=\".\"+valueOrMarker:4&mode&&(currentChunk+=\" \"+valueOrMarker);else\"\"===currentChunk||isPositive(valueOrMarker)||(result+=maybeWrapInNotSelector(isNegativeMode,currentChunk),currentChunk=\"\"),mode=valueOrMarker,isNegativeMode=isNegativeMode||!isPositive(mode);i++}return\"\"!==currentChunk&&(result+=maybeWrapInNotSelector(isNegativeMode,currentChunk)),result}const NO_CHANGE={};function getLViewParent(lView){const parent=lView[3];return isLContainer(parent)?parent[3]:parent}function refreshContentQueries(tView,lView){const contentQueries=tView.contentQueries;if(null!==contentQueries)for(let i=0;i<contentQueries.length;i+=2){const queryStartIdx=contentQueries[i],directiveDefIdx=contentQueries[i+1];if(-1!==directiveDefIdx){const directiveDef=tView.data[directiveDefIdx];setCurrentQueryIndex(queryStartIdx),directiveDef.contentQueries(2,lView[directiveDefIdx],directiveDefIdx)}}}function elementCreate(name,renderer,namespace){return isProceduralRenderer(renderer)?renderer.createElement(name,namespace):null===namespace?renderer.createElement(name):renderer.createElementNS(namespace,name)}function createLView(parentLView,tView,context,flags,host,tHostNode,rendererFactory,renderer,sanitizer,injector){const lView=tView.blueprint.slice();return lView[0]=host,lView[2]=140|flags,resetPreOrderHookFlags(lView),lView[3]=lView[15]=parentLView,lView[8]=context,lView[10]=rendererFactory||parentLView&&parentLView[10],lView[11]=renderer||parentLView&&parentLView[11],lView[12]=sanitizer||parentLView&&parentLView[12]||null,lView[9]=injector||parentLView&&parentLView[9]||null,lView[6]=tHostNode,lView[16]=2==tView.type?parentLView[16]:lView,lView}function getOrCreateTNode(tView,tHostNode,index,type,name,attrs){const adjustedIndex=index+19,tNode=tView.data[adjustedIndex]||function(tView,tHostNode,adjustedIndex,type,name,attrs){const previousOrParentTNode=getPreviousOrParentTNode(),isParent=getIsParent(),parent=isParent?previousOrParentTNode:previousOrParentTNode&&previousOrParentTNode.parent,tNode=tView.data[adjustedIndex]=createTNode(0,parent&&parent!==tHostNode?parent:null,type,adjustedIndex,name,attrs);return null===tView.firstChild&&(tView.firstChild=tNode),previousOrParentTNode&&(!isParent||null!=previousOrParentTNode.child||null===tNode.parent&&2!==previousOrParentTNode.type?isParent||(previousOrParentTNode.next=tNode):previousOrParentTNode.child=tNode),tNode}(tView,tHostNode,adjustedIndex,type,name,attrs);return setPreviousOrParentTNode(tNode,!0),tNode}function renderView(tView,lView,context){enterView(lView,lView[6]);try{const viewQuery=tView.viewQuery;null!==viewQuery&&executeViewQueryFn(1,viewQuery,context);const templateFn=tView.template;null!==templateFn&&executeTemplate(tView,lView,templateFn,1,context),tView.firstCreatePass&&(tView.firstCreatePass=!1),tView.staticContentQueries&&refreshContentQueries(tView,lView),tView.staticViewQueries&&executeViewQueryFn(2,tView.viewQuery,context);const components=tView.components;null!==components&&function(hostLView,components){for(let i=0;i<components.length;i++)renderComponent(hostLView,components[i])}(lView,components)}finally{lView[2]&=-5,leaveView()}}function refreshView(tView,lView,templateFn,context){const flags=lView[2];if(256==(256&flags))return;enterView(lView,lView[6]);const checkNoChangesMode=getCheckNoChangesMode();try{resetPreOrderHookFlags(lView),instructionState.lFrame.bindingIndex=tView.bindingStartIndex,null!==templateFn&&executeTemplate(tView,lView,templateFn,2,context);const hooksInitPhaseCompleted=3==(3&flags);if(!checkNoChangesMode)if(hooksInitPhaseCompleted){const preOrderCheckHooks=tView.preOrderCheckHooks;null!==preOrderCheckHooks&&executeCheckHooks(lView,preOrderCheckHooks,null)}else{const preOrderHooks=tView.preOrderHooks;null!==preOrderHooks&&executeInitAndCheckHooks(lView,preOrderHooks,0,null),incrementInitPhaseFlags(lView,0)}if(function(lView){let viewOrContainer=lView[13];for(;null!==viewOrContainer;){let activeIndexFlag;if(isLContainer(viewOrContainer)&&(activeIndexFlag=viewOrContainer[2])>>1==-1){for(let i=9;i<viewOrContainer.length;i++){const embeddedLView=viewOrContainer[i],embeddedTView=embeddedLView[1];viewAttachedToChangeDetector(embeddedLView)&&refreshView(embeddedTView,embeddedLView,embeddedTView.template,embeddedLView[8])}0!=(1&activeIndexFlag)&&refreshTransplantedViews(viewOrContainer,lView[16])}viewOrContainer=viewOrContainer[4]}}(lView),null!==tView.contentQueries&&refreshContentQueries(tView,lView),!checkNoChangesMode)if(hooksInitPhaseCompleted){const contentCheckHooks=tView.contentCheckHooks;null!==contentCheckHooks&&executeCheckHooks(lView,contentCheckHooks)}else{const contentHooks=tView.contentHooks;null!==contentHooks&&executeInitAndCheckHooks(lView,contentHooks,1),incrementInitPhaseFlags(lView,1)}!function(tView,lView){try{const expandoInstructions=tView.expandoInstructions;if(null!==expandoInstructions){let bindingRootIndex=tView.expandoStartIndex,currentDirectiveIndex=-1,currentElementIndex=-1;for(let i=0;i<expandoInstructions.length;i++){const instruction=expandoInstructions[i];\"number\"==typeof instruction?instruction<=0?(currentElementIndex=0-instruction,setSelectedIndex(currentElementIndex),bindingRootIndex+=9+expandoInstructions[++i],currentDirectiveIndex=bindingRootIndex):bindingRootIndex+=instruction:(null!==instruction&&(setBindingRootForHostBindings(bindingRootIndex,currentDirectiveIndex),instruction(2,lView[currentDirectiveIndex])),currentDirectiveIndex++)}}}finally{setSelectedIndex(-1)}}(tView,lView);const components=tView.components;null!==components&&function(hostLView,components){for(let i=0;i<components.length;i++)refreshComponent(hostLView,components[i])}(lView,components);const viewQuery=tView.viewQuery;if(null!==viewQuery&&executeViewQueryFn(2,viewQuery,context),!checkNoChangesMode)if(hooksInitPhaseCompleted){const viewCheckHooks=tView.viewCheckHooks;null!==viewCheckHooks&&executeCheckHooks(lView,viewCheckHooks)}else{const viewHooks=tView.viewHooks;null!==viewHooks&&executeInitAndCheckHooks(lView,viewHooks,2),incrementInitPhaseFlags(lView,2)}!0===tView.firstUpdatePass&&(tView.firstUpdatePass=!1),checkNoChangesMode||(lView[2]&=-73)}finally{leaveView()}}function renderComponentOrTemplate(tView,lView,templateFn,context){const rendererFactory=lView[10],normalExecutionPath=!getCheckNoChangesMode(),creationModeIsActive=4==(4&lView[2]);try{normalExecutionPath&&!creationModeIsActive&&rendererFactory.begin&&rendererFactory.begin(),creationModeIsActive&&renderView(tView,lView,context),refreshView(tView,lView,templateFn,context)}finally{normalExecutionPath&&!creationModeIsActive&&rendererFactory.end&&rendererFactory.end()}}function executeTemplate(tView,lView,templateFn,rf,context){const prevSelectedIndex=instructionState.lFrame.selectedIndex;try{setSelectedIndex(-1),2&rf&&lView.length>19&&function(tView,lView,index,checkNoChangesMode){if(!checkNoChangesMode)if(3==(3&lView[2])){const preOrderCheckHooks=tView.preOrderCheckHooks;null!==preOrderCheckHooks&&executeCheckHooks(lView,preOrderCheckHooks,0)}else{const preOrderHooks=tView.preOrderHooks;null!==preOrderHooks&&executeInitAndCheckHooks(lView,preOrderHooks,0,0)}setSelectedIndex(0)}(tView,lView,0,getCheckNoChangesMode()),templateFn(rf,context)}finally{setSelectedIndex(prevSelectedIndex)}}function getOrCreateTComponentView(def){return def.tView||(def.tView=createTView(1,-1,def.template,def.decls,def.vars,def.directiveDefs,def.pipeDefs,def.viewQuery,def.schemas,def.consts))}function createTView(type,viewIndex,templateFn,decls,vars,directives,pipes,viewQuery,schemas,consts){const bindingStartIndex=19+decls,initialViewLength=bindingStartIndex+vars,blueprint=function(bindingStartIndex,initialViewLength){const blueprint=[];for(let i=0;i<initialViewLength;i++)blueprint.push(i<bindingStartIndex?null:NO_CHANGE);return(blueprint)}(bindingStartIndex,initialViewLength);return blueprint[1]={type:type,id:viewIndex,blueprint:blueprint,template:templateFn,queries:null,viewQuery:viewQuery,node:null,data:blueprint.slice().fill(null,bindingStartIndex),bindingStartIndex:bindingStartIndex,expandoStartIndex:initialViewLength,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:\"function\"==typeof directives?directives():directives,pipeRegistry:\"function\"==typeof pipes?pipes():pipes,firstChild:null,schemas:schemas,consts:consts}}function createTNode(tView,tParent,type,adjustedIndex,tagName,attrs){return{type:type,index:adjustedIndex,injectorIndex:tParent?tParent.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:tagName,attrs:attrs,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:tParent,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function generatePropertyAliases(inputAliasMap,directiveDefIdx,propStore){for(let publicName in inputAliasMap)if(inputAliasMap.hasOwnProperty(publicName)){const internalName=inputAliasMap[publicName];(propStore=null===propStore?{}:propStore).hasOwnProperty(publicName)?propStore[publicName].push(directiveDefIdx,internalName):propStore[publicName]=[directiveDefIdx,internalName]}return propStore}function addHostBindingsToExpandoInstructions(tView,def){const expando=tView.expandoInstructions;expando.push(def.hostBindings),0!==def.hostVars&&expando.push(def.hostVars)}function growHostVarsSpace(tView,lView,count){for(let i=0;i<count;i++)lView.push(NO_CHANGE),tView.blueprint.push(NO_CHANGE),tView.data.push(null)}function invokeHostBindingsInCreationMode(def,directive){null!==def.hostBindings&&def.hostBindings(1,directive)}function generateExpandoInstructionBlock(tView,tNode,directiveCount){const elementIndex=19-tNode.index,providerCount=tView.data.length-(65535&tNode.providerIndexes);(tView.expandoInstructions||(tView.expandoInstructions=[])).push(elementIndex,providerCount,directiveCount)}function markAsComponentHost(tView,hostTNode){hostTNode.flags|=2,(tView.components||(tView.components=[])).push(hostTNode.index)}function saveNameToExportMap(index,def,exportsMap){if(exportsMap){if(def.exportAs)for(let i=0;i<def.exportAs.length;i++)exportsMap[def.exportAs[i]]=index;isComponentDef(def)&&(exportsMap[\"\"]=index)}}function initTNodeFlags(tNode,index,numberOfDirectives){tNode.flags|=1,tNode.directiveStart=index,tNode.directiveEnd=index+numberOfDirectives,tNode.providerIndexes=index}function baseResolveDirective(tView,viewData,def){tView.data.push(def);const directiveFactory=def.factory||(def.factory=getFactoryDef(def.type)),nodeInjectorFactory=new NodeInjectorFactory(directiveFactory,isComponentDef(def),null);tView.blueprint.push(nodeInjectorFactory),viewData.push(nodeInjectorFactory)}function addComponentLogic(lView,hostTNode,def){const native=getNativeByTNode(hostTNode,lView),tView=getOrCreateTComponentView(def),rendererFactory=lView[10],componentView=addToViewTree(lView,createLView(lView,tView,null,def.onPush?64:16,native,hostTNode,rendererFactory,rendererFactory.createRenderer(native,def)));lView[hostTNode.index]=componentView}function setInputsFromAttrs(lView,directiveIndex,instance,def,tNode,initialInputData){const initialInputs=initialInputData[directiveIndex];if(null!==initialInputs){const setInput=def.setInput;for(let i=0;i<initialInputs.length;){const publicName=initialInputs[i++],privateName=initialInputs[i++],value=initialInputs[i++];null!==setInput?def.setInput(instance,value,publicName,privateName):instance[privateName]=value}}}function generateInitialInputs(inputs,attrs){let inputsToStore=null,i=0;for(;i<attrs.length;){const attrName=attrs[i];if(0!==attrName)if(5!==attrName){if(\"number\"==typeof attrName)break;inputs.hasOwnProperty(attrName)&&(null===inputsToStore&&(inputsToStore=[]),inputsToStore.push(attrName,inputs[attrName],attrs[i+1])),i+=2}else i+=2;else i+=4}return inputsToStore}function refreshTransplantedViews(lContainer,declaredComponentLView){const movedViews=lContainer[5];for(let i=0;i<movedViews.length;i++){const movedLView=movedViews[i],insertedComponentLView=movedLView[3][3][16];if(insertedComponentLView!==declaredComponentLView&&0==(16&insertedComponentLView[2])){const movedTView=movedLView[1];refreshView(movedTView,movedLView,movedTView.template,movedLView[8])}}}function refreshComponent(hostLView,componentHostIdx){const componentView=getComponentLViewByIndex(componentHostIdx,hostLView);if(viewAttachedToChangeDetector(componentView)&&80&componentView[2]){const componentTView=componentView[1];refreshView(componentTView,componentView,componentTView.template,componentView[8])}}function renderComponent(hostLView,componentHostIdx){const componentView=getComponentLViewByIndex(componentHostIdx,hostLView),componentTView=componentView[1];!function(tView,lView){for(let i=lView.length;i<tView.blueprint.length;i++)lView.push(tView.blueprint[i])}(componentTView,componentView),renderView(componentTView,componentView,componentView[8])}function addToViewTree(lView,lViewOrLContainer){return lView[13]?lView[14][4]=lViewOrLContainer:lView[13]=lViewOrLContainer,lView[14]=lViewOrLContainer,lViewOrLContainer}function detectChangesInternal(tView,lView,context){const rendererFactory=lView[10];rendererFactory.begin&&rendererFactory.begin();try{refreshView(tView,lView,tView.template,context)}catch(error){throw function(lView,error){const injector=lView[9],errorHandler=injector?injector.get(ErrorHandler,null):null;errorHandler&&errorHandler.handleError(error)}(lView,error),error}finally{rendererFactory.end&&rendererFactory.end()}}function detectChangesInRootView(lView){!function(rootContext){for(let i=0;i<rootContext.components.length;i++){const rootComponent=rootContext.components[i],lView=readPatchedLView(rootComponent),tView=lView[1];renderComponentOrTemplate(tView,lView,tView.template,rootComponent)}}(lView[8])}function executeViewQueryFn(flags,viewQueryFn,component){setCurrentQueryIndex(0),viewQueryFn(flags,component)}const CLEAN_PROMISE=(()=>Promise.resolve(null))();function getLContainer(tNode,embeddedView){const container=embeddedView[3];return-1===tNode.index?isLContainer(container)?container:null:container}function getContainerRenderParent(tViewNode,view){const container=getLContainer(tViewNode,view);return container?nativeParentNode(view[11],container[7]):null}function applyToElementOrContainer(action,renderer,parent,lNodeToHandle,beforeNode){if(null!=lNodeToHandle){let lContainer,isComponent=!1;isLContainer(lNodeToHandle)?lContainer=lNodeToHandle:isLView(lNodeToHandle)&&(isComponent=!0,lNodeToHandle=lNodeToHandle[0]);const rNode=unwrapRNode(lNodeToHandle);0===action&&null!==parent?null==beforeNode?nativeAppendChild(renderer,parent,rNode):nativeInsertBefore(renderer,parent,rNode,beforeNode||null):1===action&&null!==parent?nativeInsertBefore(renderer,parent,rNode,beforeNode||null):2===action?function(renderer,rNode,isHostElement){const nativeParent=nativeParentNode(renderer,rNode);nativeParent&&function(renderer,parent,child,isHostElement){isProceduralRenderer(renderer)?renderer.removeChild(parent,child,isHostElement):parent.removeChild(child)}(renderer,nativeParent,rNode,isHostElement)}(renderer,rNode,isComponent):3===action&&renderer.destroyNode(rNode),null!=lContainer&&function(renderer,action,lContainer,renderParent,beforeNode){const anchor=lContainer[7];anchor!==unwrapRNode(lContainer)&&applyToElementOrContainer(action,renderer,renderParent,anchor,beforeNode);for(let i=9;i<lContainer.length;i++){const lView=lContainer[i];applyView(lView[1],lView,renderer,action,renderParent,anchor)}}(renderer,action,lContainer,parent,beforeNode)}}function addRemoveViewFromContainer(tView,lView,insertMode,beforeNode){const renderParent=getContainerRenderParent(tView.node,lView);renderParent&&applyView(tView,lView,lView[11],insertMode?1:2,renderParent,beforeNode)}function detachMovedView(declarationContainer,lView){const movedViews=declarationContainer[5],declaredViewIndex=movedViews.indexOf(lView);movedViews.splice(declaredViewIndex,1)}function detachView(lContainer,removeIndex){if(lContainer.length<=9)return;const indexInContainer=9+removeIndex,viewToDetach=lContainer[indexInContainer];if(viewToDetach){const declarationLContainer=viewToDetach[17];null!==declarationLContainer&&declarationLContainer!==lContainer&&detachMovedView(declarationLContainer,viewToDetach),removeIndex>0&&(lContainer[indexInContainer-1][4]=viewToDetach[4]);const removedLView=removeFromArray(lContainer,9+removeIndex);addRemoveViewFromContainer(viewToDetach[1],viewToDetach,!1,null);const lQueries=removedLView[5];null!==lQueries&&lQueries.detachView(removedLView[1]),viewToDetach[3]=null,viewToDetach[4]=null,viewToDetach[2]&=-129}return viewToDetach}function destroyLView(tView,lView){if(!(256&lView[2])){const renderer=lView[11];isProceduralRenderer(renderer)&&renderer.destroyNode&&applyView(tView,lView,renderer,3,null,null),function(rootView){let lViewOrLContainer=rootView[13];if(!lViewOrLContainer)return cleanUpView(rootView[1],rootView);for(;lViewOrLContainer;){let next=null;if(isLView(lViewOrLContainer))next=lViewOrLContainer[13];else{const firstView=lViewOrLContainer[9];firstView&&(next=firstView)}if(!next){for(;lViewOrLContainer&&!lViewOrLContainer[4]&&lViewOrLContainer!==rootView;)isLView(lViewOrLContainer)&&cleanUpView(lViewOrLContainer[1],lViewOrLContainer),lViewOrLContainer=getParentState(lViewOrLContainer,rootView);null===lViewOrLContainer&&(lViewOrLContainer=rootView),isLView(lViewOrLContainer)&&cleanUpView(lViewOrLContainer[1],lViewOrLContainer),next=lViewOrLContainer&&lViewOrLContainer[4]}lViewOrLContainer=next}}(lView)}}function getParentState(lViewOrLContainer,rootView){let tNode;return isLView(lViewOrLContainer)&&(tNode=lViewOrLContainer[6])&&2===tNode.type?getLContainer(tNode,lViewOrLContainer):lViewOrLContainer[3]===rootView?null:lViewOrLContainer[3]}function cleanUpView(tView,lView){if(!(256&lView[2])){lView[2]&=-129,lView[2]|=256,function(tView,lView){let destroyHooks;if(null!=tView&&null!=(destroyHooks=tView.destroyHooks))for(let i=0;i<destroyHooks.length;i+=2){const context=lView[destroyHooks[i]];context instanceof NodeInjectorFactory||destroyHooks[i+1].call(context)}}(tView,lView),function(tView,lView){const tCleanup=tView.cleanup;if(null!==tCleanup){const lCleanup=lView[7];for(let i=0;i<tCleanup.length-1;i+=2)if(\"string\"==typeof tCleanup[i]){const idxOrTargetGetter=tCleanup[i+1],target=\"function\"==typeof idxOrTargetGetter?idxOrTargetGetter(lView):unwrapRNode(lView[idxOrTargetGetter]),listener=lCleanup[tCleanup[i+2]],useCaptureOrSubIdx=tCleanup[i+3];\"boolean\"==typeof useCaptureOrSubIdx?target.removeEventListener(tCleanup[i],listener,useCaptureOrSubIdx):useCaptureOrSubIdx>=0?lCleanup[useCaptureOrSubIdx]():lCleanup[-useCaptureOrSubIdx].unsubscribe(),i+=2}else tCleanup[i].call(lCleanup[tCleanup[i+1]]);lView[7]=null}}(tView,lView);const hostTNode=lView[6];hostTNode&&3===hostTNode.type&&isProceduralRenderer(lView[11])&&lView[11].destroy();const declarationContainer=lView[17];if(null!==declarationContainer&&isLContainer(lView[3])){declarationContainer!==lView[3]&&detachMovedView(declarationContainer,lView);const lQueries=lView[5];null!==lQueries&&lQueries.detachView(tView)}}}function nativeInsertBefore(renderer,parent,child,beforeNode){isProceduralRenderer(renderer)?renderer.insertBefore(parent,child,beforeNode):parent.insertBefore(child,beforeNode,!0)}function nativeAppendChild(renderer,parent,child){isProceduralRenderer(renderer)?renderer.appendChild(parent,child):parent.appendChild(child)}function nativeAppendOrInsertBefore(renderer,parent,child,beforeNode){null!==beforeNode?nativeInsertBefore(renderer,parent,child,beforeNode):nativeAppendChild(renderer,parent,child)}function nativeParentNode(renderer,node){return isProceduralRenderer(renderer)?renderer.parentNode(node):node.parentNode}function appendChild(tView,lView,childEl,childTNode){const renderParent=function(tView,tNode,currentView){let parentTNode=tNode.parent;for(;null!=parentTNode&&(4===parentTNode.type||5===parentTNode.type);)parentTNode=(tNode=parentTNode).parent;if(null==parentTNode){const hostTNode=currentView[6];return 2===hostTNode.type?getContainerRenderParent(hostTNode,currentView):currentView[0]}if(tNode&&5===tNode.type&&4&tNode.flags)return getNativeByTNode(tNode,currentView).parentNode;if(2&parentTNode.flags){const tData=tView.data,encapsulation=tData[tData[parentTNode.index].directiveStart].encapsulation;if(encapsulation!==ViewEncapsulation$1.ShadowDom&&encapsulation!==ViewEncapsulation$1.Native)return null}return(getNativeByTNode(parentTNode,currentView))}(tView,childTNode,lView);if(null!=renderParent){const renderer=lView[11],anchorNode=function(parentTNode,lView){if(2===parentTNode.type){const lContainer=getLContainer(parentTNode,lView);return null===lContainer?null:getBeforeNodeForView(lContainer.indexOf(lView,9)-9,lContainer)}return 4===parentTNode.type||5===parentTNode.type?getNativeByTNode(parentTNode,lView):null}(childTNode.parent||lView[6],lView);if(Array.isArray(childEl))for(let i=0;i<childEl.length;i++)nativeAppendOrInsertBefore(renderer,renderParent,childEl[i],anchorNode);else nativeAppendOrInsertBefore(renderer,renderParent,childEl,anchorNode)}}function getBeforeNodeForView(viewIndexInContainer,lContainer){const nextViewIndex=9+viewIndexInContainer+1;if(nextViewIndex<lContainer.length){const lView=lContainer[nextViewIndex],firstTNodeOfView=lView[1].firstChild;if(null!==firstTNodeOfView)return function getFirstNativeNode(lView,tNode){if(null!==tNode){const tNodeType=tNode.type;if(3===tNodeType)return getNativeByTNode(tNode,lView);if(0===tNodeType)return getBeforeNodeForView(-1,lView[tNode.index]);if(4===tNodeType||5===tNodeType){const elIcuContainerChild=tNode.child;if(null!==elIcuContainerChild)return getFirstNativeNode(lView,elIcuContainerChild);{const rNodeOrLContainer=lView[tNode.index];return isLContainer(rNodeOrLContainer)?getBeforeNodeForView(-1,rNodeOrLContainer):unwrapRNode(rNodeOrLContainer)}}{const componentView=lView[16],componentHost=componentView[6],parentView=getLViewParent(componentView),firstProjectedTNode=componentHost.projection[tNode.projection];return null!=firstProjectedTNode?getFirstNativeNode(parentView,firstProjectedTNode):getFirstNativeNode(lView,tNode.next)}}return null}(lView,firstTNodeOfView)}return lContainer[7]}function applyNodes(renderer,action,tNode,lView,renderParent,beforeNode,isProjection){for(;null!=tNode;){const rawSlotValue=lView[tNode.index],tNodeType=tNode.type;isProjection&&0===action&&(rawSlotValue&&attachPatchData(unwrapRNode(rawSlotValue),lView),tNode.flags|=4),64!=(64&tNode.flags)&&(4===tNodeType||5===tNodeType?(applyNodes(renderer,action,tNode.child,lView,renderParent,beforeNode,!1),applyToElementOrContainer(action,renderer,renderParent,rawSlotValue,beforeNode)):1===tNodeType?applyProjectionRecursive(renderer,action,lView,tNode,renderParent,beforeNode):applyToElementOrContainer(action,renderer,renderParent,rawSlotValue,beforeNode)),tNode=isProjection?tNode.projectionNext:tNode.next}}function applyView(tView,lView,renderer,action,renderParent,beforeNode){applyNodes(renderer,action,tView.node.child,lView,renderParent,beforeNode,!1)}function applyProjectionRecursive(renderer,action,lView,tProjectionNode,renderParent,beforeNode){const componentLView=lView[16],nodeToProjectOrRNodes=componentLView[6].projection[tProjectionNode.projection];if(Array.isArray(nodeToProjectOrRNodes))for(let i=0;i<nodeToProjectOrRNodes.length;i++)applyToElementOrContainer(action,renderer,renderParent,nodeToProjectOrRNodes[i],beforeNode);else applyNodes(renderer,action,nodeToProjectOrRNodes,componentLView[3],renderParent,beforeNode,!0)}function writeDirectStyle(renderer,element,newValue){isProceduralRenderer(renderer)?renderer.setAttribute(element,\"style\",newValue):element.style.cssText=newValue}function writeDirectClass(renderer,element,newValue){isProceduralRenderer(renderer)?\"\"===newValue?renderer.removeAttribute(element,\"class\"):renderer.setAttribute(element,\"class\",newValue):element.className=newValue}class ViewRef{constructor(_lView,_cdRefInjectingView){this._lView=_lView,this._cdRefInjectingView=_cdRefInjectingView,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}get rootNodes(){const lView=this._lView;return null==lView[0]?function collectNativeNodes(tView,lView,tNode,result,isProjection=!1){for(;null!==tNode;){const lNode=lView[tNode.index];if(null!==lNode&&result.push(unwrapRNode(lNode)),isLContainer(lNode))for(let i=9;i<lNode.length;i++){const lViewInAContainer=lNode[i],lViewFirstChildTNode=lViewInAContainer[1].firstChild;null!==lViewFirstChildTNode&&collectNativeNodes(lViewInAContainer[1],lViewInAContainer,lViewFirstChildTNode,result)}const tNodeType=tNode.type;if(4===tNodeType||5===tNodeType)collectNativeNodes(tView,lView,tNode.child,result);else if(1===tNodeType){const componentView=lView[16],componentHost=componentView[6],parentView=getLViewParent(componentView);let firstProjectedNode=componentHost.projection[tNode.projection];null!==firstProjectedNode&&null!==parentView&&collectNativeNodes(parentView[1],parentView,firstProjectedNode,result,!0)}tNode=isProjection?tNode.projectionNext:tNode.next}return result}(lView[1],lView,lView[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const index=this._viewContainerRef.indexOf(this);index>-1&&this._viewContainerRef.detach(index),this._viewContainerRef=null}destroyLView(this._lView[1],this._lView)}onDestroy(callback){var tView,lView,cleanupFn,view;tView=this._lView[1],cleanupFn=callback,(view=lView=this._lView,view[7]||(view[7]=[])).push(cleanupFn),tView.firstCreatePass&&function(tView){return tView.cleanup||(tView.cleanup=[])}(tView).push(lView[7].length-1,null)}markForCheck(){!function(lView){for(;lView;){lView[2]|=64;const parent=getLViewParent(lView);if(isRootView(lView)&&!parent)return lView;lView=parent}}(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){detectChangesInternal(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(tView,view,context){setCheckNoChangesMode(!0);try{detectChangesInternal(tView,view,context)}finally{setCheckNoChangesMode(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(vcRef){if(this._appRef)throw new Error(\"This view is already attached directly to the ApplicationRef!\");this._viewContainerRef=vcRef}detachFromAppRef(){var lView;this._appRef=null,applyView(this._lView[1],lView=this._lView,lView[11],2,null,null)}attachToAppRef(appRef){if(this._viewContainerRef)throw new Error(\"This view is already attached to a ViewContainer!\");this._appRef=appRef}}class RootViewRef extends ViewRef{constructor(_view){super(_view),this._view=_view}detectChanges(){detectChangesInRootView(this._view)}checkNoChanges(){!function(lView){setCheckNoChangesMode(!0);try{detectChangesInRootView(lView)}finally{setCheckNoChangesMode(!1)}}(this._view)}get context(){return null}}let R3ElementRef,R3ViewContainerRef;function createElementRef(ElementRefToken,tNode,view){return R3ElementRef||(R3ElementRef=class extends ElementRefToken{}),new R3ElementRef(getNativeByTNode(tNode,view))}let ChangeDetectorRef=(()=>{class ChangeDetectorRef{}return ChangeDetectorRef.__NG_ELEMENT_ID__=()=>SWITCH_CHANGE_DETECTOR_REF_FACTORY(),ChangeDetectorRef})();const SWITCH_CHANGE_DETECTOR_REF_FACTORY=function(isPipe=!1){return function(tNode,lView,isPipe){if(!isPipe&&isComponentHost(tNode)){const componentView=getComponentLViewByIndex(tNode.index,lView);return new ViewRef(componentView,componentView)}return 3===tNode.type||0===tNode.type||4===tNode.type||5===tNode.type?new ViewRef(lView[16],lView):null}(getPreviousOrParentTNode(),getLView(),isPipe)},INJECTOR_SCOPE=new InjectionToken(\"Set Injector scope.\"),NOT_YET={},CIRCULAR={},EMPTY_ARRAY$2=[];let NULL_INJECTOR=void 0;function getNullInjector(){return void 0===NULL_INJECTOR&&(NULL_INJECTOR=new NullInjector),NULL_INJECTOR}function createInjectorWithoutInjectorInstances(defType,parent=null,additionalProviders=null,name){return new R3Injector(defType,additionalProviders,parent||getNullInjector(),name)}class R3Injector{constructor(def,additionalProviders,parent,source=null){this.parent=parent,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const dedupStack=[];additionalProviders&&deepForEach(additionalProviders,provider=>this.processProvider(provider,def,additionalProviders)),deepForEach([def],injectorDef=>this.processInjectorType(injectorDef,[],dedupStack)),this.records.set(INJECTOR,makeRecord(void 0,this));const record=this.records.get(INJECTOR_SCOPE);this.scope=null!=record?record.value:null,this.source=source||(\"object\"==typeof def?null:stringify(def))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(service=>service.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(token,notFoundValue=THROW_IF_NOT_FOUND,flags=InjectFlags.Default){this.assertNotDestroyed();const previousInjector=setCurrentInjector(this);try{if(!(flags&InjectFlags.SkipSelf)){let record=this.records.get(token);if(void 0===record){const def=(\"function\"==typeof(value=token)||\"object\"==typeof value&&value instanceof InjectionToken)&&getInjectableDef(token);record=def&&this.injectableDefInScope(def)?makeRecord(injectableDefOrInjectorDefFactory(token),NOT_YET):null,this.records.set(token,record)}if(null!=record)return this.hydrate(token,record)}return(flags&InjectFlags.Self?getNullInjector():this.parent).get(token,notFoundValue=flags&InjectFlags.Optional&&notFoundValue===THROW_IF_NOT_FOUND?null:notFoundValue)}catch(e){if(\"NullInjectorError\"===e.name){if((e.ngTempTokenPath=e.ngTempTokenPath||[]).unshift(stringify(token)),previousInjector)throw e;return function(e,token,injectorErrorName,source){const tokenPath=e.ngTempTokenPath;throw token.__source&&tokenPath.unshift(token.__source),e.message=function(text,obj,injectorErrorName,source=null){text=text&&\"\\n\"===text.charAt(0)&&\"\"==text.charAt(1)?text.substr(2):text;let context=stringify(obj);if(Array.isArray(obj))context=obj.map(stringify).join(\" -> \");else if(\"object\"==typeof obj){let parts=[];for(let key in obj)if(obj.hasOwnProperty(key)){let value=obj[key];parts.push(key+\":\"+(\"string\"==typeof value?JSON.stringify(value):stringify(value)))}context=`{${parts.join(\", \")}}`}return`${injectorErrorName}${source?\"(\"+source+\")\":\"\"}[${context}]: ${text.replace(NEW_LINE,\"\\n  \")}`}(\"\\n\"+e.message,tokenPath,injectorErrorName,source),e.ngTokenPath=tokenPath,e.ngTempTokenPath=null,e}(e,token,\"R3InjectorError\",this.source)}throw e}finally{setCurrentInjector(previousInjector)}var value}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(defType=>this.get(defType))}toString(){const tokens=[];return this.records.forEach((v,token)=>tokens.push(stringify(token))),`R3Injector[${tokens.join(\", \")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error(\"Injector has already been destroyed.\")}processInjectorType(defOrWrappedDef,parents,dedupStack){if(!(defOrWrappedDef=resolveForwardRef(defOrWrappedDef)))return!1;let def=getInjectorDef(defOrWrappedDef);const ngModule=null==def&&defOrWrappedDef.ngModule||void 0,defType=void 0===ngModule?defOrWrappedDef:ngModule,isDuplicate=-1!==dedupStack.indexOf(defType);if(void 0!==ngModule&&(def=getInjectorDef(ngModule)),null==def)return!1;if(null!=def.imports&&!isDuplicate){let importTypesWithProviders;dedupStack.push(defType);try{deepForEach(def.imports,imported=>{this.processInjectorType(imported,parents,dedupStack)&&(void 0===importTypesWithProviders&&(importTypesWithProviders=[]),importTypesWithProviders.push(imported))})}finally{}if(void 0!==importTypesWithProviders)for(let i=0;i<importTypesWithProviders.length;i++){const{ngModule:ngModule,providers:providers}=importTypesWithProviders[i];deepForEach(providers,provider=>this.processProvider(provider,ngModule,providers||EMPTY_ARRAY$2))}}this.injectorDefTypes.add(defType),this.records.set(defType,makeRecord(def.factory,NOT_YET));const defProviders=def.providers;if(null!=defProviders&&!isDuplicate){const injectorType=defOrWrappedDef;deepForEach(defProviders,provider=>this.processProvider(provider,injectorType,defProviders))}return void 0!==ngModule&&void 0!==defOrWrappedDef.providers}processProvider(provider,ngModuleType,providers){let token=isTypeProvider(provider=resolveForwardRef(provider))?provider:resolveForwardRef(provider&&provider.provide);const record=function(provider,ngModuleType,providers){return isValueProvider(provider)?makeRecord(void 0,provider.useValue):makeRecord(function(provider,ngModuleType,providers){let factory=void 0;if(isTypeProvider(provider)){const unwrappedProvider=resolveForwardRef(provider);return getFactoryDef(unwrappedProvider)||injectableDefOrInjectorDefFactory(unwrappedProvider)}if(isValueProvider(provider))factory=()=>resolveForwardRef(provider.useValue);else if((value=provider)&&value.useFactory)factory=()=>provider.useFactory(...injectArgs(provider.deps||[]));else if(function(value){return!(!value||!value.useExisting)}(provider))factory=()=>inject(resolveForwardRef(provider.useExisting));else{const classRef=resolveForwardRef(provider&&(provider.useClass||provider.provide));if(classRef||function(ngModuleType,providers,provider){let ngModuleDetail=\"\";throw ngModuleType&&providers&&(ngModuleDetail=` - only instances of Provider and Type are allowed, got: [${providers.map(v=>v==provider?\"?\"+provider+\"?\":\"...\").join(\", \")}]`),new Error(`Invalid provider for the NgModule '${stringify(ngModuleType)}'`+ngModuleDetail)}(ngModuleType,providers,provider),!function(value){return!!value.deps}(provider))return getFactoryDef(classRef)||injectableDefOrInjectorDefFactory(classRef);factory=()=>new classRef(...injectArgs(provider.deps))}var value;return factory}(provider,ngModuleType,providers),NOT_YET)}(provider,ngModuleType,providers);if(isTypeProvider(provider)||!0!==provider.multi){const existing=this.records.get(token);existing&&void 0!==existing.multi&&throwMixedMultiProviderError()}else{let multiRecord=this.records.get(token);multiRecord?void 0===multiRecord.multi&&throwMixedMultiProviderError():(multiRecord=makeRecord(void 0,NOT_YET,!0),multiRecord.factory=()=>injectArgs(multiRecord.multi),this.records.set(token,multiRecord)),token=provider,multiRecord.multi.push(provider)}this.records.set(token,record)}hydrate(token,record){var value;return record.value===CIRCULAR?function(token){throw new Error(`Cannot instantiate cyclic dependency! ${token}`)}(stringify(token)):record.value===NOT_YET&&(record.value=CIRCULAR,record.value=record.factory()),\"object\"==typeof record.value&&record.value&&null!==(value=record.value)&&\"object\"==typeof value&&\"function\"==typeof value.ngOnDestroy&&this.onDestroy.add(record.value),record.value}injectableDefInScope(def){return!!def.providedIn&&(\"string\"==typeof def.providedIn?\"any\"===def.providedIn||def.providedIn===this.scope:this.injectorDefTypes.has(def.providedIn))}}function injectableDefOrInjectorDefFactory(token){const injectableDef=getInjectableDef(token),factory=null!==injectableDef?injectableDef.factory:getFactoryDef(token);if(null!==factory)return factory;const injectorDef=getInjectorDef(token);if(null!==injectorDef)return injectorDef.factory;if(token instanceof InjectionToken)throw new Error(`Token ${stringify(token)} is missing a prov definition.`);if(token instanceof Function)return function(token){const paramLength=token.length;if(paramLength>0){const args=function(size,value){const list=[];for(let i=0;i<size;i++)list.push(\"?\");return list}(paramLength);throw new Error(`Can't resolve all parameters for ${stringify(token)}: (${args.join(\", \")}).`)}const inheritedInjectableDef=function(type){const def=type&&(type[NG_PROV_DEF]||type[NG_INJECTABLE_DEF]||type[NG_PROV_DEF_FALLBACK]&&type[NG_PROV_DEF_FALLBACK]());if(def){const typeName=function(type){if(type.hasOwnProperty(\"name\"))return type.name;const match=(\"\"+type).match(/^function\\s*([^\\s(]+)/);return null===match?\"\":match[1]}(type);return console.warn(`DEPRECATED: DI is instantiating a token \"${typeName}\" that inherits its @Injectable decorator but does not provide one itself.\\n`+`This will become an error in v10. Please add @Injectable() to the \"${typeName}\" class.`),def}return null}(token);return null!==inheritedInjectableDef?()=>inheritedInjectableDef.factory(token):()=>new token}(token);throw new Error(\"unreachable\")}function makeRecord(factory,value,multi=!1){return{factory:factory,value:value,multi:multi?[]:void 0}}function isValueProvider(value){return null!==value&&\"object\"==typeof value&&USE_VALUE in value}function isTypeProvider(value){return\"function\"==typeof value}const INJECTOR_IMPL=function(providers,parent,name){return function(defType,parent=null,additionalProviders=null,name){const injector=createInjectorWithoutInjectorInstances(defType,parent,additionalProviders,name);return injector._resolveInjectorDefTypes(),injector}({name:name},parent,providers,name)};let Injector=(()=>{class Injector{static create(options,parent){return Array.isArray(options)?INJECTOR_IMPL(options,parent,\"\"):INJECTOR_IMPL(options.providers,options.parent,options.name||\"\")}}return Injector.THROW_IF_NOT_FOUND=THROW_IF_NOT_FOUND,Injector.NULL=new NullInjector,Injector.prov=defineInjectable({token:Injector,providedIn:\"any\",factory:()=>inject(INJECTOR)}),Injector.__NG_ELEMENT_ID__=-1,Injector})();const ANALYZE_FOR_ENTRY_COMPONENTS=new InjectionToken(\"AnalyzeForEntryComponents\");let componentResourceResolutionQueue=new Map;const componentDefPendingResolution=new Set;function unwrapResponse(response){return\"string\"==typeof response?response:response.text()}function computeStaticStyling(tNode,attrs){let styles=tNode.styles,classes=tNode.classes,mode=0;for(let i=0;i<attrs.length;i++){const value=attrs[i];\"number\"==typeof value?mode=value:1==mode?classes=concatStringsWithSpace(classes,value):2==mode&&(styles=concatStringsWithSpace(styles,value+\": \"+attrs[++i]+\";\"))}null!==styles&&(tNode.styles=styles),null!==classes&&(tNode.classes=classes)}let _symbolIterator=null;function core_getSymbolIterator(){if(!_symbolIterator){const Symbol=_global.Symbol;if(Symbol&&Symbol.iterator)_symbolIterator=Symbol.iterator;else{const keys=Object.getOwnPropertyNames(Map.prototype);for(let i=0;i<keys.length;++i){const key=keys[i];\"entries\"!==key&&\"size\"!==key&&Map.prototype[key]===Map.prototype.entries&&(_symbolIterator=key)}}}return _symbolIterator}function looseIdentical(a,b){return a===b||\"number\"==typeof a&&\"number\"==typeof b&&isNaN(a)&&isNaN(b)}function isListLikeIterable$1(obj){return!!isJsObject$1(obj)&&(Array.isArray(obj)||!(obj instanceof Map)&&core_getSymbolIterator()in obj)}function isJsObject$1(o){return null!==o&&(\"function\"==typeof o||\"object\"==typeof o)}function directiveInject(token,flags=InjectFlags.Default){const lView=getLView();return null==lView?inject(token,flags):getOrCreateInjectable(getPreviousOrParentTNode(),lView,resolveForwardRef(token),flags)}function invalidFactory(){throw new Error(\"invalid\")}function setDirectiveInputsWhichShadowsStyling(tView,tNode,lView,value,isClassBased){const property=isClassBased?\"class\":\"style\";!function(tView,lView,inputs,publicName,value){for(let i=0;i<inputs.length;){const index=inputs[i++],privateName=inputs[i++],instance=lView[index],def=tView.data[index];null!==def.setInput?def.setInput(instance,value,publicName,privateName):instance[privateName]=value}}(tView,lView,tNode.inputs[property],property,value)}function elementStart(index,name,attrsIndex,localRefsIndex){const lView=getLView(),tView=getTView(),adjustedIndex=19+index,renderer=lView[11],native=lView[adjustedIndex]=elementCreate(name,renderer,instructionState.lFrame.currentNamespace),tNode=tView.firstCreatePass?function(index,tView,lView,native,name,attrsIndex,localRefsIndex){const tViewConsts=tView.consts,attrs=getConstant(tViewConsts,attrsIndex),tNode=getOrCreateTNode(tView,lView[6],index,3,name,attrs);return function(tView,lView,tNode,localRefs){let hasDirectives=!1;if(getBindingsEnabled()){const directiveDefs=function(tView,viewData,tNode){const registry=tView.directiveRegistry;let matches=null;if(registry)for(let i=0;i<registry.length;i++){const def=registry[i];isNodeMatchingSelectorList(tNode,def.selectors,!1)&&(matches||(matches=[]),diPublicInInjector(getOrCreateNodeInjectorForNode(tNode,viewData),tView,def.type),isComponentDef(def)?(2&tNode.flags&&throwMultipleComponentError(tNode),markAsComponentHost(tView,tNode),matches.unshift(def)):matches.push(def))}return matches}(tView,lView,tNode),exportsMap=null===localRefs?null:{\"\":-1};if(null!==directiveDefs){let totalDirectiveHostVars=0;hasDirectives=!0,initTNodeFlags(tNode,tView.data.length,directiveDefs.length);for(let i=0;i<directiveDefs.length;i++){const def=directiveDefs[i];def.providersResolver&&def.providersResolver(def)}generateExpandoInstructionBlock(tView,tNode,directiveDefs.length);let preOrderHooksFound=!1,preOrderCheckHooksFound=!1;for(let i=0;i<directiveDefs.length;i++){const def=directiveDefs[i];tNode.mergedAttrs=mergeHostAttrs(tNode.mergedAttrs,def.hostAttrs),baseResolveDirective(tView,lView,def),saveNameToExportMap(tView.data.length-1,def,exportsMap),null!==def.contentQueries&&(tNode.flags|=8),null===def.hostBindings&&null===def.hostAttrs&&0===def.hostVars||(tNode.flags|=128),!preOrderHooksFound&&(def.onChanges||def.onInit||def.doCheck)&&((tView.preOrderHooks||(tView.preOrderHooks=[])).push(tNode.index-19),preOrderHooksFound=!0),preOrderCheckHooksFound||!def.onChanges&&!def.doCheck||((tView.preOrderCheckHooks||(tView.preOrderCheckHooks=[])).push(tNode.index-19),preOrderCheckHooksFound=!0),addHostBindingsToExpandoInstructions(tView,def),totalDirectiveHostVars+=def.hostVars}!function(tView,tNode){const end=tNode.directiveEnd,defs=tView.data,tNodeAttrs=tNode.attrs,inputsFromAttrs=[];let inputsStore=null,outputsStore=null;for(let i=tNode.directiveStart;i<end;i++){const directiveDef=defs[i],directiveInputs=directiveDef.inputs;inputsFromAttrs.push(null!==tNodeAttrs?generateInitialInputs(directiveInputs,tNodeAttrs):null),inputsStore=generatePropertyAliases(directiveInputs,i,inputsStore),outputsStore=generatePropertyAliases(directiveDef.outputs,i,outputsStore)}null!==inputsStore&&(inputsStore.hasOwnProperty(\"class\")&&(tNode.flags|=16),inputsStore.hasOwnProperty(\"style\")&&(tNode.flags|=32)),tNode.initialInputs=inputsFromAttrs,tNode.inputs=inputsStore,tNode.outputs=outputsStore}(tView,tNode),growHostVarsSpace(tView,lView,totalDirectiveHostVars)}exportsMap&&function(tNode,localRefs,exportsMap){if(localRefs){const localNames=tNode.localNames=[];for(let i=0;i<localRefs.length;i+=2){const index=exportsMap[localRefs[i+1]];if(null==index)throw new Error(`Export of name '${localRefs[i+1]}' not found!`);localNames.push(localRefs[i],index)}}}(tNode,localRefs,exportsMap)}tNode.mergedAttrs=mergeHostAttrs(tNode.mergedAttrs,tNode.attrs)}(tView,lView,tNode,getConstant(tViewConsts,localRefsIndex)),null!==tNode.mergedAttrs&&computeStaticStyling(tNode,tNode.mergedAttrs),null!==tView.queries&&tView.queries.elementStart(tView,tNode),tNode}(index,tView,lView,0,name,attrsIndex,localRefsIndex):tView.data[adjustedIndex];setPreviousOrParentTNode(tNode,!0);const mergedAttrs=tNode.mergedAttrs;null!==mergedAttrs&&setUpAttributes(renderer,native,mergedAttrs);const classes=tNode.classes;null!==classes&&writeDirectClass(renderer,native,classes);const styles=tNode.styles;null!==styles&&writeDirectStyle(renderer,native,styles),appendChild(tView,lView,native,tNode),0===instructionState.lFrame.elementDepthCount&&attachPatchData(native,lView),instructionState.lFrame.elementDepthCount++,function(tNode){return 1==(1&tNode.flags)}(tNode)&&(function(tView,lView,tNode){getBindingsEnabled()&&(function(tView,lView,tNode,native){const start=tNode.directiveStart,end=tNode.directiveEnd;tView.firstCreatePass||getOrCreateNodeInjectorForNode(tNode,lView),attachPatchData(native,lView);const initialInputs=tNode.initialInputs;for(let i=start;i<end;i++){const def=tView.data[i],isComponent=isComponentDef(def);isComponent&&addComponentLogic(lView,tNode,def);const directive=getNodeInjectable(lView,tView,i,tNode);attachPatchData(directive,lView),null!==initialInputs&&setInputsFromAttrs(0,i-start,directive,def,0,initialInputs),isComponent&&(getComponentLViewByIndex(tNode.index,lView)[8]=directive)}}(tView,lView,tNode,getNativeByTNode(tNode,lView)),128==(128&tNode.flags)&&function(tView,lView,tNode){const start=tNode.directiveStart,end=tNode.directiveEnd,expando=tView.expandoInstructions,firstCreatePass=tView.firstCreatePass,elementIndex=tNode.index-19;try{setSelectedIndex(elementIndex);for(let i=start;i<end;i++){const def=tView.data[i],directive=lView[i];null!==def.hostBindings||0!==def.hostVars||null!==def.hostAttrs?invokeHostBindingsInCreationMode(def,directive):firstCreatePass&&expando.push(null)}}finally{setSelectedIndex(-1)}}(tView,lView,tNode))}(tView,lView,tNode),function(tView,tNode,lView){if(isContentQueryHost(tNode)){const end=tNode.directiveEnd;for(let directiveIndex=tNode.directiveStart;directiveIndex<end;directiveIndex++){const def=tView.data[directiveIndex];def.contentQueries&&def.contentQueries(1,lView[directiveIndex],directiveIndex)}}}(tView,tNode,lView)),null!==localRefsIndex&&function(viewData,tNode,localRefExtractor=getNativeByTNode){const localNames=tNode.localNames;if(null!==localNames){let localIndex=tNode.index+1;for(let i=0;i<localNames.length;i+=2){const index=localNames[i+1],value=-1===index?localRefExtractor(tNode,viewData):viewData[index];viewData[localIndex++]=value}}}(lView,tNode)}function element(index,name,attrsIndex,localRefsIndex){elementStart(index,name,attrsIndex,localRefsIndex),function(){let previousOrParentTNode=getPreviousOrParentTNode();getIsParent()?instructionState.lFrame.isParent=!1:(previousOrParentTNode=previousOrParentTNode.parent,setPreviousOrParentTNode(previousOrParentTNode,!1));const tNode=previousOrParentTNode;instructionState.lFrame.elementDepthCount--;const tView=getTView();tView.firstCreatePass&&(registerPostOrderHooks(tView,previousOrParentTNode),isContentQueryHost(previousOrParentTNode)&&tView.queries.elementEnd(previousOrParentTNode)),null!==tNode.classes&&function(tNode){return 0!=(16&tNode.flags)}(tNode)&&setDirectiveInputsWhichShadowsStyling(tView,tNode,getLView(),tNode.classes,!0),null!==tNode.styles&&function(tNode){return 0!=(32&tNode.flags)}(tNode)&&setDirectiveInputsWhichShadowsStyling(tView,tNode,getLView(),tNode.styles,!1)}()}function core_isPromise(obj){return!!obj&&\"function\"==typeof obj.then}function LifecycleHooksFeature(component,def){const rootTView=readPatchedLView(component)[1],dirIndex=rootTView.data.length-1;registerPostOrderHooks(rootTView,{directiveStart:dirIndex,directiveEnd:dirIndex+1})}class ComponentFactory{}class _NullComponentFactoryResolver{resolveComponentFactory(component){throw function(component){const error=Error(`No component factory found for ${stringify(component)}. Did you add it to @NgModule.entryComponents?`);return error.ngComponent=component,error}(component)}}let ComponentFactoryResolver=(()=>{class ComponentFactoryResolver{}return ComponentFactoryResolver.NULL=new _NullComponentFactoryResolver,ComponentFactoryResolver})(),ElementRef=(()=>{class ElementRef{constructor(nativeElement){this.nativeElement=nativeElement}}return ElementRef.__NG_ELEMENT_ID__=()=>SWITCH_ELEMENT_REF_FACTORY(ElementRef),ElementRef})();const SWITCH_ELEMENT_REF_FACTORY=function(ElementRefToken){return createElementRef(ElementRefToken,getPreviousOrParentTNode(),getLView())};class RendererFactory2{}const RendererStyleFlags2=function(){var RendererStyleFlags2={Important:1,DashCase:2};return RendererStyleFlags2[RendererStyleFlags2.Important]=\"Important\",RendererStyleFlags2[RendererStyleFlags2.DashCase]=\"DashCase\",RendererStyleFlags2}();let Sanitizer=(()=>{class Sanitizer{}return Sanitizer.prov=defineInjectable({token:Sanitizer,providedIn:\"root\",factory:()=>null}),Sanitizer})();class Version{constructor(full){this.full=full,this.major=full.split(\".\")[0],this.minor=full.split(\".\")[1],this.patch=full.split(\".\").slice(2).join(\".\")}}const VERSION=new Version(\"9.0.7\");class DefaultIterableDifferFactory{constructor(){}supports(obj){return isListLikeIterable$1(obj)}create(trackByFn){return new DefaultIterableDiffer(trackByFn)}}const trackByIdentity=(index,item)=>item;class DefaultIterableDiffer{constructor(trackByFn){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=trackByFn||trackByIdentity}forEachItem(fn){let record;for(record=this._itHead;null!==record;record=record._next)fn(record)}forEachOperation(fn){let nextIt=this._itHead,nextRemove=this._removalsHead,addRemoveOffset=0,moveOffsets=null;for(;nextIt||nextRemove;){const record=!nextRemove||nextIt&&nextIt.currentIndex<getPreviousIndex(nextRemove,addRemoveOffset,moveOffsets)?nextIt:nextRemove,adjPreviousIndex=getPreviousIndex(record,addRemoveOffset,moveOffsets),currentIndex=record.currentIndex;if(record===nextRemove)addRemoveOffset--,nextRemove=nextRemove._nextRemoved;else if(nextIt=nextIt._next,null==record.previousIndex)addRemoveOffset++;else{moveOffsets||(moveOffsets=[]);const localMovePreviousIndex=adjPreviousIndex-addRemoveOffset,localCurrentIndex=currentIndex-addRemoveOffset;if(localMovePreviousIndex!=localCurrentIndex){for(let i=0;i<localMovePreviousIndex;i++){const offset=i<moveOffsets.length?moveOffsets[i]:moveOffsets[i]=0,index=offset+i;localCurrentIndex<=index&&index<localMovePreviousIndex&&(moveOffsets[i]=offset+1)}moveOffsets[record.previousIndex]=localCurrentIndex-localMovePreviousIndex}}adjPreviousIndex!==currentIndex&&fn(record,adjPreviousIndex,currentIndex)}}forEachPreviousItem(fn){let record;for(record=this._previousItHead;null!==record;record=record._nextPrevious)fn(record)}forEachAddedItem(fn){let record;for(record=this._additionsHead;null!==record;record=record._nextAdded)fn(record)}forEachMovedItem(fn){let record;for(record=this._movesHead;null!==record;record=record._nextMoved)fn(record)}forEachRemovedItem(fn){let record;for(record=this._removalsHead;null!==record;record=record._nextRemoved)fn(record)}forEachIdentityChange(fn){let record;for(record=this._identityChangesHead;null!==record;record=record._nextIdentityChange)fn(record)}diff(collection){if(null==collection&&(collection=[]),!isListLikeIterable$1(collection))throw new Error(`Error trying to diff '${stringify(collection)}'. Only arrays and iterables are allowed`);return this.check(collection)?this:null}onDestroy(){}check(collection){this._reset();let index,item,itemTrackBy,record=this._itHead,mayBeDirty=!1;if(Array.isArray(collection)){this.length=collection.length;for(let index=0;index<this.length;index++)item=collection[index],itemTrackBy=this._trackByFn(index,item),null!==record&&looseIdentical(record.trackById,itemTrackBy)?(mayBeDirty&&(record=this._verifyReinsertion(record,item,itemTrackBy,index)),looseIdentical(record.item,item)||this._addIdentityChange(record,item)):(record=this._mismatch(record,item,itemTrackBy,index),mayBeDirty=!0),record=record._next}else index=0,function(obj,fn){if(Array.isArray(obj))for(let i=0;i<obj.length;i++)fn(obj[i]);else{const iterator=obj[core_getSymbolIterator()]();let item;for(;!(item=iterator.next()).done;)fn(item.value)}}(collection,item=>{itemTrackBy=this._trackByFn(index,item),null!==record&&looseIdentical(record.trackById,itemTrackBy)?(mayBeDirty&&(record=this._verifyReinsertion(record,item,itemTrackBy,index)),looseIdentical(record.item,item)||this._addIdentityChange(record,item)):(record=this._mismatch(record,item,itemTrackBy,index),mayBeDirty=!0),record=record._next,index++}),this.length=index;return this._truncate(record),this.collection=collection,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let record,nextRecord;for(record=this._previousItHead=this._itHead;null!==record;record=record._next)record._nextPrevious=record._next;for(record=this._additionsHead;null!==record;record=record._nextAdded)record.previousIndex=record.currentIndex;for(this._additionsHead=this._additionsTail=null,record=this._movesHead;null!==record;record=nextRecord)record.previousIndex=record.currentIndex,nextRecord=record._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(record,item,itemTrackBy,index){let previousRecord;return null===record?previousRecord=this._itTail:(previousRecord=record._prev,this._remove(record)),null!==(record=null===this._linkedRecords?null:this._linkedRecords.get(itemTrackBy,index))?(looseIdentical(record.item,item)||this._addIdentityChange(record,item),this._moveAfter(record,previousRecord,index)):null!==(record=null===this._unlinkedRecords?null:this._unlinkedRecords.get(itemTrackBy,null))?(looseIdentical(record.item,item)||this._addIdentityChange(record,item),this._reinsertAfter(record,previousRecord,index)):record=this._addAfter(new IterableChangeRecord_(item,itemTrackBy),previousRecord,index),record}_verifyReinsertion(record,item,itemTrackBy,index){let reinsertRecord=null===this._unlinkedRecords?null:this._unlinkedRecords.get(itemTrackBy,null);return null!==reinsertRecord?record=this._reinsertAfter(reinsertRecord,record._prev,index):record.currentIndex!=index&&(record.currentIndex=index,this._addToMoves(record,index)),record}_truncate(record){for(;null!==record;){const nextRecord=record._next;this._addToRemovals(this._unlink(record)),record=nextRecord}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(record,prevRecord,index){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(record);const prev=record._prevRemoved,next=record._nextRemoved;return null===prev?this._removalsHead=next:prev._nextRemoved=next,null===next?this._removalsTail=prev:next._prevRemoved=prev,this._insertAfter(record,prevRecord,index),this._addToMoves(record,index),record}_moveAfter(record,prevRecord,index){return this._unlink(record),this._insertAfter(record,prevRecord,index),this._addToMoves(record,index),record}_addAfter(record,prevRecord,index){return this._insertAfter(record,prevRecord,index),this._additionsTail=null===this._additionsTail?this._additionsHead=record:this._additionsTail._nextAdded=record,record}_insertAfter(record,prevRecord,index){const next=null===prevRecord?this._itHead:prevRecord._next;return record._next=next,record._prev=prevRecord,null===next?this._itTail=record:next._prev=record,null===prevRecord?this._itHead=record:prevRecord._next=record,null===this._linkedRecords&&(this._linkedRecords=new _DuplicateMap),this._linkedRecords.put(record),record.currentIndex=index,record}_remove(record){return this._addToRemovals(this._unlink(record))}_unlink(record){null!==this._linkedRecords&&this._linkedRecords.remove(record);const prev=record._prev,next=record._next;return null===prev?this._itHead=next:prev._next=next,null===next?this._itTail=prev:next._prev=prev,record}_addToMoves(record,toIndex){return record.previousIndex===toIndex?record:(this._movesTail=null===this._movesTail?this._movesHead=record:this._movesTail._nextMoved=record,record)}_addToRemovals(record){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _DuplicateMap),this._unlinkedRecords.put(record),record.currentIndex=null,record._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=record,record._prevRemoved=null):(record._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=record),record}_addIdentityChange(record,item){return record.item=item,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=record:this._identityChangesTail._nextIdentityChange=record,record}}class IterableChangeRecord_{constructor(item,trackById){this.item=item,this.trackById=trackById,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _DuplicateItemRecordList{constructor(){this._head=null,this._tail=null}add(record){null===this._head?(this._head=this._tail=record,record._nextDup=null,record._prevDup=null):(this._tail._nextDup=record,record._prevDup=this._tail,record._nextDup=null,this._tail=record)}get(trackById,atOrAfterIndex){let record;for(record=this._head;null!==record;record=record._nextDup)if((null===atOrAfterIndex||atOrAfterIndex<=record.currentIndex)&&looseIdentical(record.trackById,trackById))return record;return null}remove(record){const prev=record._prevDup,next=record._nextDup;return null===prev?this._head=next:prev._nextDup=next,null===next?this._tail=prev:next._prevDup=prev,null===this._head}}class _DuplicateMap{constructor(){this.map=new Map}put(record){const key=record.trackById;let duplicates=this.map.get(key);duplicates||(duplicates=new _DuplicateItemRecordList,this.map.set(key,duplicates)),duplicates.add(record)}get(trackById,atOrAfterIndex){const recordList=this.map.get(trackById);return recordList?recordList.get(trackById,atOrAfterIndex):null}remove(record){const key=record.trackById;return this.map.get(key).remove(record)&&this.map.delete(key),record}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function getPreviousIndex(item,addRemoveOffset,moveOffsets){const previousIndex=item.previousIndex;if(null===previousIndex)return previousIndex;let moveOffset=0;return moveOffsets&&previousIndex<moveOffsets.length&&(moveOffset=moveOffsets[previousIndex]),previousIndex+addRemoveOffset+moveOffset}class DefaultKeyValueDifferFactory{constructor(){}supports(obj){return obj instanceof Map||isJsObject$1(obj)}create(){return new DefaultKeyValueDiffer}}class DefaultKeyValueDiffer{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(fn){let record;for(record=this._mapHead;null!==record;record=record._next)fn(record)}forEachPreviousItem(fn){let record;for(record=this._previousMapHead;null!==record;record=record._nextPrevious)fn(record)}forEachChangedItem(fn){let record;for(record=this._changesHead;null!==record;record=record._nextChanged)fn(record)}forEachAddedItem(fn){let record;for(record=this._additionsHead;null!==record;record=record._nextAdded)fn(record)}forEachRemovedItem(fn){let record;for(record=this._removalsHead;null!==record;record=record._nextRemoved)fn(record)}diff(map){if(map){if(!(map instanceof Map||isJsObject$1(map)))throw new Error(`Error trying to diff '${stringify(map)}'. Only maps and objects are allowed`)}else map=new Map;return this.check(map)?this:null}onDestroy(){}check(map){this._reset();let insertBefore=this._mapHead;if(this._appendAfter=null,this._forEach(map,(value,key)=>{if(insertBefore&&insertBefore.key===key)this._maybeAddToChanges(insertBefore,value),this._appendAfter=insertBefore,insertBefore=insertBefore._next;else{const record=this._getOrCreateRecordForKey(key,value);insertBefore=this._insertBeforeOrAppend(insertBefore,record)}}),insertBefore){insertBefore._prev&&(insertBefore._prev._next=null),this._removalsHead=insertBefore;for(let record=insertBefore;null!==record;record=record._nextRemoved)record===this._mapHead&&(this._mapHead=null),this._records.delete(record.key),record._nextRemoved=record._next,record.previousValue=record.currentValue,record.currentValue=null,record._prev=null,record._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(before,record){if(before){const prev=before._prev;return record._next=before,record._prev=prev,before._prev=record,prev&&(prev._next=record),before===this._mapHead&&(this._mapHead=record),this._appendAfter=before,before}return this._appendAfter?(this._appendAfter._next=record,record._prev=this._appendAfter):this._mapHead=record,this._appendAfter=record,null}_getOrCreateRecordForKey(key,value){if(this._records.has(key)){const record=this._records.get(key);this._maybeAddToChanges(record,value);const prev=record._prev,next=record._next;return prev&&(prev._next=next),next&&(next._prev=prev),record._next=null,record._prev=null,record}const record=new KeyValueChangeRecord_(key);return this._records.set(key,record),record.currentValue=value,this._addToAdditions(record),record}_reset(){if(this.isDirty){let record;for(this._previousMapHead=this._mapHead,record=this._previousMapHead;null!==record;record=record._next)record._nextPrevious=record._next;for(record=this._changesHead;null!==record;record=record._nextChanged)record.previousValue=record.currentValue;for(record=this._additionsHead;null!=record;record=record._nextAdded)record.previousValue=record.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(record,newValue){looseIdentical(newValue,record.currentValue)||(record.previousValue=record.currentValue,record.currentValue=newValue,this._addToChanges(record))}_addToAdditions(record){null===this._additionsHead?this._additionsHead=this._additionsTail=record:(this._additionsTail._nextAdded=record,this._additionsTail=record)}_addToChanges(record){null===this._changesHead?this._changesHead=this._changesTail=record:(this._changesTail._nextChanged=record,this._changesTail=record)}_forEach(obj,fn){obj instanceof Map?obj.forEach(fn):Object.keys(obj).forEach(k=>fn(obj[k],k))}}class KeyValueChangeRecord_{constructor(key){this.key=key,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let IterableDiffers=(()=>{class IterableDiffers{constructor(factories){this.factories=factories}static create(factories,parent){if(null!=parent){const copied=parent.factories.slice();factories=factories.concat(copied)}return new IterableDiffers(factories)}static extend(factories){return{provide:IterableDiffers,useFactory:parent=>{if(!parent)throw new Error(\"Cannot extend IterableDiffers without a parent injector\");return IterableDiffers.create(factories,parent)},deps:[[IterableDiffers,new SkipSelf,new Optional]]}}find(iterable){const factory=this.factories.find(f=>f.supports(iterable));if(null!=factory)return factory;throw new Error(`Cannot find a differ supporting object '${iterable}' of type '${type=iterable,type.name||typeof type}'`);var type}}return IterableDiffers.prov=defineInjectable({token:IterableDiffers,providedIn:\"root\",factory:()=>new IterableDiffers([new DefaultIterableDifferFactory])}),IterableDiffers})(),KeyValueDiffers=(()=>{class KeyValueDiffers{constructor(factories){this.factories=factories}static create(factories,parent){if(parent){const copied=parent.factories.slice();factories=factories.concat(copied)}return new KeyValueDiffers(factories)}static extend(factories){return{provide:KeyValueDiffers,useFactory:parent=>{if(!parent)throw new Error(\"Cannot extend KeyValueDiffers without a parent injector\");return KeyValueDiffers.create(factories,parent)},deps:[[KeyValueDiffers,new SkipSelf,new Optional]]}}find(kv){const factory=this.factories.find(f=>f.supports(kv));if(factory)return factory;throw new Error(`Cannot find a differ supporting object '${kv}'`)}}return KeyValueDiffers.prov=defineInjectable({token:KeyValueDiffers,providedIn:\"root\",factory:()=>new KeyValueDiffers([new DefaultKeyValueDifferFactory])}),KeyValueDiffers})();const keyValDiff=[new DefaultKeyValueDifferFactory],defaultIterableDiffers=new IterableDiffers([new DefaultIterableDifferFactory]),defaultKeyValueDiffers=new KeyValueDiffers(keyValDiff);let ViewContainerRef=(()=>{class ViewContainerRef{}return ViewContainerRef.__NG_ELEMENT_ID__=()=>SWITCH_VIEW_CONTAINER_REF_FACTORY(ViewContainerRef,ElementRef),ViewContainerRef})();const SWITCH_VIEW_CONTAINER_REF_FACTORY=function(ViewContainerRefToken,ElementRefToken){return function(ViewContainerRefToken,ElementRefToken,hostTNode,hostView){let lContainer;R3ViewContainerRef||(R3ViewContainerRef=class extends ViewContainerRefToken{constructor(_lContainer,_hostTNode,_hostView){super(),this._lContainer=_lContainer,this._hostTNode=_hostTNode,this._hostView=_hostView}get element(){return createElementRef(ElementRefToken,this._hostTNode,this._hostView)}get injector(){return new NodeInjector(this._hostTNode,this._hostView)}get parentInjector(){const parentLocation=getParentInjectorLocation(this._hostTNode,this._hostView),parentView=getParentInjectorView(parentLocation,this._hostView),parentTNode=function(location,startView,startTNode){if(startTNode.parent&&-1!==startTNode.parent.injectorIndex){const injectorIndex=startTNode.parent.injectorIndex;let tNode=startTNode.parent;for(;null!=tNode.parent&&injectorIndex==tNode.parent.injectorIndex;)tNode=tNode.parent;return tNode}let viewOffset=getParentInjectorViewOffset(location),parentView=startView,parentTNode=startView[6];for(;viewOffset>1;)parentView=parentView[15],parentTNode=parentView[6],viewOffset--;return parentTNode}(parentLocation,this._hostView,this._hostTNode);return hasParentInjector(parentLocation)&&null!=parentTNode?new NodeInjector(parentTNode,parentView):new NodeInjector(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(index){return null!==this._lContainer[8]&&this._lContainer[8][index]||null}get length(){return this._lContainer.length-9}createEmbeddedView(templateRef,context,index){const viewRef=templateRef.createEmbeddedView(context||{});return this.insert(viewRef,index),viewRef}createComponent(componentFactory,index,injector,projectableNodes,ngModuleRef){const contextInjector=injector||this.parentInjector;if(!ngModuleRef&&null==componentFactory.ngModule&&contextInjector){const result=contextInjector.get(NgModuleRef,null);result&&(ngModuleRef=result)}const componentRef=componentFactory.create(contextInjector,projectableNodes,void 0,ngModuleRef);return this.insert(componentRef.hostView,index),componentRef}insert(viewRef,index){const lView=viewRef._lView,tView=lView[1];if(viewRef.destroyed)throw new Error(\"Cannot insert a destroyed View in a ViewContainer!\");if(this.allocateContainerIfNeeded(),isLContainer(lView[3])){const prevIdx=this.indexOf(viewRef);if(-1!==prevIdx)this.detach(prevIdx);else{const prevLContainer=lView[3],prevVCRef=new R3ViewContainerRef(prevLContainer,prevLContainer[6],prevLContainer[3]);prevVCRef.detach(prevVCRef.indexOf(viewRef))}}const adjustedIdx=this._adjustIndex(index);return function(tView,lView,lContainer,index){const indexInContainer=9+index,containerLength=lContainer.length;index>0&&(lContainer[indexInContainer-1][4]=lView),index<containerLength-9?(lView[4]=lContainer[indexInContainer],addToArray(lContainer,9+index,lView)):(lContainer.push(lView),lView[4]=null),lView[3]=lContainer;const declarationLContainer=lView[17];null!==declarationLContainer&&lContainer!==declarationLContainer&&function(declarationContainer,lView){const movedViews=declarationContainer[5],insertedComponentLView=lView[3][3][16];16!=(16&insertedComponentLView[2])&&lView[16]!==insertedComponentLView&&(declarationContainer[2]|=1),null===movedViews?declarationContainer[5]=[lView]:movedViews.push(lView)}(declarationLContainer,lView);const lQueries=lView[5];null!==lQueries&&lQueries.insertView(tView),lView[2]|=128}(tView,lView,this._lContainer,adjustedIdx),addRemoveViewFromContainer(tView,lView,!0,getBeforeNodeForView(adjustedIdx,this._lContainer)),viewRef.attachToViewContainerRef(this),addToArray(this._lContainer[8],adjustedIdx,viewRef),viewRef}move(viewRef,newIndex){if(viewRef.destroyed)throw new Error(\"Cannot move a destroyed View in a ViewContainer!\");return this.insert(viewRef,newIndex)}indexOf(viewRef){const viewRefsArr=this._lContainer[8];return null!==viewRefsArr?viewRefsArr.indexOf(viewRef):-1}remove(index){this.allocateContainerIfNeeded();const adjustedIdx=this._adjustIndex(index,-1);(function(lContainer,removeIndex){const detachedView=detachView(lContainer,removeIndex);detachedView&&destroyLView(detachedView[1],detachedView)})(this._lContainer,adjustedIdx),removeFromArray(this._lContainer[8],adjustedIdx)}detach(index){this.allocateContainerIfNeeded();const adjustedIdx=this._adjustIndex(index,-1),view=detachView(this._lContainer,adjustedIdx);return view&&null!=removeFromArray(this._lContainer[8],adjustedIdx)?new ViewRef(view):null}_adjustIndex(index,shift=0){return null==index?this.length+shift:index}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const slotValue=hostView[hostTNode.index];if(isLContainer(slotValue))lContainer=slotValue,function(lContainer,index){lContainer[2]=-2}(lContainer);else{let commentNode;if(4===hostTNode.type)commentNode=unwrapRNode(slotValue);else if(commentNode=hostView[11].createComment(\"\"),isRootView(hostView)){const renderer=hostView[11],hostNative=getNativeByTNode(hostTNode,hostView);nativeInsertBefore(renderer,nativeParentNode(renderer,hostNative),commentNode,function(renderer,node){return isProceduralRenderer(renderer)?renderer.nextSibling(node):node.nextSibling}(renderer,hostNative))}else appendChild(hostView[1],hostView,commentNode,hostTNode);hostView[hostTNode.index]=lContainer=new Array(slotValue,!0,-2,hostView,null,null,hostTNode,commentNode,null),addToViewTree(hostView,lContainer)}return new R3ViewContainerRef(lContainer,hostTNode,hostView)}(ViewContainerRefToken,ElementRefToken,getPreviousOrParentTNode(),getLView())},NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR={};class ComponentFactoryResolver$1 extends ComponentFactoryResolver{constructor(ngModule){super(),this.ngModule=ngModule}resolveComponentFactory(component){const componentDef=getComponentDef(component);return new ComponentFactory$1(componentDef,this.ngModule)}}function toRefArray(map){const array=[];for(let nonMinified in map)map.hasOwnProperty(nonMinified)&&array.push({propName:map[nonMinified],templateName:nonMinified});return array}const SCHEDULER=new InjectionToken(\"SCHEDULER_TOKEN\",{providedIn:\"root\",factory:()=>defaultScheduler});class ComponentFactory$1 extends ComponentFactory{constructor(componentDef,ngModule){super(),this.componentDef=componentDef,this.ngModule=ngModule,this.componentType=componentDef.type,this.selector=componentDef.selectors.map(stringifyCSSSelector).join(\",\"),this.ngContentSelectors=componentDef.ngContentSelectors?componentDef.ngContentSelectors:[],this.isBoundToModule=!!ngModule}get inputs(){return toRefArray(this.componentDef.inputs)}get outputs(){return toRefArray(this.componentDef.outputs)}create(injector,projectableNodes,rootSelectorOrNode,ngModule){const rootViewInjector=(ngModule=ngModule||this.ngModule)?function(rootViewInjector,moduleInjector){return{get:(token,notFoundValue,flags)=>{const value=rootViewInjector.get(token,NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR,flags);return value!==NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR||notFoundValue===NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR?value:moduleInjector.get(token,notFoundValue,flags)}}}(injector,ngModule.injector):injector,rendererFactory=rootViewInjector.get(RendererFactory2,domRendererFactory3),sanitizer=rootViewInjector.get(Sanitizer,null),hostRenderer=rendererFactory.createRenderer(null,this.componentDef),elementName=this.componentDef.selectors[0][0]||\"div\",hostRNode=rootSelectorOrNode?function(renderer,elementOrSelector,encapsulation){if(isProceduralRenderer(renderer))return renderer.selectRootElement(elementOrSelector,encapsulation===ViewEncapsulation$1.ShadowDom);let rElement=\"string\"==typeof elementOrSelector?renderer.querySelector(elementOrSelector):elementOrSelector;return rElement.textContent=\"\",rElement}(hostRenderer,rootSelectorOrNode,this.componentDef.encapsulation):elementCreate(elementName,rendererFactory.createRenderer(null,this.componentDef),function(elementName){const name=elementName.toLowerCase();return\"svg\"===name?\"http://www.w3.org/2000/svg\":\"math\"===name?\"http://www.w3.org/1998/MathML/\":null}(elementName)),rootFlags=this.componentDef.onPush?576:528,isIsolated=\"string\"==typeof rootSelectorOrNode&&/^#root-ng-internal-isolated-\\d+/.test(rootSelectorOrNode),rootContext={components:[],scheduler:defaultScheduler,clean:CLEAN_PROMISE,playerHandler:null,flags:0},rootTView=createTView(0,-1,null,1,0,null,null,null,null,null),rootLView=createLView(null,rootTView,rootContext,rootFlags,null,null,rendererFactory,hostRenderer,sanitizer,rootViewInjector);let component,tElementNode;enterView(rootLView,null);try{const componentView=function(rNode,def,rootView,rendererFactory,hostRenderer,sanitizer){const tView=rootView[1];rootView[19]=rNode;const tNode=getOrCreateTNode(tView,null,0,3,null,null),mergedAttrs=tNode.mergedAttrs=def.hostAttrs;null!==mergedAttrs&&(computeStaticStyling(tNode,mergedAttrs),null!==rNode&&(setUpAttributes(hostRenderer,rNode,mergedAttrs),null!==tNode.classes&&writeDirectClass(hostRenderer,rNode,tNode.classes),null!==tNode.styles&&writeDirectStyle(hostRenderer,rNode,tNode.styles)));const viewRenderer=rendererFactory.createRenderer(rNode,def),componentView=createLView(rootView,getOrCreateTComponentView(def),null,def.onPush?64:16,rootView[19],tNode,rendererFactory,viewRenderer,void 0);return tView.firstCreatePass&&(diPublicInInjector(getOrCreateNodeInjectorForNode(tNode,rootView),tView,def.type),markAsComponentHost(tView,tNode),initTNodeFlags(tNode,rootView.length,1)),addToViewTree(rootView,componentView),rootView[19]=componentView}(hostRNode,this.componentDef,rootLView,rendererFactory,hostRenderer);if(hostRNode)if(rootSelectorOrNode)setUpAttributes(hostRenderer,hostRNode,[\"ng-version\",VERSION.full]);else{const{attrs:attrs,classes:classes}=function(selector){const attrs=[],classes=[];let i=1,mode=2;for(;i<selector.length;){let valueOrMarker=selector[i];if(\"string\"==typeof valueOrMarker)2===mode?\"\"!==valueOrMarker&&attrs.push(valueOrMarker,selector[++i]):8===mode&&classes.push(valueOrMarker);else{if(!isPositive(mode))break;mode=valueOrMarker}i++}return{attrs:attrs,classes:classes}}(this.componentDef.selectors[0]);attrs&&setUpAttributes(hostRenderer,hostRNode,attrs),classes&&classes.length>0&&writeDirectClass(hostRenderer,hostRNode,classes.join(\" \"))}tElementNode=rootLView[1].data[19],projectableNodes&&(tElementNode.projection=projectableNodes.map(nodesforSlot=>Array.from(nodesforSlot))),component=function(componentView,componentDef,rootLView,rootContext,hostFeatures){const tView=rootLView[1],component=function(tView,lView,def){const rootTNode=getPreviousOrParentTNode();tView.firstCreatePass&&(def.providersResolver&&def.providersResolver(def),generateExpandoInstructionBlock(tView,rootTNode,1),baseResolveDirective(tView,lView,def));const directive=getNodeInjectable(lView,tView,lView.length-1,rootTNode);attachPatchData(directive,lView);const native=getNativeByTNode(rootTNode,lView);return native&&attachPatchData(native,lView),directive}(tView,rootLView,componentDef);rootContext.components.push(component),componentView[8]=component,hostFeatures&&hostFeatures.forEach(feature=>feature(component,componentDef)),componentDef.contentQueries&&componentDef.contentQueries(1,component,rootLView.length-1);const rootTNode=getPreviousOrParentTNode();if(tView.firstCreatePass&&(null!==componentDef.hostBindings||null!==componentDef.hostAttrs)){setSelectedIndex(rootTNode.index-19);const rootTView=rootLView[1];addHostBindingsToExpandoInstructions(rootTView,componentDef),growHostVarsSpace(rootTView,rootLView,componentDef.hostVars),invokeHostBindingsInCreationMode(componentDef,component)}return component}(componentView,this.componentDef,rootLView,rootContext,[LifecycleHooksFeature]),renderView(rootTView,rootLView,null)}finally{leaveView()}const componentRef=new ComponentRef$1(this.componentType,component,createElementRef(ElementRef,tElementNode,rootLView),rootLView,tElementNode);return rootSelectorOrNode&&!isIsolated||(componentRef.hostView._tViewNode.child=tElementNode),componentRef}}class ComponentRef$1 extends class{}{constructor(componentType,instance,location,_rootLView,_tNode){super(),this.location=location,this._rootLView=_rootLView,this._tNode=_tNode,this.destroyCbs=[],this.instance=instance,this.hostView=this.changeDetectorRef=new RootViewRef(_rootLView),this.hostView._tViewNode=function(tView,tParentNode,index,lView){let tNode=tView.node;return null==tNode&&(tView.node=tNode=createTNode(0,null,2,-1,null,null)),lView[6]=tNode}(_rootLView[1],0,0,_rootLView),this.componentType=componentType}get injector(){return new NodeInjector(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(fn=>fn()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(callback){this.destroyCbs&&this.destroyCbs.push(callback)}}const u=void 0;var localeEn=[\"en\",[[\"a\",\"p\"],[\"AM\",\"PM\"],u],[[\"AM\",\"PM\"],u,u],[[\"S\",\"M\",\"T\",\"W\",\"T\",\"F\",\"S\"],[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"]],u,[[\"J\",\"F\",\"M\",\"A\",\"M\",\"J\",\"J\",\"A\",\"S\",\"O\",\"N\",\"D\"],[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"]],u,[[\"B\",\"A\"],[\"BC\",\"AD\"],[\"Before Christ\",\"Anno Domini\"]],0,[6,0],[\"M/d/yy\",\"MMM d, y\",\"MMMM d, y\",\"EEEE, MMMM d, y\"],[\"h:mm a\",\"h:mm:ss a\",\"h:mm:ss a z\",\"h:mm:ss a zzzz\"],[\"{1}, {0}\",u,\"{1} 'at' {0}\",u],[\".\",\",\",\";\",\"%\",\"+\",\"-\",\"E\",\"\",\"\",\"\",\"NaN\",\":\"],[\"#,##0.###\",\"#,##0%\",\"#,##0.00\",\"#E0\"],\"USD\",\"$\",\"US Dollar\",{},function(n){let i=Math.floor(Math.abs(n)),v=n.toString().replace(/^[^.]*\\.?/,\"\").length;return 1===i&&0===v?1:5}];let LOCALE_DATA={};function getLocaleData(normalizedLocale){return normalizedLocale in LOCALE_DATA||(LOCALE_DATA[normalizedLocale]=_global.ng&&_global.ng.common&&_global.ng.common.locales&&_global.ng.common.locales[normalizedLocale]),LOCALE_DATA[normalizedLocale]}const LocaleDataIndex=function(){var LocaleDataIndex={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,PluralCase:19,ExtraData:20};return LocaleDataIndex[LocaleDataIndex.LocaleId]=\"LocaleId\",LocaleDataIndex[LocaleDataIndex.DayPeriodsFormat]=\"DayPeriodsFormat\",LocaleDataIndex[LocaleDataIndex.DayPeriodsStandalone]=\"DayPeriodsStandalone\",LocaleDataIndex[LocaleDataIndex.DaysFormat]=\"DaysFormat\",LocaleDataIndex[LocaleDataIndex.DaysStandalone]=\"DaysStandalone\",LocaleDataIndex[LocaleDataIndex.MonthsFormat]=\"MonthsFormat\",LocaleDataIndex[LocaleDataIndex.MonthsStandalone]=\"MonthsStandalone\",LocaleDataIndex[LocaleDataIndex.Eras]=\"Eras\",LocaleDataIndex[LocaleDataIndex.FirstDayOfWeek]=\"FirstDayOfWeek\",LocaleDataIndex[LocaleDataIndex.WeekendRange]=\"WeekendRange\",LocaleDataIndex[LocaleDataIndex.DateFormat]=\"DateFormat\",LocaleDataIndex[LocaleDataIndex.TimeFormat]=\"TimeFormat\",LocaleDataIndex[LocaleDataIndex.DateTimeFormat]=\"DateTimeFormat\",LocaleDataIndex[LocaleDataIndex.NumberSymbols]=\"NumberSymbols\",LocaleDataIndex[LocaleDataIndex.NumberFormats]=\"NumberFormats\",LocaleDataIndex[LocaleDataIndex.CurrencyCode]=\"CurrencyCode\",LocaleDataIndex[LocaleDataIndex.CurrencySymbol]=\"CurrencySymbol\",LocaleDataIndex[LocaleDataIndex.CurrencyName]=\"CurrencyName\",LocaleDataIndex[LocaleDataIndex.Currencies]=\"Currencies\",LocaleDataIndex[LocaleDataIndex.PluralCase]=\"PluralCase\",LocaleDataIndex[LocaleDataIndex.ExtraData]=\"ExtraData\",LocaleDataIndex}();let LOCALE_ID=\"en-US\";function setLocaleId(localeId){var actual,msg;msg=\"Expected localeId to be defined\",null==(actual=localeId)&&function(msg,actual,expected,comparison){throw new Error(`ASSERTION ERROR: ${msg}`+` [Expected=> null != ${actual} <=Actual]`)}(msg,actual),\"string\"==typeof localeId&&(LOCALE_ID=localeId.toLowerCase().replace(/_/g,\"-\"))}const modules=new Map;class NgModuleRef$1 extends NgModuleRef{constructor(ngModuleType,_parent){super(),this._parent=_parent,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ComponentFactoryResolver$1(this);const ngModuleDef=getNgModuleDef(ngModuleType),ngLocaleIdDef=ngModuleType[NG_LOC_ID_DEF]||null;ngLocaleIdDef&&setLocaleId(ngLocaleIdDef),this._bootstrapComponents=maybeUnwrapFn(ngModuleDef.bootstrap),this._r3Injector=createInjectorWithoutInjectorInstances(ngModuleType,_parent,[{provide:NgModuleRef,useValue:this},{provide:ComponentFactoryResolver,useValue:this.componentFactoryResolver}],stringify(ngModuleType)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(ngModuleType)}get(token,notFoundValue=Injector.THROW_IF_NOT_FOUND,injectFlags=InjectFlags.Default){return token===Injector||token===NgModuleRef||token===INJECTOR?this:this._r3Injector.get(token,notFoundValue,injectFlags)}destroy(){const injector=this._r3Injector;!injector.destroyed&&injector.destroy(),this.destroyCbs.forEach(fn=>fn()),this.destroyCbs=null}onDestroy(callback){this.destroyCbs.push(callback)}}class NgModuleFactory$1 extends NgModuleFactory{constructor(moduleType){super(),this.moduleType=moduleType,null!==getNgModuleDef(moduleType)&&function registerNgModuleType(ngModuleType){if(null!==ngModuleType.mod.id){const id=ngModuleType.mod.id;(function(id,type,incoming){if(type&&type!==incoming)throw new Error(`Duplicate module registered for ${id} - ${stringify(type)} vs ${stringify(type.name)}`)})(id,modules.get(id),ngModuleType),modules.set(id,ngModuleType)}let imports=ngModuleType.mod.imports;imports instanceof Function&&(imports=imports()),imports&&imports.forEach(i=>registerNgModuleType(i))}(moduleType)}create(parentInjector){return new NgModuleRef$1(this.moduleType,parentInjector)}}class core_EventEmitter extends Subject_Subject{constructor(isAsync=!1){super(),this.__isAsync=isAsync}emit(value){super.next(value)}subscribe(generatorOrNext,error,complete){let schedulerFn,errorFn=err=>null,completeFn=()=>null;generatorOrNext&&\"object\"==typeof generatorOrNext?(schedulerFn=this.__isAsync?value=>{setTimeout(()=>generatorOrNext.next(value))}:value=>{generatorOrNext.next(value)},generatorOrNext.error&&(errorFn=this.__isAsync?err=>{setTimeout(()=>generatorOrNext.error(err))}:err=>{generatorOrNext.error(err)}),generatorOrNext.complete&&(completeFn=this.__isAsync?()=>{setTimeout(()=>generatorOrNext.complete())}:()=>{generatorOrNext.complete()})):(schedulerFn=this.__isAsync?value=>{setTimeout(()=>generatorOrNext(value))}:value=>{generatorOrNext(value)},error&&(errorFn=this.__isAsync?err=>{setTimeout(()=>error(err))}:err=>{error(err)}),complete&&(completeFn=this.__isAsync?()=>{setTimeout(()=>complete())}:()=>{complete()}));const sink=super.subscribe(schedulerFn,errorFn,completeFn);return generatorOrNext instanceof Subscription_Subscription&&generatorOrNext.add(sink),sink}}const APP_INITIALIZER=new InjectionToken(\"Application Initializer\");let ApplicationInitStatus=(()=>{class ApplicationInitStatus{constructor(appInits){this.appInits=appInits,this.initialized=!1,this.done=!1,this.donePromise=new Promise((res,rej)=>{this.resolve=res,this.reject=rej})}runInitializers(){if(this.initialized)return;const asyncInitPromises=[],complete=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const initResult=this.appInits[i]();core_isPromise(initResult)&&asyncInitPromises.push(initResult)}Promise.all(asyncInitPromises).then(()=>{complete()}).catch(e=>{this.reject(e)}),0===asyncInitPromises.length&&complete(),this.initialized=!0}}return ApplicationInitStatus.fac=function(t){return new(t||ApplicationInitStatus)(inject(APP_INITIALIZER,8))},ApplicationInitStatus.prov=defineInjectable({token:ApplicationInitStatus,factory:ApplicationInitStatus.fac}),ApplicationInitStatus})();const APP_ID=new InjectionToken(\"AppId\"),APP_ID_RANDOM_PROVIDER={provide:APP_ID,useFactory:function(){return`${_randomChar()}${_randomChar()}${_randomChar()}`},deps:[]};function _randomChar(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const PLATFORM_INITIALIZER=new InjectionToken(\"Platform Initializer\"),PLATFORM_ID=new InjectionToken(\"Platform ID\"),APP_BOOTSTRAP_LISTENER=new InjectionToken(\"appBootstrapListener\");let Console=(()=>{class Console{log(message){console.log(message)}warn(message){console.warn(message)}}return Console.fac=function(t){return new(t||Console)},Console.prov=defineInjectable({token:Console,factory:Console.fac}),Console})();const LOCALE_ID$1=new InjectionToken(\"LocaleId\"),DEFAULT_CURRENCY_CODE=new InjectionToken(\"DefaultCurrencyCode\");class ModuleWithComponentFactories{constructor(ngModuleFactory,componentFactories){this.ngModuleFactory=ngModuleFactory,this.componentFactories=componentFactories}}const Compiler_compileModuleSync__POST_R3__=function(moduleType){return new NgModuleFactory$1(moduleType)},Compiler_compileModuleSync=Compiler_compileModuleSync__POST_R3__,Compiler_compileModuleAsync=function(moduleType){return Promise.resolve(Compiler_compileModuleSync__POST_R3__(moduleType))},Compiler_compileModuleAndAllComponentsSync__POST_R3__=function(moduleType){const ngModuleFactory=Compiler_compileModuleSync__POST_R3__(moduleType),componentFactories=maybeUnwrapFn(getNgModuleDef(moduleType).declarations).reduce((factories,declaration)=>{const componentDef=getComponentDef(declaration);return componentDef&&factories.push(new ComponentFactory$1(componentDef)),factories},[]);return new ModuleWithComponentFactories(ngModuleFactory,componentFactories)},Compiler_compileModuleAndAllComponentsSync=Compiler_compileModuleAndAllComponentsSync__POST_R3__,Compiler_compileModuleAndAllComponentsAsync=function(moduleType){return Promise.resolve(Compiler_compileModuleAndAllComponentsSync__POST_R3__(moduleType))};let Compiler=(()=>{class Compiler{constructor(){this.compileModuleSync=Compiler_compileModuleSync,this.compileModuleAsync=Compiler_compileModuleAsync,this.compileModuleAndAllComponentsSync=Compiler_compileModuleAndAllComponentsSync,this.compileModuleAndAllComponentsAsync=Compiler_compileModuleAndAllComponentsAsync}clearCache(){}clearCacheFor(type){}getModuleId(moduleType){}}return Compiler.fac=function(t){return new(t||Compiler)},Compiler.prov=defineInjectable({token:Compiler,factory:Compiler.fac}),Compiler})();const COMPILER_OPTIONS=new InjectionToken(\"compilerOptions\"),core_promise=(()=>Promise.resolve(0))();function scheduleMicroTask(fn){\"undefined\"==typeof Zone?core_promise.then(()=>{fn&&fn.apply(null,null)}):Zone.current.scheduleMicroTask(\"scheduleMicrotask\",fn)}class NgZone{constructor({enableLongStackTrace:enableLongStackTrace=!1,shouldCoalesceEventChangeDetection:shouldCoalesceEventChangeDetection=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new core_EventEmitter(!1),this.onMicrotaskEmpty=new core_EventEmitter(!1),this.onStable=new core_EventEmitter(!1),this.onError=new core_EventEmitter(!1),\"undefined\"==typeof Zone)throw new Error(\"In this configuration Angular requires Zone.js\");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),enableLongStackTrace&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=shouldCoalesceEventChangeDetection,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let nativeRequestAnimationFrame=_global.requestAnimationFrame,nativeCancelAnimationFrame=_global.cancelAnimationFrame;if(\"undefined\"!=typeof Zone&&nativeRequestAnimationFrame&&nativeCancelAnimationFrame){const unpatchedRequestAnimationFrame=nativeRequestAnimationFrame[Zone.__symbol__(\"OriginalDelegate\")];unpatchedRequestAnimationFrame&&(nativeRequestAnimationFrame=unpatchedRequestAnimationFrame);const unpatchedCancelAnimationFrame=nativeCancelAnimationFrame[Zone.__symbol__(\"OriginalDelegate\")];unpatchedCancelAnimationFrame&&(nativeCancelAnimationFrame=unpatchedCancelAnimationFrame)}return{nativeRequestAnimationFrame:nativeRequestAnimationFrame,nativeCancelAnimationFrame:nativeCancelAnimationFrame}}().nativeRequestAnimationFrame,function(zone){const maybeDelayChangeDetection=!!zone.shouldCoalesceEventChangeDetection&&zone.nativeRequestAnimationFrame&&(()=>{!function(zone){-1===zone.lastRequestAnimationFrameId&&(zone.lastRequestAnimationFrameId=zone.nativeRequestAnimationFrame.call(_global,()=>{zone.lastRequestAnimationFrameId=-1,updateMicroTaskStatus(zone),checkStable(zone)}),updateMicroTaskStatus(zone))}(zone)});zone._inner=zone._inner.fork({name:\"angular\",properties:{isAngularZone:!0,maybeDelayChangeDetection:maybeDelayChangeDetection},onInvokeTask:(delegate,current,target,task,applyThis,applyArgs)=>{try{return onEnter(zone),delegate.invokeTask(target,task,applyThis,applyArgs)}finally{maybeDelayChangeDetection&&\"eventTask\"===task.type&&maybeDelayChangeDetection(),onLeave(zone)}},onInvoke:(delegate,current,target,callback,applyThis,applyArgs,source)=>{try{return onEnter(zone),delegate.invoke(target,callback,applyThis,applyArgs,source)}finally{onLeave(zone)}},onHasTask:(delegate,current,target,hasTaskState)=>{delegate.hasTask(target,hasTaskState),current===target&&(\"microTask\"==hasTaskState.change?(zone._hasPendingMicrotasks=hasTaskState.microTask,updateMicroTaskStatus(zone),checkStable(zone)):\"macroTask\"==hasTaskState.change&&(zone.hasPendingMacrotasks=hasTaskState.macroTask))},onHandleError:(delegate,current,target,error)=>(delegate.handleError(target,error),zone.runOutsideAngular(()=>zone.onError.emit(error)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get(\"isAngularZone\")}static assertInAngularZone(){if(!NgZone.isInAngularZone())throw new Error(\"Expected to be in Angular Zone, but it is not!\")}static assertNotInAngularZone(){if(NgZone.isInAngularZone())throw new Error(\"Expected to not be in Angular Zone, but it is!\")}run(fn,applyThis,applyArgs){return this._inner.run(fn,applyThis,applyArgs)}runTask(fn,applyThis,applyArgs,name){const zone=this._inner,task=zone.scheduleEventTask(\"NgZoneEvent: \"+name,fn,EMPTY_PAYLOAD,noop$1,noop$1);try{return zone.runTask(task,applyThis,applyArgs)}finally{zone.cancelTask(task)}}runGuarded(fn,applyThis,applyArgs){return this._inner.runGuarded(fn,applyThis,applyArgs)}runOutsideAngular(fn){return this._outer.run(fn)}}function noop$1(){}const EMPTY_PAYLOAD={};function checkStable(zone){if(0==zone._nesting&&!zone.hasPendingMicrotasks&&!zone.isStable)try{zone._nesting++,zone.onMicrotaskEmpty.emit(null)}finally{if(zone._nesting--,!zone.hasPendingMicrotasks)try{zone.runOutsideAngular(()=>zone.onStable.emit(null))}finally{zone.isStable=!0}}}function updateMicroTaskStatus(zone){zone.hasPendingMicrotasks=!!(zone._hasPendingMicrotasks||zone.shouldCoalesceEventChangeDetection&&-1!==zone.lastRequestAnimationFrameId)}function onEnter(zone){zone._nesting++,zone.isStable&&(zone.isStable=!1,zone.onUnstable.emit(null))}function onLeave(zone){zone._nesting--,checkStable(zone)}class NoopNgZone{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new core_EventEmitter,this.onMicrotaskEmpty=new core_EventEmitter,this.onStable=new core_EventEmitter,this.onError=new core_EventEmitter}run(fn,applyThis,applyArgs){return fn.apply(applyThis,applyArgs)}runGuarded(fn,applyThis,applyArgs){return fn.apply(applyThis,applyArgs)}runOutsideAngular(fn){return fn()}runTask(fn,applyThis,applyArgs,name){return fn.apply(applyThis,applyArgs)}}let Testability=(()=>{class Testability{constructor(_ngZone){this._ngZone=_ngZone,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),_ngZone.run(()=>{this.taskTrackingZone=\"undefined\"==typeof Zone?null:Zone.current.get(\"TaskTrackingZone\")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{NgZone.assertNotInAngularZone(),scheduleMicroTask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error(\"pending async requests below zero\");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())scheduleMicroTask(()=>{for(;0!==this._callbacks.length;){let cb=this._callbacks.pop();clearTimeout(cb.timeoutId),cb.doneCb(this._didWork)}this._didWork=!1});else{let pending=this.getPendingTasks();this._callbacks=this._callbacks.filter(cb=>!cb.updateCb||!cb.updateCb(pending)||(clearTimeout(cb.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(cb,timeout,updateCb){let timeoutId=-1;timeout&&timeout>0&&(timeoutId=setTimeout(()=>{this._callbacks=this._callbacks.filter(cb=>cb.timeoutId!==timeoutId),cb(this._didWork,this.getPendingTasks())},timeout)),this._callbacks.push({doneCb:cb,timeoutId:timeoutId,updateCb:updateCb})}whenStable(doneCb,timeout,updateCb){if(updateCb&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is \"zone.js/dist/task-tracking.js\" loaded?');this.addCallback(doneCb,timeout,updateCb),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(using,provider,exactMatch){return[]}}return Testability.fac=function(t){return new(t||Testability)(inject(NgZone))},Testability.prov=defineInjectable({token:Testability,factory:Testability.fac}),Testability})(),TestabilityRegistry=(()=>{class TestabilityRegistry{constructor(){this._applications=new Map,_testabilityGetter.addToWindow(this)}registerApplication(token,testability){this._applications.set(token,testability)}unregisterApplication(token){this._applications.delete(token)}unregisterAllApplications(){this._applications.clear()}getTestability(elem){return this._applications.get(elem)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(elem,findInAncestors=!0){return _testabilityGetter.findTestabilityInTree(this,elem,findInAncestors)}}return TestabilityRegistry.fac=function(t){return new(t||TestabilityRegistry)},TestabilityRegistry.prov=defineInjectable({token:TestabilityRegistry,factory:TestabilityRegistry.fac}),TestabilityRegistry})();class _NoopGetTestability{addToWindow(registry){}findTestabilityInTree(registry,elem,findInAncestors){return null}}let _platform,_testabilityGetter=new _NoopGetTestability,compileNgModuleFactory=function(injector,options,moduleType){const moduleFactory=new NgModuleFactory$1(moduleType);if(0===componentResourceResolutionQueue.size)return Promise.resolve(moduleFactory);const compilerProviders=function(parts){const result=[];return parts.forEach(part=>part&&result.push(...part)),result}(injector.get(COMPILER_OPTIONS,[]).concat(options).map(o=>o.providers));if(0===compilerProviders.length)return Promise.resolve(moduleFactory);const compiler=function(){const globalNg=_global.ng;if(!globalNg||!globalNg.compilerFacade)throw new Error(\"Angular JIT compilation failed: '@angular/compiler' not loaded!\\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\\n  - Alternatively provide the compiler with 'import \\\"@angular/compiler\\\";' before bootstrapping.\");return globalNg.compilerFacade}(),resourceLoader=Injector.create({providers:compilerProviders}).get(compiler.ResourceLoader);return function(resourceResolver){const componentResolved=[],urlMap=new Map;function cachedResourceResolve(url){let promise=urlMap.get(url);if(!promise){const resp=(url=>Promise.resolve(resourceLoader.get(url)))(url);urlMap.set(url,promise=resp.then(unwrapResponse))}return promise}return componentResourceResolutionQueue.forEach((component,type)=>{const promises=[];component.templateUrl&&promises.push(cachedResourceResolve(component.templateUrl).then(template=>{component.template=template}));const styleUrls=component.styleUrls,styles=component.styles||(component.styles=[]),styleOffset=component.styles.length;styleUrls&&styleUrls.forEach((styleUrl,index)=>{styles.push(\"\"),promises.push(cachedResourceResolve(styleUrl).then(style=>{styles[styleOffset+index]=style,styleUrls.splice(styleUrls.indexOf(styleUrl),1),0==styleUrls.length&&(component.styleUrls=void 0)}))});const fullyResolved=Promise.all(promises).then(()=>function(type){componentDefPendingResolution.delete(type)}(type));componentResolved.push(fullyResolved)}),componentResourceResolutionQueue=new Map,Promise.all(componentResolved).then(()=>{})}().then(()=>moduleFactory)};const ALLOW_MULTIPLE_PLATFORMS=new InjectionToken(\"AllowMultipleToken\");class NgProbeToken{constructor(name,token){this.name=name,this.token=token}}function createPlatformFactory(parentPlatformFactory,name,providers=[]){const desc=`Platform: ${name}`,marker=new InjectionToken(desc);return(extraProviders=[])=>{let platform=getPlatform();if(!platform||platform.injector.get(ALLOW_MULTIPLE_PLATFORMS,!1))if(parentPlatformFactory)parentPlatformFactory(providers.concat(extraProviders).concat({provide:marker,useValue:!0}));else{const injectedProviders=providers.concat(extraProviders).concat({provide:marker,useValue:!0},{provide:INJECTOR_SCOPE,useValue:\"platform\"});!function(injector){if(_platform&&!_platform.destroyed&&!_platform.injector.get(ALLOW_MULTIPLE_PLATFORMS,!1))throw new Error(\"There can be only one platform. Destroy the previous one to create a new one.\");_platform=injector.get(PlatformRef);const inits=injector.get(PLATFORM_INITIALIZER,null);inits&&inits.forEach(init=>init())}(Injector.create({providers:injectedProviders,name:desc}))}return function(requiredToken){const platform=getPlatform();if(!platform)throw new Error(\"No platform exists!\");if(!platform.injector.get(requiredToken,null))throw new Error(\"A platform with a different configuration has been created. Please destroy it first.\");return platform}(marker)}}function getPlatform(){return _platform&&!_platform.destroyed?_platform:null}let PlatformRef=(()=>{class PlatformRef{constructor(_injector){this._injector=_injector,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(moduleFactory,options){const ngZone=function(ngZoneOption,ngZoneEventCoalescing){let ngZone;return ngZone=\"noop\"===ngZoneOption?new NoopNgZone:(\"zone.js\"===ngZoneOption?void 0:ngZoneOption)||new NgZone({enableLongStackTrace:isDevMode(),shouldCoalesceEventChangeDetection:ngZoneEventCoalescing}),ngZone}(options?options.ngZone:void 0,options&&options.ngZoneEventCoalescing||!1),providers=[{provide:NgZone,useValue:ngZone}];return ngZone.run(()=>{const ngZoneInjector=Injector.create({providers:providers,parent:this.injector,name:moduleFactory.moduleType.name}),moduleRef=moduleFactory.create(ngZoneInjector),exceptionHandler=moduleRef.injector.get(ErrorHandler,null);if(!exceptionHandler)throw new Error(\"No ErrorHandler. Is platform module (BrowserModule) included?\");return moduleRef.onDestroy(()=>remove(this._modules,moduleRef)),ngZone.runOutsideAngular(()=>ngZone.onError.subscribe({next:error=>{exceptionHandler.handleError(error)}})),function(errorHandler,ngZone,callback){try{const result=callback();return core_isPromise(result)?result.catch(e=>{throw ngZone.runOutsideAngular(()=>errorHandler.handleError(e)),e}):result}catch(e){throw ngZone.runOutsideAngular(()=>errorHandler.handleError(e)),e}}(exceptionHandler,ngZone,()=>{const initStatus=moduleRef.injector.get(ApplicationInitStatus);return initStatus.runInitializers(),initStatus.donePromise.then(()=>(setLocaleId(moduleRef.injector.get(LOCALE_ID$1,\"en-US\")||\"en-US\"),this._moduleDoBootstrap(moduleRef),moduleRef))})})}bootstrapModule(moduleType,compilerOptions=[]){const options=optionsReducer({},compilerOptions);return compileNgModuleFactory(this.injector,options,moduleType).then(moduleFactory=>this.bootstrapModuleFactory(moduleFactory,options))}_moduleDoBootstrap(moduleRef){const appRef=moduleRef.injector.get(core_ApplicationRef);if(moduleRef._bootstrapComponents.length>0)moduleRef._bootstrapComponents.forEach(f=>appRef.bootstrap(f));else{if(!moduleRef.instance.ngDoBootstrap)throw new Error(`The module ${stringify(moduleRef.instance.constructor)} was bootstrapped, but it does not declare \"@NgModule.bootstrap\" components nor a \"ngDoBootstrap\" method. `+\"Please define one of these.\");moduleRef.instance.ngDoBootstrap(appRef)}this._modules.push(moduleRef)}onDestroy(callback){this._destroyListeners.push(callback)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error(\"The platform has already been destroyed!\");this._modules.slice().forEach(module=>module.destroy()),this._destroyListeners.forEach(listener=>listener()),this._destroyed=!0}get destroyed(){return this._destroyed}}return PlatformRef.fac=function(t){return new(t||PlatformRef)(inject(Injector))},PlatformRef.prov=defineInjectable({token:PlatformRef,factory:PlatformRef.fac}),PlatformRef})();function optionsReducer(dst,objs){return Array.isArray(objs)?objs.reduce(optionsReducer,dst):Object.assign(Object.assign({},dst),objs)}let core_ApplicationRef=(()=>{class ApplicationRef{constructor(_zone,_console,_injector,_exceptionHandler,_componentFactoryResolver,_initStatus){this._zone=_zone,this._console=_console,this._injector=_injector,this._exceptionHandler=_exceptionHandler,this._componentFactoryResolver=_componentFactoryResolver,this._initStatus=_initStatus,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=isDevMode(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const isCurrentlyStable=new Observable_Observable(observer=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{observer.next(this._stable),observer.complete()})}),isStable=new Observable_Observable(observer=>{let stableSub;this._zone.runOutsideAngular(()=>{stableSub=this._zone.onStable.subscribe(()=>{NgZone.assertNotInAngularZone(),scheduleMicroTask(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,observer.next(!0))})})});const unstableSub=this._zone.onUnstable.subscribe(()=>{NgZone.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{observer.next(!1)}))});return(()=>{stableSub.unsubscribe(),unstableSub.unsubscribe()})});this.isStable=function(...observables){let concurrent=Number.POSITIVE_INFINITY,scheduler=null,last=observables[observables.length-1];return isScheduler(last)?(scheduler=observables.pop(),observables.length>1&&\"number\"==typeof observables[observables.length-1]&&(concurrent=observables.pop())):\"number\"==typeof last&&(concurrent=observables.pop()),null===scheduler&&1===observables.length&&observables[0]instanceof Observable_Observable?observables[0]:mergeAll(concurrent)(fromArray(observables,scheduler))}(isCurrentlyStable,isStable.pipe(source=>{return refCount()((subjectOrSubjectFactory=shareSubjectFactory,function(source){let subjectFactory;subjectFactory=\"function\"==typeof subjectOrSubjectFactory?subjectOrSubjectFactory:function(){return subjectOrSubjectFactory};const connectable=Object.create(source,connectableObservableDescriptor);return connectable.source=source,connectable.subjectFactory=subjectFactory,connectable})(source));var subjectOrSubjectFactory}))}bootstrap(componentOrFactory,rootSelectorOrNode){if(!this._initStatus.done)throw new Error(\"Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.\");let componentFactory;componentFactory=componentOrFactory instanceof ComponentFactory?componentOrFactory:this._componentFactoryResolver.resolveComponentFactory(componentOrFactory),this.componentTypes.push(componentFactory.componentType);const ngModule=componentFactory.isBoundToModule?void 0:this._injector.get(NgModuleRef),compRef=componentFactory.create(Injector.NULL,[],rootSelectorOrNode||componentFactory.selector,ngModule);compRef.onDestroy(()=>{this._unloadComponent(compRef)});const testability=compRef.injector.get(Testability,null);return testability&&compRef.injector.get(TestabilityRegistry).registerApplication(compRef.location.nativeElement,testability),this._loadComponent(compRef),isDevMode()&&this._console.log(\"Angular is running in the development mode. Call enableProdMode() to enable the production mode.\"),compRef}tick(){if(this._runningTick)throw new Error(\"ApplicationRef.tick is called recursively\");try{this._runningTick=!0;for(let view of this._views)view.detectChanges();if(this._enforceNoNewChanges)for(let view of this._views)view.checkNoChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(viewRef){const view=viewRef;this._views.push(view),view.attachToAppRef(this)}detachView(viewRef){const view=viewRef;remove(this._views,view),view.detachFromAppRef()}_loadComponent(componentRef){this.attachView(componentRef.hostView),this.tick(),this.components.push(componentRef),this._injector.get(APP_BOOTSTRAP_LISTENER,[]).concat(this._bootstrapListeners).forEach(listener=>listener(componentRef))}_unloadComponent(componentRef){this.detachView(componentRef.hostView),remove(this.components,componentRef)}ngOnDestroy(){this._views.slice().forEach(view=>view.destroy())}get viewCount(){return this._views.length}}return ApplicationRef.fac=function(t){return new(t||ApplicationRef)(inject(NgZone),inject(Console),inject(Injector),inject(ErrorHandler),inject(ComponentFactoryResolver),inject(ApplicationInitStatus))},ApplicationRef.prov=defineInjectable({token:ApplicationRef,factory:ApplicationRef.fac}),ApplicationRef})();function remove(list,el){const index=list.indexOf(el);index>-1&&list.splice(index,1)}class NgModuleFactoryLoader{}class SystemJsNgModuleLoaderConfig{}const DEFAULT_CONFIG={factoryPathPrefix:\"\",factoryPathSuffix:\".ngfactory\"};let SystemJsNgModuleLoader=(()=>{class SystemJsNgModuleLoader{constructor(_compiler,config){this._compiler=_compiler,this._config=config||DEFAULT_CONFIG}load(path){return this.loadAndCompile(path)}loadAndCompile(path){let[module,exportName]=path.split(\"#\");return void 0===exportName&&(exportName=\"default\"),__webpack_require__(\"zn8P\")(module).then(module=>module[exportName]).then(type=>checkNotEmpty(type,module,exportName)).then(type=>this._compiler.compileModuleAsync(type))}loadFactory(path){let[module,exportName]=path.split(\"#\"),factoryClassSuffix=\"NgFactory\";return void 0===exportName&&(exportName=\"default\",factoryClassSuffix=\"\"),__webpack_require__(\"zn8P\")(this._config.factoryPathPrefix+module+this._config.factoryPathSuffix).then(module=>module[exportName+factoryClassSuffix]).then(factory=>checkNotEmpty(factory,module,exportName))}}return SystemJsNgModuleLoader.fac=function(t){return new(t||SystemJsNgModuleLoader)(inject(Compiler),inject(SystemJsNgModuleLoaderConfig,8))},SystemJsNgModuleLoader.prov=defineInjectable({token:SystemJsNgModuleLoader,factory:SystemJsNgModuleLoader.fac}),SystemJsNgModuleLoader})();function checkNotEmpty(value,modulePath,exportName){if(!value)throw new Error(`Cannot find '${exportName}' in '${modulePath}'`);return value}const platformCore=createPlatformFactory(null,\"core\",[{provide:PLATFORM_ID,useValue:\"unknown\"},{provide:PlatformRef,deps:[Injector]},{provide:TestabilityRegistry,deps:[]},{provide:Console,deps:[]}]),APPLICATION_MODULE_PROVIDERS=[{provide:core_ApplicationRef,useClass:core_ApplicationRef,deps:[NgZone,Console,Injector,ErrorHandler,ComponentFactoryResolver,ApplicationInitStatus]},{provide:SCHEDULER,deps:[NgZone],useFactory:function(ngZone){let queue=[];return ngZone.onStable.subscribe(()=>{for(;queue.length;)queue.pop()()}),function(fn){queue.push(fn)}}},{provide:ApplicationInitStatus,useClass:ApplicationInitStatus,deps:[[new Optional,APP_INITIALIZER]]},{provide:Compiler,useClass:Compiler,deps:[]},APP_ID_RANDOM_PROVIDER,{provide:IterableDiffers,useFactory:function(){return defaultIterableDiffers},deps:[]},{provide:KeyValueDiffers,useFactory:function(){return defaultKeyValueDiffers},deps:[]},{provide:LOCALE_ID$1,useFactory:function(locale){return setLocaleId(locale=locale||\"undefined\"!=typeof $localize&&$localize.locale||\"en-US\"),locale},deps:[[new Inject(LOCALE_ID$1),new Optional,new SkipSelf]]},{provide:DEFAULT_CURRENCY_CODE,useValue:\"USD\"}];let ApplicationModule=(()=>{class ApplicationModule{constructor(appRef){}}return ApplicationModule.mod=defineNgModule({type:ApplicationModule}),ApplicationModule.inj=defineInjector({factory:function(t){return new(t||ApplicationModule)(inject(core_ApplicationRef))},providers:APPLICATION_MODULE_PROVIDERS}),ApplicationModule})(),_DOM=null;function getDOM(){return _DOM}const common_DOCUMENT=new InjectionToken(\"DocumentToken\");let common_PlatformLocation=(()=>{class PlatformLocation{}return PlatformLocation.fac=function(t){return new(t||PlatformLocation)},PlatformLocation.prov=defineInjectable({factory:useBrowserPlatformLocation,token:PlatformLocation,providedIn:\"platform\"}),PlatformLocation})();function useBrowserPlatformLocation(){return inject(common_BrowserPlatformLocation)}const LOCATION_INITIALIZED=new InjectionToken(\"Location Initialized\");let common_BrowserPlatformLocation=(()=>{class BrowserPlatformLocation extends common_PlatformLocation{constructor(_doc){super(),this._doc=_doc,this._init()}_init(){this.location=getDOM().getLocation(),this._history=getDOM().getHistory()}getBaseHrefFromDOM(){return getDOM().getBaseHref(this._doc)}onPopState(fn){getDOM().getGlobalEventTarget(this._doc,\"window\").addEventListener(\"popstate\",fn,!1)}onHashChange(fn){getDOM().getGlobalEventTarget(this._doc,\"window\").addEventListener(\"hashchange\",fn,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(newPath){this.location.pathname=newPath}pushState(state,title,url){supportsState()?this._history.pushState(state,title,url):this.location.hash=url}replaceState(state,title,url){supportsState()?this._history.replaceState(state,title,url):this.location.hash=url}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return BrowserPlatformLocation.fac=function(t){return new(t||BrowserPlatformLocation)(inject(common_DOCUMENT))},BrowserPlatformLocation.prov=defineInjectable({factory:createBrowserPlatformLocation,token:BrowserPlatformLocation,providedIn:\"platform\"}),BrowserPlatformLocation})();function supportsState(){return!!window.history.pushState}function createBrowserPlatformLocation(){return new common_BrowserPlatformLocation(inject(common_DOCUMENT))}function joinWithSlash(start,end){if(0==start.length)return end;if(0==end.length)return start;let slashes=0;return start.endsWith(\"/\")&&slashes++,end.startsWith(\"/\")&&slashes++,2==slashes?start+end.substring(1):1==slashes?start+end:start+\"/\"+end}function stripTrailingSlash(url){const match=url.match(/#|\\?|$/),pathEndIdx=match&&match.index||url.length;return url.slice(0,pathEndIdx-(\"/\"===url[pathEndIdx-1]?1:0))+url.slice(pathEndIdx)}function normalizeQueryParams(params){return params&&\"?\"!==params[0]?\"?\"+params:params}let common_LocationStrategy=(()=>{class LocationStrategy{}return LocationStrategy.fac=function(t){return new(t||LocationStrategy)},LocationStrategy.prov=defineInjectable({factory:provideLocationStrategy,token:LocationStrategy,providedIn:\"root\"}),LocationStrategy})();function provideLocationStrategy(platformLocation){const location=inject(common_DOCUMENT).location;return new common_PathLocationStrategy(inject(common_PlatformLocation),location&&location.origin||\"\")}const APP_BASE_HREF=new InjectionToken(\"appBaseHref\");let common_PathLocationStrategy=(()=>{class PathLocationStrategy extends common_LocationStrategy{constructor(_platformLocation,href){if(super(),this._platformLocation=_platformLocation,null==href&&(href=this._platformLocation.getBaseHrefFromDOM()),null==href)throw new Error(\"No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.\");this._baseHref=href}onPopState(fn){this._platformLocation.onPopState(fn),this._platformLocation.onHashChange(fn)}getBaseHref(){return this._baseHref}prepareExternalUrl(internal){return joinWithSlash(this._baseHref,internal)}path(includeHash=!1){const pathname=this._platformLocation.pathname+normalizeQueryParams(this._platformLocation.search),hash=this._platformLocation.hash;return hash&&includeHash?`${pathname}${hash}`:pathname}pushState(state,title,url,queryParams){const externalUrl=this.prepareExternalUrl(url+normalizeQueryParams(queryParams));this._platformLocation.pushState(state,title,externalUrl)}replaceState(state,title,url,queryParams){const externalUrl=this.prepareExternalUrl(url+normalizeQueryParams(queryParams));this._platformLocation.replaceState(state,title,externalUrl)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return PathLocationStrategy.fac=function(t){return new(t||PathLocationStrategy)(inject(common_PlatformLocation),inject(APP_BASE_HREF,8))},PathLocationStrategy.prov=defineInjectable({token:PathLocationStrategy,factory:PathLocationStrategy.fac}),PathLocationStrategy})(),common_HashLocationStrategy=(()=>{class HashLocationStrategy extends common_LocationStrategy{constructor(_platformLocation,_baseHref){super(),this._platformLocation=_platformLocation,this._baseHref=\"\",null!=_baseHref&&(this._baseHref=_baseHref)}onPopState(fn){this._platformLocation.onPopState(fn),this._platformLocation.onHashChange(fn)}getBaseHref(){return this._baseHref}path(includeHash=!1){let path=this._platformLocation.hash;return null==path&&(path=\"#\"),path.length>0?path.substring(1):path}prepareExternalUrl(internal){const url=joinWithSlash(this._baseHref,internal);return url.length>0?\"#\"+url:url}pushState(state,title,path,queryParams){let url=this.prepareExternalUrl(path+normalizeQueryParams(queryParams));0==url.length&&(url=this._platformLocation.pathname),this._platformLocation.pushState(state,title,url)}replaceState(state,title,path,queryParams){let url=this.prepareExternalUrl(path+normalizeQueryParams(queryParams));0==url.length&&(url=this._platformLocation.pathname),this._platformLocation.replaceState(state,title,url)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return HashLocationStrategy.fac=function(t){return new(t||HashLocationStrategy)(inject(common_PlatformLocation),inject(APP_BASE_HREF,8))},HashLocationStrategy.prov=defineInjectable({token:HashLocationStrategy,factory:HashLocationStrategy.fac}),HashLocationStrategy})(),common_Location=(()=>{class Location{constructor(platformStrategy,platformLocation){this._subject=new core_EventEmitter,this._urlChangeListeners=[],this._platformStrategy=platformStrategy;const browserBaseHref=this._platformStrategy.getBaseHref();this._platformLocation=platformLocation,this._baseHref=stripTrailingSlash(_stripIndexHtml(browserBaseHref)),this._platformStrategy.onPopState(ev=>{this._subject.emit({url:this.path(!0),pop:!0,state:ev.state,type:ev.type})})}path(includeHash=!1){return this.normalize(this._platformStrategy.path(includeHash))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(path,query=\"\"){return this.path()==this.normalize(path+normalizeQueryParams(query))}normalize(url){return Location.stripTrailingSlash(function(baseHref,url){return baseHref&&url.startsWith(baseHref)?url.substring(baseHref.length):url}(this._baseHref,_stripIndexHtml(url)))}prepareExternalUrl(url){return url&&\"/\"!==url[0]&&(url=\"/\"+url),this._platformStrategy.prepareExternalUrl(url)}go(path,query=\"\",state=null){this._platformStrategy.pushState(state,\"\",path,query),this._notifyUrlChangeListeners(this.prepareExternalUrl(path+normalizeQueryParams(query)),state)}replaceState(path,query=\"\",state=null){this._platformStrategy.replaceState(state,\"\",path,query),this._notifyUrlChangeListeners(this.prepareExternalUrl(path+normalizeQueryParams(query)),state)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(fn){this._urlChangeListeners.push(fn),this.subscribe(v=>{this._notifyUrlChangeListeners(v.url,v.state)})}_notifyUrlChangeListeners(url=\"\",state){this._urlChangeListeners.forEach(fn=>fn(url,state))}subscribe(onNext,onThrow,onReturn){return this._subject.subscribe({next:onNext,error:onThrow,complete:onReturn})}}return Location.fac=function(t){return new(t||Location)(inject(common_LocationStrategy),inject(common_PlatformLocation))},Location.normalizeQueryParams=normalizeQueryParams,Location.joinWithSlash=joinWithSlash,Location.stripTrailingSlash=stripTrailingSlash,Location.prov=defineInjectable({factory:createLocation,token:Location,providedIn:\"root\"}),Location})();function createLocation(){return new common_Location(inject(common_LocationStrategy),inject(common_PlatformLocation))}function _stripIndexHtml(url){return url.replace(/\\/index.html$/,\"\")}const Plural=function(){var Plural={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return Plural[Plural.Zero]=\"Zero\",Plural[Plural.One]=\"One\",Plural[Plural.Two]=\"Two\",Plural[Plural.Few]=\"Few\",Plural[Plural.Many]=\"Many\",Plural[Plural.Other]=\"Other\",Plural}();class NgLocalization{}let common_NgLocaleLocalization=(()=>{class NgLocaleLocalization extends NgLocalization{constructor(locale){super(),this.locale=locale}getPluralCategory(value,locale){switch(function(locale){return function(locale){const normalizedLocale=function(locale){return locale.toLowerCase().replace(/_/g,\"-\")}(locale);let match=getLocaleData(normalizedLocale);if(match)return match;const parentLocale=normalizedLocale.split(\"-\")[0];if(match=getLocaleData(parentLocale),match)return match;if(\"en\"===parentLocale)return localeEn;throw new Error(`Missing locale data for the locale \"${locale}\".`)}(locale)[LocaleDataIndex.PluralCase]}(locale||this.locale)(value)){case Plural.Zero:return\"zero\";case Plural.One:return\"one\";case Plural.Two:return\"two\";case Plural.Few:return\"few\";case Plural.Many:return\"many\";default:return\"other\"}}}return NgLocaleLocalization.fac=function(t){return new(t||NgLocaleLocalization)(inject(LOCALE_ID$1))},NgLocaleLocalization.prov=defineInjectable({token:NgLocaleLocalization,factory:NgLocaleLocalization.fac}),NgLocaleLocalization})(),common_CommonModule=(()=>{class CommonModule{}return CommonModule.mod=defineNgModule({type:CommonModule}),CommonModule.inj=defineInjector({factory:function(t){return new(t||CommonModule)},providers:[{provide:NgLocalization,useClass:common_NgLocaleLocalization}]}),CommonModule})(),common_ViewportScroller=(()=>{class ViewportScroller{}return ViewportScroller.prov=defineInjectable({token:ViewportScroller,providedIn:\"root\",factory:()=>new BrowserViewportScroller(inject(common_DOCUMENT),window,inject(ErrorHandler))}),ViewportScroller})();class BrowserViewportScroller{constructor(document,window,errorHandler){this.document=document,this.window=window,this.errorHandler=errorHandler,this.offset=()=>[0,0]}setOffset(offset){this.offset=Array.isArray(offset)?()=>offset:offset}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(position){this.supportScrollRestoration()&&this.window.scrollTo(position[0],position[1])}scrollToAnchor(anchor){if(this.supportScrollRestoration()){anchor=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(anchor):anchor.replace(/(\\\"|\\'\\ |:|\\.|\\[|\\]|,|=)/g,\"\\\\$1\");try{const elSelectedById=this.document.querySelector(`#${anchor}`);if(elSelectedById)return void this.scrollToElement(elSelectedById);const elSelectedByName=this.document.querySelector(`[name='${anchor}']`);if(elSelectedByName)return void this.scrollToElement(elSelectedByName)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(scrollRestoration){if(this.supportScrollRestoration()){const history=this.window.history;history&&history.scrollRestoration&&(history.scrollRestoration=scrollRestoration)}}scrollToElement(el){const rect=el.getBoundingClientRect(),left=rect.left+this.window.pageXOffset,top=rect.top+this.window.pageYOffset,offset=this.offset();this.window.scrollTo(left-offset[0],top-offset[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(_a){return!1}}}class platform_browser_BrowserDomAdapter extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var adapter;adapter=new platform_browser_BrowserDomAdapter,_DOM||(_DOM=adapter)}getProperty(el,name){return el[name]}log(error){window.console&&window.console.log&&window.console.log(error)}logGroup(error){window.console&&window.console.group&&window.console.group(error)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(el,evt,listener){return el.addEventListener(evt,listener,!1),()=>{el.removeEventListener(evt,listener,!1)}}dispatchEvent(el,evt){el.dispatchEvent(evt)}remove(node){return node.parentNode&&node.parentNode.removeChild(node),node}getValue(el){return el.value}createElement(tagName,doc){return(doc=doc||this.getDefaultDocument()).createElement(tagName)}createHtmlDocument(){return document.implementation.createHTMLDocument(\"fakeTitle\")}getDefaultDocument(){return document}isElementNode(node){return node.nodeType===Node.ELEMENT_NODE}isShadowRoot(node){return node instanceof DocumentFragment}getGlobalEventTarget(doc,target){return\"window\"===target?window:\"document\"===target?doc:\"body\"===target?doc.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(doc){const href=baseElement||(baseElement=document.querySelector(\"base\"),baseElement)?baseElement.getAttribute(\"href\"):null;return null==href?null:(url=href,urlParsingNode||(urlParsingNode=document.createElement(\"a\")),urlParsingNode.setAttribute(\"href\",url),\"/\"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:\"/\"+urlParsingNode.pathname);var url}resetBaseElement(){baseElement=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(name){return function(cookieStr,name){name=encodeURIComponent(name);for(const cookie of cookieStr.split(\";\")){const eqIndex=cookie.indexOf(\"=\"),[cookieName,cookieValue]=-1==eqIndex?[cookie,\"\"]:[cookie.slice(0,eqIndex),cookie.slice(eqIndex+1)];if(cookieName.trim()===name)return decodeURIComponent(cookieValue)}return null}(document.cookie,name)}}let urlParsingNode,baseElement=null;const TRANSITION_ID=new InjectionToken(\"TRANSITION_ID\"),SERVER_TRANSITION_PROVIDERS=[{provide:APP_INITIALIZER,useFactory:function(transitionId,document,injector){return()=>{injector.get(ApplicationInitStatus).donePromise.then(()=>{const dom=getDOM();Array.prototype.slice.apply(document.querySelectorAll(\"style[ng-transition]\")).filter(el=>el.getAttribute(\"ng-transition\")===transitionId).forEach(el=>dom.remove(el))})}},deps:[TRANSITION_ID,common_DOCUMENT,Injector],multi:!0}];class platform_browser_BrowserGetTestability{static init(){var getter;getter=new platform_browser_BrowserGetTestability,_testabilityGetter=getter}addToWindow(registry){_global.getAngularTestability=(elem,findInAncestors=!0)=>{const testability=registry.findTestabilityInTree(elem,findInAncestors);if(null==testability)throw new Error(\"Could not find testability for element.\");return testability},_global.getAllAngularTestabilities=()=>registry.getAllTestabilities(),_global.getAllAngularRootElements=()=>registry.getAllRootElements(),_global.frameworkStabilizers||(_global.frameworkStabilizers=[]),_global.frameworkStabilizers.push(callback=>{const testabilities=_global.getAllAngularTestabilities();let count=testabilities.length,didWork=!1;const decrement=function(didWork_){didWork=didWork||didWork_,count--,0==count&&callback(didWork)};testabilities.forEach((function(testability){testability.whenStable(decrement)}))})}findTestabilityInTree(registry,elem,findInAncestors){if(null==elem)return null;const t=registry.getTestability(elem);return null!=t?t:findInAncestors?getDOM().isShadowRoot(elem)?this.findTestabilityInTree(registry,elem.host,!0):this.findTestabilityInTree(registry,elem.parentElement,!0):null}}const EVENT_MANAGER_PLUGINS=new InjectionToken(\"EventManagerPlugins\");let platform_browser_EventManager=(()=>{class EventManager{constructor(plugins,_zone){this._zone=_zone,this._eventNameToPlugin=new Map,plugins.forEach(p=>p.manager=this),this._plugins=plugins.slice().reverse()}addEventListener(element,eventName,handler){return this._findPluginFor(eventName).addEventListener(element,eventName,handler)}addGlobalEventListener(target,eventName,handler){return this._findPluginFor(eventName).addGlobalEventListener(target,eventName,handler)}getZone(){return this._zone}_findPluginFor(eventName){const plugin=this._eventNameToPlugin.get(eventName);if(plugin)return plugin;const plugins=this._plugins;for(let i=0;i<plugins.length;i++){const plugin=plugins[i];if(plugin.supports(eventName))return this._eventNameToPlugin.set(eventName,plugin),plugin}throw new Error(`No event manager plugin found for event ${eventName}`)}}return EventManager.fac=function(t){return new(t||EventManager)(inject(EVENT_MANAGER_PLUGINS),inject(NgZone))},EventManager.prov=defineInjectable({token:EventManager,factory:EventManager.fac}),EventManager})();class platform_browser_EventManagerPlugin{constructor(_doc){this._doc=_doc}addGlobalEventListener(element,eventName,handler){const target=getDOM().getGlobalEventTarget(this._doc,element);if(!target)throw new Error(`Unsupported event target ${target} for event ${eventName}`);return this.addEventListener(target,eventName,handler)}}let platform_browser_SharedStylesHost=(()=>{class SharedStylesHost{constructor(){this._stylesSet=new Set}addStyles(styles){const additions=new Set;styles.forEach(style=>{this._stylesSet.has(style)||(this._stylesSet.add(style),additions.add(style))}),this.onStylesAdded(additions)}onStylesAdded(additions){}getAllStyles(){return Array.from(this._stylesSet)}}return SharedStylesHost.fac=function(t){return new(t||SharedStylesHost)},SharedStylesHost.prov=defineInjectable({token:SharedStylesHost,factory:SharedStylesHost.fac}),SharedStylesHost})(),platform_browser_DomSharedStylesHost=(()=>{class DomSharedStylesHost extends platform_browser_SharedStylesHost{constructor(_doc){super(),this._doc=_doc,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(_doc.head)}_addStylesToHost(styles,host){styles.forEach(style=>{const styleEl=this._doc.createElement(\"style\");styleEl.textContent=style,this._styleNodes.add(host.appendChild(styleEl))})}addHost(hostNode){this._addStylesToHost(this._stylesSet,hostNode),this._hostNodes.add(hostNode)}removeHost(hostNode){this._hostNodes.delete(hostNode)}onStylesAdded(additions){this._hostNodes.forEach(hostNode=>this._addStylesToHost(additions,hostNode))}ngOnDestroy(){this._styleNodes.forEach(styleNode=>getDOM().remove(styleNode))}}return DomSharedStylesHost.fac=function(t){return new(t||DomSharedStylesHost)(inject(common_DOCUMENT))},DomSharedStylesHost.prov=defineInjectable({token:DomSharedStylesHost,factory:DomSharedStylesHost.fac}),DomSharedStylesHost})();const NAMESPACE_URIS={svg:\"http://www.w3.org/2000/svg\",xhtml:\"http://www.w3.org/1999/xhtml\",xlink:\"http://www.w3.org/1999/xlink\",xml:\"http://www.w3.org/XML/1998/namespace\",xmlns:\"http://www.w3.org/2000/xmlns/\"},COMPONENT_REGEX=/%COMP%/g;function flattenStyles(compId,styles,target){for(let i=0;i<styles.length;i++){let style=styles[i];Array.isArray(style)?flattenStyles(compId,style,target):(style=style.replace(COMPONENT_REGEX,compId),target.push(style))}return target}function decoratePreventDefault(eventHandler){return event=>{if(\"__ngUnwrap__\"===event)return eventHandler;!1===eventHandler(event)&&(event.preventDefault(),event.returnValue=!1)}}let platform_browser_DomRendererFactory2=(()=>{class DomRendererFactory2{constructor(eventManager,sharedStylesHost,appId){this.eventManager=eventManager,this.sharedStylesHost=sharedStylesHost,this.appId=appId,this.rendererByCompId=new Map,this.defaultRenderer=new platform_browser_DefaultDomRenderer2(eventManager)}createRenderer(element,type){if(!element||!type)return this.defaultRenderer;switch(type.encapsulation){case ViewEncapsulation$1.Emulated:{let renderer=this.rendererByCompId.get(type.id);return renderer||(renderer=new EmulatedEncapsulationDomRenderer2(this.eventManager,this.sharedStylesHost,type,this.appId),this.rendererByCompId.set(type.id,renderer)),renderer.applyToHost(element),renderer}case ViewEncapsulation$1.Native:case ViewEncapsulation$1.ShadowDom:return new platform_browser_ShadowDomRenderer(this.eventManager,this.sharedStylesHost,element,type);default:if(!this.rendererByCompId.has(type.id)){const styles=flattenStyles(type.id,type.styles,[]);this.sharedStylesHost.addStyles(styles),this.rendererByCompId.set(type.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return DomRendererFactory2.fac=function(t){return new(t||DomRendererFactory2)(inject(platform_browser_EventManager),inject(platform_browser_DomSharedStylesHost),inject(APP_ID))},DomRendererFactory2.prov=defineInjectable({token:DomRendererFactory2,factory:DomRendererFactory2.fac}),DomRendererFactory2})();class platform_browser_DefaultDomRenderer2{constructor(eventManager){this.eventManager=eventManager,this.data=Object.create(null)}destroy(){}createElement(name,namespace){return namespace?document.createElementNS(NAMESPACE_URIS[namespace]||namespace,name):document.createElement(name)}createComment(value){return document.createComment(value)}createText(value){return document.createTextNode(value)}appendChild(parent,newChild){parent.appendChild(newChild)}insertBefore(parent,newChild,refChild){parent&&parent.insertBefore(newChild,refChild)}removeChild(parent,oldChild){parent&&parent.removeChild(oldChild)}selectRootElement(selectorOrNode,preserveContent){let el=\"string\"==typeof selectorOrNode?document.querySelector(selectorOrNode):selectorOrNode;if(!el)throw new Error(`The selector \"${selectorOrNode}\" did not match any elements`);return preserveContent||(el.textContent=\"\"),el}parentNode(node){return node.parentNode}nextSibling(node){return node.nextSibling}setAttribute(el,name,value,namespace){if(namespace){name=namespace+\":\"+name;const namespaceUri=NAMESPACE_URIS[namespace];namespaceUri?el.setAttributeNS(namespaceUri,name,value):el.setAttribute(name,value)}else el.setAttribute(name,value)}removeAttribute(el,name,namespace){if(namespace){const namespaceUri=NAMESPACE_URIS[namespace];namespaceUri?el.removeAttributeNS(namespaceUri,name):el.removeAttribute(`${namespace}:${name}`)}else el.removeAttribute(name)}addClass(el,name){el.classList.add(name)}removeClass(el,name){el.classList.remove(name)}setStyle(el,style,value,flags){flags&RendererStyleFlags2.DashCase?el.style.setProperty(style,value,flags&RendererStyleFlags2.Important?\"important\":\"\"):el.style[style]=value}removeStyle(el,style,flags){flags&RendererStyleFlags2.DashCase?el.style.removeProperty(style):el.style[style]=\"\"}setProperty(el,name,value){el[name]=value}setValue(node,value){node.nodeValue=value}listen(target,event,callback){return\"string\"==typeof target?this.eventManager.addGlobalEventListener(target,event,decoratePreventDefault(callback)):this.eventManager.addEventListener(target,event,decoratePreventDefault(callback))}}class EmulatedEncapsulationDomRenderer2 extends platform_browser_DefaultDomRenderer2{constructor(eventManager,sharedStylesHost,component,appId){super(eventManager),this.component=component;const styles=flattenStyles(appId+\"-\"+component.id,component.styles,[]);sharedStylesHost.addStyles(styles),this.contentAttr=\"_ngcontent-%COMP%\".replace(COMPONENT_REGEX,appId+\"-\"+component.id),this.hostAttr=function(componentShortId){return\"_nghost-%COMP%\".replace(COMPONENT_REGEX,componentShortId)}(appId+\"-\"+component.id)}applyToHost(element){super.setAttribute(element,this.hostAttr,\"\")}createElement(parent,name){const el=super.createElement(parent,name);return super.setAttribute(el,this.contentAttr,\"\"),el}}class platform_browser_ShadowDomRenderer extends platform_browser_DefaultDomRenderer2{constructor(eventManager,sharedStylesHost,hostEl,component){super(eventManager),this.sharedStylesHost=sharedStylesHost,this.hostEl=hostEl,this.component=component,this.shadowRoot=component.encapsulation===ViewEncapsulation$1.ShadowDom?hostEl.attachShadow({mode:\"open\"}):hostEl.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const styles=flattenStyles(component.id,component.styles,[]);for(let i=0;i<styles.length;i++){const styleEl=document.createElement(\"style\");styleEl.textContent=styles[i],this.shadowRoot.appendChild(styleEl)}}nodeOrShadowRoot(node){return node===this.hostEl?this.shadowRoot:node}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(parent,newChild){return super.appendChild(this.nodeOrShadowRoot(parent),newChild)}insertBefore(parent,newChild,refChild){return super.insertBefore(this.nodeOrShadowRoot(parent),newChild,refChild)}removeChild(parent,oldChild){return super.removeChild(this.nodeOrShadowRoot(parent),oldChild)}parentNode(node){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(node)))}}let platform_browser_DomEventsPlugin=(()=>{class DomEventsPlugin extends platform_browser_EventManagerPlugin{constructor(doc){super(doc)}supports(eventName){return!0}addEventListener(element,eventName,handler){return element.addEventListener(eventName,handler,!1),()=>this.removeEventListener(element,eventName,handler)}removeEventListener(target,eventName,callback){return target.removeEventListener(eventName,callback)}}return DomEventsPlugin.fac=function(t){return new(t||DomEventsPlugin)(inject(common_DOCUMENT))},DomEventsPlugin.prov=defineInjectable({token:DomEventsPlugin,factory:DomEventsPlugin.fac}),DomEventsPlugin})();const MODIFIER_KEYS=[\"alt\",\"control\",\"meta\",\"shift\"],_keyMap={\"\\b\":\"Backspace\",\"\\t\":\"Tab\",\"\":\"Delete\",\"\u001b\":\"Escape\",Del:\"Delete\",Esc:\"Escape\",Left:\"ArrowLeft\",Right:\"ArrowRight\",Up:\"ArrowUp\",Down:\"ArrowDown\",Menu:\"ContextMenu\",Scroll:\"ScrollLock\",Win:\"OS\"},_chromeNumKeyPadMap={A:\"1\",B:\"2\",C:\"3\",D:\"4\",E:\"5\",F:\"6\",G:\"7\",H:\"8\",I:\"9\",J:\"*\",K:\"+\",M:\"-\",N:\".\",O:\"/\",\"`\":\"0\",\"\":\"NumLock\"},MODIFIER_KEY_GETTERS={alt:event=>event.altKey,control:event=>event.ctrlKey,meta:event=>event.metaKey,shift:event=>event.shiftKey};let platform_browser_KeyEventsPlugin=(()=>{class KeyEventsPlugin extends platform_browser_EventManagerPlugin{constructor(doc){super(doc)}supports(eventName){return null!=KeyEventsPlugin.parseEventName(eventName)}addEventListener(element,eventName,handler){const parsedEvent=KeyEventsPlugin.parseEventName(eventName),outsideHandler=KeyEventsPlugin.eventCallback(parsedEvent.fullKey,handler,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>getDOM().onAndCancel(element,parsedEvent.domEventName,outsideHandler))}static parseEventName(eventName){const parts=eventName.toLowerCase().split(\".\"),domEventName=parts.shift();if(0===parts.length||\"keydown\"!==domEventName&&\"keyup\"!==domEventName)return null;const key=KeyEventsPlugin._normalizeKey(parts.pop());let fullKey=\"\";if(MODIFIER_KEYS.forEach(modifierName=>{const index=parts.indexOf(modifierName);index>-1&&(parts.splice(index,1),fullKey+=modifierName+\".\")}),fullKey+=key,0!=parts.length||0===key.length)return null;const result={};return result.domEventName=domEventName,result.fullKey=fullKey,result}static getEventFullKey(event){let fullKey=\"\",key=function(event){let key=event.key;if(null==key){if(key=event.keyIdentifier,null==key)return\"Unidentified\";key.startsWith(\"U+\")&&(key=String.fromCharCode(parseInt(key.substring(2),16)),3===event.location&&_chromeNumKeyPadMap.hasOwnProperty(key)&&(key=_chromeNumKeyPadMap[key]))}return _keyMap[key]||key}(event);return key=key.toLowerCase(),\" \"===key?key=\"space\":\".\"===key&&(key=\"dot\"),MODIFIER_KEYS.forEach(modifierName=>{modifierName!=key&&(0,MODIFIER_KEY_GETTERS[modifierName])(event)&&(fullKey+=modifierName+\".\")}),fullKey+=key,fullKey}static eventCallback(fullKey,handler,zone){return event=>{KeyEventsPlugin.getEventFullKey(event)===fullKey&&zone.runGuarded(()=>handler(event))}}static _normalizeKey(keyName){switch(keyName){case\"esc\":return\"escape\";default:return keyName}}}return KeyEventsPlugin.fac=function(t){return new(t||KeyEventsPlugin)(inject(common_DOCUMENT))},KeyEventsPlugin.prov=defineInjectable({token:KeyEventsPlugin,factory:KeyEventsPlugin.fac}),KeyEventsPlugin})();const platformBrowser=createPlatformFactory(platformCore,\"browser\",[{provide:PLATFORM_ID,useValue:\"browser\"},{provide:PLATFORM_INITIALIZER,useValue:function(){platform_browser_BrowserDomAdapter.makeCurrent(),platform_browser_BrowserGetTestability.init()},multi:!0},{provide:common_DOCUMENT,useFactory:function(){return function(document){DOCUMENT=document}(document),document},deps:[]}]),BROWSER_MODULE_PROVIDERS=[[],{provide:INJECTOR_SCOPE,useValue:\"root\"},{provide:ErrorHandler,useFactory:function(){return new ErrorHandler},deps:[]},{provide:EVENT_MANAGER_PLUGINS,useClass:platform_browser_DomEventsPlugin,multi:!0,deps:[common_DOCUMENT,NgZone,PLATFORM_ID]},{provide:EVENT_MANAGER_PLUGINS,useClass:platform_browser_KeyEventsPlugin,multi:!0,deps:[common_DOCUMENT]},[],{provide:platform_browser_DomRendererFactory2,useClass:platform_browser_DomRendererFactory2,deps:[platform_browser_EventManager,platform_browser_DomSharedStylesHost,APP_ID]},{provide:RendererFactory2,useExisting:platform_browser_DomRendererFactory2},{provide:platform_browser_SharedStylesHost,useExisting:platform_browser_DomSharedStylesHost},{provide:platform_browser_DomSharedStylesHost,useClass:platform_browser_DomSharedStylesHost,deps:[common_DOCUMENT]},{provide:Testability,useClass:Testability,deps:[NgZone]},{provide:platform_browser_EventManager,useClass:platform_browser_EventManager,deps:[EVENT_MANAGER_PLUGINS,NgZone]},[]];let platform_browser_BrowserModule=(()=>{class BrowserModule{constructor(parentModule){if(parentModule)throw new Error(\"BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.\")}static withServerTransition(params){return{ngModule:BrowserModule,providers:[{provide:APP_ID,useValue:params.appId},{provide:TRANSITION_ID,useExisting:APP_ID},SERVER_TRANSITION_PROVIDERS]}}}return BrowserModule.mod=defineNgModule({type:BrowserModule}),BrowserModule.inj=defineInjector({factory:function(t){return new(t||BrowserModule)(inject(BrowserModule,12))},providers:BROWSER_MODULE_PROVIDERS,imports:[common_CommonModule,ApplicationModule]}),BrowserModule})();function of(...args){let scheduler=args[args.length-1];return isScheduler(scheduler)?(args.pop(),scheduleArray(args,scheduler)):fromArray(args)}\"undefined\"!=typeof window&&window;class BehaviorSubject_BehaviorSubject extends Subject_Subject{constructor(_value){super(),this._value=_value}get value(){return this.getValue()}_subscribe(subscriber){const subscription=super._subscribe(subscriber);return subscription&&!subscription.closed&&subscriber.next(this._value),subscription}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ObjectUnsubscribedError;return this._value}next(value){super.next(this._value=value)}}const EmptyError=(()=>{function EmptyErrorImpl(){return Error.call(this),this.message=\"no elements in sequence\",this.name=\"EmptyError\",this}return EmptyErrorImpl.prototype=Object.create(Error.prototype),EmptyErrorImpl})(),NONE={};class CombineLatestOperator{constructor(resultSelector){this.resultSelector=resultSelector}call(subscriber,source){return source.subscribe(new combineLatest_CombineLatestSubscriber(subscriber,this.resultSelector))}}class combineLatest_CombineLatestSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination,resultSelector){super(destination),this.resultSelector=resultSelector,this.active=0,this.values=[],this.observables=[]}_next(observable){this.values.push(NONE),this.observables.push(observable)}_complete(){const observables=this.observables,len=observables.length;if(0===len)this.destination.complete();else{this.active=len,this.toRespond=len;for(let i=0;i<len;i++){const observable=observables[i];this.add(subscribeToResult(this,observable,observable,i))}}}notifyComplete(unused){0==(this.active-=1)&&this.destination.complete()}notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){const values=this.values,toRespond=this.toRespond?values[outerIndex]===NONE?--this.toRespond:this.toRespond:0;values[outerIndex]=innerValue,0===toRespond&&(this.resultSelector?this._tryResultSelector(values):this.destination.next(values.slice()))}_tryResultSelector(values){let result;try{result=this.resultSelector.apply(this,values)}catch(err){return void this.destination.error(err)}this.destination.next(result)}}const empty_EMPTY=new Observable_Observable(subscriber=>subscriber.complete());function empty_empty(scheduler){return scheduler?function(scheduler){return new Observable_Observable(subscriber=>scheduler.schedule(()=>subscriber.complete()))}(scheduler):empty_EMPTY}function defer(observableFactory){return new Observable_Observable(subscriber=>{let input;try{input=observableFactory()}catch(err){return void subscriber.error(err)}return(input?from_from(input):empty_empty()).subscribe(subscriber)})}function concatAll(){return mergeAll(1)}function filter(predicate,thisArg){return function(source){return source.lift(new FilterOperator(predicate,thisArg))}}class FilterOperator{constructor(predicate,thisArg){this.predicate=predicate,this.thisArg=thisArg}call(subscriber,source){return source.subscribe(new filter_FilterSubscriber(subscriber,this.predicate,this.thisArg))}}class filter_FilterSubscriber extends Subscriber_Subscriber{constructor(destination,predicate,thisArg){super(destination),this.predicate=predicate,this.thisArg=thisArg,this.count=0}_next(value){let result;try{result=this.predicate.call(this.thisArg,value,this.count++)}catch(err){return void this.destination.error(err)}result&&this.destination.next(value)}}const ArgumentOutOfRangeError=(()=>{function ArgumentOutOfRangeErrorImpl(){return Error.call(this),this.message=\"argument out of range\",this.name=\"ArgumentOutOfRangeError\",this}return ArgumentOutOfRangeErrorImpl.prototype=Object.create(Error.prototype),ArgumentOutOfRangeErrorImpl})();function takeLast(count){return function(source){return 0===count?empty_empty():source.lift(new takeLast_TakeLastOperator(count))}}class takeLast_TakeLastOperator{constructor(total){if(this.total=total,this.total<0)throw new ArgumentOutOfRangeError}call(subscriber,source){return source.subscribe(new takeLast_TakeLastSubscriber(subscriber,this.total))}}class takeLast_TakeLastSubscriber extends Subscriber_Subscriber{constructor(destination,total){super(destination),this.total=total,this.ring=new Array,this.count=0}_next(value){const ring=this.ring,total=this.total,count=this.count++;ring.length<total?ring.push(value):ring[count%total]=value}_complete(){const destination=this.destination;let count=this.count;if(count>0){const total=this.count>=this.total?this.total:this.count,ring=this.ring;for(let i=0;i<total;i++){const idx=count++%total;destination.next(ring[idx])}}destination.complete()}}function throwIfEmpty(errorFactory=defaultErrorFactory){return source=>source.lift(new ThrowIfEmptyOperator(errorFactory))}class ThrowIfEmptyOperator{constructor(errorFactory){this.errorFactory=errorFactory}call(subscriber,source){return source.subscribe(new throwIfEmpty_ThrowIfEmptySubscriber(subscriber,this.errorFactory))}}class throwIfEmpty_ThrowIfEmptySubscriber extends Subscriber_Subscriber{constructor(destination,errorFactory){super(destination),this.errorFactory=errorFactory,this.hasValue=!1}_next(value){this.hasValue=!0,this.destination.next(value)}_complete(){if(this.hasValue)return this.destination.complete();{let err;try{err=this.errorFactory()}catch(e){err=e}this.destination.error(err)}}}function defaultErrorFactory(){return new EmptyError}function defaultIfEmpty(defaultValue=null){return source=>source.lift(new DefaultIfEmptyOperator(defaultValue))}class DefaultIfEmptyOperator{constructor(defaultValue){this.defaultValue=defaultValue}call(subscriber,source){return source.subscribe(new defaultIfEmpty_DefaultIfEmptySubscriber(subscriber,this.defaultValue))}}class defaultIfEmpty_DefaultIfEmptySubscriber extends Subscriber_Subscriber{constructor(destination,defaultValue){super(destination),this.defaultValue=defaultValue,this.isEmpty=!0}_next(value){this.isEmpty=!1,this.destination.next(value)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function last_last(predicate,defaultValue){const hasDefaultValue=arguments.length>=2;return source=>source.pipe(predicate?filter((v,i)=>predicate(v,i,source)):identity,takeLast(1),hasDefaultValue?defaultIfEmpty(defaultValue):throwIfEmpty(()=>new EmptyError))}function catchError(selector){return function(source){const operator=new CatchOperator(selector),caught=source.lift(operator);return operator.caught=caught}}class CatchOperator{constructor(selector){this.selector=selector}call(subscriber,source){return source.subscribe(new catchError_CatchSubscriber(subscriber,this.selector,this.caught))}}class catchError_CatchSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination,selector,caught){super(destination),this.selector=selector,this.caught=caught}error(err){if(!this.isStopped){let result;try{result=this.selector(err,this.caught)}catch(err2){return void super.error(err2)}this._unsubscribeAndRecycle();const innerSubscriber=new InnerSubscriber_InnerSubscriber(this,void 0,void 0);this.add(innerSubscriber);const innerSubscription=subscribeToResult(this,result,void 0,void 0,innerSubscriber);innerSubscription!==innerSubscriber&&this.add(innerSubscription)}}}function take(count){return source=>0===count?empty_empty():source.lift(new take_TakeOperator(count))}class take_TakeOperator{constructor(total){if(this.total=total,this.total<0)throw new ArgumentOutOfRangeError}call(subscriber,source){return source.subscribe(new take_TakeSubscriber(subscriber,this.total))}}class take_TakeSubscriber extends Subscriber_Subscriber{constructor(destination,total){super(destination),this.total=total,this.count=0}_next(value){const total=this.total,count=++this.count;count<=total&&(this.destination.next(value),count===total&&(this.destination.complete(),this.unsubscribe()))}}function first(predicate,defaultValue){const hasDefaultValue=arguments.length>=2;return source=>source.pipe(predicate?filter((v,i)=>predicate(v,i,source)):identity,take(1),hasDefaultValue?defaultIfEmpty(defaultValue):throwIfEmpty(()=>new EmptyError))}class EveryOperator{constructor(predicate,thisArg,source){this.predicate=predicate,this.thisArg=thisArg,this.source=source}call(observer,source){return source.subscribe(new every_EverySubscriber(observer,this.predicate,this.thisArg,this.source))}}class every_EverySubscriber extends Subscriber_Subscriber{constructor(destination,predicate,thisArg,source){super(destination),this.predicate=predicate,this.thisArg=thisArg,this.source=source,this.index=0,this.thisArg=thisArg||this}notifyComplete(everyValueMatch){this.destination.next(everyValueMatch),this.destination.complete()}_next(value){let result=!1;try{result=this.predicate.call(this.thisArg,value,this.index++,this.source)}catch(err){return void this.destination.error(err)}result||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function switchMap(project,resultSelector){return\"function\"==typeof resultSelector?source=>source.pipe(switchMap((a,i)=>from_from(project(a,i)).pipe(map((b,ii)=>resultSelector(a,b,i,ii))))):source=>source.lift(new SwitchMapOperator(project))}class SwitchMapOperator{constructor(project){this.project=project}call(subscriber,source){return source.subscribe(new switchMap_SwitchMapSubscriber(subscriber,this.project))}}class switchMap_SwitchMapSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination,project){super(destination),this.project=project,this.index=0}_next(value){let result;const index=this.index++;try{result=this.project(value,index)}catch(error){return void this.destination.error(error)}this._innerSub(result,value,index)}_innerSub(result,value,index){const innerSubscription=this.innerSubscription;innerSubscription&&innerSubscription.unsubscribe();const innerSubscriber=new InnerSubscriber_InnerSubscriber(this,value,index),destination=this.destination;destination.add(innerSubscriber),this.innerSubscription=subscribeToResult(this,result,void 0,void 0,innerSubscriber),this.innerSubscription!==innerSubscriber&&destination.add(this.innerSubscription)}_complete(){const{innerSubscription:innerSubscription}=this;innerSubscription&&!innerSubscription.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(innerSub){this.destination.remove(innerSub),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue)}}function concat(...observables){return concatAll()(of(...observables))}function scan(accumulator,seed){let hasSeed=!1;return arguments.length>=2&&(hasSeed=!0),function(source){return source.lift(new ScanOperator(accumulator,seed,hasSeed))}}class ScanOperator{constructor(accumulator,seed,hasSeed=!1){this.accumulator=accumulator,this.seed=seed,this.hasSeed=hasSeed}call(subscriber,source){return source.subscribe(new scan_ScanSubscriber(subscriber,this.accumulator,this.seed,this.hasSeed))}}class scan_ScanSubscriber extends Subscriber_Subscriber{constructor(destination,accumulator,_seed,hasSeed){super(destination),this.accumulator=accumulator,this._seed=_seed,this.hasSeed=hasSeed,this.index=0}get seed(){return this._seed}set seed(value){this.hasSeed=!0,this._seed=value}_next(value){if(this.hasSeed)return this._tryNext(value);this.seed=value,this.destination.next(value)}_tryNext(value){const index=this.index++;let result;try{result=this.accumulator(this.seed,value,index)}catch(err){this.destination.error(err)}this.seed=result,this.destination.next(result)}}function concatMap(project,resultSelector){return mergeMap(project,resultSelector,1)}function noop_noop(){}function tap(nextOrObserver,error,complete){return function(source){return source.lift(new DoOperator(nextOrObserver,error,complete))}}class DoOperator{constructor(nextOrObserver,error,complete){this.nextOrObserver=nextOrObserver,this.error=error,this.complete=complete}call(subscriber,source){return source.subscribe(new tap_TapSubscriber(subscriber,this.nextOrObserver,this.error,this.complete))}}class tap_TapSubscriber extends Subscriber_Subscriber{constructor(destination,observerOrNext,error,complete){super(destination),this._tapNext=noop_noop,this._tapError=noop_noop,this._tapComplete=noop_noop,this._tapError=error||noop_noop,this._tapComplete=complete||noop_noop,isFunction(observerOrNext)?(this._context=this,this._tapNext=observerOrNext):observerOrNext&&(this._context=observerOrNext,this._tapNext=observerOrNext.next||noop_noop,this._tapError=observerOrNext.error||noop_noop,this._tapComplete=observerOrNext.complete||noop_noop)}_next(value){try{this._tapNext.call(this._context,value)}catch(err){return void this.destination.error(err)}this.destination.next(value)}_error(err){try{this._tapError.call(this._context,err)}catch(err){return void this.destination.error(err)}this.destination.error(err)}_complete(){try{this._tapComplete.call(this._context)}catch(err){return void this.destination.error(err)}return this.destination.complete()}}class FinallyOperator{constructor(callback){this.callback=callback}call(subscriber,source){return source.subscribe(new finalize_FinallySubscriber(subscriber,this.callback))}}class finalize_FinallySubscriber extends Subscriber_Subscriber{constructor(destination,callback){super(destination),this.add(new Subscription_Subscription(callback))}}class RouterEvent{constructor(id,url){this.id=id,this.url=url}}class NavigationStart extends RouterEvent{constructor(id,url,navigationTrigger=\"imperative\",restoredState=null){super(id,url),this.navigationTrigger=navigationTrigger,this.restoredState=restoredState}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class NavigationEnd extends RouterEvent{constructor(id,url,urlAfterRedirects){super(id,url),this.urlAfterRedirects=urlAfterRedirects}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class NavigationCancel extends RouterEvent{constructor(id,url,reason){super(id,url),this.reason=reason}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class NavigationError extends RouterEvent{constructor(id,url,error){super(id,url),this.error=error}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class RoutesRecognized extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GuardsCheckStart extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GuardsCheckEnd extends RouterEvent{constructor(id,url,urlAfterRedirects,state,shouldActivate){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state,this.shouldActivate=shouldActivate}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ResolveStart extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ResolveEnd extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RouteConfigLoadStart{constructor(route){this.route=route}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class RouteConfigLoadEnd{constructor(route){this.route=route}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ChildActivationStart{constructor(snapshot){this.snapshot=snapshot}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||\"\"}')`}}class ChildActivationEnd{constructor(snapshot){this.snapshot=snapshot}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||\"\"}')`}}class ActivationStart{constructor(snapshot){this.snapshot=snapshot}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||\"\"}')`}}class ActivationEnd{constructor(snapshot){this.snapshot=snapshot}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||\"\"}')`}}class Scroll{constructor(routerEvent,position,anchor){this.routerEvent=routerEvent,this.position=position,this.anchor=anchor}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let router_EmptyOutletComponent=(()=>{class EmptyOutletComponent{}return EmptyOutletComponent.fac=function(t){return new(t||EmptyOutletComponent)},EmptyOutletComponent.cmp=defineComponent({type:EmptyOutletComponent,selectors:[[\"ng-component\"]],decls:1,vars:0,template:function(rf,ctx){1&rf&&element(0,\"router-outlet\")},directives:function(){return[router_RouterOutlet]},encapsulation:2}),EmptyOutletComponent})();class ParamsAsMap{constructor(params){this.params=params||{}}has(name){return this.params.hasOwnProperty(name)}get(name){if(this.has(name)){const v=this.params[name];return Array.isArray(v)?v[0]:v}return null}getAll(name){if(this.has(name)){const v=this.params[name];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function convertToParamMap(params){return new ParamsAsMap(params)}function navigationCancelingError(message){const error=Error(\"NavigationCancelingError: \"+message);return error.ngNavigationCancelingError=!0,error}function defaultUrlMatcher(segments,segmentGroup,route){const parts=route.path.split(\"/\");if(parts.length>segments.length)return null;if(\"full\"===route.pathMatch&&(segmentGroup.hasChildren()||parts.length<segments.length))return null;const posParams={};for(let index=0;index<parts.length;index++){const part=parts[index],segment=segments[index];if(part.startsWith(\":\"))posParams[part.substring(1)]=segment;else if(part!==segment.path)return null}return{consumed:segments.slice(0,parts.length),posParams:posParams}}class LoadedRouterConfig{constructor(routes,module){this.routes=routes,this.module=module}}function validateConfig(config,parentPath=\"\"){for(let i=0;i<config.length;i++){const route=config[i];router_validateNode(route,getFullPath(parentPath,route))}}function router_validateNode(route,fullPath){if(!route)throw new Error(`\\n      Invalid configuration of route '${fullPath}': Encountered undefined route.\\n      The reason might be an extra comma.\\n\\n      Example:\\n      const routes: Routes = [\\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\\n        { path: 'detail/:id', component: HeroDetailComponent }\\n      ];\\n    `);if(Array.isArray(route))throw new Error(`Invalid configuration of route '${fullPath}': Array cannot be specified`);if(!route.component&&!route.children&&!route.loadChildren&&route.outlet&&\"primary\"!==route.outlet)throw new Error(`Invalid configuration of route '${fullPath}': a componentless route without children or loadChildren cannot have a named outlet set`);if(route.redirectTo&&route.children)throw new Error(`Invalid configuration of route '${fullPath}': redirectTo and children cannot be used together`);if(route.redirectTo&&route.loadChildren)throw new Error(`Invalid configuration of route '${fullPath}': redirectTo and loadChildren cannot be used together`);if(route.children&&route.loadChildren)throw new Error(`Invalid configuration of route '${fullPath}': children and loadChildren cannot be used together`);if(route.redirectTo&&route.component)throw new Error(`Invalid configuration of route '${fullPath}': redirectTo and component cannot be used together`);if(route.path&&route.matcher)throw new Error(`Invalid configuration of route '${fullPath}': path and matcher cannot be used together`);if(void 0===route.redirectTo&&!route.component&&!route.children&&!route.loadChildren)throw new Error(`Invalid configuration of route '${fullPath}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===route.path&&void 0===route.matcher)throw new Error(`Invalid configuration of route '${fullPath}': routes must have either a path or a matcher specified`);if(\"string\"==typeof route.path&&\"/\"===route.path.charAt(0))throw new Error(`Invalid configuration of route '${fullPath}': path cannot start with a slash`);if(\"\"===route.path&&void 0!==route.redirectTo&&void 0===route.pathMatch)throw new Error(`Invalid configuration of route '{path: \"${fullPath}\", redirectTo: \"${route.redirectTo}\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==route.pathMatch&&\"full\"!==route.pathMatch&&\"prefix\"!==route.pathMatch)throw new Error(`Invalid configuration of route '${fullPath}': pathMatch can only be set to 'prefix' or 'full'`);route.children&&validateConfig(route.children,fullPath)}function getFullPath(parentPath,currentRoute){return currentRoute?parentPath||currentRoute.path?parentPath&&!currentRoute.path?`${parentPath}/`:!parentPath&&currentRoute.path?currentRoute.path:`${parentPath}/${currentRoute.path}`:\"\":parentPath}function standardizeConfig(r){const children=r.children&&r.children.map(standardizeConfig),c=children?Object.assign(Object.assign({},r),{children:children}):Object.assign({},r);return!c.component&&(children||c.loadChildren)&&c.outlet&&\"primary\"!==c.outlet&&(c.component=router_EmptyOutletComponent),c}function shallowEqual(a,b){const k1=Object.keys(a),k2=Object.keys(b);if(!k1||!k2||k1.length!=k2.length)return!1;let key;for(let i=0;i<k1.length;i++)if(key=k1[i],!equalArraysOrString(a[key],b[key]))return!1;return!0}function equalArraysOrString(a,b){return Array.isArray(a)&&Array.isArray(b)?a.length==b.length&&a.every(aItem=>b.indexOf(aItem)>-1):a===b}function router_flatten(arr){return Array.prototype.concat.apply([],arr)}function router_last(a){return a.length>0?a[a.length-1]:null}function forEach(map,callback){for(const prop in map)map.hasOwnProperty(prop)&&callback(map[prop],prop)}function wrapIntoObservable(value){return(obj=value)&&\"function\"==typeof obj.subscribe?value:core_isPromise(value)?from_from(Promise.resolve(value)):of(value);var obj}function containsTree(container,containee,exact){return exact?function(container,containee){return shallowEqual(container,containee)}(container.queryParams,containee.queryParams)&&function equalSegmentGroups(container,containee){if(!equalPath(container.segments,containee.segments))return!1;if(container.numberOfChildren!==containee.numberOfChildren)return!1;for(const c in containee.children){if(!container.children[c])return!1;if(!equalSegmentGroups(container.children[c],containee.children[c]))return!1}return!0}(container.root,containee.root):function(container,containee){return Object.keys(containee).length<=Object.keys(container).length&&Object.keys(containee).every(key=>equalArraysOrString(container[key],containee[key]))}(container.queryParams,containee.queryParams)&&function containsSegmentGroup(container,containee){return function containsSegmentGroupHelper(container,containee,containeePaths){if(container.segments.length>containeePaths.length)return!!equalPath(container.segments.slice(0,containeePaths.length),containeePaths)&&!containee.hasChildren();if(container.segments.length===containeePaths.length){if(!equalPath(container.segments,containeePaths))return!1;for(const c in containee.children){if(!container.children[c])return!1;if(!containsSegmentGroup(container.children[c],containee.children[c]))return!1}return!0}{const current=containeePaths.slice(0,container.segments.length),next=containeePaths.slice(container.segments.length);return!!equalPath(container.segments,current)&&!!container.children.primary&&containsSegmentGroupHelper(container.children.primary,containee,next)}}(container,containee,containee.segments)}(container.root,containee.root)}class UrlTree{constructor(root,queryParams,fragment){this.root=root,this.queryParams=queryParams,this.fragment=fragment}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=convertToParamMap(this.queryParams)),this._queryParamMap}toString(){return DEFAULT_SERIALIZER.serialize(this)}}class UrlSegmentGroup{constructor(segments,children){this.segments=segments,this.children=children,this.parent=null,forEach(children,(v,k)=>v.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return serializePaths(this)}}class UrlSegment{constructor(path,parameters){this.path=path,this.parameters=parameters}get parameterMap(){return this._parameterMap||(this._parameterMap=convertToParamMap(this.parameters)),this._parameterMap}toString(){return serializePath(this)}}function equalPath(as,bs){return as.length===bs.length&&as.every((a,i)=>a.path===bs[i].path)}function mapChildrenIntoArray(segment,fn){let res=[];return forEach(segment.children,(child,childOutlet)=>{\"primary\"===childOutlet&&(res=res.concat(fn(child,childOutlet)))}),forEach(segment.children,(child,childOutlet)=>{\"primary\"!==childOutlet&&(res=res.concat(fn(child,childOutlet)))}),res}class UrlSerializer{}class DefaultUrlSerializer{parse(url){const p=new UrlParser(url);return new UrlTree(p.parseRootSegment(),p.parseQueryParams(),p.parseFragment())}serialize(tree){var s;return`${`/${function serializeSegment(segment,root){if(!segment.hasChildren())return serializePaths(segment);if(root){const primary=segment.children.primary?serializeSegment(segment.children.primary,!1):\"\",children=[];return forEach(segment.children,(v,k)=>{\"primary\"!==k&&children.push(`${k}:${serializeSegment(v,!1)}`)}),children.length>0?`${primary}(${children.join(\"//\")})`:primary}{const children=mapChildrenIntoArray(segment,(v,k)=>\"primary\"===k?[serializeSegment(segment.children.primary,!1)]:[`${k}:${serializeSegment(v,!1)}`]);return`${serializePaths(segment)}/(${children.join(\"//\")})`}}(tree.root,!0)}`}${function(params){const strParams=Object.keys(params).map(name=>{const value=params[name];return Array.isArray(value)?value.map(v=>`${encodeUriQuery(name)}=${encodeUriQuery(v)}`).join(\"&\"):`${encodeUriQuery(name)}=${encodeUriQuery(value)}`});return strParams.length?`?${strParams.join(\"&\")}`:\"\"}(tree.queryParams)}${\"string\"==typeof tree.fragment?`#${s=tree.fragment,encodeURI(s)}`:\"\"}`}}const DEFAULT_SERIALIZER=new DefaultUrlSerializer;function serializePaths(segment){return segment.segments.map(p=>serializePath(p)).join(\"/\")}function encodeUriString(s){return encodeURIComponent(s).replace(/%40/g,\"@\").replace(/%3A/gi,\":\").replace(/%24/g,\"$\").replace(/%2C/gi,\",\")}function encodeUriQuery(s){return encodeUriString(s).replace(/%3B/gi,\";\")}function encodeUriSegment(s){return encodeUriString(s).replace(/\\(/g,\"%28\").replace(/\\)/g,\"%29\").replace(/%26/gi,\"&\")}function decode(s){return decodeURIComponent(s)}function decodeQuery(s){return decode(s.replace(/\\+/g,\"%20\"))}function serializePath(path){return`${encodeUriSegment(path.path)}${params=path.parameters,Object.keys(params).map(key=>`;${encodeUriSegment(key)}=${encodeUriSegment(params[key])}`).join(\"\")}`;var params}const SEGMENT_RE=/^[^\\/()?;=#]+/;function matchSegments(str){const match=str.match(SEGMENT_RE);return match?match[0]:\"\"}const QUERY_PARAM_RE=/^[^=?&#]+/,QUERY_PARAM_VALUE_RE=/^[^?&#]+/;class UrlParser{constructor(url){this.url=url,this.remaining=url}parseRootSegment(){return this.consumeOptional(\"/\"),\"\"===this.remaining||this.peekStartsWith(\"?\")||this.peekStartsWith(\"#\")?new UrlSegmentGroup([],{}):new UrlSegmentGroup([],this.parseChildren())}parseQueryParams(){const params={};if(this.consumeOptional(\"?\"))do{this.parseQueryParam(params)}while(this.consumeOptional(\"&\"));return params}parseFragment(){return this.consumeOptional(\"#\")?decodeURIComponent(this.remaining):null}parseChildren(){if(\"\"===this.remaining)return{};this.consumeOptional(\"/\");const segments=[];for(this.peekStartsWith(\"(\")||segments.push(this.parseSegment());this.peekStartsWith(\"/\")&&!this.peekStartsWith(\"//\")&&!this.peekStartsWith(\"/(\");)this.capture(\"/\"),segments.push(this.parseSegment());let children={};this.peekStartsWith(\"/(\")&&(this.capture(\"/\"),children=this.parseParens(!0));let res={};return this.peekStartsWith(\"(\")&&(res=this.parseParens(!1)),(segments.length>0||Object.keys(children).length>0)&&(res.primary=new UrlSegmentGroup(segments,children)),res}parseSegment(){const path=matchSegments(this.remaining);if(\"\"===path&&this.peekStartsWith(\";\"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(path),new UrlSegment(decode(path),this.parseMatrixParams())}parseMatrixParams(){const params={};for(;this.consumeOptional(\";\");)this.parseParam(params);return params}parseParam(params){const key=matchSegments(this.remaining);if(!key)return;this.capture(key);let value=\"\";if(this.consumeOptional(\"=\")){const valueMatch=matchSegments(this.remaining);valueMatch&&(value=valueMatch,this.capture(value))}params[decode(key)]=decode(value)}parseQueryParam(params){const key=function(str){const match=str.match(QUERY_PARAM_RE);return match?match[0]:\"\"}(this.remaining);if(!key)return;this.capture(key);let value=\"\";if(this.consumeOptional(\"=\")){const valueMatch=function(str){const match=str.match(QUERY_PARAM_VALUE_RE);return match?match[0]:\"\"}(this.remaining);valueMatch&&(value=valueMatch,this.capture(value))}const decodedKey=decodeQuery(key),decodedVal=decodeQuery(value);if(params.hasOwnProperty(decodedKey)){let currentVal=params[decodedKey];Array.isArray(currentVal)||(currentVal=[currentVal],params[decodedKey]=currentVal),currentVal.push(decodedVal)}else params[decodedKey]=decodedVal}parseParens(allowPrimary){const segments={};for(this.capture(\"(\");!this.consumeOptional(\")\")&&this.remaining.length>0;){const path=matchSegments(this.remaining),next=this.remaining[path.length];if(\"/\"!==next&&\")\"!==next&&\";\"!==next)throw new Error(`Cannot parse url '${this.url}'`);let outletName=void 0;path.indexOf(\":\")>-1?(outletName=path.substr(0,path.indexOf(\":\")),this.capture(outletName),this.capture(\":\")):allowPrimary&&(outletName=\"primary\");const children=this.parseChildren();segments[outletName]=1===Object.keys(children).length?children.primary:new UrlSegmentGroup([],children),this.consumeOptional(\"//\")}return segments}peekStartsWith(str){return this.remaining.startsWith(str)}consumeOptional(str){return!!this.peekStartsWith(str)&&(this.remaining=this.remaining.substring(str.length),!0)}capture(str){if(!this.consumeOptional(str))throw new Error(`Expected \"${str}\".`)}}class Tree{constructor(root){this._root=root}get root(){return this._root.value}parent(t){const p=this.pathFromRoot(t);return p.length>1?p[p.length-2]:null}children(t){const n=findNode(t,this._root);return n?n.children.map(t=>t.value):[]}firstChild(t){const n=findNode(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const p=findPath(t,this._root);return p.length<2?[]:p[p.length-2].children.map(c=>c.value).filter(cc=>cc!==t)}pathFromRoot(t){return findPath(t,this._root).map(s=>s.value)}}function findNode(value,node){if(value===node.value)return node;for(const child of node.children){const node=findNode(value,child);if(node)return node}return null}function findPath(value,node){if(value===node.value)return[node];for(const child of node.children){const path=findPath(value,child);if(path.length)return path.unshift(node),path}return[]}class TreeNode{constructor(value,children){this.value=value,this.children=children}toString(){return`TreeNode(${this.value})`}}function nodeChildrenAsMap(node){const map={};return node&&node.children.forEach(child=>map[child.value.outlet]=child),map}class RouterState extends Tree{constructor(root,snapshot){super(root),this.snapshot=snapshot,setRouterState(this,root)}toString(){return this.snapshot.toString()}}function createEmptyState(urlTree,rootComponent){const snapshot=function(urlTree,rootComponent){const activated=new ActivatedRouteSnapshot([],{},{},\"\",{},\"primary\",rootComponent,null,urlTree.root,-1,{});return new RouterStateSnapshot(\"\",new TreeNode(activated,[]))}(urlTree,rootComponent),emptyUrl=new BehaviorSubject_BehaviorSubject([new UrlSegment(\"\",{})]),emptyParams=new BehaviorSubject_BehaviorSubject({}),emptyData=new BehaviorSubject_BehaviorSubject({}),emptyQueryParams=new BehaviorSubject_BehaviorSubject({}),fragment=new BehaviorSubject_BehaviorSubject(\"\"),activated=new router_ActivatedRoute(emptyUrl,emptyParams,emptyQueryParams,fragment,emptyData,\"primary\",rootComponent,snapshot.root);return activated.snapshot=snapshot.root,new RouterState(new TreeNode(activated,[]),snapshot)}class router_ActivatedRoute{constructor(url,params,queryParams,fragment,data,outlet,component,futureSnapshot){this.url=url,this.params=params,this.queryParams=queryParams,this.fragment=fragment,this.data=data,this.outlet=outlet,this.component=component,this._futureSnapshot=futureSnapshot}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(map(p=>convertToParamMap(p)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(map(p=>convertToParamMap(p)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function inheritedParamsDataResolve(route,paramsInheritanceStrategy=\"emptyOnly\"){const pathFromRoot=route.pathFromRoot;let inheritingStartingFrom=0;if(\"always\"!==paramsInheritanceStrategy)for(inheritingStartingFrom=pathFromRoot.length-1;inheritingStartingFrom>=1;){const current=pathFromRoot[inheritingStartingFrom],parent=pathFromRoot[inheritingStartingFrom-1];if(current.routeConfig&&\"\"===current.routeConfig.path)inheritingStartingFrom--;else{if(parent.component)break;inheritingStartingFrom--}}return function(pathFromRoot){return pathFromRoot.reduce((res,curr)=>({params:Object.assign(Object.assign({},res.params),curr.params),data:Object.assign(Object.assign({},res.data),curr.data),resolve:Object.assign(Object.assign({},res.resolve),curr._resolvedData)}),{params:{},data:{},resolve:{}})}(pathFromRoot.slice(inheritingStartingFrom))}class ActivatedRouteSnapshot{constructor(url,params,queryParams,fragment,data,outlet,component,routeConfig,urlSegment,lastPathIndex,resolve){this.url=url,this.params=params,this.queryParams=queryParams,this.fragment=fragment,this.data=data,this.outlet=outlet,this.component=component,this.routeConfig=routeConfig,this._urlSegment=urlSegment,this._lastPathIndex=lastPathIndex,this._resolve=resolve}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=convertToParamMap(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=convertToParamMap(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(segment=>segment.toString()).join(\"/\")}', path:'${this.routeConfig?this.routeConfig.path:\"\"}')`}}class RouterStateSnapshot extends Tree{constructor(url,root){super(root),this.url=url,setRouterState(this,root)}toString(){return serializeNode(this._root)}}function setRouterState(state,node){node.value._routerState=state,node.children.forEach(c=>setRouterState(state,c))}function serializeNode(node){const c=node.children.length>0?` { ${node.children.map(serializeNode).join(\", \")} } `:\"\";return`${node.value}${c}`}function advanceActivatedRoute(route){if(route.snapshot){const currentSnapshot=route.snapshot,nextSnapshot=route._futureSnapshot;route.snapshot=nextSnapshot,shallowEqual(currentSnapshot.queryParams,nextSnapshot.queryParams)||route.queryParams.next(nextSnapshot.queryParams),currentSnapshot.fragment!==nextSnapshot.fragment&&route.fragment.next(nextSnapshot.fragment),shallowEqual(currentSnapshot.params,nextSnapshot.params)||route.params.next(nextSnapshot.params),function(a,b){if(a.length!==b.length)return!1;for(let i=0;i<a.length;++i)if(!shallowEqual(a[i],b[i]))return!1;return!0}(currentSnapshot.url,nextSnapshot.url)||route.url.next(nextSnapshot.url),shallowEqual(currentSnapshot.data,nextSnapshot.data)||route.data.next(nextSnapshot.data)}else route.snapshot=route._futureSnapshot,route.data.next(route._futureSnapshot.data)}function equalParamsAndUrlSegments(a,b){var as,bs;return shallowEqual(a.params,b.params)&&equalPath(as=a.url,bs=b.url)&&as.every((a,i)=>shallowEqual(a.parameters,bs[i].parameters))&&!(!a.parent!=!b.parent)&&(!a.parent||equalParamsAndUrlSegments(a.parent,b.parent))}function isMatrixParams(command){return\"object\"==typeof command&&null!=command&&!command.outlets&&!command.segmentPath}function router_tree(oldSegmentGroup,newSegmentGroup,urlTree,queryParams,fragment){let qp={};return queryParams&&forEach(queryParams,(value,name)=>{qp[name]=Array.isArray(value)?value.map(v=>`${v}`):`${value}`}),new UrlTree(urlTree.root===oldSegmentGroup?newSegmentGroup:function replaceSegment(current,oldSegment,newSegment){const children={};return forEach(current.children,(c,outletName)=>{children[outletName]=c===oldSegment?newSegment:replaceSegment(c,oldSegment,newSegment)}),new UrlSegmentGroup(current.segments,children)}(urlTree.root,oldSegmentGroup,newSegmentGroup),qp,fragment)}class Navigation{constructor(isAbsolute,numberOfDoubleDots,commands){if(this.isAbsolute=isAbsolute,this.numberOfDoubleDots=numberOfDoubleDots,this.commands=commands,isAbsolute&&commands.length>0&&isMatrixParams(commands[0]))throw new Error(\"Root segment cannot have matrix parameters\");const cmdWithOutlet=commands.find(c=>\"object\"==typeof c&&null!=c&&c.outlets);if(cmdWithOutlet&&cmdWithOutlet!==router_last(commands))throw new Error(\"{outlets:{}} has to be the last command\")}toRoot(){return this.isAbsolute&&1===this.commands.length&&\"/\"==this.commands[0]}}class Position{constructor(segmentGroup,processChildren,index){this.segmentGroup=segmentGroup,this.processChildren=processChildren,this.index=index}}function getPath(command){return\"object\"==typeof command&&null!=command&&command.outlets?command.outlets.primary:`${command}`}function updateSegmentGroup(segmentGroup,startIndex,commands){if(segmentGroup||(segmentGroup=new UrlSegmentGroup([],{})),0===segmentGroup.segments.length&&segmentGroup.hasChildren())return updateSegmentGroupChildren(segmentGroup,startIndex,commands);const m=function(segmentGroup,startIndex,commands){let currentCommandIndex=0,currentPathIndex=startIndex;const noMatch={match:!1,pathIndex:0,commandIndex:0};for(;currentPathIndex<segmentGroup.segments.length;){if(currentCommandIndex>=commands.length)return noMatch;const path=segmentGroup.segments[currentPathIndex],curr=getPath(commands[currentCommandIndex]),next=currentCommandIndex<commands.length-1?commands[currentCommandIndex+1]:null;if(currentPathIndex>0&&void 0===curr)break;if(curr&&next&&\"object\"==typeof next&&void 0===next.outlets){if(!compare(curr,next,path))return noMatch;currentCommandIndex+=2}else{if(!compare(curr,{},path))return noMatch;currentCommandIndex++}currentPathIndex++}return{match:!0,pathIndex:currentPathIndex,commandIndex:currentCommandIndex}}(segmentGroup,startIndex,commands),slicedCommands=commands.slice(m.commandIndex);if(m.match&&m.pathIndex<segmentGroup.segments.length){const g=new UrlSegmentGroup(segmentGroup.segments.slice(0,m.pathIndex),{});return g.children.primary=new UrlSegmentGroup(segmentGroup.segments.slice(m.pathIndex),segmentGroup.children),updateSegmentGroupChildren(g,0,slicedCommands)}return m.match&&0===slicedCommands.length?new UrlSegmentGroup(segmentGroup.segments,{}):m.match&&!segmentGroup.hasChildren()?createNewSegmentGroup(segmentGroup,startIndex,commands):m.match?updateSegmentGroupChildren(segmentGroup,0,slicedCommands):createNewSegmentGroup(segmentGroup,startIndex,commands)}function updateSegmentGroupChildren(segmentGroup,startIndex,commands){if(0===commands.length)return new UrlSegmentGroup(segmentGroup.segments,{});{const outlets=function(commands){return\"object\"!=typeof commands[0]?{primary:commands}:void 0===commands[0].outlets?{primary:commands}:commands[0].outlets}(commands),children={};return forEach(outlets,(commands,outlet)=>{null!==commands&&(children[outlet]=updateSegmentGroup(segmentGroup.children[outlet],startIndex,commands))}),forEach(segmentGroup.children,(child,childOutlet)=>{void 0===outlets[childOutlet]&&(children[childOutlet]=child)}),new UrlSegmentGroup(segmentGroup.segments,children)}}function createNewSegmentGroup(segmentGroup,startIndex,commands){const paths=segmentGroup.segments.slice(0,startIndex);let i=0;for(;i<commands.length;){if(\"object\"==typeof commands[i]&&void 0!==commands[i].outlets){const children=createNewSegmentChildren(commands[i].outlets);return new UrlSegmentGroup(paths,children)}if(0===i&&isMatrixParams(commands[0])){paths.push(new UrlSegment(segmentGroup.segments[startIndex].path,commands[0])),i++;continue}const curr=getPath(commands[i]),next=i<commands.length-1?commands[i+1]:null;curr&&next&&isMatrixParams(next)?(paths.push(new UrlSegment(curr,router_stringify(next))),i+=2):(paths.push(new UrlSegment(curr,{})),i++)}return new UrlSegmentGroup(paths,{})}function createNewSegmentChildren(outlets){const children={};return forEach(outlets,(commands,outlet)=>{null!==commands&&(children[outlet]=createNewSegmentGroup(new UrlSegmentGroup([],{}),0,commands))}),children}function router_stringify(params){const res={};return forEach(params,(v,k)=>res[k]=`${v}`),res}function compare(path,params,segment){return path==segment.path&&shallowEqual(params,segment.parameters)}class ActivateRoutes{constructor(routeReuseStrategy,futureState,currState,forwardEvent){this.routeReuseStrategy=routeReuseStrategy,this.futureState=futureState,this.currState=currState,this.forwardEvent=forwardEvent}activate(parentContexts){const futureRoot=this.futureState._root,currRoot=this.currState?this.currState._root:null;this.deactivateChildRoutes(futureRoot,currRoot,parentContexts),advanceActivatedRoute(this.futureState.root),this.activateChildRoutes(futureRoot,currRoot,parentContexts)}deactivateChildRoutes(futureNode,currNode,contexts){const children=nodeChildrenAsMap(currNode);futureNode.children.forEach(futureChild=>{const childOutletName=futureChild.value.outlet;this.deactivateRoutes(futureChild,children[childOutletName],contexts),delete children[childOutletName]}),forEach(children,(v,childName)=>{this.deactivateRouteAndItsChildren(v,contexts)})}deactivateRoutes(futureNode,currNode,parentContext){const future=futureNode.value,curr=currNode?currNode.value:null;if(future===curr)if(future.component){const context=parentContext.getContext(future.outlet);context&&this.deactivateChildRoutes(futureNode,currNode,context.children)}else this.deactivateChildRoutes(futureNode,currNode,parentContext);else curr&&this.deactivateRouteAndItsChildren(currNode,parentContext)}deactivateRouteAndItsChildren(route,parentContexts){this.routeReuseStrategy.shouldDetach(route.value.snapshot)?this.detachAndStoreRouteSubtree(route,parentContexts):this.deactivateRouteAndOutlet(route,parentContexts)}detachAndStoreRouteSubtree(route,parentContexts){const context=parentContexts.getContext(route.value.outlet);if(context&&context.outlet){const componentRef=context.outlet.detach(),contexts=context.children.onOutletDeactivated();this.routeReuseStrategy.store(route.value.snapshot,{componentRef:componentRef,route:route,contexts:contexts})}}deactivateRouteAndOutlet(route,parentContexts){const context=parentContexts.getContext(route.value.outlet);if(context){const children=nodeChildrenAsMap(route),contexts=route.value.component?context.children:parentContexts;forEach(children,(v,k)=>this.deactivateRouteAndItsChildren(v,contexts)),context.outlet&&(context.outlet.deactivate(),context.children.onOutletDeactivated())}}activateChildRoutes(futureNode,currNode,contexts){const children=nodeChildrenAsMap(currNode);futureNode.children.forEach(c=>{this.activateRoutes(c,children[c.value.outlet],contexts),this.forwardEvent(new ActivationEnd(c.value.snapshot))}),futureNode.children.length&&this.forwardEvent(new ChildActivationEnd(futureNode.value.snapshot))}activateRoutes(futureNode,currNode,parentContexts){const future=futureNode.value,curr=currNode?currNode.value:null;if(advanceActivatedRoute(future),future===curr)if(future.component){const context=parentContexts.getOrCreateContext(future.outlet);this.activateChildRoutes(futureNode,currNode,context.children)}else this.activateChildRoutes(futureNode,currNode,parentContexts);else if(future.component){const context=parentContexts.getOrCreateContext(future.outlet);if(this.routeReuseStrategy.shouldAttach(future.snapshot)){const stored=this.routeReuseStrategy.retrieve(future.snapshot);this.routeReuseStrategy.store(future.snapshot,null),context.children.onOutletReAttached(stored.contexts),context.attachRef=stored.componentRef,context.route=stored.route.value,context.outlet&&context.outlet.attach(stored.componentRef,stored.route.value),advanceActivatedRouteNodeAndItsChildren(stored.route)}else{const config=function(snapshot){for(let s=snapshot.parent;s;s=s.parent){const route=s.routeConfig;if(route&&route._loadedConfig)return route._loadedConfig;if(route&&route.component)return null}return null}(future.snapshot),cmpFactoryResolver=config?config.module.componentFactoryResolver:null;context.attachRef=null,context.route=future,context.resolver=cmpFactoryResolver,context.outlet&&context.outlet.activateWith(future,cmpFactoryResolver),this.activateChildRoutes(futureNode,null,context.children)}}else this.activateChildRoutes(futureNode,null,parentContexts)}}function advanceActivatedRouteNodeAndItsChildren(node){advanceActivatedRoute(node.value),node.children.forEach(advanceActivatedRouteNodeAndItsChildren)}function router_isFunction(v){return\"function\"==typeof v}function isUrlTree(v){return v instanceof UrlTree}class NoMatch{constructor(segmentGroup){this.segmentGroup=segmentGroup||null}}class AbsoluteRedirect{constructor(urlTree){this.urlTree=urlTree}}function noMatch(segmentGroup){return new Observable_Observable(obs=>obs.error(new NoMatch(segmentGroup)))}function absoluteRedirect(newTree){return new Observable_Observable(obs=>obs.error(new AbsoluteRedirect(newTree)))}function namedOutletsRedirect(redirectTo){return new Observable_Observable(obs=>obs.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${redirectTo}'`)))}class router_ApplyRedirects{constructor(moduleInjector,configLoader,urlSerializer,urlTree,config){this.configLoader=configLoader,this.urlSerializer=urlSerializer,this.urlTree=urlTree,this.config=config,this.allowRedirects=!0,this.ngModule=moduleInjector.get(NgModuleRef)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,\"primary\").pipe(map(rootSegmentGroup=>this.createUrlTree(rootSegmentGroup,this.urlTree.queryParams,this.urlTree.fragment))).pipe(catchError(e=>{if(e instanceof AbsoluteRedirect)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof NoMatch)throw this.noMatchError(e);throw e}))}match(tree){return this.expandSegmentGroup(this.ngModule,this.config,tree.root,\"primary\").pipe(map(rootSegmentGroup=>this.createUrlTree(rootSegmentGroup,tree.queryParams,tree.fragment))).pipe(catchError(e=>{if(e instanceof NoMatch)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(rootCandidate,queryParams,fragment){const root=rootCandidate.segments.length>0?new UrlSegmentGroup([],{primary:rootCandidate}):rootCandidate;return new UrlTree(root,queryParams,fragment)}expandSegmentGroup(ngModule,routes,segmentGroup,outlet){return 0===segmentGroup.segments.length&&segmentGroup.hasChildren()?this.expandChildren(ngModule,routes,segmentGroup).pipe(map(children=>new UrlSegmentGroup([],children))):this.expandSegment(ngModule,segmentGroup,routes,segmentGroup.segments,outlet,!0)}expandChildren(ngModule,routes,segmentGroup){return function(obj,fn){if(0===Object.keys(obj).length)return of({});const waitHead=[],waitTail=[],res={};return forEach(obj,(a,k)=>{const mapped=fn(k,a).pipe(map(r=>res[k]=r));\"primary\"===k?waitHead.push(mapped):waitTail.push(mapped)}),of.apply(null,waitHead.concat(waitTail)).pipe(concatAll(),last_last(),map(()=>res))}(segmentGroup.children,(childOutlet,child)=>this.expandSegmentGroup(ngModule,routes,child,childOutlet))}expandSegment(ngModule,segmentGroup,routes,segments,outlet,allowRedirects){return of(...routes).pipe(map(r=>this.expandSegmentAgainstRoute(ngModule,segmentGroup,routes,r,segments,outlet,allowRedirects).pipe(catchError(e=>{if(e instanceof NoMatch)return of(null);throw e}))),concatAll(),first(s=>!!s),catchError((e,_)=>{if(e instanceof EmptyError||\"EmptyError\"===e.name){if(this.noLeftoversInUrl(segmentGroup,segments,outlet))return of(new UrlSegmentGroup([],{}));throw new NoMatch(segmentGroup)}throw e}))}noLeftoversInUrl(segmentGroup,segments,outlet){return 0===segments.length&&!segmentGroup.children[outlet]}expandSegmentAgainstRoute(ngModule,segmentGroup,routes,route,paths,outlet,allowRedirects){return getOutlet(route)!==outlet?noMatch(segmentGroup):void 0===route.redirectTo?this.matchSegmentAgainstRoute(ngModule,segmentGroup,route,paths):allowRedirects&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,paths,outlet):noMatch(segmentGroup)}expandSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,segments,outlet){return\"**\"===route.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(ngModule,routes,route,outlet):this.expandRegularSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,segments,outlet)}expandWildCardWithParamsAgainstRouteUsingRedirect(ngModule,routes,route,outlet){const newTree=this.applyRedirectCommands([],route.redirectTo,{});return route.redirectTo.startsWith(\"/\")?absoluteRedirect(newTree):this.lineralizeSegments(route,newTree).pipe(mergeMap(newSegments=>{const group=new UrlSegmentGroup(newSegments,{});return this.expandSegment(ngModule,group,routes,newSegments,outlet,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,segments,outlet){const{matched:matched,consumedSegments:consumedSegments,lastChild:lastChild,positionalParamSegments:positionalParamSegments}=match(segmentGroup,route,segments);if(!matched)return noMatch(segmentGroup);const newTree=this.applyRedirectCommands(consumedSegments,route.redirectTo,positionalParamSegments);return route.redirectTo.startsWith(\"/\")?absoluteRedirect(newTree):this.lineralizeSegments(route,newTree).pipe(mergeMap(newSegments=>this.expandSegment(ngModule,segmentGroup,routes,newSegments.concat(segments.slice(lastChild)),outlet,!1)))}matchSegmentAgainstRoute(ngModule,rawSegmentGroup,route,segments){if(\"**\"===route.path)return route.loadChildren?this.configLoader.load(ngModule.injector,route).pipe(map(cfg=>(route._loadedConfig=cfg,new UrlSegmentGroup(segments,{})))):of(new UrlSegmentGroup(segments,{}));const{matched:matched,consumedSegments:consumedSegments,lastChild:lastChild}=match(rawSegmentGroup,route,segments);if(!matched)return noMatch(rawSegmentGroup);const rawSlicedSegments=segments.slice(lastChild);return this.getChildConfig(ngModule,route,segments).pipe(mergeMap(routerConfig=>{const childModule=routerConfig.module,childConfig=routerConfig.routes,{segmentGroup:segmentGroup,slicedSegments:slicedSegments}=function(segmentGroup,consumedSegments,slicedSegments,config){return slicedSegments.length>0&&function(segmentGroup,segments,routes){return routes.some(r=>isEmptyPathRedirect(segmentGroup,segments,r)&&\"primary\"!==getOutlet(r))}(segmentGroup,slicedSegments,config)?{segmentGroup:mergeTrivialChildren(new UrlSegmentGroup(consumedSegments,function(routes,primarySegmentGroup){const res={};res.primary=primarySegmentGroup;for(const r of routes)\"\"===r.path&&\"primary\"!==getOutlet(r)&&(res[getOutlet(r)]=new UrlSegmentGroup([],{}));return res}(config,new UrlSegmentGroup(slicedSegments,segmentGroup.children)))),slicedSegments:[]}:0===slicedSegments.length&&function(segmentGroup,segments,routes){return routes.some(r=>isEmptyPathRedirect(segmentGroup,segments,r))}(segmentGroup,slicedSegments,config)?{segmentGroup:mergeTrivialChildren(new UrlSegmentGroup(segmentGroup.segments,function(segmentGroup,slicedSegments,routes,children){const res={};for(const r of routes)isEmptyPathRedirect(segmentGroup,slicedSegments,r)&&!children[getOutlet(r)]&&(res[getOutlet(r)]=new UrlSegmentGroup([],{}));return Object.assign(Object.assign({},children),res)}(segmentGroup,slicedSegments,config,segmentGroup.children))),slicedSegments:slicedSegments}:{segmentGroup:segmentGroup,slicedSegments:slicedSegments}}(rawSegmentGroup,consumedSegments,rawSlicedSegments,childConfig);return 0===slicedSegments.length&&segmentGroup.hasChildren()?this.expandChildren(childModule,childConfig,segmentGroup).pipe(map(children=>new UrlSegmentGroup(consumedSegments,children))):0===childConfig.length&&0===slicedSegments.length?of(new UrlSegmentGroup(consumedSegments,{})):this.expandSegment(childModule,segmentGroup,childConfig,slicedSegments,\"primary\",!0).pipe(map(cs=>new UrlSegmentGroup(consumedSegments.concat(cs.segments),cs.children)))}))}getChildConfig(ngModule,route,segments){return route.children?of(new LoadedRouterConfig(route.children,ngModule)):route.loadChildren?void 0!==route._loadedConfig?of(route._loadedConfig):function(moduleInjector,route,segments){const canLoad=route.canLoad;return canLoad&&0!==canLoad.length?from_from(canLoad).pipe(map(injectionToken=>{const guard=moduleInjector.get(injectionToken);let guardVal;if(function(guard){return guard&&router_isFunction(guard.canLoad)}(guard))guardVal=guard.canLoad(route,segments);else{if(!router_isFunction(guard))throw new Error(\"Invalid CanLoad guard\");guardVal=guard(route,segments)}return wrapIntoObservable(guardVal)})).pipe(concatAll(),(predicate=result=>!0===result,source=>source.lift(new EveryOperator(predicate,void 0,source)))):of(!0);var predicate}(ngModule.injector,route,segments).pipe(mergeMap(shouldLoad=>shouldLoad?this.configLoader.load(ngModule.injector,route).pipe(map(cfg=>(route._loadedConfig=cfg,cfg))):function(route){return new Observable_Observable(obs=>obs.error(navigationCancelingError(`Cannot load children because the guard of the route \"path: '${route.path}'\" returned false`)))}(route))):of(new LoadedRouterConfig([],ngModule))}lineralizeSegments(route,urlTree){let res=[],c=urlTree.root;for(;;){if(res=res.concat(c.segments),0===c.numberOfChildren)return of(res);if(c.numberOfChildren>1||!c.children.primary)return namedOutletsRedirect(route.redirectTo);c=c.children.primary}}applyRedirectCommands(segments,redirectTo,posParams){return this.applyRedirectCreatreUrlTree(redirectTo,this.urlSerializer.parse(redirectTo),segments,posParams)}applyRedirectCreatreUrlTree(redirectTo,urlTree,segments,posParams){const newRoot=this.createSegmentGroup(redirectTo,urlTree.root,segments,posParams);return new UrlTree(newRoot,this.createQueryParams(urlTree.queryParams,this.urlTree.queryParams),urlTree.fragment)}createQueryParams(redirectToParams,actualParams){const res={};return forEach(redirectToParams,(v,k)=>{if(\"string\"==typeof v&&v.startsWith(\":\")){const sourceName=v.substring(1);res[k]=actualParams[sourceName]}else res[k]=v}),res}createSegmentGroup(redirectTo,group,segments,posParams){const updatedSegments=this.createSegments(redirectTo,group.segments,segments,posParams);let children={};return forEach(group.children,(child,name)=>{children[name]=this.createSegmentGroup(redirectTo,child,segments,posParams)}),new UrlSegmentGroup(updatedSegments,children)}createSegments(redirectTo,redirectToSegments,actualSegments,posParams){return redirectToSegments.map(s=>s.path.startsWith(\":\")?this.findPosParam(redirectTo,s,posParams):this.findOrReturn(s,actualSegments))}findPosParam(redirectTo,redirectToUrlSegment,posParams){const pos=posParams[redirectToUrlSegment.path.substring(1)];if(!pos)throw new Error(`Cannot redirect to '${redirectTo}'. Cannot find '${redirectToUrlSegment.path}'.`);return pos}findOrReturn(redirectToUrlSegment,actualSegments){let idx=0;for(const s of actualSegments){if(s.path===redirectToUrlSegment.path)return actualSegments.splice(idx),s;idx++}return redirectToUrlSegment}}function match(segmentGroup,route,segments){if(\"\"===route.path)return\"full\"===route.pathMatch&&(segmentGroup.hasChildren()||segments.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const res=(route.matcher||defaultUrlMatcher)(segments,segmentGroup,route);return res?{matched:!0,consumedSegments:res.consumed,lastChild:res.consumed.length,positionalParamSegments:res.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function mergeTrivialChildren(s){if(1===s.numberOfChildren&&s.children.primary){const c=s.children.primary;return new UrlSegmentGroup(s.segments.concat(c.segments),c.children)}return s}function isEmptyPathRedirect(segmentGroup,segments,r){return(!(segmentGroup.hasChildren()||segments.length>0)||\"full\"!==r.pathMatch)&&\"\"===r.path&&void 0!==r.redirectTo}function getOutlet(route){return route.outlet||\"primary\"}class CanActivate{constructor(path){this.path=path,this.route=this.path[this.path.length-1]}}class CanDeactivate{constructor(component,route){this.component=component,this.route=route}}function getAllRouteGuards(future,curr,parentContexts){const futureRoot=future._root;return function getChildRouteGuards(futureNode,currNode,contexts,futurePath,checks={canDeactivateChecks:[],canActivateChecks:[]}){const prevChildren=nodeChildrenAsMap(currNode);return futureNode.children.forEach(c=>{!function(futureNode,currNode,parentContexts,futurePath,checks={canDeactivateChecks:[],canActivateChecks:[]}){const future=futureNode.value,curr=currNode?currNode.value:null,context=parentContexts?parentContexts.getContext(futureNode.value.outlet):null;if(curr&&future.routeConfig===curr.routeConfig){const shouldRun=function(curr,future,mode){if(\"function\"==typeof mode)return mode(curr,future);switch(mode){case\"pathParamsChange\":return!equalPath(curr.url,future.url);case\"pathParamsOrQueryParamsChange\":return!equalPath(curr.url,future.url)||!shallowEqual(curr.queryParams,future.queryParams);case\"always\":return!0;case\"paramsOrQueryParamsChange\":return!equalParamsAndUrlSegments(curr,future)||!shallowEqual(curr.queryParams,future.queryParams);case\"paramsChange\":default:return!equalParamsAndUrlSegments(curr,future)}}(curr,future,future.routeConfig.runGuardsAndResolvers);shouldRun?checks.canActivateChecks.push(new CanActivate(futurePath)):(future.data=curr.data,future._resolvedData=curr._resolvedData),getChildRouteGuards(futureNode,currNode,future.component?context?context.children:null:parentContexts,futurePath,checks),shouldRun&&checks.canDeactivateChecks.push(new CanDeactivate(context&&context.outlet&&context.outlet.component||null,curr))}else curr&&deactivateRouteAndItsChildren(currNode,context,checks),checks.canActivateChecks.push(new CanActivate(futurePath)),getChildRouteGuards(futureNode,null,future.component?context?context.children:null:parentContexts,futurePath,checks)}(c,prevChildren[c.value.outlet],contexts,futurePath.concat([c.value]),checks),delete prevChildren[c.value.outlet]}),forEach(prevChildren,(v,k)=>deactivateRouteAndItsChildren(v,contexts.getContext(k),checks)),checks}(futureRoot,curr?curr._root:null,parentContexts,[futureRoot.value])}function getToken(token,snapshot,moduleInjector){const config=function(snapshot){if(!snapshot)return null;for(let s=snapshot.parent;s;s=s.parent){const route=s.routeConfig;if(route&&route._loadedConfig)return route._loadedConfig}return null}(snapshot);return(config?config.module.injector:moduleInjector).get(token)}function deactivateRouteAndItsChildren(route,context,checks){const children=nodeChildrenAsMap(route),r=route.value;forEach(children,(node,childName)=>{deactivateRouteAndItsChildren(node,r.component?context?context.children.getContext(childName):null:context,checks)}),checks.canDeactivateChecks.push(new CanDeactivate(r.component&&context&&context.outlet&&context.outlet.isActivated?context.outlet.component:null,r))}const INITIAL_VALUE=Symbol(\"INITIAL_VALUE\");function prioritizedGuardValue(){return switchMap(obs=>function(...observables){let resultSelector=null,scheduler=null;return isScheduler(observables[observables.length-1])&&(scheduler=observables.pop()),\"function\"==typeof observables[observables.length-1]&&(resultSelector=observables.pop()),1===observables.length&&isArray(observables[0])&&(observables=observables[0]),fromArray(observables,scheduler).lift(new CombineLatestOperator(resultSelector))}(...obs.map(o=>o.pipe(take(1),function(...array){const scheduler=array[array.length-1];return isScheduler(scheduler)?(array.pop(),source=>concat(array,source,scheduler)):source=>concat(array,source)}(INITIAL_VALUE)))).pipe(scan((acc,list)=>{let isPending=!1;return list.reduce((innerAcc,val,i)=>{if(innerAcc!==INITIAL_VALUE)return innerAcc;if(val===INITIAL_VALUE&&(isPending=!0),!isPending){if(!1===val)return val;if(i===list.length-1||isUrlTree(val))return val}return innerAcc},acc)},INITIAL_VALUE),filter(item=>item!==INITIAL_VALUE),map(item=>isUrlTree(item)?item:!0===item),take(1)))}function fireActivationStart(snapshot,forwardEvent){return null!==snapshot&&forwardEvent&&forwardEvent(new ActivationStart(snapshot)),of(!0)}function fireChildActivationStart(snapshot,forwardEvent){return null!==snapshot&&forwardEvent&&forwardEvent(new ChildActivationStart(snapshot)),of(!0)}function runCanActivate(futureRSS,futureARS,moduleInjector){const canActivate=futureARS.routeConfig?futureARS.routeConfig.canActivate:null;return canActivate&&0!==canActivate.length?of(canActivate.map(c=>defer(()=>{const guard=getToken(c,futureARS,moduleInjector);let observable;if(function(guard){return guard&&router_isFunction(guard.canActivate)}(guard))observable=wrapIntoObservable(guard.canActivate(futureARS,futureRSS));else{if(!router_isFunction(guard))throw new Error(\"Invalid CanActivate guard\");observable=wrapIntoObservable(guard(futureARS,futureRSS))}return observable.pipe(first())}))).pipe(prioritizedGuardValue()):of(!0)}function runCanActivateChild(futureRSS,path,moduleInjector){const futureARS=path[path.length-1],canActivateChildGuardsMapped=path.slice(0,path.length-1).reverse().map(p=>function(p){const canActivateChild=p.routeConfig?p.routeConfig.canActivateChild:null;return canActivateChild&&0!==canActivateChild.length?{node:p,guards:canActivateChild}:null}(p)).filter(_=>null!==_).map(d=>defer(()=>of(d.guards.map(c=>{const guard=getToken(c,d.node,moduleInjector);let observable;if(function(guard){return guard&&router_isFunction(guard.canActivateChild)}(guard))observable=wrapIntoObservable(guard.canActivateChild(futureARS,futureRSS));else{if(!router_isFunction(guard))throw new Error(\"Invalid CanActivateChild guard\");observable=wrapIntoObservable(guard(futureARS,futureRSS))}return observable.pipe(first())})).pipe(prioritizedGuardValue())));return of(canActivateChildGuardsMapped).pipe(prioritizedGuardValue())}class NoMatch$1{}class router_Recognizer{constructor(rootComponentType,config,urlTree,url,paramsInheritanceStrategy,relativeLinkResolution){this.rootComponentType=rootComponentType,this.config=config,this.urlTree=urlTree,this.url=url,this.paramsInheritanceStrategy=paramsInheritanceStrategy,this.relativeLinkResolution=relativeLinkResolution}recognize(){try{const rootSegmentGroup=split$1(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,children=this.processSegmentGroup(this.config,rootSegmentGroup,\"primary\"),root=new ActivatedRouteSnapshot([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},\"primary\",this.rootComponentType,null,this.urlTree.root,-1,{}),rootNode=new TreeNode(root,children),routeState=new RouterStateSnapshot(this.url,rootNode);return this.inheritParamsAndData(routeState._root),of(routeState)}catch(e){return new Observable_Observable(obs=>obs.error(e))}}inheritParamsAndData(routeNode){const route=routeNode.value,i=inheritedParamsDataResolve(route,this.paramsInheritanceStrategy);route.params=Object.freeze(i.params),route.data=Object.freeze(i.data),routeNode.children.forEach(n=>this.inheritParamsAndData(n))}processSegmentGroup(config,segmentGroup,outlet){return 0===segmentGroup.segments.length&&segmentGroup.hasChildren()?this.processChildren(config,segmentGroup):this.processSegment(config,segmentGroup,segmentGroup.segments,outlet)}processChildren(config,segmentGroup){const children=mapChildrenIntoArray(segmentGroup,(child,childOutlet)=>this.processSegmentGroup(config,child,childOutlet));return function(nodes){const names={};nodes.forEach(n=>{const routeWithSameOutletName=names[n.value.outlet];if(routeWithSameOutletName){const p=routeWithSameOutletName.url.map(s=>s.toString()).join(\"/\"),c=n.value.url.map(s=>s.toString()).join(\"/\");throw new Error(`Two segments cannot have the same outlet name: '${p}' and '${c}'.`)}names[n.value.outlet]=n.value})}(children),children.sort((a,b)=>\"primary\"===a.value.outlet?-1:\"primary\"===b.value.outlet?1:a.value.outlet.localeCompare(b.value.outlet)),children}processSegment(config,segmentGroup,segments,outlet){for(const r of config)try{return this.processSegmentAgainstRoute(r,segmentGroup,segments,outlet)}catch(e){if(!(e instanceof NoMatch$1))throw e}if(this.noLeftoversInUrl(segmentGroup,segments,outlet))return[];throw new NoMatch$1}noLeftoversInUrl(segmentGroup,segments,outlet){return 0===segments.length&&!segmentGroup.children[outlet]}processSegmentAgainstRoute(route,rawSegment,segments,outlet){if(route.redirectTo)throw new NoMatch$1;if((route.outlet||\"primary\")!==outlet)throw new NoMatch$1;let snapshot,consumedSegments=[],rawSlicedSegments=[];if(\"**\"===route.path){const params=segments.length>0?router_last(segments).parameters:{};snapshot=new ActivatedRouteSnapshot(segments,params,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,getData(route),outlet,route.component,route,getSourceSegmentGroup(rawSegment),getPathIndexShift(rawSegment)+segments.length,getResolve(route))}else{const result=function(segmentGroup,route,segments){if(\"\"===route.path){if(\"full\"===route.pathMatch&&(segmentGroup.hasChildren()||segments.length>0))throw new NoMatch$1;return{consumedSegments:[],lastChild:0,parameters:{}}}const res=(route.matcher||defaultUrlMatcher)(segments,segmentGroup,route);if(!res)throw new NoMatch$1;const posParams={};forEach(res.posParams,(v,k)=>{posParams[k]=v.path});const parameters=res.consumed.length>0?Object.assign(Object.assign({},posParams),res.consumed[res.consumed.length-1].parameters):posParams;return{consumedSegments:res.consumed,lastChild:res.consumed.length,parameters:parameters}}(rawSegment,route,segments);consumedSegments=result.consumedSegments,rawSlicedSegments=segments.slice(result.lastChild),snapshot=new ActivatedRouteSnapshot(consumedSegments,result.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,getData(route),outlet,route.component,route,getSourceSegmentGroup(rawSegment),getPathIndexShift(rawSegment)+consumedSegments.length,getResolve(route))}const childConfig=function(route){return route.children?route.children:route.loadChildren?route._loadedConfig.routes:[]}(route),{segmentGroup:segmentGroup,slicedSegments:slicedSegments}=split$1(rawSegment,consumedSegments,rawSlicedSegments,childConfig,this.relativeLinkResolution);if(0===slicedSegments.length&&segmentGroup.hasChildren()){const children=this.processChildren(childConfig,segmentGroup);return[new TreeNode(snapshot,children)]}if(0===childConfig.length&&0===slicedSegments.length)return[new TreeNode(snapshot,[])];const children=this.processSegment(childConfig,segmentGroup,slicedSegments,\"primary\");return[new TreeNode(snapshot,children)]}}function getSourceSegmentGroup(segmentGroup){let s=segmentGroup;for(;s._sourceSegment;)s=s._sourceSegment;return s}function getPathIndexShift(segmentGroup){let s=segmentGroup,res=s._segmentIndexShift?s._segmentIndexShift:0;for(;s._sourceSegment;)s=s._sourceSegment,res+=s._segmentIndexShift?s._segmentIndexShift:0;return res-1}function split$1(segmentGroup,consumedSegments,slicedSegments,config,relativeLinkResolution){if(slicedSegments.length>0&&function(segmentGroup,slicedSegments,routes){return routes.some(r=>emptyPathMatch(segmentGroup,slicedSegments,r)&&\"primary\"!==getOutlet$1(r))}(segmentGroup,slicedSegments,config)){const s=new UrlSegmentGroup(consumedSegments,function(segmentGroup,consumedSegments,routes,primarySegment){const res={};res.primary=primarySegment,primarySegment._sourceSegment=segmentGroup,primarySegment._segmentIndexShift=consumedSegments.length;for(const r of routes)if(\"\"===r.path&&\"primary\"!==getOutlet$1(r)){const s=new UrlSegmentGroup([],{});s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,res[getOutlet$1(r)]=s}return res}(segmentGroup,consumedSegments,config,new UrlSegmentGroup(slicedSegments,segmentGroup.children)));return s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,{segmentGroup:s,slicedSegments:[]}}if(0===slicedSegments.length&&function(segmentGroup,slicedSegments,routes){return routes.some(r=>emptyPathMatch(segmentGroup,slicedSegments,r))}(segmentGroup,slicedSegments,config)){const s=new UrlSegmentGroup(segmentGroup.segments,function(segmentGroup,consumedSegments,slicedSegments,routes,children,relativeLinkResolution){const res={};for(const r of routes)if(emptyPathMatch(segmentGroup,slicedSegments,r)&&!children[getOutlet$1(r)]){const s=new UrlSegmentGroup([],{});s._sourceSegment=segmentGroup,s._segmentIndexShift=\"legacy\"===relativeLinkResolution?segmentGroup.segments.length:consumedSegments.length,res[getOutlet$1(r)]=s}return Object.assign(Object.assign({},children),res)}(segmentGroup,consumedSegments,slicedSegments,config,segmentGroup.children,relativeLinkResolution));return s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,{segmentGroup:s,slicedSegments:slicedSegments}}const s=new UrlSegmentGroup(segmentGroup.segments,segmentGroup.children);return s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,{segmentGroup:s,slicedSegments:slicedSegments}}function emptyPathMatch(segmentGroup,slicedSegments,r){return(!(segmentGroup.hasChildren()||slicedSegments.length>0)||\"full\"!==r.pathMatch)&&\"\"===r.path&&void 0===r.redirectTo}function getOutlet$1(route){return route.outlet||\"primary\"}function getData(route){return route.data||{}}function getResolve(route){return route.resolve||{}}function getResolver(injectionToken,futureARS,futureRSS,moduleInjector){const resolver=getToken(injectionToken,futureARS,moduleInjector);return wrapIntoObservable(resolver.resolve?resolver.resolve(futureARS,futureRSS):resolver(futureARS,futureRSS))}function switchTap(next){return function(source){return source.pipe(switchMap(v=>{const nextResult=next(v);return nextResult?from_from(nextResult).pipe(map(()=>v)):from_from([v])}))}}class DefaultRouteReuseStrategy{shouldDetach(route){return!1}store(route,detachedTree){}shouldAttach(route){return!1}retrieve(route){return null}shouldReuseRoute(future,curr){return future.routeConfig===curr.routeConfig}}const ROUTES=new InjectionToken(\"ROUTES\");class router_RouterConfigLoader{constructor(loader,compiler,onLoadStartListener,onLoadEndListener){this.loader=loader,this.compiler=compiler,this.onLoadStartListener=onLoadStartListener,this.onLoadEndListener=onLoadEndListener}load(parentInjector,route){return this.onLoadStartListener&&this.onLoadStartListener(route),this.loadModuleFactory(route.loadChildren).pipe(map(factory=>{this.onLoadEndListener&&this.onLoadEndListener(route);const module=factory.create(parentInjector);return new LoadedRouterConfig(router_flatten(module.injector.get(ROUTES)).map(standardizeConfig),module)}))}loadModuleFactory(loadChildren){return\"string\"==typeof loadChildren?from_from(this.loader.load(loadChildren)):wrapIntoObservable(loadChildren()).pipe(mergeMap(t=>t instanceof NgModuleFactory?of(t):from_from(this.compiler.compileModuleAsync(t))))}}class DefaultUrlHandlingStrategy{shouldProcessUrl(url){return!0}extract(url){return url}merge(newUrlPart,wholeUrl){return newUrlPart}}function defaultErrorHandler(error){throw error}function defaultMalformedUriErrorHandler(error,urlSerializer,url){return urlSerializer.parse(\"/\")}function defaultRouterHook(snapshot,runExtras){return of(null)}let router_Router=(()=>{class Router{constructor(rootComponentType,urlSerializer,rootContexts,location,injector,loader,compiler,config){this.rootComponentType=rootComponentType,this.urlSerializer=urlSerializer,this.rootContexts=rootContexts,this.location=location,this.config=config,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Subject_Subject,this.errorHandler=defaultErrorHandler,this.malformedUriErrorHandler=defaultMalformedUriErrorHandler,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:defaultRouterHook,afterPreactivation:defaultRouterHook},this.urlHandlingStrategy=new DefaultUrlHandlingStrategy,this.routeReuseStrategy=new DefaultRouteReuseStrategy,this.onSameUrlNavigation=\"ignore\",this.paramsInheritanceStrategy=\"emptyOnly\",this.urlUpdateStrategy=\"deferred\",this.relativeLinkResolution=\"legacy\",this.ngModule=injector.get(NgModuleRef),this.console=injector.get(Console);const ngZone=injector.get(NgZone);this.isNgZoneEnabled=ngZone instanceof NgZone,this.resetConfig(config),this.currentUrlTree=new UrlTree(new UrlSegmentGroup([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new router_RouterConfigLoader(loader,compiler,r=>this.triggerEvent(new RouteConfigLoadStart(r)),r=>this.triggerEvent(new RouteConfigLoadEnd(r))),this.routerState=createEmptyState(this.currentUrlTree,this.rootComponentType),this.transitions=new BehaviorSubject_BehaviorSubject({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:\"imperative\",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(transitions){const eventsSubject=this.events;return(transitions.pipe(filter(t=>0!==t.id),map(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),switchMap(t=>{let completed=!1,errored=!1;return of(t).pipe(tap(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),switchMap(t=>{const urlTransition=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if((\"reload\"===this.onSameUrlNavigation||urlTransition)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return of(t).pipe(switchMap(t=>{const transition=this.transitions.getValue();return eventsSubject.next(new NavigationStart(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),transition!==this.transitions.getValue()?empty_EMPTY:[t]}),switchMap(t=>Promise.resolve(t)),(moduleInjector=this.ngModule.injector,configLoader=this.configLoader,urlSerializer=this.urlSerializer,config=this.config,function(source){return source.pipe(switchMap(t=>function(moduleInjector,configLoader,urlSerializer,urlTree,config){return new router_ApplyRedirects(moduleInjector,configLoader,urlSerializer,urlTree,config).apply()}(moduleInjector,configLoader,urlSerializer,t.extractedUrl,config).pipe(map(urlAfterRedirects=>Object.assign(Object.assign({},t),{urlAfterRedirects:urlAfterRedirects})))))}),tap(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(rootComponentType,config,serializer,paramsInheritanceStrategy,relativeLinkResolution){return function(source){return source.pipe(mergeMap(t=>function(rootComponentType,config,urlTree,url,paramsInheritanceStrategy=\"emptyOnly\",relativeLinkResolution=\"legacy\"){return new router_Recognizer(rootComponentType,config,urlTree,url,paramsInheritanceStrategy,relativeLinkResolution).recognize()}(rootComponentType,config,t.urlAfterRedirects,serializer(t.urlAfterRedirects),paramsInheritanceStrategy,relativeLinkResolution).pipe(map(targetSnapshot=>Object.assign(Object.assign({},t),{targetSnapshot:targetSnapshot})))))}}(this.rootComponentType,this.config,url=>this.serializeUrl(url),this.paramsInheritanceStrategy,this.relativeLinkResolution),tap(t=>{\"eager\"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),tap(t=>{const routesRecognized=new RoutesRecognized(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);eventsSubject.next(routesRecognized)}));var moduleInjector,configLoader,urlSerializer,config;if(urlTransition&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:id,extractedUrl:extractedUrl,source:source,restoredState:restoredState,extras:extras}=t,navStart=new NavigationStart(id,this.serializeUrl(extractedUrl),source,restoredState);eventsSubject.next(navStart);const targetSnapshot=createEmptyState(extractedUrl,this.rootComponentType).snapshot;return of(Object.assign(Object.assign({},t),{targetSnapshot:targetSnapshot,urlAfterRedirects:extractedUrl,extras:Object.assign(Object.assign({},extras),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),empty_EMPTY}),switchTap(t=>{const{targetSnapshot:targetSnapshot,id:navigationId,extractedUrl:appliedUrlTree,rawUrl:rawUrlTree,extras:{skipLocationChange:skipLocationChange,replaceUrl:replaceUrl}}=t;return this.hooks.beforePreactivation(targetSnapshot,{navigationId:navigationId,appliedUrlTree:appliedUrlTree,rawUrlTree:rawUrlTree,skipLocationChange:!!skipLocationChange,replaceUrl:!!replaceUrl})}),tap(t=>{const guardsStart=new GuardsCheckStart(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(guardsStart)}),map(t=>Object.assign(Object.assign({},t),{guards:getAllRouteGuards(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(moduleInjector,forwardEvent){return function(source){return source.pipe(mergeMap(t=>{const{targetSnapshot:targetSnapshot,currentSnapshot:currentSnapshot,guards:{canActivateChecks:canActivateChecks,canDeactivateChecks:canDeactivateChecks}}=t;return 0===canDeactivateChecks.length&&0===canActivateChecks.length?of(Object.assign(Object.assign({},t),{guardsResult:!0})):function(checks,futureRSS,currRSS,moduleInjector){return from_from(checks).pipe(mergeMap(check=>function(component,currARS,currRSS,futureRSS,moduleInjector){const canDeactivate=currARS&&currARS.routeConfig?currARS.routeConfig.canDeactivate:null;return canDeactivate&&0!==canDeactivate.length?of(canDeactivate.map(c=>{const guard=getToken(c,currARS,moduleInjector);let observable;if(function(guard){return guard&&router_isFunction(guard.canDeactivate)}(guard))observable=wrapIntoObservable(guard.canDeactivate(component,currARS,currRSS,futureRSS));else{if(!router_isFunction(guard))throw new Error(\"Invalid CanDeactivate guard\");observable=wrapIntoObservable(guard(component,currARS,currRSS,futureRSS))}return observable.pipe(first())})).pipe(prioritizedGuardValue()):of(!0)}(check.component,check.route,currRSS,futureRSS,moduleInjector)),first(result=>!0!==result,!0))}(canDeactivateChecks,targetSnapshot,currentSnapshot,moduleInjector).pipe(mergeMap(canDeactivate=>canDeactivate&&\"boolean\"==typeof canDeactivate?function(futureSnapshot,checks,moduleInjector,forwardEvent){return from_from(checks).pipe(concatMap(check=>from_from([fireChildActivationStart(check.route.parent,forwardEvent),fireActivationStart(check.route,forwardEvent),runCanActivateChild(futureSnapshot,check.path,moduleInjector),runCanActivate(futureSnapshot,check.route,moduleInjector)]).pipe(concatAll(),first(result=>!0!==result,!0))),first(result=>!0!==result,!0))}(targetSnapshot,canActivateChecks,moduleInjector,forwardEvent):of(canDeactivate)),map(guardsResult=>Object.assign(Object.assign({},t),{guardsResult:guardsResult})))}))}}(this.ngModule.injector,evt=>this.triggerEvent(evt)),tap(t=>{if(isUrlTree(t.guardsResult)){const error=navigationCancelingError(`Redirecting to \"${this.serializeUrl(t.guardsResult)}\"`);throw error.url=t.guardsResult,error}}),tap(t=>{const guardsEnd=new GuardsCheckEnd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(guardsEnd)}),filter(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const navCancel=new NavigationCancel(t.id,this.serializeUrl(t.extractedUrl),\"\");return eventsSubject.next(navCancel),t.resolve(!1),!1}return!0}),switchTap(t=>{if(t.guards.canActivateChecks.length)return of(t).pipe(tap(t=>{const resolveStart=new ResolveStart(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(resolveStart)}),(paramsInheritanceStrategy=this.paramsInheritanceStrategy,moduleInjector=this.ngModule.injector,function(source){return source.pipe(mergeMap(t=>{const{targetSnapshot:targetSnapshot,guards:{canActivateChecks:canActivateChecks}}=t;return canActivateChecks.length?from_from(canActivateChecks).pipe(concatMap(check=>function(futureARS,futureRSS,paramsInheritanceStrategy,moduleInjector){return function(resolve,futureARS,futureRSS,moduleInjector){const keys=Object.keys(resolve);if(0===keys.length)return of({});if(1===keys.length){const key=keys[0];return getResolver(resolve[key],futureARS,futureRSS,moduleInjector).pipe(map(value=>({[key]:value})))}const data={};return from_from(keys).pipe(mergeMap(key=>getResolver(resolve[key],futureARS,futureRSS,moduleInjector).pipe(map(value=>(data[key]=value,value))))).pipe(last_last(),map(()=>data))}(futureARS._resolve,futureARS,futureRSS,moduleInjector).pipe(map(resolvedData=>(futureARS._resolvedData=resolvedData,futureARS.data=Object.assign(Object.assign({},futureARS.data),inheritedParamsDataResolve(futureARS,paramsInheritanceStrategy).resolve),null)))}(check.route,targetSnapshot,paramsInheritanceStrategy,moduleInjector)),function(accumulator,seed){return arguments.length>=2?function(source){return pipe(scan(accumulator,seed),takeLast(1),defaultIfEmpty(seed))(source)}:function(source){return pipe(scan((acc,value,index)=>accumulator(acc,value,index+1)),takeLast(1))(source)}}((_,__)=>_),map(_=>t)):of(t)}))}),tap(t=>{const resolveEnd=new ResolveEnd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(resolveEnd)}));var paramsInheritanceStrategy,moduleInjector}),switchTap(t=>{const{targetSnapshot:targetSnapshot,id:navigationId,extractedUrl:appliedUrlTree,rawUrl:rawUrlTree,extras:{skipLocationChange:skipLocationChange,replaceUrl:replaceUrl}}=t;return this.hooks.afterPreactivation(targetSnapshot,{navigationId:navigationId,appliedUrlTree:appliedUrlTree,rawUrlTree:rawUrlTree,skipLocationChange:!!skipLocationChange,replaceUrl:!!replaceUrl})}),map(t=>{const targetRouterState=function(routeReuseStrategy,curr,prevState){const root=function createNode(routeReuseStrategy,curr,prevState){if(prevState&&routeReuseStrategy.shouldReuseRoute(curr.value,prevState.value.snapshot)){const value=prevState.value;value._futureSnapshot=curr.value;const children=function(routeReuseStrategy,curr,prevState){return curr.children.map(child=>{for(const p of prevState.children)if(routeReuseStrategy.shouldReuseRoute(p.value.snapshot,child.value))return createNode(routeReuseStrategy,child,p);return createNode(routeReuseStrategy,child)})}(routeReuseStrategy,curr,prevState);return new TreeNode(value,children)}{const detachedRouteHandle=routeReuseStrategy.retrieve(curr.value);if(detachedRouteHandle){const tree=detachedRouteHandle.route;return function setFutureSnapshotsOfActivatedRoutes(curr,result){if(curr.value.routeConfig!==result.value.routeConfig)throw new Error(\"Cannot reattach ActivatedRouteSnapshot created from a different route\");if(curr.children.length!==result.children.length)throw new Error(\"Cannot reattach ActivatedRouteSnapshot with a different number of children\");result.value._futureSnapshot=curr.value;for(let i=0;i<curr.children.length;++i)setFutureSnapshotsOfActivatedRoutes(curr.children[i],result.children[i])}(curr,tree),tree}{const value=new router_ActivatedRoute(new BehaviorSubject_BehaviorSubject((c=curr.value).url),new BehaviorSubject_BehaviorSubject(c.params),new BehaviorSubject_BehaviorSubject(c.queryParams),new BehaviorSubject_BehaviorSubject(c.fragment),new BehaviorSubject_BehaviorSubject(c.data),c.outlet,c.component,c),children=curr.children.map(c=>createNode(routeReuseStrategy,c));return new TreeNode(value,children)}}var c}(routeReuseStrategy,curr._root,prevState?prevState._root:void 0);return new RouterState(root,curr)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:targetRouterState})}),tap(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,\"deferred\"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(rootContexts=this.rootContexts,routeReuseStrategy=this.routeReuseStrategy,forwardEvent=evt=>this.triggerEvent(evt),map(t=>(new ActivateRoutes(routeReuseStrategy,t.targetRouterState,t.currentRouterState,forwardEvent).activate(rootContexts),t))),tap({next(){completed=!0},complete(){completed=!0}}),(callback=()=>{if(!completed&&!errored){this.resetUrlToCurrentUrlTree();const navCancel=new NavigationCancel(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);eventsSubject.next(navCancel),t.resolve(!1)}this.currentNavigation=null},source=>source.lift(new FinallyOperator(callback))),catchError(e=>{if(errored=!0,(error=e)&&error.ngNavigationCancelingError){const redirecting=isUrlTree(e.url);redirecting||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const navCancel=new NavigationCancel(t.id,this.serializeUrl(t.extractedUrl),e.message);eventsSubject.next(navCancel),redirecting?setTimeout(()=>{const mergedTree=this.urlHandlingStrategy.merge(e.url,this.rawUrlTree);return this.scheduleNavigation(mergedTree,\"imperative\",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:\"eager\"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const navError=new NavigationError(t.id,this.serializeUrl(t.extractedUrl),e);eventsSubject.next(navError);try{t.resolve(this.errorHandler(e))}catch(ee){t.reject(ee)}}var error;return empty_EMPTY}));var callback,rootContexts,routeReuseStrategy,forwardEvent})))}resetRootComponentType(rootComponentType){this.rootComponentType=rootComponentType,this.routerState.root.component=this.rootComponentType}getTransition(){const transition=this.transitions.value;return transition.urlAfterRedirects=this.browserUrlTree,transition}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(change=>{let rawUrlTree=this.parseUrl(change.url);const source=\"popstate\"===change.type?\"popstate\":\"hashchange\",state=change.state&&change.state.navigationId?change.state:null;setTimeout(()=>{this.scheduleNavigation(rawUrlTree,source,state,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(event){this.events.next(event)}resetConfig(config){validateConfig(config),this.config=config.map(standardizeConfig),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(commands,navigationExtras={}){const{relativeTo:relativeTo,queryParams:queryParams,fragment:fragment,preserveQueryParams:preserveQueryParams,queryParamsHandling:queryParamsHandling,preserveFragment:preserveFragment}=navigationExtras;isDevMode()&&preserveQueryParams&&console&&console.warn&&console.warn(\"preserveQueryParams is deprecated, use queryParamsHandling instead.\");const a=relativeTo||this.routerState.root,f=preserveFragment?this.currentUrlTree.fragment:fragment;let q=null;if(queryParamsHandling)switch(queryParamsHandling){case\"merge\":q=Object.assign(Object.assign({},this.currentUrlTree.queryParams),queryParams);break;case\"preserve\":q=this.currentUrlTree.queryParams;break;default:q=queryParams||null}else q=preserveQueryParams?this.currentUrlTree.queryParams:queryParams||null;return null!==q&&(q=this.removeEmptyProps(q)),function(route,urlTree,commands,queryParams,fragment){if(0===commands.length)return router_tree(urlTree.root,urlTree.root,urlTree,queryParams,fragment);const nav=function(commands){if(\"string\"==typeof commands[0]&&1===commands.length&&\"/\"===commands[0])return new Navigation(!0,0,commands);let numberOfDoubleDots=0,isAbsolute=!1;const res=commands.reduce((res,cmd,cmdIdx)=>{if(\"object\"==typeof cmd&&null!=cmd){if(cmd.outlets){const outlets={};return forEach(cmd.outlets,(commands,name)=>{outlets[name]=\"string\"==typeof commands?commands.split(\"/\"):commands}),[...res,{outlets:outlets}]}if(cmd.segmentPath)return[...res,cmd.segmentPath]}return\"string\"!=typeof cmd?[...res,cmd]:0===cmdIdx?(cmd.split(\"/\").forEach((urlPart,partIndex)=>{0==partIndex&&\".\"===urlPart||(0==partIndex&&\"\"===urlPart?isAbsolute=!0:\"..\"===urlPart?numberOfDoubleDots++:\"\"!=urlPart&&res.push(urlPart))}),res):[...res,cmd]},[]);return new Navigation(isAbsolute,numberOfDoubleDots,res)}(commands);if(nav.toRoot())return router_tree(urlTree.root,new UrlSegmentGroup([],{}),urlTree,queryParams,fragment);const startingPosition=function(nav,tree,route){if(nav.isAbsolute)return new Position(tree.root,!0,0);if(-1===route.snapshot._lastPathIndex)return new Position(route.snapshot._urlSegment,!0,0);const modifier=isMatrixParams(nav.commands[0])?0:1;return function(group,index,numberOfDoubleDots){let g=group,ci=index,dd=numberOfDoubleDots;for(;dd>ci;){if(dd-=ci,g=g.parent,!g)throw new Error(\"Invalid number of '../'\");ci=g.segments.length}return new Position(g,!1,ci-dd)}(route.snapshot._urlSegment,route.snapshot._lastPathIndex+modifier,nav.numberOfDoubleDots)}(nav,urlTree,route),segmentGroup=startingPosition.processChildren?updateSegmentGroupChildren(startingPosition.segmentGroup,startingPosition.index,nav.commands):updateSegmentGroup(startingPosition.segmentGroup,startingPosition.index,nav.commands);return router_tree(startingPosition.segmentGroup,segmentGroup,urlTree,queryParams,fragment)}(a,this.currentUrlTree,commands,q,f)}navigateByUrl(url,extras={skipLocationChange:!1}){isDevMode()&&this.isNgZoneEnabled&&!NgZone.isInAngularZone()&&this.console.warn(\"Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?\");const urlTree=isUrlTree(url)?url:this.parseUrl(url),mergedTree=this.urlHandlingStrategy.merge(urlTree,this.rawUrlTree);return this.scheduleNavigation(mergedTree,\"imperative\",null,extras)}navigate(commands,extras={skipLocationChange:!1}){return function(commands){for(let i=0;i<commands.length;i++){const cmd=commands[i];if(null==cmd)throw new Error(`The requested path contains ${cmd} segment at index ${i}`)}}(commands),this.navigateByUrl(this.createUrlTree(commands,extras),extras)}serializeUrl(url){return this.urlSerializer.serialize(url)}parseUrl(url){let urlTree;try{urlTree=this.urlSerializer.parse(url)}catch(e){urlTree=this.malformedUriErrorHandler(e,this.urlSerializer,url)}return urlTree}isActive(url,exact){if(isUrlTree(url))return containsTree(this.currentUrlTree,url,exact);const urlTree=this.parseUrl(url);return containsTree(this.currentUrlTree,urlTree,exact)}removeEmptyProps(params){return Object.keys(params).reduce((result,key)=>{const value=params[key];return null!=value&&(result[key]=value),result},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new NavigationEnd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},e=>{this.console.warn(\"Unhandled Navigation Error: \")})}scheduleNavigation(rawUrl,source,restoredState,extras,priorPromise){const lastNavigation=this.getTransition();if(lastNavigation&&\"imperative\"!==source&&\"imperative\"===lastNavigation.source&&lastNavigation.rawUrl.toString()===rawUrl.toString())return Promise.resolve(!0);if(lastNavigation&&\"hashchange\"==source&&\"popstate\"===lastNavigation.source&&lastNavigation.rawUrl.toString()===rawUrl.toString())return Promise.resolve(!0);if(lastNavigation&&\"popstate\"==source&&\"hashchange\"===lastNavigation.source&&lastNavigation.rawUrl.toString()===rawUrl.toString())return Promise.resolve(!0);let resolve,reject,promise;priorPromise?(resolve=priorPromise.resolve,reject=priorPromise.reject,promise=priorPromise.promise):promise=new Promise((res,rej)=>{resolve=res,reject=rej});const id=++this.navigationId;return this.setTransition({id:id,source:source,restoredState:restoredState,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:rawUrl,extras:extras,resolve:resolve,reject:reject,promise:promise,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),promise.catch(e=>Promise.reject(e))}setBrowserUrl(url,replaceUrl,id,state){const path=this.urlSerializer.serialize(url);state=state||{},this.location.isCurrentPathEqualTo(path)||replaceUrl?this.location.replaceState(path,\"\",Object.assign(Object.assign({},state),{navigationId:id})):this.location.go(path,\"\",Object.assign(Object.assign({},state),{navigationId:id}))}resetStateAndUrl(storedState,storedUrl,rawUrl){this.routerState=storedState,this.currentUrlTree=storedUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,rawUrl),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),\"\",{navigationId:this.lastSuccessfulId})}}return Router.fac=function(t){invalidFactory()},Router.dir=defineDirective({type:Router}),Router})();class OutletContext{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ChildrenOutletContexts,this.attachRef=null}}class ChildrenOutletContexts{constructor(){this.contexts=new Map}onChildOutletCreated(childName,outlet){const context=this.getOrCreateContext(childName);context.outlet=outlet,this.contexts.set(childName,context)}onChildOutletDestroyed(childName){const context=this.getContext(childName);context&&(context.outlet=null)}onOutletDeactivated(){const contexts=this.contexts;return this.contexts=new Map,contexts}onOutletReAttached(contexts){this.contexts=contexts}getOrCreateContext(childName){let context=this.getContext(childName);return context||(context=new OutletContext,this.contexts.set(childName,context)),context}getContext(childName){return this.contexts.get(childName)||null}}let router_RouterOutlet=(()=>{class RouterOutlet{constructor(parentContexts,location,resolver,name,changeDetector){this.parentContexts=parentContexts,this.location=location,this.resolver=resolver,this.changeDetector=changeDetector,this.activated=null,this._activatedRoute=null,this.activateEvents=new core_EventEmitter,this.deactivateEvents=new core_EventEmitter,this.name=name||\"primary\",parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const context=this.parentContexts.getContext(this.name);context&&context.route&&(context.attachRef?this.attach(context.attachRef,context.route):this.activateWith(context.route,context.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error(\"Outlet is not activated\");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error(\"Outlet is not activated\");return(this._activatedRoute)}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error(\"Outlet is not activated\");this.location.detach();const cmp=this.activated;return this.activated=null,this._activatedRoute=null,cmp}attach(ref,activatedRoute){this.activated=ref,this._activatedRoute=activatedRoute,this.location.insert(ref.hostView)}deactivate(){if(this.activated){const c=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(c)}}activateWith(activatedRoute,resolver){if(this.isActivated)throw new Error(\"Cannot activate an already activated outlet\");this._activatedRoute=activatedRoute;const factory=(resolver=resolver||this.resolver).resolveComponentFactory(activatedRoute._futureSnapshot.routeConfig.component),childContexts=this.parentContexts.getOrCreateContext(this.name).children,injector=new OutletInjector(activatedRoute,childContexts,this.location.injector);this.activated=this.location.createComponent(factory,this.location.length,injector),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return RouterOutlet.fac=function(t){return new(t||RouterOutlet)(directiveInject(ChildrenOutletContexts),directiveInject(ViewContainerRef),directiveInject(ComponentFactoryResolver),(\"name\",function(tNode,attrNameToInject){const attrs=tNode.attrs;if(attrs){const attrsLength=attrs.length;let i=0;for(;i<attrsLength;){const value=attrs[i];if(isNameOnlyAttributeMarker(value))break;if(0===value)i+=2;else if(\"number\"==typeof value)for(i++;i<attrsLength&&\"string\"==typeof attrs[i];)i++;else{if(\"name\"===value)return attrs[i+1];i+=2}}}return null}(getPreviousOrParentTNode())),directiveInject(ChangeDetectorRef))},RouterOutlet.dir=defineDirective({type:RouterOutlet,selectors:[[\"router-outlet\"]],outputs:{activateEvents:\"activate\",deactivateEvents:\"deactivate\"},exportAs:[\"outlet\"]}),RouterOutlet})();class OutletInjector{constructor(route,childContexts,parent){this.route=route,this.childContexts=childContexts,this.parent=parent}get(token,notFoundValue){return token===router_ActivatedRoute?this.route:token===ChildrenOutletContexts?this.childContexts:this.parent.get(token,notFoundValue)}}class PreloadingStrategy{}class router_NoPreloading{preload(route,fn){return of(null)}}let router_RouterPreloader=(()=>{class RouterPreloader{constructor(router,moduleLoader,compiler,injector,preloadingStrategy){this.router=router,this.injector=injector,this.preloadingStrategy=preloadingStrategy,this.loader=new router_RouterConfigLoader(moduleLoader,compiler,r=>router.triggerEvent(new RouteConfigLoadStart(r)),r=>router.triggerEvent(new RouteConfigLoadEnd(r)))}setUpPreloading(){this.subscription=this.router.events.pipe(filter(e=>e instanceof NavigationEnd),concatMap(()=>this.preload())).subscribe(()=>{})}preload(){const ngModule=this.injector.get(NgModuleRef);return this.processRoutes(ngModule,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(ngModule,routes){const res=[];for(const route of routes)if(route.loadChildren&&!route.canLoad&&route._loadedConfig){const childConfig=route._loadedConfig;res.push(this.processRoutes(childConfig.module,childConfig.routes))}else route.loadChildren&&!route.canLoad?res.push(this.preloadConfig(ngModule,route)):route.children&&res.push(this.processRoutes(ngModule,route.children));return from_from(res).pipe(mergeAll(),map(_=>{}))}preloadConfig(ngModule,route){return this.preloadingStrategy.preload(route,()=>this.loader.load(ngModule.injector,route).pipe(mergeMap(config=>(route._loadedConfig=config,this.processRoutes(config.module,config.routes)))))}}return RouterPreloader.fac=function(t){return new(t||RouterPreloader)(inject(router_Router),inject(NgModuleFactoryLoader),inject(Compiler),inject(Injector),inject(PreloadingStrategy))},RouterPreloader.prov=defineInjectable({token:RouterPreloader,factory:RouterPreloader.fac}),RouterPreloader})(),router_RouterScroller=(()=>{class RouterScroller{constructor(router,viewportScroller,options={}){this.router=router,this.viewportScroller=viewportScroller,this.options=options,this.lastId=0,this.lastSource=\"imperative\",this.restoredId=0,this.store={},options.scrollPositionRestoration=options.scrollPositionRestoration||\"disabled\",options.anchorScrolling=options.anchorScrolling||\"disabled\"}init(){\"disabled\"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration(\"manual\"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof NavigationStart?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof NavigationEnd&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Scroll&&(e.position?\"top\"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):\"enabled\"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&\"enabled\"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):\"disabled\"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(routerEvent,anchor){this.router.triggerEvent(new Scroll(routerEvent,\"popstate\"===this.lastSource?this.store[this.restoredId]:null,anchor))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return RouterScroller.fac=function(t){invalidFactory()},RouterScroller.dir=defineDirective({type:RouterScroller}),RouterScroller})();const ROUTER_CONFIGURATION=new InjectionToken(\"ROUTER_CONFIGURATION\"),ROUTER_FORROOT_GUARD=new InjectionToken(\"ROUTER_FORROOT_GUARD\"),ROUTER_PROVIDERS=[common_Location,{provide:UrlSerializer,useClass:DefaultUrlSerializer},{provide:router_Router,useFactory:function(urlSerializer,contexts,location,injector,loader,compiler,config,opts={},urlHandlingStrategy,routeReuseStrategy){const router=new router_Router(null,urlSerializer,contexts,location,injector,loader,compiler,router_flatten(config));if(urlHandlingStrategy&&(router.urlHandlingStrategy=urlHandlingStrategy),routeReuseStrategy&&(router.routeReuseStrategy=routeReuseStrategy),opts.errorHandler&&(router.errorHandler=opts.errorHandler),opts.malformedUriErrorHandler&&(router.malformedUriErrorHandler=opts.malformedUriErrorHandler),opts.enableTracing){const dom=getDOM();router.events.subscribe(e=>{dom.logGroup(`Router Event: ${e.constructor.name}`),dom.log(e.toString()),dom.log(e),dom.logGroupEnd()})}return opts.onSameUrlNavigation&&(router.onSameUrlNavigation=opts.onSameUrlNavigation),opts.paramsInheritanceStrategy&&(router.paramsInheritanceStrategy=opts.paramsInheritanceStrategy),opts.urlUpdateStrategy&&(router.urlUpdateStrategy=opts.urlUpdateStrategy),opts.relativeLinkResolution&&(router.relativeLinkResolution=opts.relativeLinkResolution),router},deps:[UrlSerializer,ChildrenOutletContexts,common_Location,Injector,NgModuleFactoryLoader,Compiler,ROUTES,ROUTER_CONFIGURATION,[class{},new Optional],[class{},new Optional]]},ChildrenOutletContexts,{provide:router_ActivatedRoute,useFactory:function(router){return router.routerState.root},deps:[router_Router]},{provide:NgModuleFactoryLoader,useClass:SystemJsNgModuleLoader},router_RouterPreloader,router_NoPreloading,class{preload(route,fn){return fn().pipe(catchError(()=>of(null)))}},{provide:ROUTER_CONFIGURATION,useValue:{enableTracing:!1}}];function routerNgProbeToken(){return new NgProbeToken(\"Router\",router_Router)}let router_RouterModule=(()=>{class RouterModule{constructor(guard,router){}static forRoot(routes,config){return{ngModule:RouterModule,providers:[ROUTER_PROVIDERS,provideRoutes(routes),{provide:ROUTER_FORROOT_GUARD,useFactory:provideForRootGuard,deps:[[router_Router,new Optional,new SkipSelf]]},{provide:ROUTER_CONFIGURATION,useValue:config||{}},{provide:common_LocationStrategy,useFactory:router_provideLocationStrategy,deps:[common_PlatformLocation,[new Inject(APP_BASE_HREF),new Optional],ROUTER_CONFIGURATION]},{provide:router_RouterScroller,useFactory:createRouterScroller,deps:[router_Router,common_ViewportScroller,ROUTER_CONFIGURATION]},{provide:PreloadingStrategy,useExisting:config&&config.preloadingStrategy?config.preloadingStrategy:router_NoPreloading},{provide:NgProbeToken,multi:!0,useFactory:routerNgProbeToken},[router_RouterInitializer,{provide:APP_INITIALIZER,multi:!0,useFactory:getAppInitializer,deps:[router_RouterInitializer]},{provide:ROUTER_INITIALIZER,useFactory:getBootstrapListener,deps:[router_RouterInitializer]},{provide:APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:ROUTER_INITIALIZER}]]}}static forChild(routes){return{ngModule:RouterModule,providers:[provideRoutes(routes)]}}}return RouterModule.mod=defineNgModule({type:RouterModule}),RouterModule.inj=defineInjector({factory:function(t){return new(t||RouterModule)(inject(ROUTER_FORROOT_GUARD,8),inject(router_Router,8))}}),RouterModule})();function createRouterScroller(router,viewportScroller,config){return config.scrollOffset&&viewportScroller.setOffset(config.scrollOffset),new router_RouterScroller(router,viewportScroller,config)}function router_provideLocationStrategy(platformLocationStrategy,baseHref,options={}){return options.useHash?new common_HashLocationStrategy(platformLocationStrategy,baseHref):new common_PathLocationStrategy(platformLocationStrategy,baseHref)}function provideForRootGuard(router){if(router)throw new Error(\"RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.\");return\"guarded\"}function provideRoutes(routes){return[{provide:ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:routes},{provide:ROUTES,multi:!0,useValue:routes}]}let router_RouterInitializer=(()=>{class RouterInitializer{constructor(injector){this.injector=injector,this.initNavigation=!1,this.resultOfPreactivationDone=new Subject_Subject}appInitializer(){return this.injector.get(LOCATION_INITIALIZED,Promise.resolve(null)).then(()=>{let resolve=null;const res=new Promise(r=>resolve=r),router=this.injector.get(router_Router),opts=this.injector.get(ROUTER_CONFIGURATION);if(this.isLegacyDisabled(opts)||this.isLegacyEnabled(opts))resolve(!0);else if(\"disabled\"===opts.initialNavigation)router.setUpLocationChangeListener(),resolve(!0);else{if(\"enabled\"!==opts.initialNavigation)throw new Error(`Invalid initialNavigation options: '${opts.initialNavigation}'`);router.hooks.afterPreactivation=()=>this.initNavigation?of(null):(this.initNavigation=!0,resolve(!0),this.resultOfPreactivationDone),router.initialNavigation()}return res})}bootstrapListener(bootstrappedComponentRef){const opts=this.injector.get(ROUTER_CONFIGURATION),preloader=this.injector.get(router_RouterPreloader),routerScroller=this.injector.get(router_RouterScroller),router=this.injector.get(router_Router),ref=this.injector.get(core_ApplicationRef);bootstrappedComponentRef===ref.components[0]&&(this.isLegacyEnabled(opts)?router.initialNavigation():this.isLegacyDisabled(opts)&&router.setUpLocationChangeListener(),preloader.setUpPreloading(),routerScroller.init(),router.resetRootComponentType(ref.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(opts){return\"legacy_enabled\"===opts.initialNavigation||!0===opts.initialNavigation||void 0===opts.initialNavigation}isLegacyDisabled(opts){return\"legacy_disabled\"===opts.initialNavigation||!1===opts.initialNavigation}}return RouterInitializer.fac=function(t){return new(t||RouterInitializer)(inject(Injector))},RouterInitializer.prov=defineInjectable({token:RouterInitializer,factory:RouterInitializer.fac}),RouterInitializer})();function getAppInitializer(r){return r.appInitializer.bind(r)}function getBootstrapListener(r){return r.bootstrapListener.bind(r)}const ROUTER_INITIALIZER=new InjectionToken(\"Router Initializer\"),app_routing_module_routes=[];let app_routing_module_AppRoutingModule=(()=>{class AppRoutingModule{}return AppRoutingModule.mod=defineNgModule({type:AppRoutingModule}),AppRoutingModule.inj=defineInjector({factory:function(t){return new(t||AppRoutingModule)},imports:[[router_RouterModule.forRoot(app_routing_module_routes)],router_RouterModule]}),AppRoutingModule})();function isFunction_isFunction(x){return\"function\"==typeof x}let config_enable_super_gross_mode_that_will_cause_bad_things=!1;const internal_config_config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(value){if(value){const error=new Error;console.warn(\"DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n\"+error.stack)}else config_enable_super_gross_mode_that_will_cause_bad_things&&console.log(\"RxJS: Back to a better error behavior. Thank you. <3\");config_enable_super_gross_mode_that_will_cause_bad_things=value},get useDeprecatedSynchronousErrorHandling(){return config_enable_super_gross_mode_that_will_cause_bad_things}};function hostReportError_hostReportError(err){setTimeout(()=>{throw err},0)}const Observer_empty={closed:!0,next(value){},error(err){if(internal_config_config.useDeprecatedSynchronousErrorHandling)throw err;hostReportError_hostReportError(err)},complete(){}},isArray_isArray=(()=>Array.isArray||(x=>x&&\"number\"==typeof x.length))(),UnsubscriptionError_UnsubscriptionError=(()=>{function UnsubscriptionErrorImpl(errors){return Error.call(this),this.message=errors?`${errors.length} errors occurred during unsubscription:\\n${errors.map((err,i)=>`${i+1}) ${err.toString()}`).join(\"\\n  \")}`:\"\",this.name=\"UnsubscriptionError\",this.errors=errors,this}return UnsubscriptionErrorImpl.prototype=Object.create(Error.prototype),UnsubscriptionErrorImpl})();let internal_Subscription_Subscription=(()=>{class Subscription{constructor(unsubscribe){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,unsubscribe&&(this._ctorUnsubscribe=!0,this._unsubscribe=unsubscribe)}unsubscribe(){let errors;if(this.closed)return;let{_parentOrParents:_parentOrParents,_ctorUnsubscribe:_ctorUnsubscribe,_unsubscribe:_unsubscribe,_subscriptions:_subscriptions}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,_parentOrParents instanceof Subscription)_parentOrParents.remove(this);else if(null!==_parentOrParents)for(let index=0;index<_parentOrParents.length;++index)_parentOrParents[index].remove(this);if(isFunction_isFunction(_unsubscribe)){_ctorUnsubscribe&&(this._unsubscribe=void 0);try{_unsubscribe.call(this)}catch(e){errors=e instanceof UnsubscriptionError_UnsubscriptionError?Subscription_flattenUnsubscriptionErrors(e.errors):[e]}}if(isArray_isArray(_subscriptions)){let index=-1,len=_subscriptions.length;for(;++index<len;){const sub=_subscriptions[index];if(null!==(x=sub)&&\"object\"==typeof x)try{sub.unsubscribe()}catch(e){errors=errors||[],e instanceof UnsubscriptionError_UnsubscriptionError?errors=errors.concat(Subscription_flattenUnsubscriptionErrors(e.errors)):errors.push(e)}}}var x;if(errors)throw new UnsubscriptionError_UnsubscriptionError(errors)}add(teardown){let subscription=teardown;if(!teardown)return Subscription.EMPTY;switch(typeof teardown){case\"function\":subscription=new Subscription(teardown);case\"object\":if(subscription===this||subscription.closed||\"function\"!=typeof subscription.unsubscribe)return subscription;if(this.closed)return subscription.unsubscribe(),subscription;if(!(subscription instanceof Subscription)){const tmp=subscription;subscription=new Subscription,subscription._subscriptions=[tmp]}break;default:throw new Error(\"unrecognized teardown \"+teardown+\" added to Subscription.\")}let{_parentOrParents:_parentOrParents}=subscription;if(null===_parentOrParents)subscription._parentOrParents=this;else if(_parentOrParents instanceof Subscription){if(_parentOrParents===this)return subscription;subscription._parentOrParents=[_parentOrParents,this]}else{if(-1!==_parentOrParents.indexOf(this))return subscription;_parentOrParents.push(this)}const subscriptions=this._subscriptions;return null===subscriptions?this._subscriptions=[subscription]:subscriptions.push(subscription),subscription}remove(subscription){const subscriptions=this._subscriptions;if(subscriptions){const subscriptionIndex=subscriptions.indexOf(subscription);-1!==subscriptionIndex&&subscriptions.splice(subscriptionIndex,1)}}}return Subscription.EMPTY=function(empty){return empty.closed=!0,empty}(new Subscription),Subscription})();function Subscription_flattenUnsubscriptionErrors(errors){return errors.reduce((errs,err)=>errs.concat(err instanceof UnsubscriptionError_UnsubscriptionError?err.errors:err),[])}const rxSubscriber_rxSubscriber=(()=>\"function\"==typeof Symbol?Symbol(\"rxSubscriber\"):\"@@rxSubscriber_\"+Math.random())();class internal_Subscriber_Subscriber extends internal_Subscription_Subscription{constructor(destinationOrNext,error,complete){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Observer_empty;break;case 1:if(!destinationOrNext){this.destination=Observer_empty;break}if(\"object\"==typeof destinationOrNext){destinationOrNext instanceof internal_Subscriber_Subscriber?(this.syncErrorThrowable=destinationOrNext.syncErrorThrowable,this.destination=destinationOrNext,destinationOrNext.add(this)):(this.syncErrorThrowable=!0,this.destination=new internal_Subscriber_SafeSubscriber(this,destinationOrNext));break}default:this.syncErrorThrowable=!0,this.destination=new internal_Subscriber_SafeSubscriber(this,destinationOrNext,error,complete)}}[rxSubscriber_rxSubscriber](){return this}static create(next,error,complete){const subscriber=new internal_Subscriber_Subscriber(next,error,complete);return subscriber.syncErrorThrowable=!1,subscriber}next(value){this.isStopped||this._next(value)}error(err){this.isStopped||(this.isStopped=!0,this._error(err))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(value){this.destination.next(value)}_error(err){this.destination.error(err),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:_parentOrParents}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=_parentOrParents,this}}class internal_Subscriber_SafeSubscriber extends internal_Subscriber_Subscriber{constructor(_parentSubscriber,observerOrNext,error,complete){let next;super(),this._parentSubscriber=_parentSubscriber;let context=this;isFunction_isFunction(observerOrNext)?next=observerOrNext:observerOrNext&&(next=observerOrNext.next,error=observerOrNext.error,complete=observerOrNext.complete,observerOrNext!==Observer_empty&&(context=Object.create(observerOrNext),isFunction_isFunction(context.unsubscribe)&&this.add(context.unsubscribe.bind(context)),context.unsubscribe=this.unsubscribe.bind(this))),this._context=context,this._next=next,this._error=error,this._complete=complete}next(value){if(!this.isStopped&&this._next){const{_parentSubscriber:_parentSubscriber}=this;internal_config_config.useDeprecatedSynchronousErrorHandling&&_parentSubscriber.syncErrorThrowable?this.__tryOrSetError(_parentSubscriber,this._next,value)&&this.unsubscribe():this.__tryOrUnsub(this._next,value)}}error(err){if(!this.isStopped){const{_parentSubscriber:_parentSubscriber}=this,{useDeprecatedSynchronousErrorHandling:useDeprecatedSynchronousErrorHandling}=internal_config_config;if(this._error)useDeprecatedSynchronousErrorHandling&&_parentSubscriber.syncErrorThrowable?(this.__tryOrSetError(_parentSubscriber,this._error,err),this.unsubscribe()):(this.__tryOrUnsub(this._error,err),this.unsubscribe());else if(_parentSubscriber.syncErrorThrowable)useDeprecatedSynchronousErrorHandling?(_parentSubscriber.syncErrorValue=err,_parentSubscriber.syncErrorThrown=!0):hostReportError_hostReportError(err),this.unsubscribe();else{if(this.unsubscribe(),useDeprecatedSynchronousErrorHandling)throw err;hostReportError_hostReportError(err)}}}complete(){if(!this.isStopped){const{_parentSubscriber:_parentSubscriber}=this;if(this._complete){const wrappedComplete=()=>this._complete.call(this._context);internal_config_config.useDeprecatedSynchronousErrorHandling&&_parentSubscriber.syncErrorThrowable?(this.__tryOrSetError(_parentSubscriber,wrappedComplete),this.unsubscribe()):(this.__tryOrUnsub(wrappedComplete),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(fn,value){try{fn.call(this._context,value)}catch(err){if(this.unsubscribe(),internal_config_config.useDeprecatedSynchronousErrorHandling)throw err;hostReportError_hostReportError(err)}}__tryOrSetError(parent,fn,value){if(!internal_config_config.useDeprecatedSynchronousErrorHandling)throw new Error(\"bad call\");try{fn.call(this._context,value)}catch(err){return internal_config_config.useDeprecatedSynchronousErrorHandling?(parent.syncErrorValue=err,parent.syncErrorThrown=!0,!0):(hostReportError_hostReportError(err),!0)}return!1}_unsubscribe(){const{_parentSubscriber:_parentSubscriber}=this;this._context=null,this._parentSubscriber=null,_parentSubscriber.unsubscribe()}}const symbol_observable_observable=(()=>\"function\"==typeof Symbol&&Symbol.observable||\"@@observable\")();function identity_identity(x){return x}let internal_Observable_Observable=(()=>{class Observable{constructor(subscribe){this._isScalar=!1,subscribe&&(this._subscribe=subscribe)}lift(operator){const observable=new Observable;return observable.source=this,observable.operator=operator,observable}subscribe(observerOrNext,error,complete){const{operator:operator}=this,sink=function(nextOrObserver,error,complete){if(nextOrObserver){if(nextOrObserver instanceof internal_Subscriber_Subscriber)return nextOrObserver;if(nextOrObserver[rxSubscriber_rxSubscriber])return nextOrObserver[rxSubscriber_rxSubscriber]()}return nextOrObserver||error||complete?new internal_Subscriber_Subscriber(nextOrObserver,error,complete):new internal_Subscriber_Subscriber(Observer_empty)}(observerOrNext,error,complete);if(sink.add(operator?operator.call(sink,this.source):this.source||internal_config_config.useDeprecatedSynchronousErrorHandling&&!sink.syncErrorThrowable?this._subscribe(sink):this._trySubscribe(sink)),internal_config_config.useDeprecatedSynchronousErrorHandling&&sink.syncErrorThrowable&&(sink.syncErrorThrowable=!1,sink.syncErrorThrown))throw sink.syncErrorValue;return sink}_trySubscribe(sink){try{return this._subscribe(sink)}catch(err){internal_config_config.useDeprecatedSynchronousErrorHandling&&(sink.syncErrorThrown=!0,sink.syncErrorValue=err),function(observer){for(;observer;){const{closed:closed,destination:destination,isStopped:isStopped}=observer;if(closed||isStopped)return!1;observer=destination&&destination instanceof internal_Subscriber_Subscriber?destination:null}return!0}(sink)?sink.error(err):console.warn(err)}}forEach(next,promiseCtor){return new(promiseCtor=Observable_getPromiseCtor(promiseCtor))((resolve,reject)=>{let subscription;subscription=this.subscribe(value=>{try{next(value)}catch(err){reject(err),subscription&&subscription.unsubscribe()}},reject,resolve)})}_subscribe(subscriber){const{source:source}=this;return source&&source.subscribe(subscriber)}[symbol_observable_observable](){return this}pipe(...operations){return 0===operations.length?this:(0===(fns=operations).length?identity_identity:1===fns.length?fns[0]:function(input){return fns.reduce((prev,fn)=>fn(prev),input)})(this);var fns}toPromise(promiseCtor){return new(promiseCtor=Observable_getPromiseCtor(promiseCtor))((resolve,reject)=>{let value;this.subscribe(x=>value=x,err=>reject(err),()=>resolve(value))})}}return Observable.create=subscribe=>new Observable(subscribe),Observable})();function Observable_getPromiseCtor(promiseCtor){if(promiseCtor||(promiseCtor=internal_config_config.Promise||Promise),!promiseCtor)throw new Error(\"no Promise impl found\");return promiseCtor}const ObjectUnsubscribedError_ObjectUnsubscribedError=(()=>{function ObjectUnsubscribedErrorImpl(){return Error.call(this),this.message=\"object unsubscribed\",this.name=\"ObjectUnsubscribedError\",this}return ObjectUnsubscribedErrorImpl.prototype=Object.create(Error.prototype),ObjectUnsubscribedErrorImpl})();class internal_SubjectSubscription_SubjectSubscription extends internal_Subscription_Subscription{constructor(subject,subscriber){super(),this.subject=subject,this.subscriber=subscriber,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const subject=this.subject,observers=subject.observers;if(this.subject=null,!observers||0===observers.length||subject.isStopped||subject.closed)return;const subscriberIndex=observers.indexOf(this.subscriber);-1!==subscriberIndex&&observers.splice(subscriberIndex,1)}}class internal_Subject_SubjectSubscriber extends internal_Subscriber_Subscriber{constructor(destination){super(destination),this.destination=destination}}let internal_Subject_Subject=(()=>{class Subject extends internal_Observable_Observable{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[rxSubscriber_rxSubscriber](){return new internal_Subject_SubjectSubscriber(this)}lift(operator){const subject=new internal_Subject_AnonymousSubject(this,this);return subject.operator=operator,subject}next(value){if(this.closed)throw new ObjectUnsubscribedError_ObjectUnsubscribedError;if(!this.isStopped){const{observers:observers}=this,len=observers.length,copy=observers.slice();for(let i=0;i<len;i++)copy[i].next(value)}}error(err){if(this.closed)throw new ObjectUnsubscribedError_ObjectUnsubscribedError;this.hasError=!0,this.thrownError=err,this.isStopped=!0;const{observers:observers}=this,len=observers.length,copy=observers.slice();for(let i=0;i<len;i++)copy[i].error(err);this.observers.length=0}complete(){if(this.closed)throw new ObjectUnsubscribedError_ObjectUnsubscribedError;this.isStopped=!0;const{observers:observers}=this,len=observers.length,copy=observers.slice();for(let i=0;i<len;i++)copy[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(subscriber){if(this.closed)throw new ObjectUnsubscribedError_ObjectUnsubscribedError;return super._trySubscribe(subscriber)}_subscribe(subscriber){if(this.closed)throw new ObjectUnsubscribedError_ObjectUnsubscribedError;return this.hasError?(subscriber.error(this.thrownError),internal_Subscription_Subscription.EMPTY):this.isStopped?(subscriber.complete(),internal_Subscription_Subscription.EMPTY):(this.observers.push(subscriber),new internal_SubjectSubscription_SubjectSubscription(this,subscriber))}asObservable(){const observable=new internal_Observable_Observable;return observable.source=this,observable}}return Subject.create=(destination,source)=>new internal_Subject_AnonymousSubject(destination,source),Subject})();class internal_Subject_AnonymousSubject extends internal_Subject_Subject{constructor(destination,source){super(),this.destination=destination,this.source=source}next(value){const{destination:destination}=this;destination&&destination.next&&destination.next(value)}error(err){const{destination:destination}=this;destination&&destination.error&&this.destination.error(err)}complete(){const{destination:destination}=this;destination&&destination.complete&&this.destination.complete()}_subscribe(subscriber){const{source:source}=this;return source?this.source.subscribe(subscriber):internal_Subscription_Subscription.EMPTY}}function core_noSideEffects(fn){return{toString:fn}.toString()}function core_makeParamDecorator(name,props,parentClass){return core_noSideEffects(()=>{const metaCtor=function(props){return function(...args){if(props){const values=props(...args);for(const propName in values)this[propName]=values[propName]}}}(props);function ParamDecoratorFactory(...args){if(this instanceof ParamDecoratorFactory)return metaCtor.apply(this,args),this;const annotationInstance=new ParamDecoratorFactory(...args);return ParamDecorator.annotation=annotationInstance,ParamDecorator;function ParamDecorator(cls,unusedKey,index){const parameters=cls.hasOwnProperty(\"__parameters__\")?cls.__parameters__:Object.defineProperty(cls,\"__parameters__\",{value:[]}).__parameters__;for(;parameters.length<=index;)parameters.push(null);return(parameters[index]=parameters[index]||[]).push(annotationInstance),cls}}return parentClass&&(ParamDecoratorFactory.prototype=Object.create(parentClass.prototype)),ParamDecoratorFactory.prototype.ngMetadataName=name,ParamDecoratorFactory.annotationCls=ParamDecoratorFactory,ParamDecoratorFactory})}const core_Inject=core_makeParamDecorator(\"Inject\",token=>({token:token})),core_Optional=core_makeParamDecorator(\"Optional\"),core_Self=core_makeParamDecorator(\"Self\"),core_SkipSelf=core_makeParamDecorator(\"SkipSelf\");var core_InjectFlags=function(InjectFlags){return InjectFlags[InjectFlags.Default=0]=\"Default\",InjectFlags[InjectFlags.Host=1]=\"Host\",InjectFlags[InjectFlags.Self=2]=\"Self\",InjectFlags[InjectFlags.SkipSelf=4]=\"SkipSelf\",InjectFlags[InjectFlags.Optional=8]=\"Optional\",InjectFlags}({});function core_getClosureSafeProperty(objWithPropertyToExtract){for(let key in objWithPropertyToExtract)if(objWithPropertyToExtract[key]===core_getClosureSafeProperty)return key;throw Error(\"Could not find renamed property on target object.\")}function core_defineInjectable(opts){return{token:opts.token,providedIn:opts.providedIn||null,factory:opts.factory,value:void 0}}function core_defineInjector(options){return{factory:options.factory,providers:options.providers||[],imports:options.imports||[]}}function core_getInjectableDef(type){return core_getOwnDefinition(type,type[core_NG_PROV_DEF])||core_getOwnDefinition(type,type[core_NG_INJECTABLE_DEF])}function core_getOwnDefinition(type,def){return def&&def.token===type?def:null}function core_getInjectorDef(type){return type&&(type.hasOwnProperty(core_NG_INJ_DEF)||type.hasOwnProperty(core_NG_INJECTOR_DEF))?type[core_NG_INJ_DEF]:null}const core_NG_PROV_DEF=core_getClosureSafeProperty({\"prov\":core_getClosureSafeProperty}),core_NG_INJ_DEF=core_getClosureSafeProperty({\"inj\":core_getClosureSafeProperty}),core_NG_PROV_DEF_FALLBACK=core_getClosureSafeProperty({\"provFallback\":core_getClosureSafeProperty}),core_NG_INJECTABLE_DEF=core_getClosureSafeProperty({ngInjectableDef:core_getClosureSafeProperty}),core_NG_INJECTOR_DEF=core_getClosureSafeProperty({ngInjectorDef:core_getClosureSafeProperty});function core_stringify(token){if(\"string\"==typeof token)return token;if(Array.isArray(token))return\"[\"+token.map(core_stringify).join(\", \")+\"]\";if(null==token)return\"\"+token;if(token.overriddenName)return`${token.overriddenName}`;if(token.name)return`${token.name}`;const res=token.toString();if(null==res)return\"\"+res;const newLineIndex=res.indexOf(\"\\n\");return-1===newLineIndex?res:res.substring(0,newLineIndex)}function core_concatStringsWithSpace(before,after){return null==before||\"\"===before?null===after?\"\":after:null==after||\"\"===after?before:before+\" \"+after}const core_forward_ref_=core_getClosureSafeProperty({__forward_ref__:core_getClosureSafeProperty});function core_forwardRef(forwardRefFn){return forwardRefFn.__forward_ref__=core_forwardRef,forwardRefFn.toString=function(){return core_stringify(this())},forwardRefFn}function core_resolveForwardRef(type){return core_isForwardRef(type)?type():type}function core_isForwardRef(fn){return\"function\"==typeof fn&&fn.hasOwnProperty(core_forward_ref_)&&fn.__forward_ref__===core_forwardRef}const core_globalThis=\"undefined\"!=typeof globalThis&&globalThis,core_window=\"undefined\"!=typeof window&&window,core_self=\"undefined\"!=typeof self&&\"undefined\"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,core_global=\"undefined\"!=typeof global&&global,fesm2015_core_global=core_globalThis||core_global||core_window||core_self,core_NG_COMP_DEF=core_getClosureSafeProperty({\"cmp\":core_getClosureSafeProperty}),core_NG_DIR_DEF=core_getClosureSafeProperty({\"dir\":core_getClosureSafeProperty}),core_NG_PIPE_DEF=core_getClosureSafeProperty({\"pipe\":core_getClosureSafeProperty}),core_NG_FACTORY_DEF=core_getClosureSafeProperty({\"fac\":core_getClosureSafeProperty}),core_NG_ELEMENT_ID=core_getClosureSafeProperty({__NG_ELEMENT_ID__:core_getClosureSafeProperty});class core_InjectionToken{constructor(_desc,options){this._desc=_desc,this.ngMetadataName=\"InjectionToken\",this.prov=void 0,\"number\"==typeof options?this.__NG_ELEMENT_ID__=options:void 0!==options&&(this.prov=core_defineInjectable({token:this,providedIn:options.providedIn||\"root\",factory:options.factory}))}toString(){return`InjectionToken ${this._desc}`}}const core_USE_VALUE=core_getClosureSafeProperty({provide:String,useValue:core_getClosureSafeProperty});let core_injectImplementation;function core_setInjectImplementation(impl){const previous=core_injectImplementation;return core_injectImplementation=impl,previous}function core_injectInjectorOnly(token,flags=core_InjectFlags.Default){throw new Error(\"inject() must be called from an injection context\")}function core_inject(token,flags=core_InjectFlags.Default){return(core_injectImplementation||core_injectInjectorOnly)(core_resolveForwardRef(token),flags)}function core_injectArgs(types){const args=[];for(let i=0;i<types.length;i++){const arg=core_resolveForwardRef(types[i]);if(Array.isArray(arg)){if(0===arg.length)throw new Error(\"Arguments array must have arguments.\");let type=void 0,flags=core_InjectFlags.Default;for(let j=0;j<arg.length;j++){const meta=arg[j];meta instanceof core_Optional||\"Optional\"===meta.ngMetadataName||meta===core_Optional?flags|=core_InjectFlags.Optional:meta instanceof core_SkipSelf||\"SkipSelf\"===meta.ngMetadataName||meta===core_SkipSelf?flags|=core_InjectFlags.SkipSelf:meta instanceof core_Self||\"Self\"===meta.ngMetadataName||meta===core_Self?flags|=core_InjectFlags.Self:type=meta instanceof core_Inject||meta===core_Inject?meta.token:meta}args.push(core_inject(type,flags))}else args.push(core_inject(arg))}return args}class core_NgModuleRef{}function core_addToArray(arr,index,value){index>=arr.length?arr.push(value):arr.splice(index,0,value)}function core_removeFromArray(arr,index){return index>=arr.length-1?arr.pop():arr.splice(index,1)[0]}const core_ChangeDetectionStrategy=function(){var ChangeDetectionStrategy={OnPush:0,Default:1};return ChangeDetectionStrategy[ChangeDetectionStrategy.OnPush]=\"OnPush\",ChangeDetectionStrategy[ChangeDetectionStrategy.Default]=\"Default\",ChangeDetectionStrategy}(),core_ViewEncapsulation$1=function(){var ViewEncapsulation$1={Emulated:0,Native:1,None:2,ShadowDom:3};return ViewEncapsulation$1[ViewEncapsulation$1.Emulated]=\"Emulated\",ViewEncapsulation$1[ViewEncapsulation$1.Native]=\"Native\",ViewEncapsulation$1[ViewEncapsulation$1.None]=\"None\",ViewEncapsulation$1[ViewEncapsulation$1.ShadowDom]=\"ShadowDom\",ViewEncapsulation$1}(),core_EMPTY_OBJ={},core_EMPTY_ARRAY=[];let core_renderCompCount=0;function core_defineComponent(componentDefinition){return core_noSideEffects(()=>{const type=componentDefinition.type,typePrototype=type.prototype,declaredInputs={},def={type:type,providersResolver:null,decls:componentDefinition.decls,vars:componentDefinition.vars,factory:null,template:componentDefinition.template||null,consts:componentDefinition.consts||null,ngContentSelectors:componentDefinition.ngContentSelectors,hostBindings:componentDefinition.hostBindings||null,hostVars:componentDefinition.hostVars||0,hostAttrs:componentDefinition.hostAttrs||null,contentQueries:componentDefinition.contentQueries||null,declaredInputs:declaredInputs,inputs:null,outputs:null,exportAs:componentDefinition.exportAs||null,onChanges:null,onInit:typePrototype.ngOnInit||null,doCheck:typePrototype.ngDoCheck||null,afterContentInit:typePrototype.ngAfterContentInit||null,afterContentChecked:typePrototype.ngAfterContentChecked||null,afterViewInit:typePrototype.ngAfterViewInit||null,afterViewChecked:typePrototype.ngAfterViewChecked||null,onDestroy:typePrototype.ngOnDestroy||null,onPush:componentDefinition.changeDetection===core_ChangeDetectionStrategy.OnPush,directiveDefs:null,pipeDefs:null,selectors:componentDefinition.selectors||core_EMPTY_ARRAY,viewQuery:componentDefinition.viewQuery||null,features:componentDefinition.features||null,data:componentDefinition.data||{},encapsulation:componentDefinition.encapsulation||core_ViewEncapsulation$1.Emulated,id:\"c\",styles:componentDefinition.styles||core_EMPTY_ARRAY,_:null,setInput:null,schemas:componentDefinition.schemas||null,tView:null},directiveTypes=componentDefinition.directives,feature=componentDefinition.features,pipeTypes=componentDefinition.pipes;return def.id+=core_renderCompCount++,def.inputs=core_invertObject(componentDefinition.inputs,declaredInputs),def.outputs=core_invertObject(componentDefinition.outputs),feature&&feature.forEach(fn=>fn(def)),def.directiveDefs=directiveTypes?()=>(\"function\"==typeof directiveTypes?directiveTypes():directiveTypes).map(core_extractDirectiveDef):null,def.pipeDefs=pipeTypes?()=>(\"function\"==typeof pipeTypes?pipeTypes():pipeTypes).map(core_extractPipeDef):null,def})}function core_extractDirectiveDef(type){return function(type){return type[core_NG_COMP_DEF]||null}(type)||function(type){return type[core_NG_DIR_DEF]||null}(type)}function core_extractPipeDef(type){return function(type){return type[core_NG_PIPE_DEF]||null}(type)}const core_autoRegisterModuleById={};function core_defineNgModule(def){const res={type:def.type,bootstrap:def.bootstrap||core_EMPTY_ARRAY,declarations:def.declarations||core_EMPTY_ARRAY,imports:def.imports||core_EMPTY_ARRAY,exports:def.exports||core_EMPTY_ARRAY,transitiveCompileScopes:null,schemas:def.schemas||null,id:def.id||null};return null!=def.id&&core_noSideEffects(()=>{core_autoRegisterModuleById[def.id]=def.type}),res}function core_invertObject(obj,secondary){if(null==obj)return core_EMPTY_OBJ;const newLookup={};for(const minifiedKey in obj)if(obj.hasOwnProperty(minifiedKey)){let publicName=obj[minifiedKey],declaredName=publicName;Array.isArray(publicName)&&(declaredName=publicName[1],publicName=publicName[0]),newLookup[publicName]=minifiedKey,secondary&&(secondary[publicName]=declaredName)}return newLookup}function core_getFactoryDef(type,throwNotFound){return type.hasOwnProperty(core_NG_FACTORY_DEF)?type[core_NG_FACTORY_DEF]:null}function core_isLView(value){return Array.isArray(value)&&\"object\"==typeof value[1]}function core_isLContainer(value){return Array.isArray(value)&&!0===value[1]}function core_isContentQueryHost(tNode){return 0!=(8&tNode.flags)}function core_isComponentHost(tNode){return 2==(2&tNode.flags)}function core_isComponentDef(def){return null!==def.template}function core_isRootView(target){return 0!=(512&target[2])}function core_isProceduralRenderer(renderer){return!!renderer.listen}function core_unwrapRNode(value){for(;Array.isArray(value);)value=value[0];return(value)}function core_getNativeByTNode(tNode,lView){return core_unwrapRNode(lView[tNode.index])}function core_getComponentLViewByIndex(nodeIndex,hostView){const slotValue=hostView[nodeIndex];return core_isLView(slotValue)?slotValue:slotValue[0]}function core_viewAttachedToChangeDetector(view){return 128==(128&view[2])}function core_getConstant(consts,index){return null===consts||null==index?null:consts[index]}function core_resetPreOrderHookFlags(lView){lView[18]=0}const core_instructionState={lFrame:core_createLFrame(null),bindingsEnabled:!0,checkNoChangesMode:!1};function core_getBindingsEnabled(){return core_instructionState.bindingsEnabled}function core_getLView(){return core_instructionState.lFrame.lView}function core_getTView(){return core_instructionState.lFrame.tView}function core_getPreviousOrParentTNode(){return core_instructionState.lFrame.previousOrParentTNode}function core_setPreviousOrParentTNode(tNode,isParent){core_instructionState.lFrame.previousOrParentTNode=tNode,core_instructionState.lFrame.isParent=isParent}function core_getIsParent(){return core_instructionState.lFrame.isParent}function core_getCheckNoChangesMode(){return core_instructionState.checkNoChangesMode}function core_setCheckNoChangesMode(mode){core_instructionState.checkNoChangesMode=mode}function core_setBindingRootForHostBindings(bindingRootIndex,currentDirectiveIndex){const lFrame=core_instructionState.lFrame;lFrame.bindingIndex=lFrame.bindingRootIndex=bindingRootIndex,lFrame.currentDirectiveIndex=currentDirectiveIndex}function core_getCurrentQueryIndex(){return core_instructionState.lFrame.currentQueryIndex}function core_setCurrentQueryIndex(value){core_instructionState.lFrame.currentQueryIndex=value}function core_enterDI(newView,tNode){const newLFrame=core_allocLFrame();core_instructionState.lFrame=newLFrame,newLFrame.previousOrParentTNode=tNode,newLFrame.lView=newView}function core_enterView(newView,tNode){const newLFrame=core_allocLFrame(),tView=newView[1];core_instructionState.lFrame=newLFrame,newLFrame.previousOrParentTNode=tNode,newLFrame.lView=newView,newLFrame.tView=tView,newLFrame.contextLView=newView,newLFrame.bindingIndex=tView.bindingStartIndex}function core_allocLFrame(){const currentLFrame=core_instructionState.lFrame,childLFrame=null===currentLFrame?null:currentLFrame.child;return null===childLFrame?core_createLFrame(currentLFrame):childLFrame}function core_createLFrame(parent){const lFrame={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:parent,child:null};return null!==parent&&(parent.child=lFrame),lFrame}function core_leaveViewLight(){const oldLFrame=core_instructionState.lFrame;return core_instructionState.lFrame=oldLFrame.parent,oldLFrame.previousOrParentTNode=null,oldLFrame.lView=null,oldLFrame}const core_leaveDI=core_leaveViewLight;function core_leaveView(){const oldLFrame=core_leaveViewLight();oldLFrame.isParent=!0,oldLFrame.tView=null,oldLFrame.selectedIndex=0,oldLFrame.contextLView=null,oldLFrame.elementDepthCount=0,oldLFrame.currentDirectiveIndex=-1,oldLFrame.currentNamespace=null,oldLFrame.currentSanitizer=null,oldLFrame.bindingRootIndex=-1,oldLFrame.bindingIndex=-1,oldLFrame.currentQueryIndex=0}function core_setSelectedIndex(index){core_instructionState.lFrame.selectedIndex=index}function core_executeCheckHooks(lView,hooks,nodeIndex){core_callHooks(lView,hooks,3,nodeIndex)}function core_executeInitAndCheckHooks(lView,hooks,initPhase,nodeIndex){(3&lView[2])===initPhase&&core_callHooks(lView,hooks,initPhase,nodeIndex)}function core_incrementInitPhaseFlags(lView,initPhase){let flags=lView[2];(3&flags)===initPhase&&(flags&=1023,flags+=1,lView[2]=flags)}function core_callHooks(currentView,arr,initPhase,currentNodeIndex){const nodeIndexLimit=null!=currentNodeIndex?currentNodeIndex:-1;let lastNodeIndexFound=0;for(let i=void 0!==currentNodeIndex?65535&currentView[18]:0;i<arr.length;i++)if(\"number\"==typeof arr[i+1]){if(lastNodeIndexFound=arr[i],null!=currentNodeIndex&&lastNodeIndexFound>=currentNodeIndex)break}else arr[i]<0&&(currentView[18]+=65536),(lastNodeIndexFound<nodeIndexLimit||-1==nodeIndexLimit)&&(core_callHook(currentView,initPhase,arr,i),currentView[18]=(4294901760&currentView[18])+i+2),i++}function core_callHook(currentView,initPhase,arr,i){const isInitHook=arr[i]<0,hook=arr[i+1],directive=currentView[isInitHook?-arr[i]:arr[i]];isInitHook?currentView[2]>>10<currentView[18]>>16&&(3&currentView[2])===initPhase&&(currentView[2]+=1024,hook.call(directive)):hook.call(directive)}class core_NodeInjectorFactory{constructor(factory,isViewProvider,injectImplementation){this.factory=factory,this.resolving=!1,this.canSeeViewProviders=isViewProvider,this.injectImpl=injectImplementation}}function core_isAnimationProp(name){return 64===name.charCodeAt(0)}function core_mergeHostAttrs(dst,src){if(null===src||0===src.length);else if(null===dst||0===dst.length)dst=src.slice();else{let srcMarker=-1;for(let i=0;i<src.length;i++){const item=src[i];\"number\"==typeof item?srcMarker=item:0===srcMarker||core_mergeHostAttribute(dst,srcMarker,item,null,-1===srcMarker||2===srcMarker?src[++i]:null)}}return dst}function core_mergeHostAttribute(dst,marker,key1,key2,value){let i=0,markerInsertPosition=dst.length;if(-1===marker)markerInsertPosition=-1;else for(;i<dst.length;){const dstValue=dst[i++];if(\"number\"==typeof dstValue){if(dstValue===marker){markerInsertPosition=-1;break}if(dstValue>marker){markerInsertPosition=i-1;break}}}for(;i<dst.length;){const item=dst[i];if(\"number\"==typeof item)break;if(item===key1){if(null===key2)return void(null!==value&&(dst[i+1]=value));if(key2===dst[i+1])return void(dst[i+2]=value)}i++,null!==key2&&i++,null!==value&&i++}-1!==markerInsertPosition&&(dst.splice(markerInsertPosition,0,marker),i=markerInsertPosition+1),dst.splice(i++,0,key1),null!==key2&&dst.splice(i++,0,key2),null!==value&&dst.splice(i++,0,value)}function core_hasParentInjector(parentLocation){return-1!==parentLocation}function core_getParentInjectorIndex(parentLocation){return 32767&parentLocation}function core_getParentInjectorViewOffset(parentLocation){return parentLocation>>16}function core_getParentInjectorView(location,startView){let viewOffset=core_getParentInjectorViewOffset(location),parentView=startView;for(;viewOffset>0;)parentView=parentView[15],viewOffset--;return parentView}function core_stringifyForError(value){return\"function\"==typeof value?value.name||value.toString():\"object\"==typeof value&&null!=value&&\"function\"==typeof value.type?value.type.name||value.type.toString():function(value){return\"string\"==typeof value?value:null==value?\"\":\"\"+value}(value)}let core_includeViewProviders=!0;function core_setIncludeViewProviders(v){const oldValue=core_includeViewProviders;return core_includeViewProviders=v,oldValue}let core_nextNgElementId=0;function core_getOrCreateNodeInjectorForNode(tNode,hostView){const existingInjectorIndex=core_getInjectorIndex(tNode,hostView);if(-1!==existingInjectorIndex)return existingInjectorIndex;const tView=hostView[1];tView.firstCreatePass&&(tNode.injectorIndex=hostView.length,core_insertBloom(tView.data,tNode),core_insertBloom(hostView,null),core_insertBloom(tView.blueprint,null));const parentLoc=core_getParentInjectorLocation(tNode,hostView),injectorIndex=tNode.injectorIndex;if(core_hasParentInjector(parentLoc)){const parentIndex=core_getParentInjectorIndex(parentLoc),parentLView=core_getParentInjectorView(parentLoc,hostView),parentData=parentLView[1].data;for(let i=0;i<8;i++)hostView[injectorIndex+i]=parentLView[parentIndex+i]|parentData[parentIndex+i]}return hostView[injectorIndex+8]=parentLoc,injectorIndex}function core_insertBloom(arr,footer){arr.push(0,0,0,0,0,0,0,0,footer)}function core_getInjectorIndex(tNode,hostView){return-1===tNode.injectorIndex||tNode.parent&&tNode.parent.injectorIndex===tNode.injectorIndex||null==hostView[tNode.injectorIndex+8]?-1:tNode.injectorIndex}function core_getParentInjectorLocation(tNode,view){if(tNode.parent&&-1!==tNode.parent.injectorIndex)return tNode.parent.injectorIndex;let hostTNode=view[6],viewOffset=1;for(;hostTNode&&-1===hostTNode.injectorIndex;)hostTNode=(view=view[15])?view[6]:null,viewOffset++;return hostTNode?hostTNode.injectorIndex|viewOffset<<16:-1}function core_diPublicInInjector(injectorIndex,tView,token){!function(injectorIndex,tView,type){let id=\"string\"!=typeof type?type[core_NG_ELEMENT_ID]:type.charCodeAt(0)||0;null==id&&(id=type[core_NG_ELEMENT_ID]=core_nextNgElementId++);const bloomBit=255&id,mask=1<<bloomBit,b6=64&bloomBit,b5=32&bloomBit,tData=tView.data;128&bloomBit?b6?b5?tData[injectorIndex+7]|=mask:tData[injectorIndex+6]|=mask:b5?tData[injectorIndex+5]|=mask:tData[injectorIndex+4]|=mask:b6?b5?tData[injectorIndex+3]|=mask:tData[injectorIndex+2]|=mask:b5?tData[injectorIndex+1]|=mask:tData[injectorIndex]|=mask}(injectorIndex,tView,token)}function core_getOrCreateInjectable(tNode,lView,token,flags=core_InjectFlags.Default,notFoundValue){if(null!==tNode){const bloomHash=function(token){if(\"string\"==typeof token)return token.charCodeAt(0)||0;const tokenId=token[core_NG_ELEMENT_ID];return\"number\"==typeof tokenId&&tokenId>0?255&tokenId:tokenId}(token);if(\"function\"==typeof bloomHash){core_enterDI(lView,tNode);try{const value=bloomHash();if(null!=value||flags&core_InjectFlags.Optional)return value;throw new Error(`No provider for ${core_stringifyForError(token)}!`)}finally{core_leaveDI()}}else if(\"number\"==typeof bloomHash){if(-1===bloomHash)return new core_NodeInjector(tNode,lView);let previousTView=null,injectorIndex=core_getInjectorIndex(tNode,lView),parentLocation=-1,hostTElementNode=flags&core_InjectFlags.Host?lView[16][6]:null;for((-1===injectorIndex||flags&core_InjectFlags.SkipSelf)&&(parentLocation=-1===injectorIndex?core_getParentInjectorLocation(tNode,lView):lView[injectorIndex+8],core_shouldSearchParent(flags,!1)?(previousTView=lView[1],injectorIndex=core_getParentInjectorIndex(parentLocation),lView=core_getParentInjectorView(parentLocation,lView)):injectorIndex=-1);-1!==injectorIndex;){parentLocation=lView[injectorIndex+8];const tView=lView[1];if(core_bloomHasToken(bloomHash,injectorIndex,tView.data)){const instance=core_searchTokensOnInjector(injectorIndex,lView,token,previousTView,flags,hostTElementNode);if(instance!==core_NOT_FOUND)return instance}core_shouldSearchParent(flags,lView[1].data[injectorIndex+8]===hostTElementNode)&&core_bloomHasToken(bloomHash,injectorIndex,lView)?(previousTView=tView,injectorIndex=core_getParentInjectorIndex(parentLocation),lView=core_getParentInjectorView(parentLocation,lView)):injectorIndex=-1}}}if(flags&core_InjectFlags.Optional&&void 0===notFoundValue&&(notFoundValue=null),0==(flags&(core_InjectFlags.Self|core_InjectFlags.Host))){const moduleInjector=lView[9],previousInjectImplementation=core_setInjectImplementation(void 0);try{return moduleInjector?moduleInjector.get(token,notFoundValue,flags&core_InjectFlags.Optional):function(token,notFoundValue,flags){const injectableDef=core_getInjectableDef(token);if(injectableDef&&\"root\"==injectableDef.providedIn)return void 0===injectableDef.value?injectableDef.value=injectableDef.factory():injectableDef.value;if(flags&core_InjectFlags.Optional)return null;if(void 0!==notFoundValue)return notFoundValue;throw new Error(`Injector: NOT_FOUND [${core_stringify(token)}]`)}(token,notFoundValue,flags&core_InjectFlags.Optional)}finally{core_setInjectImplementation(previousInjectImplementation)}}if(flags&core_InjectFlags.Optional)return notFoundValue;throw new Error(`NodeInjector: NOT_FOUND [${core_stringifyForError(token)}]`)}const core_NOT_FOUND={};function core_searchTokensOnInjector(injectorIndex,lView,token,previousTView,flags,hostTElementNode){const currentTView=lView[1],tNode=currentTView.data[injectorIndex+8],injectableIdx=core_locateDirectiveOrProvider(tNode,currentTView,token,null==previousTView?core_isComponentHost(tNode)&&core_includeViewProviders:previousTView!=currentTView&&3===tNode.type,flags&core_InjectFlags.Host&&hostTElementNode===tNode);return null!==injectableIdx?core_getNodeInjectable(lView,currentTView,injectableIdx,tNode):core_NOT_FOUND}function core_locateDirectiveOrProvider(tNode,tView,token,canAccessViewProviders,isHostSpecialCase){const nodeProviderIndexes=tNode.providerIndexes,tInjectables=tView.data,injectablesStart=65535&nodeProviderIndexes,directivesStart=tNode.directiveStart,cptViewProvidersCount=nodeProviderIndexes>>16,endIndex=isHostSpecialCase?injectablesStart+cptViewProvidersCount:tNode.directiveEnd;for(let i=canAccessViewProviders?injectablesStart:injectablesStart+cptViewProvidersCount;i<endIndex;i++){const providerTokenOrDef=tInjectables[i];if(i<directivesStart&&token===providerTokenOrDef||i>=directivesStart&&providerTokenOrDef.type===token)return i}if(isHostSpecialCase){const dirDef=tInjectables[directivesStart];if(dirDef&&core_isComponentDef(dirDef)&&dirDef.type===token)return directivesStart}return null}function core_getNodeInjectable(lView,tView,index,tNode){let value=lView[index];const tData=tView.data;if(value instanceof core_NodeInjectorFactory){const factory=value;if(factory.resolving)throw new Error(`Circular dep for ${core_stringifyForError(tData[index])}`);const previousIncludeViewProviders=core_setIncludeViewProviders(factory.canSeeViewProviders);let previousInjectImplementation;factory.resolving=!0,factory.injectImpl&&(previousInjectImplementation=core_setInjectImplementation(factory.injectImpl)),core_enterDI(lView,tNode);try{value=lView[index]=factory.factory(void 0,tData,lView,tNode),tView.firstCreatePass&&index>=tNode.directiveStart&&function(directiveIndex,directiveDef,tView){const{onChanges:onChanges,onInit:onInit,doCheck:doCheck}=directiveDef;onChanges&&((tView.preOrderHooks||(tView.preOrderHooks=[])).push(directiveIndex,onChanges),(tView.preOrderCheckHooks||(tView.preOrderCheckHooks=[])).push(directiveIndex,onChanges)),onInit&&(tView.preOrderHooks||(tView.preOrderHooks=[])).push(-directiveIndex,onInit),doCheck&&((tView.preOrderHooks||(tView.preOrderHooks=[])).push(directiveIndex,doCheck),(tView.preOrderCheckHooks||(tView.preOrderCheckHooks=[])).push(directiveIndex,doCheck))}(index,tData[index],tView)}finally{factory.injectImpl&&core_setInjectImplementation(previousInjectImplementation),core_setIncludeViewProviders(previousIncludeViewProviders),factory.resolving=!1,core_leaveDI()}}return value}function core_bloomHasToken(bloomHash,injectorIndex,injectorView){const b6=64&bloomHash,b5=32&bloomHash;let value;return value=128&bloomHash?b6?b5?injectorView[injectorIndex+7]:injectorView[injectorIndex+6]:b5?injectorView[injectorIndex+5]:injectorView[injectorIndex+4]:b6?b5?injectorView[injectorIndex+3]:injectorView[injectorIndex+2]:b5?injectorView[injectorIndex+1]:injectorView[injectorIndex],!!(value&1<<bloomHash)}function core_shouldSearchParent(flags,isFirstHostTNode){return!(flags&core_InjectFlags.Self||flags&core_InjectFlags.Host&&isFirstHostTNode)}class core_NodeInjector{constructor(_tNode,_lView){this._tNode=_tNode,this._lView=_lView}get(token,notFoundValue){return core_getOrCreateInjectable(this._tNode,this._lView,token,void 0,notFoundValue)}}function core_getInheritedFactory(type){return core_noSideEffects(()=>{const proto=Object.getPrototypeOf(type.prototype).constructor,factory=proto[core_NG_FACTORY_DEF]||function fesm2015_core_getFactoryOf(type){const typeAny=type;if(core_isForwardRef(type))return()=>{const factory=fesm2015_core_getFactoryOf(core_resolveForwardRef(typeAny));return factory?factory():null};let factory=core_getFactoryDef(typeAny);if(null===factory){const injectorDef=core_getInjectorDef(typeAny);factory=injectorDef&&injectorDef.factory}return factory||null}(proto);return null!==factory?factory:t=>new t})}function core_getDebugContext(error){return error.ngDebugContext}function core_getOriginalError(error){return error.ngOriginalError}function core_defaultErrorLogger(console,...values){console.error(...values)}class core_ErrorHandler{constructor(){this._console=console}handleError(error){const originalError=this._findOriginalError(error),context=this._findContext(error),errorLogger=function(error){return error.ngErrorLogger||core_defaultErrorLogger}(error);errorLogger(this._console,\"ERROR\",error),originalError&&errorLogger(this._console,\"ORIGINAL ERROR\",originalError),context&&errorLogger(this._console,\"ERROR CONTEXT\",context)}_findContext(error){return error?core_getDebugContext(error)?core_getDebugContext(error):this._findContext(core_getOriginalError(error)):null}_findOriginalError(error){let e=core_getOriginalError(error);for(;e&&core_getOriginalError(e);)e=core_getOriginalError(e);return e}}function core_attachPatchData(target,data){target.__ngContext__=data}function core_throwMultipleComponentError(tNode){throw new Error(`Multiple components match node with tagname ${tNode.tagName}`)}function core_classIndexOf(className,classToSearch,startingIndex){let end=className.length;for(;;){const foundIndex=className.indexOf(classToSearch,startingIndex);if(-1===foundIndex)return foundIndex;if(0===foundIndex||className.charCodeAt(foundIndex-1)<=32){const length=classToSearch.length;if(foundIndex+length===end||className.charCodeAt(foundIndex+length)<=32)return foundIndex}startingIndex=foundIndex+1}}function core_isCssClassMatching(attrs,cssClassToMatch,isProjectionMode){let i=0;for(;i<attrs.length;){let item=attrs[i++];if(isProjectionMode&&\"class\"===item){if(item=attrs[i],-1!==core_classIndexOf(item.toLowerCase(),cssClassToMatch,0))return!0}else if(1===item){for(;i<attrs.length&&\"string\"==typeof(item=attrs[i++]);)if(item.toLowerCase()===cssClassToMatch)return!0;return!1}}return!1}function core_hasTagAndTypeMatch(tNode,currentSelector,isProjectionMode){return currentSelector===(0!==tNode.type||isProjectionMode?tNode.tagName:\"ng-template\")}function core_isNodeMatchingSelector(tNode,selector,isProjectionMode){let mode=4;const nodeAttrs=tNode.attrs||[],nameOnlyMarkerIdx=function(nodeAttrs){for(let i=0;i<nodeAttrs.length;i++)if(3===(marker=nodeAttrs[i])||4===marker||6===marker)return i;var marker;return nodeAttrs.length}(nodeAttrs);let skipToNextSelector=!1;for(let i=0;i<selector.length;i++){const current=selector[i];if(\"number\"!=typeof current){if(!skipToNextSelector)if(4&mode){if(mode=2|1&mode,\"\"!==current&&!core_hasTagAndTypeMatch(tNode,current,isProjectionMode)||\"\"===current&&1===selector.length){if(core_isPositive(mode))return!1;skipToNextSelector=!0}}else{const selectorAttrValue=8&mode?current:selector[++i];if(8&mode&&null!==tNode.attrs){if(!core_isCssClassMatching(tNode.attrs,selectorAttrValue,isProjectionMode)){if(core_isPositive(mode))return!1;skipToNextSelector=!0}continue}const attrIndexInNode=core_findAttrIndexInNode(8&mode?\"class\":current,nodeAttrs,0==tNode.type&&\"ng-template\"!==tNode.tagName,isProjectionMode);if(-1===attrIndexInNode){if(core_isPositive(mode))return!1;skipToNextSelector=!0;continue}if(\"\"!==selectorAttrValue){let nodeAttrValue;nodeAttrValue=attrIndexInNode>nameOnlyMarkerIdx?\"\":nodeAttrs[attrIndexInNode+1].toLowerCase();const compareAgainstClassName=8&mode?nodeAttrValue:null;if(compareAgainstClassName&&-1!==core_classIndexOf(compareAgainstClassName,selectorAttrValue,0)||2&mode&&selectorAttrValue!==nodeAttrValue){if(core_isPositive(mode))return!1;skipToNextSelector=!0}}}}else{if(!skipToNextSelector&&!core_isPositive(mode)&&!core_isPositive(current))return!1;if(skipToNextSelector&&core_isPositive(current))continue;skipToNextSelector=!1,mode=current|1&mode}}return core_isPositive(mode)||skipToNextSelector}function core_isPositive(mode){return 0==(1&mode)}function core_findAttrIndexInNode(name,attrs,isInlineTemplate,isProjectionMode){if(null===attrs)return-1;let i=0;if(isProjectionMode||!isInlineTemplate){let bindingsMode=!1;for(;i<attrs.length;){const maybeAttrName=attrs[i];if(maybeAttrName===name)return i;if(3===maybeAttrName||6===maybeAttrName)bindingsMode=!0;else{if(1===maybeAttrName||2===maybeAttrName){let value=attrs[++i];for(;\"string\"==typeof value;)value=attrs[++i];continue}if(4===maybeAttrName)break;if(0===maybeAttrName){i+=4;continue}}i+=bindingsMode?1:2}return-1}return function(attrs,name){let i=attrs.indexOf(4);if(i>-1)for(i++;i<attrs.length;){if(attrs[i]===name)return i;i++}return-1}(attrs,name)}function core_isNodeMatchingSelectorList(tNode,selector,isProjectionMode=!1){for(let i=0;i<selector.length;i++)if(core_isNodeMatchingSelector(tNode,selector[i],isProjectionMode))return!0;return!1}const core_NO_CHANGE={};function core_getLViewParent(lView){const parent=lView[3];return core_isLContainer(parent)?parent[3]:parent}function core_refreshContentQueries(tView,lView){const contentQueries=tView.contentQueries;if(null!==contentQueries)for(let i=0;i<contentQueries.length;i+=2){const queryStartIdx=contentQueries[i],directiveDefIdx=contentQueries[i+1];if(-1!==directiveDefIdx){const directiveDef=tView.data[directiveDefIdx];core_setCurrentQueryIndex(queryStartIdx),directiveDef.contentQueries(2,lView[directiveDefIdx],directiveDefIdx)}}}function core_createLView(parentLView,tView,context,flags,host,tHostNode,rendererFactory,renderer,sanitizer,injector){const lView=tView.blueprint.slice();return lView[0]=host,lView[2]=140|flags,core_resetPreOrderHookFlags(lView),lView[3]=lView[15]=parentLView,lView[8]=context,lView[10]=rendererFactory||parentLView&&parentLView[10],lView[11]=renderer||parentLView&&parentLView[11],lView[12]=sanitizer||parentLView&&parentLView[12]||null,lView[9]=injector||parentLView&&parentLView[9]||null,lView[6]=tHostNode,lView[16]=2==tView.type?parentLView[16]:lView,lView}function core_renderView(tView,lView,context){core_enterView(lView,lView[6]);try{const viewQuery=tView.viewQuery;null!==viewQuery&&core_executeViewQueryFn(1,viewQuery,context);const templateFn=tView.template;null!==templateFn&&core_executeTemplate(tView,lView,templateFn,1,context),tView.firstCreatePass&&(tView.firstCreatePass=!1),tView.staticContentQueries&&core_refreshContentQueries(tView,lView),tView.staticViewQueries&&core_executeViewQueryFn(2,tView.viewQuery,context);const components=tView.components;null!==components&&function(hostLView,components){for(let i=0;i<components.length;i++)core_renderComponent(hostLView,components[i])}(lView,components)}finally{lView[2]&=-5,core_leaveView()}}function core_refreshView(tView,lView,templateFn,context){const flags=lView[2];if(256==(256&flags))return;core_enterView(lView,lView[6]);const checkNoChangesMode=core_getCheckNoChangesMode();try{core_resetPreOrderHookFlags(lView),core_instructionState.lFrame.bindingIndex=tView.bindingStartIndex,null!==templateFn&&core_executeTemplate(tView,lView,templateFn,2,context);const hooksInitPhaseCompleted=3==(3&flags);if(!checkNoChangesMode)if(hooksInitPhaseCompleted){const preOrderCheckHooks=tView.preOrderCheckHooks;null!==preOrderCheckHooks&&core_executeCheckHooks(lView,preOrderCheckHooks,null)}else{const preOrderHooks=tView.preOrderHooks;null!==preOrderHooks&&core_executeInitAndCheckHooks(lView,preOrderHooks,0,null),core_incrementInitPhaseFlags(lView,0)}if(function(lView){let viewOrContainer=lView[13];for(;null!==viewOrContainer;){let activeIndexFlag;if(core_isLContainer(viewOrContainer)&&(activeIndexFlag=viewOrContainer[2])>>1==-1){for(let i=9;i<viewOrContainer.length;i++){const embeddedLView=viewOrContainer[i],embeddedTView=embeddedLView[1];core_viewAttachedToChangeDetector(embeddedLView)&&core_refreshView(embeddedTView,embeddedLView,embeddedTView.template,embeddedLView[8])}0!=(1&activeIndexFlag)&&core_refreshTransplantedViews(viewOrContainer,lView[16])}viewOrContainer=viewOrContainer[4]}}(lView),null!==tView.contentQueries&&core_refreshContentQueries(tView,lView),!checkNoChangesMode)if(hooksInitPhaseCompleted){const contentCheckHooks=tView.contentCheckHooks;null!==contentCheckHooks&&core_executeCheckHooks(lView,contentCheckHooks)}else{const contentHooks=tView.contentHooks;null!==contentHooks&&core_executeInitAndCheckHooks(lView,contentHooks,1),core_incrementInitPhaseFlags(lView,1)}!function(tView,lView){try{const expandoInstructions=tView.expandoInstructions;if(null!==expandoInstructions){let bindingRootIndex=tView.expandoStartIndex,currentDirectiveIndex=-1,currentElementIndex=-1;for(let i=0;i<expandoInstructions.length;i++){const instruction=expandoInstructions[i];\"number\"==typeof instruction?instruction<=0?(currentElementIndex=0-instruction,core_setSelectedIndex(currentElementIndex),bindingRootIndex+=9+expandoInstructions[++i],currentDirectiveIndex=bindingRootIndex):bindingRootIndex+=instruction:(null!==instruction&&(core_setBindingRootForHostBindings(bindingRootIndex,currentDirectiveIndex),instruction(2,lView[currentDirectiveIndex])),currentDirectiveIndex++)}}}finally{core_setSelectedIndex(-1)}}(tView,lView);const components=tView.components;null!==components&&function(hostLView,components){for(let i=0;i<components.length;i++)core_refreshComponent(hostLView,components[i])}(lView,components);const viewQuery=tView.viewQuery;if(null!==viewQuery&&core_executeViewQueryFn(2,viewQuery,context),!checkNoChangesMode)if(hooksInitPhaseCompleted){const viewCheckHooks=tView.viewCheckHooks;null!==viewCheckHooks&&core_executeCheckHooks(lView,viewCheckHooks)}else{const viewHooks=tView.viewHooks;null!==viewHooks&&core_executeInitAndCheckHooks(lView,viewHooks,2),core_incrementInitPhaseFlags(lView,2)}!0===tView.firstUpdatePass&&(tView.firstUpdatePass=!1),checkNoChangesMode||(lView[2]&=-73)}finally{core_leaveView()}}function core_executeTemplate(tView,lView,templateFn,rf,context){const prevSelectedIndex=core_instructionState.lFrame.selectedIndex;try{core_setSelectedIndex(-1),2&rf&&lView.length>19&&function(tView,lView,index,checkNoChangesMode){if(!checkNoChangesMode)if(3==(3&lView[2])){const preOrderCheckHooks=tView.preOrderCheckHooks;null!==preOrderCheckHooks&&core_executeCheckHooks(lView,preOrderCheckHooks,0)}else{const preOrderHooks=tView.preOrderHooks;null!==preOrderHooks&&core_executeInitAndCheckHooks(lView,preOrderHooks,0,0)}core_setSelectedIndex(0)}(tView,lView,0,core_getCheckNoChangesMode()),templateFn(rf,context)}finally{core_setSelectedIndex(prevSelectedIndex)}}function core_generatePropertyAliases(inputAliasMap,directiveDefIdx,propStore){for(let publicName in inputAliasMap)if(inputAliasMap.hasOwnProperty(publicName)){const internalName=inputAliasMap[publicName];(propStore=null===propStore?{}:propStore).hasOwnProperty(publicName)?propStore[publicName].push(directiveDefIdx,internalName):propStore[publicName]=[directiveDefIdx,internalName]}return propStore}function core_addHostBindingsToExpandoInstructions(tView,def){const expando=tView.expandoInstructions;expando.push(def.hostBindings),0!==def.hostVars&&expando.push(def.hostVars)}function core_invokeHostBindingsInCreationMode(def,directive){null!==def.hostBindings&&def.hostBindings(1,directive)}function core_markAsComponentHost(tView,hostTNode){hostTNode.flags|=2,(tView.components||(tView.components=[])).push(hostTNode.index)}function core_saveNameToExportMap(index,def,exportsMap){if(exportsMap){if(def.exportAs)for(let i=0;i<def.exportAs.length;i++)exportsMap[def.exportAs[i]]=index;core_isComponentDef(def)&&(exportsMap[\"\"]=index)}}function core_baseResolveDirective(tView,viewData,def){tView.data.push(def);const directiveFactory=def.factory||(def.factory=core_getFactoryDef(def.type)),nodeInjectorFactory=new core_NodeInjectorFactory(directiveFactory,core_isComponentDef(def),null);tView.blueprint.push(nodeInjectorFactory),viewData.push(nodeInjectorFactory)}function core_addComponentLogic(lView,hostTNode,def){const native=core_getNativeByTNode(hostTNode,lView),tView=function(def){return def.tView||(def.tView=function(type,viewIndex,templateFn,decls,vars,directives,pipes,viewQuery,schemas,consts){const bindingStartIndex=19+decls,initialViewLength=bindingStartIndex+vars,blueprint=function(bindingStartIndex,initialViewLength){const blueprint=[];for(let i=0;i<initialViewLength;i++)blueprint.push(i<bindingStartIndex?null:core_NO_CHANGE);return(blueprint)}(bindingStartIndex,initialViewLength);return blueprint[1]={type:1,id:-1,blueprint:blueprint,template:templateFn,queries:null,viewQuery:viewQuery,node:null,data:blueprint.slice().fill(null,bindingStartIndex),bindingStartIndex:bindingStartIndex,expandoStartIndex:initialViewLength,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:\"function\"==typeof directives?directives():directives,pipeRegistry:\"function\"==typeof pipes?pipes():pipes,firstChild:null,schemas:schemas,consts:consts}}(0,0,def.template,def.decls,def.vars,def.directiveDefs,def.pipeDefs,def.viewQuery,def.schemas,def.consts))}(def),rendererFactory=lView[10],componentView=core_addToViewTree(lView,core_createLView(lView,tView,null,def.onPush?64:16,native,hostTNode,rendererFactory,rendererFactory.createRenderer(native,def)));lView[hostTNode.index]=componentView}function core_setInputsFromAttrs(lView,directiveIndex,instance,def,tNode,initialInputData){const initialInputs=initialInputData[directiveIndex];if(null!==initialInputs){const setInput=def.setInput;for(let i=0;i<initialInputs.length;){const publicName=initialInputs[i++],privateName=initialInputs[i++],value=initialInputs[i++];null!==setInput?def.setInput(instance,value,publicName,privateName):instance[privateName]=value}}}function core_generateInitialInputs(inputs,attrs){let inputsToStore=null,i=0;for(;i<attrs.length;){const attrName=attrs[i];if(0!==attrName)if(5!==attrName){if(\"number\"==typeof attrName)break;inputs.hasOwnProperty(attrName)&&(null===inputsToStore&&(inputsToStore=[]),inputsToStore.push(attrName,inputs[attrName],attrs[i+1])),i+=2}else i+=2;else i+=4}return inputsToStore}function core_refreshTransplantedViews(lContainer,declaredComponentLView){const movedViews=lContainer[5];for(let i=0;i<movedViews.length;i++){const movedLView=movedViews[i],insertedComponentLView=movedLView[3][3][16];if(insertedComponentLView!==declaredComponentLView&&0==(16&insertedComponentLView[2])){const movedTView=movedLView[1];core_refreshView(movedTView,movedLView,movedTView.template,movedLView[8])}}}function core_refreshComponent(hostLView,componentHostIdx){const componentView=core_getComponentLViewByIndex(componentHostIdx,hostLView);if(core_viewAttachedToChangeDetector(componentView)&&80&componentView[2]){const componentTView=componentView[1];core_refreshView(componentTView,componentView,componentTView.template,componentView[8])}}function core_renderComponent(hostLView,componentHostIdx){const componentView=core_getComponentLViewByIndex(componentHostIdx,hostLView),componentTView=componentView[1];!function(tView,lView){for(let i=lView.length;i<tView.blueprint.length;i++)lView.push(tView.blueprint[i])}(componentTView,componentView),core_renderView(componentTView,componentView,componentView[8])}function core_addToViewTree(lView,lViewOrLContainer){return lView[13]?lView[14][4]=lViewOrLContainer:lView[13]=lViewOrLContainer,lView[14]=lViewOrLContainer,lViewOrLContainer}function core_detectChangesInternal(tView,lView,context){const rendererFactory=lView[10];rendererFactory.begin&&rendererFactory.begin();try{core_refreshView(tView,lView,tView.template,context)}catch(error){throw function(lView,error){const injector=lView[9],errorHandler=injector?injector.get(core_ErrorHandler,null):null;errorHandler&&errorHandler.handleError(error)}(lView,error),error}finally{rendererFactory.end&&rendererFactory.end()}}function core_executeViewQueryFn(flags,viewQueryFn,component){core_setCurrentQueryIndex(0),viewQueryFn(flags,component)}function core_getLCleanup(view){return view[7]||(view[7]=[])}function core_getTViewCleanup(tView){return tView.cleanup||(tView.cleanup=[])}function core_setInputsForProperty(tView,lView,inputs,publicName,value){for(let i=0;i<inputs.length;){const index=inputs[i++],privateName=inputs[i++],instance=lView[index],def=tView.data[index];null!==def.setInput?def.setInput(instance,value,publicName,privateName):instance[privateName]=value}}function core_getLContainer(tNode,embeddedView){const container=embeddedView[3];return-1===tNode.index?core_isLContainer(container)?container:null:container}function core_getContainerRenderParent(tViewNode,view){const container=core_getLContainer(tViewNode,view);return container?core_nativeParentNode(view[11],container[7]):null}function core_applyToElementOrContainer(action,renderer,parent,lNodeToHandle,beforeNode){if(null!=lNodeToHandle){let lContainer,isComponent=!1;core_isLContainer(lNodeToHandle)?lContainer=lNodeToHandle:core_isLView(lNodeToHandle)&&(isComponent=!0,lNodeToHandle=lNodeToHandle[0]);const rNode=core_unwrapRNode(lNodeToHandle);0===action&&null!==parent?null==beforeNode?core_nativeAppendChild(renderer,parent,rNode):core_nativeInsertBefore(renderer,parent,rNode,beforeNode||null):1===action&&null!==parent?core_nativeInsertBefore(renderer,parent,rNode,beforeNode||null):2===action?function(renderer,rNode,isHostElement){const nativeParent=core_nativeParentNode(renderer,rNode);nativeParent&&function(renderer,parent,child,isHostElement){core_isProceduralRenderer(renderer)?renderer.removeChild(parent,child,isHostElement):parent.removeChild(child)}(renderer,nativeParent,rNode,isHostElement)}(renderer,rNode,isComponent):3===action&&renderer.destroyNode(rNode),null!=lContainer&&function(renderer,action,lContainer,renderParent,beforeNode){const anchor=lContainer[7];anchor!==core_unwrapRNode(lContainer)&&core_applyToElementOrContainer(action,renderer,renderParent,anchor,beforeNode);for(let i=9;i<lContainer.length;i++){const lView=lContainer[i];core_applyView(lView[1],lView,renderer,action,renderParent,anchor)}}(renderer,action,lContainer,parent,beforeNode)}}function core_addRemoveViewFromContainer(tView,lView,insertMode,beforeNode){const renderParent=core_getContainerRenderParent(tView.node,lView);renderParent&&core_applyView(tView,lView,lView[11],insertMode?1:2,renderParent,beforeNode)}function core_detachMovedView(declarationContainer,lView){const movedViews=declarationContainer[5],declaredViewIndex=movedViews.indexOf(lView);movedViews.splice(declaredViewIndex,1)}function core_detachView(lContainer,removeIndex){if(lContainer.length<=9)return;const indexInContainer=9+removeIndex,viewToDetach=lContainer[indexInContainer];if(viewToDetach){const declarationLContainer=viewToDetach[17];null!==declarationLContainer&&declarationLContainer!==lContainer&&core_detachMovedView(declarationLContainer,viewToDetach),removeIndex>0&&(lContainer[indexInContainer-1][4]=viewToDetach[4]);const removedLView=core_removeFromArray(lContainer,9+removeIndex);core_addRemoveViewFromContainer(viewToDetach[1],viewToDetach,!1,null);const lQueries=removedLView[5];null!==lQueries&&lQueries.detachView(removedLView[1]),viewToDetach[3]=null,viewToDetach[4]=null,viewToDetach[2]&=-129}return viewToDetach}function core_destroyLView(tView,lView){if(!(256&lView[2])){const renderer=lView[11];core_isProceduralRenderer(renderer)&&renderer.destroyNode&&core_applyView(tView,lView,renderer,3,null,null),function(rootView){let lViewOrLContainer=rootView[13];if(!lViewOrLContainer)return core_cleanUpView(rootView[1],rootView);for(;lViewOrLContainer;){let next=null;if(core_isLView(lViewOrLContainer))next=lViewOrLContainer[13];else{const firstView=lViewOrLContainer[9];firstView&&(next=firstView)}if(!next){for(;lViewOrLContainer&&!lViewOrLContainer[4]&&lViewOrLContainer!==rootView;)core_isLView(lViewOrLContainer)&&core_cleanUpView(lViewOrLContainer[1],lViewOrLContainer),lViewOrLContainer=core_getParentState(lViewOrLContainer,rootView);null===lViewOrLContainer&&(lViewOrLContainer=rootView),core_isLView(lViewOrLContainer)&&core_cleanUpView(lViewOrLContainer[1],lViewOrLContainer),next=lViewOrLContainer&&lViewOrLContainer[4]}lViewOrLContainer=next}}(lView)}}function core_getParentState(lViewOrLContainer,rootView){let tNode;return core_isLView(lViewOrLContainer)&&(tNode=lViewOrLContainer[6])&&2===tNode.type?core_getLContainer(tNode,lViewOrLContainer):lViewOrLContainer[3]===rootView?null:lViewOrLContainer[3]}function core_cleanUpView(tView,lView){if(!(256&lView[2])){lView[2]&=-129,lView[2]|=256,function(tView,lView){let destroyHooks;if(null!=tView&&null!=(destroyHooks=tView.destroyHooks))for(let i=0;i<destroyHooks.length;i+=2){const context=lView[destroyHooks[i]];context instanceof core_NodeInjectorFactory||destroyHooks[i+1].call(context)}}(tView,lView),function(tView,lView){const tCleanup=tView.cleanup;if(null!==tCleanup){const lCleanup=lView[7];for(let i=0;i<tCleanup.length-1;i+=2)if(\"string\"==typeof tCleanup[i]){const idxOrTargetGetter=tCleanup[i+1],target=\"function\"==typeof idxOrTargetGetter?idxOrTargetGetter(lView):core_unwrapRNode(lView[idxOrTargetGetter]),listener=lCleanup[tCleanup[i+2]],useCaptureOrSubIdx=tCleanup[i+3];\"boolean\"==typeof useCaptureOrSubIdx?target.removeEventListener(tCleanup[i],listener,useCaptureOrSubIdx):useCaptureOrSubIdx>=0?lCleanup[useCaptureOrSubIdx]():lCleanup[-useCaptureOrSubIdx].unsubscribe(),i+=2}else tCleanup[i].call(lCleanup[tCleanup[i+1]]);lView[7]=null}}(tView,lView);const hostTNode=lView[6];hostTNode&&3===hostTNode.type&&core_isProceduralRenderer(lView[11])&&lView[11].destroy();const declarationContainer=lView[17];if(null!==declarationContainer&&core_isLContainer(lView[3])){declarationContainer!==lView[3]&&core_detachMovedView(declarationContainer,lView);const lQueries=lView[5];null!==lQueries&&lQueries.detachView(tView)}}}function core_nativeInsertBefore(renderer,parent,child,beforeNode){core_isProceduralRenderer(renderer)?renderer.insertBefore(parent,child,beforeNode):parent.insertBefore(child,beforeNode,!0)}function core_nativeAppendChild(renderer,parent,child){core_isProceduralRenderer(renderer)?renderer.appendChild(parent,child):parent.appendChild(child)}function core_nativeAppendOrInsertBefore(renderer,parent,child,beforeNode){null!==beforeNode?core_nativeInsertBefore(renderer,parent,child,beforeNode):core_nativeAppendChild(renderer,parent,child)}function core_nativeParentNode(renderer,node){return core_isProceduralRenderer(renderer)?renderer.parentNode(node):node.parentNode}function core_appendChild(tView,lView,childEl,childTNode){const renderParent=function(tView,tNode,currentView){let parentTNode=tNode.parent;for(;null!=parentTNode&&(4===parentTNode.type||5===parentTNode.type);)parentTNode=(tNode=parentTNode).parent;if(null==parentTNode){const hostTNode=currentView[6];return 2===hostTNode.type?core_getContainerRenderParent(hostTNode,currentView):currentView[0]}if(tNode&&5===tNode.type&&4&tNode.flags)return core_getNativeByTNode(tNode,currentView).parentNode;if(2&parentTNode.flags){const tData=tView.data,encapsulation=tData[tData[parentTNode.index].directiveStart].encapsulation;if(encapsulation!==core_ViewEncapsulation$1.ShadowDom&&encapsulation!==core_ViewEncapsulation$1.Native)return null}return(core_getNativeByTNode(parentTNode,currentView))}(tView,childTNode,lView);if(null!=renderParent){const renderer=lView[11],anchorNode=function(parentTNode,lView){if(2===parentTNode.type){const lContainer=core_getLContainer(parentTNode,lView);return null===lContainer?null:core_getBeforeNodeForView(lContainer.indexOf(lView,9)-9,lContainer)}return 4===parentTNode.type||5===parentTNode.type?core_getNativeByTNode(parentTNode,lView):null}(childTNode.parent||lView[6],lView);if(Array.isArray(childEl))for(let i=0;i<childEl.length;i++)core_nativeAppendOrInsertBefore(renderer,renderParent,childEl[i],anchorNode);else core_nativeAppendOrInsertBefore(renderer,renderParent,childEl,anchorNode)}}function core_getBeforeNodeForView(viewIndexInContainer,lContainer){const nextViewIndex=9+viewIndexInContainer+1;if(nextViewIndex<lContainer.length){const lView=lContainer[nextViewIndex],firstTNodeOfView=lView[1].firstChild;if(null!==firstTNodeOfView)return function core_getFirstNativeNode(lView,tNode){if(null!==tNode){const tNodeType=tNode.type;if(3===tNodeType)return core_getNativeByTNode(tNode,lView);if(0===tNodeType)return core_getBeforeNodeForView(-1,lView[tNode.index]);if(4===tNodeType||5===tNodeType){const elIcuContainerChild=tNode.child;if(null!==elIcuContainerChild)return core_getFirstNativeNode(lView,elIcuContainerChild);{const rNodeOrLContainer=lView[tNode.index];return core_isLContainer(rNodeOrLContainer)?core_getBeforeNodeForView(-1,rNodeOrLContainer):core_unwrapRNode(rNodeOrLContainer)}}{const componentView=lView[16],componentHost=componentView[6],parentView=core_getLViewParent(componentView),firstProjectedTNode=componentHost.projection[tNode.projection];return null!=firstProjectedTNode?core_getFirstNativeNode(parentView,firstProjectedTNode):core_getFirstNativeNode(lView,tNode.next)}}return null}(lView,firstTNodeOfView)}return lContainer[7]}function core_applyNodes(renderer,action,tNode,lView,renderParent,beforeNode,isProjection){for(;null!=tNode;){const rawSlotValue=lView[tNode.index],tNodeType=tNode.type;isProjection&&0===action&&(rawSlotValue&&core_attachPatchData(core_unwrapRNode(rawSlotValue),lView),tNode.flags|=4),64!=(64&tNode.flags)&&(4===tNodeType||5===tNodeType?(core_applyNodes(renderer,action,tNode.child,lView,renderParent,beforeNode,!1),core_applyToElementOrContainer(action,renderer,renderParent,rawSlotValue,beforeNode)):1===tNodeType?core_applyProjectionRecursive(renderer,action,lView,tNode,renderParent,beforeNode):core_applyToElementOrContainer(action,renderer,renderParent,rawSlotValue,beforeNode)),tNode=isProjection?tNode.projectionNext:tNode.next}}function core_applyView(tView,lView,renderer,action,renderParent,beforeNode){core_applyNodes(renderer,action,tView.node.child,lView,renderParent,beforeNode,!1)}function core_applyProjectionRecursive(renderer,action,lView,tProjectionNode,renderParent,beforeNode){const componentLView=lView[16],nodeToProjectOrRNodes=componentLView[6].projection[tProjectionNode.projection];if(Array.isArray(nodeToProjectOrRNodes))for(let i=0;i<nodeToProjectOrRNodes.length;i++)core_applyToElementOrContainer(action,renderer,renderParent,nodeToProjectOrRNodes[i],beforeNode);else core_applyNodes(renderer,action,nodeToProjectOrRNodes,componentLView[3],renderParent,beforeNode,!0)}class core_ViewRef{constructor(_lView,_cdRefInjectingView){this._lView=_lView,this._cdRefInjectingView=_cdRefInjectingView,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}get rootNodes(){const lView=this._lView;return null==lView[0]?function core_collectNativeNodes(tView,lView,tNode,result,isProjection=!1){for(;null!==tNode;){const lNode=lView[tNode.index];if(null!==lNode&&result.push(core_unwrapRNode(lNode)),core_isLContainer(lNode))for(let i=9;i<lNode.length;i++){const lViewInAContainer=lNode[i],lViewFirstChildTNode=lViewInAContainer[1].firstChild;null!==lViewFirstChildTNode&&core_collectNativeNodes(lViewInAContainer[1],lViewInAContainer,lViewFirstChildTNode,result)}const tNodeType=tNode.type;if(4===tNodeType||5===tNodeType)core_collectNativeNodes(tView,lView,tNode.child,result);else if(1===tNodeType){const componentView=lView[16],componentHost=componentView[6],parentView=core_getLViewParent(componentView);let firstProjectedNode=componentHost.projection[tNode.projection];null!==firstProjectedNode&&null!==parentView&&core_collectNativeNodes(parentView[1],parentView,firstProjectedNode,result,!0)}tNode=isProjection?tNode.projectionNext:tNode.next}return result}(lView[1],lView,lView[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const index=this._viewContainerRef.indexOf(this);index>-1&&this._viewContainerRef.detach(index),this._viewContainerRef=null}core_destroyLView(this._lView[1],this._lView)}onDestroy(callback){var tView,lView,cleanupFn;tView=this._lView[1],cleanupFn=callback,core_getLCleanup(lView=this._lView).push(cleanupFn),tView.firstCreatePass&&core_getTViewCleanup(tView).push(lView[7].length-1,null)}markForCheck(){!function(lView){for(;lView;){lView[2]|=64;const parent=core_getLViewParent(lView);if(core_isRootView(lView)&&!parent)return lView;lView=parent}}(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){core_detectChangesInternal(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(tView,view,context){core_setCheckNoChangesMode(!0);try{core_detectChangesInternal(tView,view,context)}finally{core_setCheckNoChangesMode(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(vcRef){if(this._appRef)throw new Error(\"This view is already attached directly to the ApplicationRef!\");this._viewContainerRef=vcRef}detachFromAppRef(){var lView;this._appRef=null,core_applyView(this._lView[1],lView=this._lView,lView[11],2,null,null)}attachToAppRef(appRef){if(this._viewContainerRef)throw new Error(\"This view is already attached to a ViewContainer!\");this._appRef=appRef}}let core_R3ElementRef,core_R3TemplateRef,core_R3ViewContainerRef;function core_createElementRef(ElementRefToken,tNode,view){return core_R3ElementRef||(core_R3ElementRef=class extends ElementRefToken{}),new core_R3ElementRef(core_getNativeByTNode(tNode,view))}function core_createTemplateRef(TemplateRefToken,ElementRefToken,hostTNode,hostView){return core_R3TemplateRef||(core_R3TemplateRef=class extends TemplateRefToken{constructor(_declarationView,_declarationTContainer,elementRef){super(),this._declarationView=_declarationView,this._declarationTContainer=_declarationTContainer,this.elementRef=elementRef}createEmbeddedView(context){const embeddedTView=this._declarationTContainer.tViews,embeddedLView=core_createLView(this._declarationView,embeddedTView,context,16,null,embeddedTView.node);embeddedLView[17]=this._declarationView[this._declarationTContainer.index];const declarationViewLQueries=this._declarationView[5];null!==declarationViewLQueries&&(embeddedLView[5]=declarationViewLQueries.createEmbeddedView(embeddedTView)),core_renderView(embeddedTView,embeddedLView,context);const viewRef=new core_ViewRef(embeddedLView);return viewRef._tViewNode=embeddedLView[6],viewRef}}),0===hostTNode.type?new core_R3TemplateRef(hostView,hostTNode,core_createElementRef(ElementRefToken,hostTNode,hostView)):null}function core_createContainerRef(ViewContainerRefToken,ElementRefToken,hostTNode,hostView){let lContainer;core_R3ViewContainerRef||(core_R3ViewContainerRef=class extends ViewContainerRefToken{constructor(_lContainer,_hostTNode,_hostView){super(),this._lContainer=_lContainer,this._hostTNode=_hostTNode,this._hostView=_hostView}get element(){return core_createElementRef(ElementRefToken,this._hostTNode,this._hostView)}get injector(){return new core_NodeInjector(this._hostTNode,this._hostView)}get parentInjector(){const parentLocation=core_getParentInjectorLocation(this._hostTNode,this._hostView),parentView=core_getParentInjectorView(parentLocation,this._hostView),parentTNode=function(location,startView,startTNode){if(startTNode.parent&&-1!==startTNode.parent.injectorIndex){const injectorIndex=startTNode.parent.injectorIndex;let tNode=startTNode.parent;for(;null!=tNode.parent&&injectorIndex==tNode.parent.injectorIndex;)tNode=tNode.parent;return tNode}let viewOffset=core_getParentInjectorViewOffset(location),parentView=startView,parentTNode=startView[6];for(;viewOffset>1;)parentView=parentView[15],parentTNode=parentView[6],viewOffset--;return parentTNode}(parentLocation,this._hostView,this._hostTNode);return core_hasParentInjector(parentLocation)&&null!=parentTNode?new core_NodeInjector(parentTNode,parentView):new core_NodeInjector(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(index){return null!==this._lContainer[8]&&this._lContainer[8][index]||null}get length(){return this._lContainer.length-9}createEmbeddedView(templateRef,context,index){const viewRef=templateRef.createEmbeddedView(context||{});return this.insert(viewRef,index),viewRef}createComponent(componentFactory,index,injector,projectableNodes,ngModuleRef){const contextInjector=injector||this.parentInjector;if(!ngModuleRef&&null==componentFactory.ngModule&&contextInjector){const result=contextInjector.get(core_NgModuleRef,null);result&&(ngModuleRef=result)}const componentRef=componentFactory.create(contextInjector,projectableNodes,void 0,ngModuleRef);return this.insert(componentRef.hostView,index),componentRef}insert(viewRef,index){const lView=viewRef._lView,tView=lView[1];if(viewRef.destroyed)throw new Error(\"Cannot insert a destroyed View in a ViewContainer!\");if(this.allocateContainerIfNeeded(),core_isLContainer(lView[3])){const prevIdx=this.indexOf(viewRef);if(-1!==prevIdx)this.detach(prevIdx);else{const prevLContainer=lView[3],prevVCRef=new core_R3ViewContainerRef(prevLContainer,prevLContainer[6],prevLContainer[3]);prevVCRef.detach(prevVCRef.indexOf(viewRef))}}const adjustedIdx=this._adjustIndex(index);return function(tView,lView,lContainer,index){const indexInContainer=9+index,containerLength=lContainer.length;index>0&&(lContainer[indexInContainer-1][4]=lView),index<containerLength-9?(lView[4]=lContainer[indexInContainer],core_addToArray(lContainer,9+index,lView)):(lContainer.push(lView),lView[4]=null),lView[3]=lContainer;const declarationLContainer=lView[17];null!==declarationLContainer&&lContainer!==declarationLContainer&&function(declarationContainer,lView){const movedViews=declarationContainer[5],insertedComponentLView=lView[3][3][16];16!=(16&insertedComponentLView[2])&&lView[16]!==insertedComponentLView&&(declarationContainer[2]|=1),null===movedViews?declarationContainer[5]=[lView]:movedViews.push(lView)}(declarationLContainer,lView);const lQueries=lView[5];null!==lQueries&&lQueries.insertView(tView),lView[2]|=128}(tView,lView,this._lContainer,adjustedIdx),core_addRemoveViewFromContainer(tView,lView,!0,core_getBeforeNodeForView(adjustedIdx,this._lContainer)),viewRef.attachToViewContainerRef(this),core_addToArray(this._lContainer[8],adjustedIdx,viewRef),viewRef}move(viewRef,newIndex){if(viewRef.destroyed)throw new Error(\"Cannot move a destroyed View in a ViewContainer!\");return this.insert(viewRef,newIndex)}indexOf(viewRef){const viewRefsArr=this._lContainer[8];return null!==viewRefsArr?viewRefsArr.indexOf(viewRef):-1}remove(index){this.allocateContainerIfNeeded();const adjustedIdx=this._adjustIndex(index,-1);(function(lContainer,removeIndex){const detachedView=core_detachView(lContainer,removeIndex);detachedView&&core_destroyLView(detachedView[1],detachedView)})(this._lContainer,adjustedIdx),core_removeFromArray(this._lContainer[8],adjustedIdx)}detach(index){this.allocateContainerIfNeeded();const adjustedIdx=this._adjustIndex(index,-1),view=core_detachView(this._lContainer,adjustedIdx);return view&&null!=core_removeFromArray(this._lContainer[8],adjustedIdx)?new core_ViewRef(view):null}_adjustIndex(index,shift=0){return null==index?this.length+shift:index}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const slotValue=hostView[hostTNode.index];if(core_isLContainer(slotValue))lContainer=slotValue,function(lContainer,index){lContainer[2]=-2}(lContainer);else{let commentNode;if(4===hostTNode.type)commentNode=core_unwrapRNode(slotValue);else if(commentNode=hostView[11].createComment(\"\"),core_isRootView(hostView)){const renderer=hostView[11],hostNative=core_getNativeByTNode(hostTNode,hostView);core_nativeInsertBefore(renderer,core_nativeParentNode(renderer,hostNative),commentNode,function(renderer,node){return core_isProceduralRenderer(renderer)?renderer.nextSibling(node):node.nextSibling}(renderer,hostNative))}else core_appendChild(hostView[1],hostView,commentNode,hostTNode);hostView[hostTNode.index]=lContainer=new Array(slotValue,!0,-2,hostView,null,null,hostTNode,commentNode,null),core_addToViewTree(hostView,lContainer)}return new core_R3ViewContainerRef(lContainer,hostTNode,hostView)}function core_injectableDefOrInjectorDefFactory(token){const injectableDef=core_getInjectableDef(token),factory=null!==injectableDef?injectableDef.factory:core_getFactoryDef(token);if(null!==factory)return factory;const injectorDef=core_getInjectorDef(token);if(null!==injectorDef)return injectorDef.factory;if(token instanceof core_InjectionToken)throw new Error(`Token ${core_stringify(token)} is missing a prov definition.`);if(token instanceof Function)return function(token){const paramLength=token.length;if(paramLength>0){const args=function(size,value){const list=[];for(let i=0;i<size;i++)list.push(\"?\");return list}(paramLength);throw new Error(`Can't resolve all parameters for ${core_stringify(token)}: (${args.join(\", \")}).`)}const inheritedInjectableDef=function(type){const def=type&&(type[core_NG_PROV_DEF]||type[core_NG_INJECTABLE_DEF]||type[core_NG_PROV_DEF_FALLBACK]&&type[core_NG_PROV_DEF_FALLBACK]());if(def){const typeName=function(type){if(type.hasOwnProperty(\"name\"))return type.name;const match=(\"\"+type).match(/^function\\s*([^\\s(]+)/);return null===match?\"\":match[1]}(type);return console.warn(`DEPRECATED: DI is instantiating a token \"${typeName}\" that inherits its @Injectable decorator but does not provide one itself.\\n`+`This will become an error in v10. Please add @Injectable() to the \"${typeName}\" class.`),def}return null}(token);return null!==inheritedInjectableDef?()=>inheritedInjectableDef.factory(token):()=>new token}(token);throw new Error(\"unreachable\")}function core_isTypeProvider(value){return\"function\"==typeof value}const core_ANALYZE_FOR_ENTRY_COMPONENTS=new core_InjectionToken(\"AnalyzeForEntryComponents\");let core_symbolIterator=null;function fesm2015_core_getSymbolIterator(){if(!core_symbolIterator){const Symbol=fesm2015_core_global.Symbol;if(Symbol&&Symbol.iterator)core_symbolIterator=Symbol.iterator;else{const keys=Object.getOwnPropertyNames(Map.prototype);for(let i=0;i<keys.length;++i){const key=keys[i];\"entries\"!==key&&\"size\"!==key&&Map.prototype[key]===Map.prototype.entries&&(core_symbolIterator=key)}}}return core_symbolIterator}function core_directiveInject(token,flags=core_InjectFlags.Default){const lView=core_getLView();return null==lView?core_inject(token,flags):core_getOrCreateInjectable(core_getPreviousOrParentTNode(),lView,core_resolveForwardRef(token),flags)}function core_property(propName,value,sanitizer){const lView=core_getLView();return function(lView,bindingIndex,value){return!Object.is(lView[bindingIndex],value)&&(lView[bindingIndex]=value,!0)}(lView,core_instructionState.lFrame.bindingIndex++,value)&&function(tView,tNode,lView,propName,value,renderer,sanitizer,nativeOnly){const element=core_getNativeByTNode(tNode,lView);let dataValue,inputData=tNode.inputs;var name;null!=inputData&&(dataValue=inputData[propName])?(core_setInputsForProperty(tView,lView,dataValue,propName,value),core_isComponentHost(tNode)&&function(lView,viewIndex){const childComponentLView=core_getComponentLViewByIndex(viewIndex,lView);16&childComponentLView[2]||(childComponentLView[2]|=64)}(lView,tNode.index)):3===tNode.type&&(propName=\"class\"===(name=propName)?\"className\":\"for\"===name?\"htmlFor\":\"formaction\"===name?\"formAction\":\"innerHtml\"===name?\"innerHTML\":\"readonly\"===name?\"readOnly\":\"tabindex\"===name?\"tabIndex\":name,value=null!=sanitizer?sanitizer(value,tNode.tagName||\"\",propName):value,core_isProceduralRenderer(renderer)?renderer.setProperty(element,propName,value):core_isAnimationProp(propName)||(element.setProperty?element.setProperty(propName,value):element[propName]=value))}(core_getTView(),function(){const lFrame=core_instructionState.lFrame;return(lFrame.tView.data[lFrame.selectedIndex+19])}(),lView,propName,value,lView[11],sanitizer),core_property}function core_setDirectiveInputsWhichShadowsStyling(tView,tNode,lView,value,isClassBased){const property=isClassBased?\"class\":\"style\";core_setInputsForProperty(tView,lView,tNode.inputs[property],property,value)}function core_elementStartFirstCreatePass(index,tView,lView,native,name,attrsIndex,localRefsIndex){const tViewConsts=tView.consts,attrs=core_getConstant(tViewConsts,attrsIndex),tNode=function(tView,tHostNode,index,type,name,attrs){const adjustedIndex=index+19,tNode=tView.data[adjustedIndex]||function(tView,tHostNode,adjustedIndex,type,name,attrs){const previousOrParentTNode=core_getPreviousOrParentTNode(),isParent=core_getIsParent(),parent=isParent?previousOrParentTNode:previousOrParentTNode&&previousOrParentTNode.parent,tNode=tView.data[adjustedIndex]=function(tView,tParent,type,adjustedIndex,tagName,attrs){return{type:3,index:adjustedIndex,injectorIndex:tParent?tParent.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:tagName,attrs:attrs,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:tParent,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,parent&&parent!==tHostNode?parent:null,0,adjustedIndex,name,attrs);return null===tView.firstChild&&(tView.firstChild=tNode),previousOrParentTNode&&(!isParent||null!=previousOrParentTNode.child||null===tNode.parent&&2!==previousOrParentTNode.type?isParent||(previousOrParentTNode.next=tNode):previousOrParentTNode.child=tNode),tNode}(tView,tHostNode,adjustedIndex,0,name,attrs);return core_setPreviousOrParentTNode(tNode,!0),tNode}(tView,lView[6],index,0,name,attrs);return function(tView,lView,tNode,localRefs){let hasDirectives=!1;if(core_getBindingsEnabled()){const directiveDefs=function(tView,viewData,tNode){const registry=tView.directiveRegistry;let matches=null;if(registry)for(let i=0;i<registry.length;i++){const def=registry[i];core_isNodeMatchingSelectorList(tNode,def.selectors,!1)&&(matches||(matches=[]),core_diPublicInInjector(core_getOrCreateNodeInjectorForNode(tNode,viewData),tView,def.type),core_isComponentDef(def)?(2&tNode.flags&&core_throwMultipleComponentError(tNode),core_markAsComponentHost(tView,tNode),matches.unshift(def)):matches.push(def))}return matches}(tView,lView,tNode),exportsMap=null===localRefs?null:{\"\":-1};if(null!==directiveDefs){let totalDirectiveHostVars=0;hasDirectives=!0,function(tNode,index,numberOfDirectives){tNode.flags|=1,tNode.directiveStart=index,tNode.directiveEnd=index+numberOfDirectives,tNode.providerIndexes=index}(tNode,tView.data.length,directiveDefs.length);for(let i=0;i<directiveDefs.length;i++){const def=directiveDefs[i];def.providersResolver&&def.providersResolver(def)}!function(tView,tNode,directiveCount){const elementIndex=19-tNode.index,providerCount=tView.data.length-(65535&tNode.providerIndexes);(tView.expandoInstructions||(tView.expandoInstructions=[])).push(elementIndex,providerCount,directiveCount)}(tView,tNode,directiveDefs.length);let preOrderHooksFound=!1,preOrderCheckHooksFound=!1;for(let i=0;i<directiveDefs.length;i++){const def=directiveDefs[i];tNode.mergedAttrs=core_mergeHostAttrs(tNode.mergedAttrs,def.hostAttrs),core_baseResolveDirective(tView,lView,def),core_saveNameToExportMap(tView.data.length-1,def,exportsMap),null!==def.contentQueries&&(tNode.flags|=8),null===def.hostBindings&&null===def.hostAttrs&&0===def.hostVars||(tNode.flags|=128),!preOrderHooksFound&&(def.onChanges||def.onInit||def.doCheck)&&((tView.preOrderHooks||(tView.preOrderHooks=[])).push(tNode.index-19),preOrderHooksFound=!0),preOrderCheckHooksFound||!def.onChanges&&!def.doCheck||((tView.preOrderCheckHooks||(tView.preOrderCheckHooks=[])).push(tNode.index-19),preOrderCheckHooksFound=!0),core_addHostBindingsToExpandoInstructions(tView,def),totalDirectiveHostVars+=def.hostVars}!function(tView,tNode){const end=tNode.directiveEnd,defs=tView.data,tNodeAttrs=tNode.attrs,inputsFromAttrs=[];let inputsStore=null,outputsStore=null;for(let i=tNode.directiveStart;i<end;i++){const directiveDef=defs[i],directiveInputs=directiveDef.inputs;inputsFromAttrs.push(null!==tNodeAttrs?core_generateInitialInputs(directiveInputs,tNodeAttrs):null),inputsStore=core_generatePropertyAliases(directiveInputs,i,inputsStore),outputsStore=core_generatePropertyAliases(directiveDef.outputs,i,outputsStore)}null!==inputsStore&&(inputsStore.hasOwnProperty(\"class\")&&(tNode.flags|=16),inputsStore.hasOwnProperty(\"style\")&&(tNode.flags|=32)),tNode.initialInputs=inputsFromAttrs,tNode.inputs=inputsStore,tNode.outputs=outputsStore}(tView,tNode),function(tView,lView,count){for(let i=0;i<count;i++)lView.push(core_NO_CHANGE),tView.blueprint.push(core_NO_CHANGE),tView.data.push(null)}(tView,lView,totalDirectiveHostVars)}exportsMap&&function(tNode,localRefs,exportsMap){if(localRefs){const localNames=tNode.localNames=[];for(let i=0;i<localRefs.length;i+=2){const index=exportsMap[localRefs[i+1]];if(null==index)throw new Error(`Export of name '${localRefs[i+1]}' not found!`);localNames.push(localRefs[i],index)}}}(tNode,localRefs,exportsMap)}tNode.mergedAttrs=core_mergeHostAttrs(tNode.mergedAttrs,tNode.attrs)}(tView,lView,tNode,core_getConstant(tViewConsts,localRefsIndex)),null!==tNode.mergedAttrs&&function(tNode,attrs){let styles=tNode.styles,classes=tNode.classes,mode=0;for(let i=0;i<attrs.length;i++){const value=attrs[i];\"number\"==typeof value?mode=value:1==mode?classes=core_concatStringsWithSpace(classes,value):2==mode&&(styles=core_concatStringsWithSpace(styles,value+\": \"+attrs[++i]+\";\"))}null!==styles&&(tNode.styles=styles),null!==classes&&(tNode.classes=classes)}(tNode,tNode.mergedAttrs),null!==tView.queries&&tView.queries.elementStart(tView,tNode),tNode}class core_SimpleChange{constructor(previousValue,currentValue,firstChange){this.previousValue=previousValue,this.currentValue=currentValue,this.firstChange=firstChange}isFirstChange(){return this.firstChange}}function core_NgOnChangesFeature(definition){definition.type.prototype.ngOnChanges&&(definition.setInput=core_ngOnChangesSetInput,definition.onChanges=function(){const simpleChangesStore=core_getSimpleChangesStore(this),current=simpleChangesStore&&simpleChangesStore.current;if(current){const previous=simpleChangesStore.previous;if(previous===core_EMPTY_OBJ)simpleChangesStore.previous=current;else for(let key in current)previous[key]=current[key];simpleChangesStore.current=null,this.ngOnChanges(current)}})}function core_ngOnChangesSetInput(instance,value,publicName,privateName){const simpleChangesStore=core_getSimpleChangesStore(instance)||function(instance,store){return instance.__ngSimpleChanges__=store}(instance,{previous:core_EMPTY_OBJ,current:null}),current=simpleChangesStore.current||(simpleChangesStore.current={}),previous=simpleChangesStore.previous,declaredName=this.declaredInputs[publicName],previousChange=previous[declaredName];current[declaredName]=new core_SimpleChange(previousChange&&previousChange.currentValue,value,previous===core_EMPTY_OBJ),instance[privateName]=value}function core_getSimpleChangesStore(instance){return instance.__ngSimpleChanges__||null}function core_resolveProvider$1(provider,tInjectables,lInjectablesBlueprint,isComponent,isViewProvider){if(provider=core_resolveForwardRef(provider),Array.isArray(provider))for(let i=0;i<provider.length;i++)core_resolveProvider$1(provider[i],tInjectables,lInjectablesBlueprint,isComponent,isViewProvider);else{const tView=core_getTView(),lView=core_getLView();let token=core_isTypeProvider(provider)?provider:core_resolveForwardRef(provider.provide),providerFactory=function(provider,ngModuleType,providers){let factory=void 0;if(core_isTypeProvider(provider)){const unwrappedProvider=core_resolveForwardRef(provider);return core_getFactoryDef(unwrappedProvider)||core_injectableDefOrInjectorDefFactory(unwrappedProvider)}if(function(value){return null!==value&&\"object\"==typeof value&&core_USE_VALUE in value}(provider))factory=()=>core_resolveForwardRef(provider.useValue);else if((value=provider)&&value.useFactory)factory=()=>provider.useFactory(...core_injectArgs(provider.deps||[]));else if(function(value){return!(!value||!value.useExisting)}(provider))factory=()=>core_inject(core_resolveForwardRef(provider.useExisting));else{const classRef=core_resolveForwardRef(provider&&(provider.useClass||provider.provide));if(classRef||function(ngModuleType,providers,provider){let ngModuleDetail=\"\";throw ngModuleType&&providers&&(ngModuleDetail=` - only instances of Provider and Type are allowed, got: [${providers.map(v=>v==provider?\"?\"+provider+\"?\":\"...\").join(\", \")}]`),new Error(`Invalid provider for the NgModule '${core_stringify(ngModuleType)}'`+ngModuleDetail)}(ngModuleType,providers,provider),!function(value){return!!value.deps}(provider))return core_getFactoryDef(classRef)||core_injectableDefOrInjectorDefFactory(classRef);factory=()=>new classRef(...core_injectArgs(provider.deps))}var value;return factory}(provider);const tNode=core_getPreviousOrParentTNode(),beginIndex=65535&tNode.providerIndexes,endIndex=tNode.directiveStart,cptViewProvidersCount=tNode.providerIndexes>>16;if(core_isTypeProvider(provider)||!provider.multi){const factory=new core_NodeInjectorFactory(providerFactory,isViewProvider,core_directiveInject),existingFactoryIndex=core_indexOf(token,tInjectables,isViewProvider?beginIndex:beginIndex+cptViewProvidersCount,endIndex);-1===existingFactoryIndex?(core_diPublicInInjector(core_getOrCreateNodeInjectorForNode(tNode,lView),tView,token),core_registerDestroyHooksIfSupported(tView,provider,tInjectables.length),tInjectables.push(token),tNode.directiveStart++,tNode.directiveEnd++,isViewProvider&&(tNode.providerIndexes+=65536),lInjectablesBlueprint.push(factory),lView.push(factory)):(lInjectablesBlueprint[existingFactoryIndex]=factory,lView[existingFactoryIndex]=factory)}else{const existingProvidersFactoryIndex=core_indexOf(token,tInjectables,beginIndex+cptViewProvidersCount,endIndex),existingViewProvidersFactoryIndex=core_indexOf(token,tInjectables,beginIndex,beginIndex+cptViewProvidersCount),doesProvidersFactoryExist=existingProvidersFactoryIndex>=0&&lInjectablesBlueprint[existingProvidersFactoryIndex],doesViewProvidersFactoryExist=existingViewProvidersFactoryIndex>=0&&lInjectablesBlueprint[existingViewProvidersFactoryIndex];if(isViewProvider&&!doesViewProvidersFactoryExist||!isViewProvider&&!doesProvidersFactoryExist){core_diPublicInInjector(core_getOrCreateNodeInjectorForNode(tNode,lView),tView,token);const factory=function(factoryFn,index,isViewProvider,isComponent,f){const factory=new core_NodeInjectorFactory(factoryFn,isViewProvider,core_directiveInject);return factory.multi=[],factory.index=index,factory.componentProviders=0,core_multiFactoryAdd(factory,f,isComponent&&!isViewProvider),factory}(isViewProvider?core_multiViewProvidersFactoryResolver:core_multiProvidersFactoryResolver,lInjectablesBlueprint.length,isViewProvider,isComponent,providerFactory);!isViewProvider&&doesViewProvidersFactoryExist&&(lInjectablesBlueprint[existingViewProvidersFactoryIndex].providerFactory=factory),core_registerDestroyHooksIfSupported(tView,provider,tInjectables.length),tInjectables.push(token),tNode.directiveStart++,tNode.directiveEnd++,isViewProvider&&(tNode.providerIndexes+=65536),lInjectablesBlueprint.push(factory),lView.push(factory)}else core_registerDestroyHooksIfSupported(tView,provider,existingProvidersFactoryIndex>-1?existingProvidersFactoryIndex:existingViewProvidersFactoryIndex),core_multiFactoryAdd(lInjectablesBlueprint[isViewProvider?existingViewProvidersFactoryIndex:existingProvidersFactoryIndex],providerFactory,!isViewProvider&&isComponent);!isViewProvider&&isComponent&&doesViewProvidersFactoryExist&&lInjectablesBlueprint[existingViewProvidersFactoryIndex].componentProviders++}}}function core_registerDestroyHooksIfSupported(tView,provider,contextIndex){if(core_isTypeProvider(provider)||provider.useClass){const ngOnDestroy=(provider.useClass||provider).prototype.ngOnDestroy;ngOnDestroy&&(tView.destroyHooks||(tView.destroyHooks=[])).push(contextIndex,ngOnDestroy)}}function core_multiFactoryAdd(multiFactory,factory,isComponentProvider){multiFactory.multi.push(factory),isComponentProvider&&multiFactory.componentProviders++}function core_indexOf(item,arr,begin,end){for(let i=begin;i<end;i++)if(arr[i]===item)return i;return-1}function core_multiProvidersFactoryResolver(_,tData,lData,tNode){return core_multiResolve(this.multi,[])}function core_multiViewProvidersFactoryResolver(_,tData,lView,tNode){const factories=this.multi;let result;if(this.providerFactory){const componentCount=this.providerFactory.componentProviders,multiProviders=core_getNodeInjectable(lView,lView[1],this.providerFactory.index,tNode);result=multiProviders.slice(0,componentCount),core_multiResolve(factories,result);for(let i=componentCount;i<multiProviders.length;i++)result.push(multiProviders[i])}else result=[],core_multiResolve(factories,result);return result}function core_multiResolve(factories,result){for(let i=0;i<factories.length;i++)result.push((0,factories[i])());return result}function core_ProvidersFeature(providers,viewProviders=[]){return definition=>{definition.providersResolver=(def,processProvidersFn)=>function(def,providers,viewProviders){const tView=core_getTView();if(tView.firstCreatePass){const isComponent=core_isComponentDef(def);core_resolveProvider$1(viewProviders,tView.data,tView.blueprint,isComponent,!0),core_resolveProvider$1(providers,tView.data,tView.blueprint,isComponent,!1)}}(def,processProvidersFn?processProvidersFn(providers):providers,viewProviders)}}core_NgOnChangesFeature.ngInherit=!0;class core_NullComponentFactoryResolver{resolveComponentFactory(component){throw function(component){const error=Error(`No component factory found for ${core_stringify(component)}. Did you add it to @NgModule.entryComponents?`);return error.ngComponent=component,error}(component)}}let core_ComponentFactoryResolver=(()=>{class ComponentFactoryResolver{}return ComponentFactoryResolver.NULL=new core_NullComponentFactoryResolver,ComponentFactoryResolver})(),core_ElementRef=(()=>{class ElementRef{constructor(nativeElement){this.nativeElement=nativeElement}}return ElementRef.__NG_ELEMENT_ID__=()=>core_SWITCH_ELEMENT_REF_FACTORY(ElementRef),ElementRef})();const core_SWITCH_ELEMENT_REF_FACTORY=function(ElementRefToken){return core_createElementRef(ElementRefToken,core_getPreviousOrParentTNode(),core_getLView())};let core_TemplateRef=(()=>{class TemplateRef{}return TemplateRef.__NG_ELEMENT_ID__=()=>core_SWITCH_TEMPLATE_REF_FACTORY(TemplateRef,core_ElementRef),TemplateRef})();const core_SWITCH_TEMPLATE_REF_FACTORY=function(TemplateRefToken,ElementRefToken){return core_createTemplateRef(TemplateRefToken,ElementRefToken,core_getPreviousOrParentTNode(),core_getLView())};let core_ViewContainerRef=(()=>{class ViewContainerRef{}return ViewContainerRef.__NG_ELEMENT_ID__=()=>core_SWITCH_VIEW_CONTAINER_REF_FACTORY(ViewContainerRef,core_ElementRef),ViewContainerRef})();const core_SWITCH_VIEW_CONTAINER_REF_FACTORY=function(ViewContainerRefToken,ElementRefToken){return core_createContainerRef(ViewContainerRefToken,ElementRefToken,core_getPreviousOrParentTNode(),core_getLView())};class fesm2015_core_EventEmitter extends internal_Subject_Subject{constructor(isAsync=!1){super(),this.__isAsync=isAsync}emit(value){super.next(value)}subscribe(generatorOrNext,error,complete){let schedulerFn,errorFn=err=>null,completeFn=()=>null;generatorOrNext&&\"object\"==typeof generatorOrNext?(schedulerFn=this.__isAsync?value=>{setTimeout(()=>generatorOrNext.next(value))}:value=>{generatorOrNext.next(value)},generatorOrNext.error&&(errorFn=this.__isAsync?err=>{setTimeout(()=>generatorOrNext.error(err))}:err=>{generatorOrNext.error(err)}),generatorOrNext.complete&&(completeFn=this.__isAsync?()=>{setTimeout(()=>generatorOrNext.complete())}:()=>{generatorOrNext.complete()})):(schedulerFn=this.__isAsync?value=>{setTimeout(()=>generatorOrNext(value))}:value=>{generatorOrNext(value)},error&&(errorFn=this.__isAsync?err=>{setTimeout(()=>error(err))}:err=>{error(err)}),complete&&(completeFn=this.__isAsync?()=>{setTimeout(()=>complete())}:()=>{complete()}));const sink=super.subscribe(schedulerFn,errorFn,completeFn);return generatorOrNext instanceof internal_Subscription_Subscription&&generatorOrNext.add(sink),sink}}function fesm2015_core_symbolIterator(){return this._results[fesm2015_core_getSymbolIterator()]()}class core_QueryList{constructor(){this.dirty=!0,this._results=[],this.changes=new fesm2015_core_EventEmitter,this.length=0;const symbol=fesm2015_core_getSymbolIterator(),proto=core_QueryList.prototype;proto[symbol]||(proto[symbol]=fesm2015_core_symbolIterator)}map(fn){return this._results.map(fn)}filter(fn){return this._results.filter(fn)}find(fn){return this._results.find(fn)}reduce(fn,init){return this._results.reduce(fn,init)}forEach(fn){this._results.forEach(fn)}some(fn){return this._results.some(fn)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(resultsTree){this._results=function core_flatten(list,dst){void 0===dst&&(dst=list);for(let i=0;i<list.length;i++){let item=list[i];Array.isArray(item)?(dst===list&&(dst=list.slice(0,i)),core_flatten(item,dst)):dst!==list&&dst.push(item)}return dst}(resultsTree),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class core_LQuery_{constructor(queryList){this.queryList=queryList,this.matches=null}clone(){return new core_LQuery_(this.queryList)}setDirty(){this.queryList.setDirty()}}class core_LQueries_{constructor(queries=[]){this.queries=queries}createEmbeddedView(tView){const tQueries=tView.queries;if(null!==tQueries){const noOfInheritedQueries=null!==tView.contentQueries?tView.contentQueries[0]:tQueries.length,viewLQueries=[];for(let i=0;i<noOfInheritedQueries;i++){const tQuery=tQueries.getByIndex(i);viewLQueries.push(this.queries[tQuery.indexInDeclarationView].clone())}return new core_LQueries_(viewLQueries)}return null}insertView(tView){this.dirtyQueriesWithMatches(tView)}detachView(tView){this.dirtyQueriesWithMatches(tView)}dirtyQueriesWithMatches(tView){for(let i=0;i<this.queries.length;i++)null!==core_getTQuery(tView,i).matches&&this.queries[i].setDirty()}}class core_TQueryMetadata_{constructor(predicate,descendants,isStatic,read=null){this.predicate=predicate,this.descendants=descendants,this.isStatic=isStatic,this.read=read}}class core_TQueries_{constructor(queries=[]){this.queries=queries}elementStart(tView,tNode){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(tView,tNode)}elementEnd(tNode){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(tNode)}embeddedTView(tNode){let queriesForTemplateRef=null;for(let i=0;i<this.length;i++){const childQueryIndex=null!==queriesForTemplateRef?queriesForTemplateRef.length:0,tqueryClone=this.getByIndex(i).embeddedTView(tNode,childQueryIndex);tqueryClone&&(tqueryClone.indexInDeclarationView=i,null!==queriesForTemplateRef?queriesForTemplateRef.push(tqueryClone):queriesForTemplateRef=[tqueryClone])}return null!==queriesForTemplateRef?new core_TQueries_(queriesForTemplateRef):null}template(tView,tNode){for(let i=0;i<this.queries.length;i++)this.queries[i].template(tView,tNode)}getByIndex(index){return this.queries[index]}get length(){return this.queries.length}track(tquery){this.queries.push(tquery)}}class core_TQuery_{constructor(metadata,nodeIndex=-1){this.metadata=metadata,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=nodeIndex}elementStart(tView,tNode){this.isApplyingToNode(tNode)&&this.matchTNode(tView,tNode)}elementEnd(tNode){this._declarationNodeIndex===tNode.index&&(this._appliesToNextNode=!1)}template(tView,tNode){this.elementStart(tView,tNode)}embeddedTView(tNode,childQueryIndex){return this.isApplyingToNode(tNode)?(this.crossesNgTemplate=!0,this.addMatch(-tNode.index,childQueryIndex),new core_TQuery_(this.metadata)):null}isApplyingToNode(tNode){if(this._appliesToNextNode&&!1===this.metadata.descendants){const declarationNodeIdx=this._declarationNodeIndex;let parent=tNode.parent;for(;null!==parent&&4===parent.type&&parent.index!==declarationNodeIdx;)parent=parent.parent;return declarationNodeIdx===(null!==parent?parent.index:-1)}return this._appliesToNextNode}matchTNode(tView,tNode){if(Array.isArray(this.metadata.predicate)){const localNames=this.metadata.predicate;for(let i=0;i<localNames.length;i++)this.matchTNodeWithReadOption(tView,tNode,core_getIdxOfMatchingSelector(tNode,localNames[i]))}else{const typePredicate=this.metadata.predicate;typePredicate===core_TemplateRef?0===tNode.type&&this.matchTNodeWithReadOption(tView,tNode,-1):this.matchTNodeWithReadOption(tView,tNode,core_locateDirectiveOrProvider(tNode,tView,typePredicate,!1,!1))}}matchTNodeWithReadOption(tView,tNode,nodeMatchIdx){if(null!==nodeMatchIdx){const read=this.metadata.read;if(null!==read)if(read===core_ElementRef||read===core_ViewContainerRef||read===core_TemplateRef&&0===tNode.type)this.addMatch(tNode.index,-2);else{const directiveOrProviderIdx=core_locateDirectiveOrProvider(tNode,tView,read,!1,!1);null!==directiveOrProviderIdx&&this.addMatch(tNode.index,directiveOrProviderIdx)}else this.addMatch(tNode.index,nodeMatchIdx)}}addMatch(tNodeIdx,matchIdx){null===this.matches?this.matches=[tNodeIdx,matchIdx]:this.matches.push(tNodeIdx,matchIdx)}}function core_getIdxOfMatchingSelector(tNode,selector){const localNames=tNode.localNames;if(null!==localNames)for(let i=0;i<localNames.length;i+=2)if(localNames[i]===selector)return localNames[i+1];return null}function core_createResultForNode(lView,tNode,matchingIdx,read){return-1===matchingIdx?function(tNode,currentView){return 3===tNode.type||4===tNode.type?core_createElementRef(core_ElementRef,tNode,currentView):0===tNode.type?core_createTemplateRef(core_TemplateRef,core_ElementRef,tNode,currentView):null}(tNode,lView):-2===matchingIdx?function(lView,tNode,read){return read===core_ElementRef?core_createElementRef(core_ElementRef,tNode,lView):read===core_TemplateRef?core_createTemplateRef(core_TemplateRef,core_ElementRef,tNode,lView):read===core_ViewContainerRef?core_createContainerRef(core_ViewContainerRef,core_ElementRef,tNode,lView):void 0}(lView,tNode,read):core_getNodeInjectable(lView,lView[1],matchingIdx,tNode)}function core_materializeViewResults(tView,lView,tQuery,queryIndex){const lQuery=lView[5].queries[queryIndex];if(null===lQuery.matches){const tViewData=tView.data,tQueryMatches=tQuery.matches,result=[];for(let i=0;i<tQueryMatches.length;i+=2){const matchedNodeIdx=tQueryMatches[i];result.push(matchedNodeIdx<0?null:core_createResultForNode(lView,tViewData[matchedNodeIdx],tQueryMatches[i+1],tQuery.metadata.read))}lQuery.matches=result}return lQuery.matches}function core_queryRefresh(queryList){const lView=core_getLView(),tView=core_getTView(),queryIndex=core_getCurrentQueryIndex();core_setCurrentQueryIndex(queryIndex+1);const tQuery=core_getTQuery(tView,queryIndex);if(queryList.dirty&&4==(4&lView[2])===tQuery.metadata.isStatic){if(null===tQuery.matches)queryList.reset([]);else{const result=tQuery.crossesNgTemplate?function core_collectQueryResults(tView,lView,queryIndex,result){const tQuery=tView.queries.getByIndex(queryIndex),tQueryMatches=tQuery.matches;if(null!==tQueryMatches){const lViewResults=core_materializeViewResults(tView,lView,tQuery,queryIndex);for(let i=0;i<tQueryMatches.length;i+=2){const tNodeIdx=tQueryMatches[i];if(tNodeIdx>0)result.push(lViewResults[i/2]);else{const childQueryIndex=tQueryMatches[i+1],declarationLContainer=lView[-tNodeIdx];for(let i=9;i<declarationLContainer.length;i++){const embeddedLView=declarationLContainer[i];embeddedLView[17]===embeddedLView[3]&&core_collectQueryResults(embeddedLView[1],embeddedLView,childQueryIndex,result)}if(null!==declarationLContainer[5]){const embeddedLViews=declarationLContainer[5];for(let i=0;i<embeddedLViews.length;i++){const embeddedLView=embeddedLViews[i];core_collectQueryResults(embeddedLView[1],embeddedLView,childQueryIndex,result)}}}}}return result}(tView,lView,queryIndex,[]):core_materializeViewResults(tView,lView,tQuery,queryIndex);queryList.reset(result),queryList.notifyOnChanges()}return!0}return!1}function core_contentQuery(directiveIndex,predicate,descend,read){!function(tView,lView,predicate,descend,read,isStatic,tNode,directiveIndex){tView.firstCreatePass&&(function(tView,metadata,nodeIndex){null===tView.queries&&(tView.queries=new core_TQueries_),tView.queries.track(new core_TQuery_(metadata,nodeIndex))}(tView,new core_TQueryMetadata_(predicate,descend,!1,read),tNode.index),function(tView,directiveIndex){const tViewContentQueries=tView.contentQueries||(tView.contentQueries=[]);directiveIndex!==(tView.contentQueries.length?tViewContentQueries[tViewContentQueries.length-1]:-1)&&tViewContentQueries.push(tView.queries.length-1,directiveIndex)}(tView,directiveIndex)),function(tView,lView){const queryList=new core_QueryList;!function(tView,lView,context,cleanupFn){const lCleanup=core_getLCleanup(lView);lCleanup.push(context),tView.firstCreatePass&&core_getTViewCleanup(tView).push(cleanupFn,lCleanup.length-1)}(tView,lView,queryList,queryList.destroy),null===lView[5]&&(lView[5]=new core_LQueries_),lView[5].queries.push(new core_LQuery_(queryList))}(tView,lView)}(core_getTView(),core_getLView(),predicate,descend,read,0,core_getPreviousOrParentTNode(),directiveIndex)}function core_loadQuery(){return lView=core_getLView(),queryIndex=core_getCurrentQueryIndex(),lView[5].queries[queryIndex].queryList;var lView,queryIndex}function core_getTQuery(tView,index){return tView.queries.getByIndex(index)}class core_NgZone{constructor({enableLongStackTrace:enableLongStackTrace=!1,shouldCoalesceEventChangeDetection:shouldCoalesceEventChangeDetection=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fesm2015_core_EventEmitter(!1),this.onMicrotaskEmpty=new fesm2015_core_EventEmitter(!1),this.onStable=new fesm2015_core_EventEmitter(!1),this.onError=new fesm2015_core_EventEmitter(!1),\"undefined\"==typeof Zone)throw new Error(\"In this configuration Angular requires Zone.js\");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),enableLongStackTrace&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=shouldCoalesceEventChangeDetection,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let nativeRequestAnimationFrame=fesm2015_core_global.requestAnimationFrame,nativeCancelAnimationFrame=fesm2015_core_global.cancelAnimationFrame;if(\"undefined\"!=typeof Zone&&nativeRequestAnimationFrame&&nativeCancelAnimationFrame){const unpatchedRequestAnimationFrame=nativeRequestAnimationFrame[Zone.__symbol__(\"OriginalDelegate\")];unpatchedRequestAnimationFrame&&(nativeRequestAnimationFrame=unpatchedRequestAnimationFrame);const unpatchedCancelAnimationFrame=nativeCancelAnimationFrame[Zone.__symbol__(\"OriginalDelegate\")];unpatchedCancelAnimationFrame&&(nativeCancelAnimationFrame=unpatchedCancelAnimationFrame)}return{nativeRequestAnimationFrame:nativeRequestAnimationFrame,nativeCancelAnimationFrame:nativeCancelAnimationFrame}}().nativeRequestAnimationFrame,function(zone){const maybeDelayChangeDetection=!!zone.shouldCoalesceEventChangeDetection&&zone.nativeRequestAnimationFrame&&(()=>{!function(zone){-1===zone.lastRequestAnimationFrameId&&(zone.lastRequestAnimationFrameId=zone.nativeRequestAnimationFrame.call(fesm2015_core_global,()=>{zone.lastRequestAnimationFrameId=-1,core_updateMicroTaskStatus(zone),core_checkStable(zone)}),core_updateMicroTaskStatus(zone))}(zone)});zone._inner=zone._inner.fork({name:\"angular\",properties:{isAngularZone:!0,maybeDelayChangeDetection:maybeDelayChangeDetection},onInvokeTask:(delegate,current,target,task,applyThis,applyArgs)=>{try{return core_onEnter(zone),delegate.invokeTask(target,task,applyThis,applyArgs)}finally{maybeDelayChangeDetection&&\"eventTask\"===task.type&&maybeDelayChangeDetection(),core_onLeave(zone)}},onInvoke:(delegate,current,target,callback,applyThis,applyArgs,source)=>{try{return core_onEnter(zone),delegate.invoke(target,callback,applyThis,applyArgs,source)}finally{core_onLeave(zone)}},onHasTask:(delegate,current,target,hasTaskState)=>{delegate.hasTask(target,hasTaskState),current===target&&(\"microTask\"==hasTaskState.change?(zone._hasPendingMicrotasks=hasTaskState.microTask,core_updateMicroTaskStatus(zone),core_checkStable(zone)):\"macroTask\"==hasTaskState.change&&(zone.hasPendingMacrotasks=hasTaskState.macroTask))},onHandleError:(delegate,current,target,error)=>(delegate.handleError(target,error),zone.runOutsideAngular(()=>zone.onError.emit(error)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get(\"isAngularZone\")}static assertInAngularZone(){if(!core_NgZone.isInAngularZone())throw new Error(\"Expected to be in Angular Zone, but it is not!\")}static assertNotInAngularZone(){if(core_NgZone.isInAngularZone())throw new Error(\"Expected to not be in Angular Zone, but it is!\")}run(fn,applyThis,applyArgs){return this._inner.run(fn,applyThis,applyArgs)}runTask(fn,applyThis,applyArgs,name){const zone=this._inner,task=zone.scheduleEventTask(\"NgZoneEvent: \"+name,fn,core_EMPTY_PAYLOAD,core_noop$1,core_noop$1);try{return zone.runTask(task,applyThis,applyArgs)}finally{zone.cancelTask(task)}}runGuarded(fn,applyThis,applyArgs){return this._inner.runGuarded(fn,applyThis,applyArgs)}runOutsideAngular(fn){return this._outer.run(fn)}}function core_noop$1(){}const core_EMPTY_PAYLOAD={};function core_checkStable(zone){if(0==zone._nesting&&!zone.hasPendingMicrotasks&&!zone.isStable)try{zone._nesting++,zone.onMicrotaskEmpty.emit(null)}finally{if(zone._nesting--,!zone.hasPendingMicrotasks)try{zone.runOutsideAngular(()=>zone.onStable.emit(null))}finally{zone.isStable=!0}}}function core_updateMicroTaskStatus(zone){zone.hasPendingMicrotasks=!!(zone._hasPendingMicrotasks||zone.shouldCoalesceEventChangeDetection&&-1!==zone.lastRequestAnimationFrameId)}function core_onEnter(zone){zone._nesting++,zone.isStable&&(zone.isStable=!1,zone.onUnstable.emit(null))}function core_onLeave(zone){zone._nesting--,core_checkStable(zone)}var AgGridColumn_1,ag_grid_community_cjs=__webpack_require__(\"fVaJ\");let ag_grid_angular_AgGridColumn=(()=>{let AgGridColumn=AgGridColumn_1=class{hasChildColumns(){return!(!(this.childColumns&&this.childColumns.length>0)||1===this.childColumns.length&&this.childColumns.first===this)}toColDef(){let colDef=this.createColDefFromGridColumn(this);return this.hasChildColumns()&&(colDef.children=this.getChildColDefs(this.childColumns)),colDef}getChildColDefs(childColumns){return childColumns.filter(column=>!column.hasChildColumns()).map(column=>column.toColDef())}createColDefFromGridColumn(from){return function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&\"function\"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}(from,[\"childColumns\"])}};return AgGridColumn.fac=function(t){return new(t||AgGridColumn)},AgGridColumn.cmp=core_defineComponent({type:AgGridColumn,selectors:[[\"ag-grid-column\"]],contentQueries:function(rf,ctx,dirIndex){var _t;1&rf&&core_contentQuery(dirIndex,AgGridColumn_1,!1),2&rf&&core_queryRefresh(_t=core_loadQuery())&&(ctx.childColumns=_t)},inputs:{children:\"children\",sortingOrder:\"sortingOrder\",allowedAggFuncs:\"allowedAggFuncs\",menuTabs:\"menuTabs\",cellClassRules:\"cellClassRules\",icons:\"icons\",headerGroupComponent:\"headerGroupComponent\",headerGroupComponentFramework:\"headerGroupComponentFramework\",headerGroupComponentParams:\"headerGroupComponentParams\",cellStyle:\"cellStyle\",cellRendererParams:\"cellRendererParams\",cellEditorFramework:\"cellEditorFramework\",cellEditorParams:\"cellEditorParams\",pinnedRowCellRendererFramework:\"pinnedRowCellRendererFramework\",pinnedRowCellRendererParams:\"pinnedRowCellRendererParams\",filterFramework:\"filterFramework\",filterParams:\"filterParams\",headerComponent:\"headerComponent\",headerComponentFramework:\"headerComponentFramework\",headerComponentParams:\"headerComponentParams\",floatingFilterComponent:\"floatingFilterComponent\",floatingFilterComponentParams:\"floatingFilterComponentParams\",floatingFilterComponentFramework:\"floatingFilterComponentFramework\",tooltipComponent:\"tooltipComponent\",tooltipComponentParams:\"tooltipComponentParams\",tooltipComponentFramework:\"tooltipComponentFramework\",refData:\"refData\",columnsMenuParams:\"columnsMenuParams\",headerName:\"headerName\",columnGroupShow:\"columnGroupShow\",headerClass:\"headerClass\",toolPanelClass:\"toolPanelClass\",headerValueGetter:\"headerValueGetter\",groupId:\"groupId\",colId:\"colId\",sort:\"sort\",initialSort:\"initialSort\",field:\"field\",type:\"type\",tooltipField:\"tooltipField\",headerTooltip:\"headerTooltip\",cellClass:\"cellClass\",showRowGroup:\"showRowGroup\",filter:\"filter\",initialAggFunc:\"initialAggFunc\",aggFunc:\"aggFunc\",cellRenderer:\"cellRenderer\",cellEditor:\"cellEditor\",pinned:\"pinned\",initialPinned:\"initialPinned\",chartDataType:\"chartDataType\",sortedAt:\"sortedAt\",sortIndex:\"sortIndex\",initialSortIndex:\"initialSortIndex\",flex:\"flex\",initialFlex:\"initialFlex\",width:\"width\",initialWidth:\"initialWidth\",minWidth:\"minWidth\",maxWidth:\"maxWidth\",rowGroupIndex:\"rowGroupIndex\",initialRowGroupIndex:\"initialRowGroupIndex\",pivotIndex:\"pivotIndex\",initialPivotIndex:\"initialPivotIndex\",dndSourceOnRowDrag:\"dndSourceOnRowDrag\",valueGetter:\"valueGetter\",valueSetter:\"valueSetter\",filterValueGetter:\"filterValueGetter\",keyCreator:\"keyCreator\",cellRendererFramework:\"cellRendererFramework\",pinnedRowCellRenderer:\"pinnedRowCellRenderer\",valueFormatter:\"valueFormatter\",pinnedRowValueFormatter:\"pinnedRowValueFormatter\",valueParser:\"valueParser\",comparator:\"comparator\",equals:\"equals\",pivotComparator:\"pivotComparator\",suppressKeyboardEvent:\"suppressKeyboardEvent\",suppressHeaderKeyboardEvent:\"suppressHeaderKeyboardEvent\",colSpan:\"colSpan\",rowSpan:\"rowSpan\",getQuickFilterText:\"getQuickFilterText\",newValueHandler:\"newValueHandler\",onCellValueChanged:\"onCellValueChanged\",onCellClicked:\"onCellClicked\",onCellDoubleClicked:\"onCellDoubleClicked\",onCellContextMenu:\"onCellContextMenu\",rowDragText:\"rowDragText\",tooltipValueGetter:\"tooltipValueGetter\",cellRendererSelector:\"cellRendererSelector\",cellEditorSelector:\"cellEditorSelector\",suppressCellFlash:\"suppressCellFlash\",suppressColumnsToolPanel:\"suppressColumnsToolPanel\",suppressFiltersToolPanel:\"suppressFiltersToolPanel\",openByDefault:\"openByDefault\",marryChildren:\"marryChildren\",hide:\"hide\",initialHide:\"initialHide\",rowGroup:\"rowGroup\",initialRowGroup:\"initialRowGroup\",pivot:\"pivot\",initialPivot:\"initialPivot\",checkboxSelection:\"checkboxSelection\",headerCheckboxSelection:\"headerCheckboxSelection\",headerCheckboxSelectionFilteredOnly:\"headerCheckboxSelectionFilteredOnly\",suppressMenu:\"suppressMenu\",suppressMovable:\"suppressMovable\",lockPosition:\"lockPosition\",lockVisible:\"lockVisible\",lockPinned:\"lockPinned\",unSortIcon:\"unSortIcon\",suppressSizeToFit:\"suppressSizeToFit\",suppressAutoSize:\"suppressAutoSize\",enableRowGroup:\"enableRowGroup\",enablePivot:\"enablePivot\",enableValue:\"enableValue\",editable:\"editable\",suppressPaste:\"suppressPaste\",suppressNavigable:\"suppressNavigable\",enableCellChangeFlash:\"enableCellChangeFlash\",rowDrag:\"rowDrag\",dndSource:\"dndSource\",autoHeight:\"autoHeight\",wrapText:\"wrapText\",sortable:\"sortable\",resizable:\"resizable\",singleClickEdit:\"singleClickEdit\",floatingFilter:\"floatingFilter\"},decls:0,vars:0,template:function(rf,ctx){},encapsulation:2}),AgGridColumn})(),ag_grid_angular_AngularFrameworkOverrides=(()=>{let AngularFrameworkOverrides=class extends ag_grid_community_cjs.VanillaFrameworkOverrides{constructor(_ngZone){super(),this._ngZone=_ngZone}setEmitterUsedCallback(isEmitterUsed){this.isEmitterUsed=isEmitterUsed}setTimeout(action,timeout){this._ngZone?this._ngZone.runOutsideAngular(()=>{window.setTimeout(()=>{action()},timeout)}):window.setTimeout(()=>{action()},timeout)}addEventListener(element,eventType,listener,useCapture){this.isOutsideAngular(eventType)&&this._ngZone?this._ngZone.runOutsideAngular(()=>{element.addEventListener(eventType,listener,useCapture)}):element.addEventListener(eventType,listener,useCapture)}dispatchEvent(eventType,listener){this.isOutsideAngular(eventType)?this._ngZone?this._ngZone.runOutsideAngular(listener):listener():this.isEmitterUsed(eventType)&&(!core_NgZone.isInAngularZone()&&this._ngZone?this._ngZone.run(listener):listener())}};return AngularFrameworkOverrides.fac=function(t){return new(t||AngularFrameworkOverrides)(core_inject(core_NgZone))},AngularFrameworkOverrides.prov=core_defineInjectable({token:AngularFrameworkOverrides,factory:AngularFrameworkOverrides.fac}),AngularFrameworkOverrides})(),ag_grid_angular_AngularFrameworkComponentWrapper=(()=>{let AngularFrameworkComponentWrapper=class extends ag_grid_community_cjs.BaseComponentWrapper{setViewContainerRef(viewContainerRef){this.viewContainerRef=viewContainerRef}setComponentFactoryResolver(componentFactoryResolver){this.componentFactoryResolver=componentFactoryResolver}createWrapper(OriginalConstructor){let that=this,wrapper=new class extends class{init(params){this._params=params,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}destroy(){this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}{init(params){super.init(params),this._componentRef.changeDetectorRef.detectChanges()}createComponent(){return that.createComponent(OriginalConstructor)}hasMethod(name){return null!=wrapper.getFrameworkComponentInstance()[name]}callMethod(name,args){const componentRef=this.getFrameworkComponentInstance();return wrapper.getFrameworkComponentInstance()[name].apply(componentRef,args)}addMethod(name,callback){wrapper[name]=callback}};return wrapper}createComponent(componentType){let factory=this.componentFactoryResolver.resolveComponentFactory(componentType);return this.viewContainerRef.createComponent(factory)}};return AngularFrameworkComponentWrapper.fac=function(t){return AngularFrameworkComponentWrapper_BaseFactory(t||AngularFrameworkComponentWrapper)},AngularFrameworkComponentWrapper.prov=core_defineInjectable({token:AngularFrameworkComponentWrapper,factory:AngularFrameworkComponentWrapper.fac}),AngularFrameworkComponentWrapper})(),ag_grid_angular_AgGridAngular=(()=>{let AgGridAngular=class{constructor(elementDef,viewContainerRef,angularFrameworkOverrides,frameworkComponentWrapper,componentFactoryResolver){this.viewContainerRef=viewContainerRef,this.angularFrameworkOverrides=angularFrameworkOverrides,this.frameworkComponentWrapper=frameworkComponentWrapper,this.componentFactoryResolver=componentFactoryResolver,this._initialised=!1,this._destroyed=!1,this._fullyReady=ag_grid_community_cjs.AgPromise.resolve(!0),this.alignedGrids=void 0,this.rowData=void 0,this.columnDefs=void 0,this.excelStyles=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.chartThemes=void 0,this.components=void 0,this.frameworkComponents=void 0,this.rowStyle=void 0,this.context=void 0,this.autoGroupColumnDef=void 0,this.localeText=void 0,this.icons=void 0,this.datasource=void 0,this.serverSideDatasource=void 0,this.viewportDatasource=void 0,this.groupRowRendererParams=void 0,this.aggFuncs=void 0,this.fullWidthCellRendererParams=void 0,this.defaultColGroupDef=void 0,this.defaultColDef=void 0,this.defaultExportParams=void 0,this.defaultCsvExportParams=void 0,this.defaultExcelExportParams=void 0,this.columnTypes=void 0,this.rowClassRules=void 0,this.detailGridOptions=void 0,this.detailCellRendererParams=void 0,this.loadingCellRendererParams=void 0,this.loadingOverlayComponentParams=void 0,this.noRowsOverlayComponentParams=void 0,this.popupParent=void 0,this.colResizeDefault=void 0,this.reduxStore=void 0,this.statusBar=void 0,this.sideBar=void 0,this.chartThemeOverrides=void 0,this.customChartThemes=void 0,this.sortingOrder=void 0,this.rowClass=void 0,this.rowSelection=void 0,this.overlayLoadingTemplate=void 0,this.overlayNoRowsTemplate=void 0,this.quickFilterText=void 0,this.rowModelType=void 0,this.editType=void 0,this.domLayout=void 0,this.clipboardDeliminator=void 0,this.rowGroupPanelShow=void 0,this.multiSortKey=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotPanelShow=void 0,this.fillHandleDirection=void 0,this.serverSideStoreType=void 0,this.rowHeight=void 0,this.detailRowHeight=void 0,this.rowBuffer=void 0,this.colWidth=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.groupDefaultExpanded=void 0,this.minColWidth=void 0,this.maxColWidth=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.autoSizePadding=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.tooltipShowDelay=void 0,this.cacheOverflowSize=void 0,this.paginationPageSize=void 0,this.cacheBlockSize=void 0,this.infiniteInitialRowCount=void 0,this.scrollbarWidth=void 0,this.batchUpdateWaitMillis=void 0,this.asyncTransactionWaitMillis=void 0,this.blockLoadDebounceMillis=void 0,this.keepDetailRowsCount=void 0,this.undoRedoCellEditingLimit=void 0,this.cellFlashDelay=void 0,this.cellFadeDelay=void 0,this.tabIndex=void 0,this.localeTextFunc=void 0,this.groupRowInnerRenderer=void 0,this.groupRowInnerRendererFramework=void 0,this.dateComponent=void 0,this.dateComponentFramework=void 0,this.groupRowRenderer=void 0,this.groupRowRendererFramework=void 0,this.isExternalFilterPresent=void 0,this.getRowHeight=void 0,this.doesExternalFilterPass=void 0,this.getRowClass=void 0,this.getRowStyle=void 0,this.getRowClassRules=void 0,this.traverseNode=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.processRowPostCreate=void 0,this.processCellForClipboard=void 0,this.groupRowAggNodes=void 0,this.getRowNodeId=void 0,this.isFullWidthCell=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererFramework=void 0,this.processSecondaryColDef=void 0,this.processSecondaryColGroupDef=void 0,this.getBusinessKeyForNode=void 0,this.sendToClipboard=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getDetailRowData=void 0,this.processCellFromClipboard=void 0,this.getDocument=void 0,this.postProcessPopup=void 0,this.getChildCount=void 0,this.getDataPath=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererFramework=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentFramework=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentFramework=void 0,this.detailCellRenderer=void 0,this.detailCellRendererFramework=void 0,this.defaultGroupSortComparator=void 0,this.isRowMaster=void 0,this.isRowSelectable=void 0,this.postSort=void 0,this.processHeaderForClipboard=void 0,this.paginationNumberFormatter=void 0,this.processDataFromClipboard=void 0,this.getServerSideGroupKey=void 0,this.isServerSideGroup=void 0,this.suppressKeyboardEvent=void 0,this.createChartContainer=void 0,this.processChartOptions=void 0,this.getChartToolbarItems=void 0,this.fillOperation=void 0,this.isApplyServerSideTransaction=void 0,this.getServerSideStoreParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isGroupOpenByDefault=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.suppressRowClickSelection=void 0,this.suppressCellSelection=void 0,this.suppressHorizontalScroll=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debug=void 0,this.enableBrowserTooltips=void 0,this.enableCellExpressions=void 0,this.angularCompileRows=void 0,this.angularCompileFilters=void 0,this.groupSuppressAutoColumn=void 0,this.groupSelectsChildren=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupUseEntireRow=void 0,this.groupSuppressBlankHeader=void 0,this.suppressMenuHide=void 0,this.suppressRowDeselection=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.singleClickEdit=void 0,this.suppressLoadingOverlay=void 0,this.suppressNoRowsOverlay=void 0,this.suppressAutoSize=void 0,this.skipHeaderOnAutoSize=void 0,this.suppressParentsInRowNodes=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressMovableColumns=void 0,this.suppressFieldDotNotation=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.suppressClearOnFillReduction=void 0,this.deltaSort=void 0,this.suppressTouch=void 0,this.suppressAsyncEvents=void 0,this.allowContextMenuWithControlKey=void 0,this.suppressContextMenu=void 0,this.rememberGroupStateWhenNewData=void 0,this.enableCellChangeFlash=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.suppressCopyRowsToClipboard=void 0,this.copyHeadersToClipboard=void 0,this.pivotMode=void 0,this.suppressAggFuncInHeader=void 0,this.suppressColumnVirtualisation=void 0,this.suppressAggAtRootLevel=void 0,this.suppressFocusAfterRefresh=void 0,this.functionsPassive=void 0,this.functionsReadOnly=void 0,this.animateRows=void 0,this.groupSelectsFiltered=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.enableRtl=void 0,this.suppressClickEdit=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.enableMultiRowDragging=void 0,this.enableGroupEdit=void 0,this.embedFullWidthRows=void 0,this.deprecatedEmbedFullWidthRows=void 0,this.suppressPaginationPanel=void 0,this.floatingFilter=void 0,this.groupHideOpenParents=void 0,this.groupMultiAutoColumn=void 0,this.pagination=void 0,this.stopEditingWhenGridLosesFocus=void 0,this.paginationAutoPageSize=void 0,this.suppressScrollOnNewData=void 0,this.purgeClosedRowNodes=void 0,this.cacheQuickFilter=void 0,this.deltaRowDataMode=void 0,this.ensureDomOrder=void 0,this.accentedSort=void 0,this.suppressChangeDetection=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAnimationFrame=void 0,this.suppressExcelExport=void 0,this.suppressCsvExport=void 0,this.treeData=void 0,this.masterDetail=void 0,this.suppressMultiRangeSelection=void 0,this.enterMovesDownAfterEdit=void 0,this.enterMovesDown=void 0,this.suppressPropertyNamesCheck=void 0,this.rowMultiSelectWithClick=void 0,this.suppressEnterpriseResetOnNewColumns=void 0,this.enableOldSetFilterModel=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.suppressClipboardPaste=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.serverSideSortingAlwaysResets=void 0,this.reactNext=void 0,this.suppressSetColumnStateEvents=void 0,this.suppressColumnStateEvents=void 0,this.enableCharts=void 0,this.deltaColumnMode=void 0,this.suppressMaintainUnsortedOrder=void 0,this.enableCellTextSelection=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.tooltipMouseTrack=void 0,this.keepDetailRows=void 0,this.paginateChildRows=void 0,this.preventDefaultOnContextMenu=void 0,this.undoRedoCellEditing=void 0,this.allowDragFromColumnsToolPanel=void 0,this.immutableData=void 0,this.immutableColumns=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.applyColumnDefOrder=void 0,this.debounceVerticalScrollbar=void 0,this.detailRowAutoHeight=void 0,this.serverSideFilteringAlwaysResets=void 0,this.suppressAggFilteredOnly=void 0,this.showOpenedGroup=void 0,this.suppressClipboardApi=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.columnEverythingChanged=new fesm2015_core_EventEmitter,this.newColumnsLoaded=new fesm2015_core_EventEmitter,this.columnPivotModeChanged=new fesm2015_core_EventEmitter,this.columnRowGroupChanged=new fesm2015_core_EventEmitter,this.expandOrCollapseAll=new fesm2015_core_EventEmitter,this.columnPivotChanged=new fesm2015_core_EventEmitter,this.gridColumnsChanged=new fesm2015_core_EventEmitter,this.columnValueChanged=new fesm2015_core_EventEmitter,this.columnMoved=new fesm2015_core_EventEmitter,this.columnVisible=new fesm2015_core_EventEmitter,this.columnPinned=new fesm2015_core_EventEmitter,this.columnGroupOpened=new fesm2015_core_EventEmitter,this.columnResized=new fesm2015_core_EventEmitter,this.displayedColumnsChanged=new fesm2015_core_EventEmitter,this.virtualColumnsChanged=new fesm2015_core_EventEmitter,this.asyncTransactionsFlushed=new fesm2015_core_EventEmitter,this.rowGroupOpened=new fesm2015_core_EventEmitter,this.rowDataChanged=new fesm2015_core_EventEmitter,this.rowDataUpdated=new fesm2015_core_EventEmitter,this.pinnedRowDataChanged=new fesm2015_core_EventEmitter,this.rangeSelectionChanged=new fesm2015_core_EventEmitter,this.chartCreated=new fesm2015_core_EventEmitter,this.chartRangeSelectionChanged=new fesm2015_core_EventEmitter,this.chartOptionsChanged=new fesm2015_core_EventEmitter,this.chartDestroyed=new fesm2015_core_EventEmitter,this.toolPanelVisibleChanged=new fesm2015_core_EventEmitter,this.modelUpdated=new fesm2015_core_EventEmitter,this.pasteStart=new fesm2015_core_EventEmitter,this.pasteEnd=new fesm2015_core_EventEmitter,this.fillStart=new fesm2015_core_EventEmitter,this.fillEnd=new fesm2015_core_EventEmitter,this.cellClicked=new fesm2015_core_EventEmitter,this.cellDoubleClicked=new fesm2015_core_EventEmitter,this.cellMouseDown=new fesm2015_core_EventEmitter,this.cellContextMenu=new fesm2015_core_EventEmitter,this.cellValueChanged=new fesm2015_core_EventEmitter,this.rowValueChanged=new fesm2015_core_EventEmitter,this.cellFocused=new fesm2015_core_EventEmitter,this.rowSelected=new fesm2015_core_EventEmitter,this.selectionChanged=new fesm2015_core_EventEmitter,this.cellKeyDown=new fesm2015_core_EventEmitter,this.cellKeyPress=new fesm2015_core_EventEmitter,this.cellMouseOver=new fesm2015_core_EventEmitter,this.cellMouseOut=new fesm2015_core_EventEmitter,this.filterChanged=new fesm2015_core_EventEmitter,this.filterModified=new fesm2015_core_EventEmitter,this.filterOpened=new fesm2015_core_EventEmitter,this.sortChanged=new fesm2015_core_EventEmitter,this.virtualRowRemoved=new fesm2015_core_EventEmitter,this.rowClicked=new fesm2015_core_EventEmitter,this.rowDoubleClicked=new fesm2015_core_EventEmitter,this.gridReady=new fesm2015_core_EventEmitter,this.gridSizeChanged=new fesm2015_core_EventEmitter,this.viewportChanged=new fesm2015_core_EventEmitter,this.scrollbarWidthChanged=new fesm2015_core_EventEmitter,this.firstDataRendered=new fesm2015_core_EventEmitter,this.dragStarted=new fesm2015_core_EventEmitter,this.dragStopped=new fesm2015_core_EventEmitter,this.checkboxChanged=new fesm2015_core_EventEmitter,this.rowEditingStarted=new fesm2015_core_EventEmitter,this.rowEditingStopped=new fesm2015_core_EventEmitter,this.cellEditingStarted=new fesm2015_core_EventEmitter,this.cellEditingStopped=new fesm2015_core_EventEmitter,this.bodyScroll=new fesm2015_core_EventEmitter,this.animationQueueEmpty=new fesm2015_core_EventEmitter,this.heightScaleChanged=new fesm2015_core_EventEmitter,this.paginationChanged=new fesm2015_core_EventEmitter,this.componentStateChanged=new fesm2015_core_EventEmitter,this.bodyHeightChanged=new fesm2015_core_EventEmitter,this.displayedColumnsWidthChanged=new fesm2015_core_EventEmitter,this.scrollVisibilityChanged=new fesm2015_core_EventEmitter,this.columnHoverChanged=new fesm2015_core_EventEmitter,this.flashCells=new fesm2015_core_EventEmitter,this.paginationPixelOffsetChanged=new fesm2015_core_EventEmitter,this.displayedRowsChanged=new fesm2015_core_EventEmitter,this.leftPinnedWidthChanged=new fesm2015_core_EventEmitter,this.rightPinnedWidthChanged=new fesm2015_core_EventEmitter,this.rowContainerHeightChanged=new fesm2015_core_EventEmitter,this.rowDragEnter=new fesm2015_core_EventEmitter,this.rowDragMove=new fesm2015_core_EventEmitter,this.rowDragLeave=new fesm2015_core_EventEmitter,this.rowDragEnd=new fesm2015_core_EventEmitter,this.popupToFront=new fesm2015_core_EventEmitter,this.columnRowGroupChangeRequest=new fesm2015_core_EventEmitter,this.columnPivotChangeRequest=new fesm2015_core_EventEmitter,this.columnValueChangeRequest=new fesm2015_core_EventEmitter,this.columnAggFuncChangeRequest=new fesm2015_core_EventEmitter,this.keyboardFocus=new fesm2015_core_EventEmitter,this.mouseFocus=new fesm2015_core_EventEmitter,this.storeUpdated=new fesm2015_core_EventEmitter,this._nativeElement=elementDef.nativeElement}ngAfterViewInit(){this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef),this.frameworkComponentWrapper.setComponentFactoryResolver(this.componentFactoryResolver),this.angularFrameworkOverrides.setEmitterUsedCallback(this.isEmitterUsed.bind(this)),this.gridOptions=ag_grid_community_cjs.ComponentUtil.copyAttributesToGridOptions(this.gridOptions,this,!0),this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]},this.columns&&this.columns.length>0&&(this.gridOptions.columnDefs=this.columns.map(column=>column.toColDef())),new ag_grid_community_cjs.Grid(this._nativeElement,this.gridOptions,this.gridParams),this.gridOptions.api&&(this.api=this.gridOptions.api),this.gridOptions.columnApi&&(this.columnApi=this.gridOptions.columnApi),this._initialised=!0,this._fullyReady.resolveNow(null,resolve=>resolve)}ngOnChanges(changes){this._initialised&&ag_grid_community_cjs.ComponentUtil.processOnChange(changes,this.gridOptions,this.api,this.columnApi)}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api&&this.api.destroy())}isEmitterUsed(eventType){const emitter=this[eventType],hasEmitter=!!emitter&&emitter.observers&&emitter.observers.length>0,asEventName=`on${eventType.charAt(0).toUpperCase()}${eventType.substring(1)}`;return hasEmitter||!!this.gridOptions&&!!this.gridOptions[asEventName]}globalEventListener(eventType,event){if(this._destroyed)return;const emitter=this[eventType];emitter&&this.isEmitterUsed(eventType)?\"gridReady\"===eventType?this._fullyReady.then(result=>{emitter.emit(event)}):emitter.emit(event):console.log(\"AG Grid Angular: could not find EventEmitter: \"+eventType)}};return AgGridAngular.fac=function(t){return new(t||AgGridAngular)(core_directiveInject(core_ElementRef),core_directiveInject(core_ViewContainerRef),core_directiveInject(ag_grid_angular_AngularFrameworkOverrides),core_directiveInject(ag_grid_angular_AngularFrameworkComponentWrapper),core_directiveInject(core_ComponentFactoryResolver))},AgGridAngular.cmp=core_defineComponent({type:AgGridAngular,selectors:[[\"ag-grid-angular\"]],contentQueries:function(rf,ctx,dirIndex){var _t;1&rf&&core_contentQuery(dirIndex,ag_grid_angular_AgGridColumn,!1),2&rf&&core_queryRefresh(_t=core_loadQuery())&&(ctx.columns=_t)},inputs:{alignedGrids:\"alignedGrids\",rowData:\"rowData\",columnDefs:\"columnDefs\",excelStyles:\"excelStyles\",pinnedTopRowData:\"pinnedTopRowData\",pinnedBottomRowData:\"pinnedBottomRowData\",chartThemes:\"chartThemes\",components:\"components\",frameworkComponents:\"frameworkComponents\",rowStyle:\"rowStyle\",context:\"context\",autoGroupColumnDef:\"autoGroupColumnDef\",localeText:\"localeText\",icons:\"icons\",datasource:\"datasource\",serverSideDatasource:\"serverSideDatasource\",viewportDatasource:\"viewportDatasource\",groupRowRendererParams:\"groupRowRendererParams\",aggFuncs:\"aggFuncs\",fullWidthCellRendererParams:\"fullWidthCellRendererParams\",defaultColGroupDef:\"defaultColGroupDef\",defaultColDef:\"defaultColDef\",defaultExportParams:\"defaultExportParams\",defaultCsvExportParams:\"defaultCsvExportParams\",defaultExcelExportParams:\"defaultExcelExportParams\",columnTypes:\"columnTypes\",rowClassRules:\"rowClassRules\",detailGridOptions:\"detailGridOptions\",detailCellRendererParams:\"detailCellRendererParams\",loadingCellRendererParams:\"loadingCellRendererParams\",loadingOverlayComponentParams:\"loadingOverlayComponentParams\",noRowsOverlayComponentParams:\"noRowsOverlayComponentParams\",popupParent:\"popupParent\",colResizeDefault:\"colResizeDefault\",reduxStore:\"reduxStore\",statusBar:\"statusBar\",sideBar:\"sideBar\",chartThemeOverrides:\"chartThemeOverrides\",customChartThemes:\"customChartThemes\",sortingOrder:\"sortingOrder\",rowClass:\"rowClass\",rowSelection:\"rowSelection\",overlayLoadingTemplate:\"overlayLoadingTemplate\",overlayNoRowsTemplate:\"overlayNoRowsTemplate\",quickFilterText:\"quickFilterText\",rowModelType:\"rowModelType\",editType:\"editType\",domLayout:\"domLayout\",clipboardDeliminator:\"clipboardDeliminator\",rowGroupPanelShow:\"rowGroupPanelShow\",multiSortKey:\"multiSortKey\",pivotColumnGroupTotals:\"pivotColumnGroupTotals\",pivotRowTotals:\"pivotRowTotals\",pivotPanelShow:\"pivotPanelShow\",fillHandleDirection:\"fillHandleDirection\",serverSideStoreType:\"serverSideStoreType\",rowHeight:\"rowHeight\",detailRowHeight:\"detailRowHeight\",rowBuffer:\"rowBuffer\",colWidth:\"colWidth\",headerHeight:\"headerHeight\",groupHeaderHeight:\"groupHeaderHeight\",floatingFiltersHeight:\"floatingFiltersHeight\",pivotHeaderHeight:\"pivotHeaderHeight\",pivotGroupHeaderHeight:\"pivotGroupHeaderHeight\",groupDefaultExpanded:\"groupDefaultExpanded\",minColWidth:\"minColWidth\",maxColWidth:\"maxColWidth\",viewportRowModelPageSize:\"viewportRowModelPageSize\",viewportRowModelBufferSize:\"viewportRowModelBufferSize\",autoSizePadding:\"autoSizePadding\",maxBlocksInCache:\"maxBlocksInCache\",maxConcurrentDatasourceRequests:\"maxConcurrentDatasourceRequests\",tooltipShowDelay:\"tooltipShowDelay\",cacheOverflowSize:\"cacheOverflowSize\",paginationPageSize:\"paginationPageSize\",cacheBlockSize:\"cacheBlockSize\",infiniteInitialRowCount:\"infiniteInitialRowCount\",scrollbarWidth:\"scrollbarWidth\",batchUpdateWaitMillis:\"batchUpdateWaitMillis\",asyncTransactionWaitMillis:\"asyncTransactionWaitMillis\",blockLoadDebounceMillis:\"blockLoadDebounceMillis\",keepDetailRowsCount:\"keepDetailRowsCount\",undoRedoCellEditingLimit:\"undoRedoCellEditingLimit\",cellFlashDelay:\"cellFlashDelay\",cellFadeDelay:\"cellFadeDelay\",tabIndex:\"tabIndex\",localeTextFunc:\"localeTextFunc\",groupRowInnerRenderer:\"groupRowInnerRenderer\",groupRowInnerRendererFramework:\"groupRowInnerRendererFramework\",dateComponent:\"dateComponent\",dateComponentFramework:\"dateComponentFramework\",groupRowRenderer:\"groupRowRenderer\",groupRowRendererFramework:\"groupRowRendererFramework\",isExternalFilterPresent:\"isExternalFilterPresent\",getRowHeight:\"getRowHeight\",doesExternalFilterPass:\"doesExternalFilterPass\",getRowClass:\"getRowClass\",getRowStyle:\"getRowStyle\",getRowClassRules:\"getRowClassRules\",traverseNode:\"traverseNode\",getContextMenuItems:\"getContextMenuItems\",getMainMenuItems:\"getMainMenuItems\",processRowPostCreate:\"processRowPostCreate\",processCellForClipboard:\"processCellForClipboard\",groupRowAggNodes:\"groupRowAggNodes\",getRowNodeId:\"getRowNodeId\",isFullWidthCell:\"isFullWidthCell\",fullWidthCellRenderer:\"fullWidthCellRenderer\",fullWidthCellRendererFramework:\"fullWidthCellRendererFramework\",processSecondaryColDef:\"processSecondaryColDef\",processSecondaryColGroupDef:\"processSecondaryColGroupDef\",getBusinessKeyForNode:\"getBusinessKeyForNode\",sendToClipboard:\"sendToClipboard\",navigateToNextHeader:\"navigateToNextHeader\",tabToNextHeader:\"tabToNextHeader\",navigateToNextCell:\"navigateToNextCell\",tabToNextCell:\"tabToNextCell\",getDetailRowData:\"getDetailRowData\",processCellFromClipboard:\"processCellFromClipboard\",getDocument:\"getDocument\",postProcessPopup:\"postProcessPopup\",getChildCount:\"getChildCount\",getDataPath:\"getDataPath\",loadingCellRenderer:\"loadingCellRenderer\",loadingCellRendererFramework:\"loadingCellRendererFramework\",loadingOverlayComponent:\"loadingOverlayComponent\",loadingOverlayComponentFramework:\"loadingOverlayComponentFramework\",noRowsOverlayComponent:\"noRowsOverlayComponent\",noRowsOverlayComponentFramework:\"noRowsOverlayComponentFramework\",detailCellRenderer:\"detailCellRenderer\",detailCellRendererFramework:\"detailCellRendererFramework\",defaultGroupSortComparator:\"defaultGroupSortComparator\",isRowMaster:\"isRowMaster\",isRowSelectable:\"isRowSelectable\",postSort:\"postSort\",processHeaderForClipboard:\"processHeaderForClipboard\",paginationNumberFormatter:\"paginationNumberFormatter\",processDataFromClipboard:\"processDataFromClipboard\",getServerSideGroupKey:\"getServerSideGroupKey\",isServerSideGroup:\"isServerSideGroup\",suppressKeyboardEvent:\"suppressKeyboardEvent\",createChartContainer:\"createChartContainer\",processChartOptions:\"processChartOptions\",getChartToolbarItems:\"getChartToolbarItems\",fillOperation:\"fillOperation\",isApplyServerSideTransaction:\"isApplyServerSideTransaction\",getServerSideStoreParams:\"getServerSideStoreParams\",isServerSideGroupOpenByDefault:\"isServerSideGroupOpenByDefault\",isGroupOpenByDefault:\"isGroupOpenByDefault\",suppressMakeColumnVisibleAfterUnGroup:\"suppressMakeColumnVisibleAfterUnGroup\",suppressRowClickSelection:\"suppressRowClickSelection\",suppressCellSelection:\"suppressCellSelection\",suppressHorizontalScroll:\"suppressHorizontalScroll\",alwaysShowHorizontalScroll:\"alwaysShowHorizontalScroll\",alwaysShowVerticalScroll:\"alwaysShowVerticalScroll\",debug:\"debug\",enableBrowserTooltips:\"enableBrowserTooltips\",enableCellExpressions:\"enableCellExpressions\",angularCompileRows:\"angularCompileRows\",angularCompileFilters:\"angularCompileFilters\",groupSuppressAutoColumn:\"groupSuppressAutoColumn\",groupSelectsChildren:\"groupSelectsChildren\",groupIncludeFooter:\"groupIncludeFooter\",groupIncludeTotalFooter:\"groupIncludeTotalFooter\",groupUseEntireRow:\"groupUseEntireRow\",groupSuppressBlankHeader:\"groupSuppressBlankHeader\",suppressMenuHide:\"suppressMenuHide\",suppressRowDeselection:\"suppressRowDeselection\",unSortIcon:\"unSortIcon\",suppressMultiSort:\"suppressMultiSort\",singleClickEdit:\"singleClickEdit\",suppressLoadingOverlay:\"suppressLoadingOverlay\",suppressNoRowsOverlay:\"suppressNoRowsOverlay\",suppressAutoSize:\"suppressAutoSize\",skipHeaderOnAutoSize:\"skipHeaderOnAutoSize\",suppressParentsInRowNodes:\"suppressParentsInRowNodes\",suppressColumnMoveAnimation:\"suppressColumnMoveAnimation\",suppressMovableColumns:\"suppressMovableColumns\",suppressFieldDotNotation:\"suppressFieldDotNotation\",enableRangeSelection:\"enableRangeSelection\",enableRangeHandle:\"enableRangeHandle\",enableFillHandle:\"enableFillHandle\",suppressClearOnFillReduction:\"suppressClearOnFillReduction\",deltaSort:\"deltaSort\",suppressTouch:\"suppressTouch\",suppressAsyncEvents:\"suppressAsyncEvents\",allowContextMenuWithControlKey:\"allowContextMenuWithControlKey\",suppressContextMenu:\"suppressContextMenu\",rememberGroupStateWhenNewData:\"rememberGroupStateWhenNewData\",enableCellChangeFlash:\"enableCellChangeFlash\",suppressDragLeaveHidesColumns:\"suppressDragLeaveHidesColumns\",suppressMiddleClickScrolls:\"suppressMiddleClickScrolls\",suppressPreventDefaultOnMouseWheel:\"suppressPreventDefaultOnMouseWheel\",suppressCopyRowsToClipboard:\"suppressCopyRowsToClipboard\",copyHeadersToClipboard:\"copyHeadersToClipboard\",pivotMode:\"pivotMode\",suppressAggFuncInHeader:\"suppressAggFuncInHeader\",suppressColumnVirtualisation:\"suppressColumnVirtualisation\",suppressAggAtRootLevel:\"suppressAggAtRootLevel\",suppressFocusAfterRefresh:\"suppressFocusAfterRefresh\",functionsPassive:\"functionsPassive\",functionsReadOnly:\"functionsReadOnly\",animateRows:\"animateRows\",groupSelectsFiltered:\"groupSelectsFiltered\",groupRemoveSingleChildren:\"groupRemoveSingleChildren\",groupRemoveLowestSingleChildren:\"groupRemoveLowestSingleChildren\",enableRtl:\"enableRtl\",suppressClickEdit:\"suppressClickEdit\",rowDragManaged:\"rowDragManaged\",suppressRowDrag:\"suppressRowDrag\",suppressMoveWhenRowDragging:\"suppressMoveWhenRowDragging\",enableMultiRowDragging:\"enableMultiRowDragging\",enableGroupEdit:\"enableGroupEdit\",embedFullWidthRows:\"embedFullWidthRows\",deprecatedEmbedFullWidthRows:\"deprecatedEmbedFullWidthRows\",suppressPaginationPanel:\"suppressPaginationPanel\",floatingFilter:\"floatingFilter\",groupHideOpenParents:\"groupHideOpenParents\",groupMultiAutoColumn:\"groupMultiAutoColumn\",pagination:\"pagination\",stopEditingWhenGridLosesFocus:\"stopEditingWhenGridLosesFocus\",paginationAutoPageSize:\"paginationAutoPageSize\",suppressScrollOnNewData:\"suppressScrollOnNewData\",purgeClosedRowNodes:\"purgeClosedRowNodes\",cacheQuickFilter:\"cacheQuickFilter\",deltaRowDataMode:\"deltaRowDataMode\",ensureDomOrder:\"ensureDomOrder\",accentedSort:\"accentedSort\",suppressChangeDetection:\"suppressChangeDetection\",valueCache:\"valueCache\",valueCacheNeverExpires:\"valueCacheNeverExpires\",aggregateOnlyChangedColumns:\"aggregateOnlyChangedColumns\",suppressAnimationFrame:\"suppressAnimationFrame\",suppressExcelExport:\"suppressExcelExport\",suppressCsvExport:\"suppressCsvExport\",treeData:\"treeData\",masterDetail:\"masterDetail\",suppressMultiRangeSelection:\"suppressMultiRangeSelection\",enterMovesDownAfterEdit:\"enterMovesDownAfterEdit\",enterMovesDown:\"enterMovesDown\",suppressPropertyNamesCheck:\"suppressPropertyNamesCheck\",rowMultiSelectWithClick:\"rowMultiSelectWithClick\",suppressEnterpriseResetOnNewColumns:\"suppressEnterpriseResetOnNewColumns\",enableOldSetFilterModel:\"enableOldSetFilterModel\",suppressRowHoverHighlight:\"suppressRowHoverHighlight\",suppressRowTransform:\"suppressRowTransform\",suppressClipboardPaste:\"suppressClipboardPaste\",suppressLastEmptyLineOnPaste:\"suppressLastEmptyLineOnPaste\",serverSideSortingAlwaysResets:\"serverSideSortingAlwaysResets\",reactNext:\"reactNext\",suppressSetColumnStateEvents:\"suppressSetColumnStateEvents\",suppressColumnStateEvents:\"suppressColumnStateEvents\",enableCharts:\"enableCharts\",deltaColumnMode:\"deltaColumnMode\",suppressMaintainUnsortedOrder:\"suppressMaintainUnsortedOrder\",enableCellTextSelection:\"enableCellTextSelection\",suppressBrowserResizeObserver:\"suppressBrowserResizeObserver\",suppressMaxRenderedRowRestriction:\"suppressMaxRenderedRowRestriction\",excludeChildrenWhenTreeDataFiltering:\"excludeChildrenWhenTreeDataFiltering\",tooltipMouseTrack:\"tooltipMouseTrack\",keepDetailRows:\"keepDetailRows\",paginateChildRows:\"paginateChildRows\",preventDefaultOnContextMenu:\"preventDefaultOnContextMenu\",undoRedoCellEditing:\"undoRedoCellEditing\",allowDragFromColumnsToolPanel:\"allowDragFromColumnsToolPanel\",immutableData:\"immutableData\",immutableColumns:\"immutableColumns\",pivotSuppressAutoColumn:\"pivotSuppressAutoColumn\",suppressExpandablePivotGroups:\"suppressExpandablePivotGroups\",applyColumnDefOrder:\"applyColumnDefOrder\",debounceVerticalScrollbar:\"debounceVerticalScrollbar\",detailRowAutoHeight:\"detailRowAutoHeight\",serverSideFilteringAlwaysResets:\"serverSideFilteringAlwaysResets\",suppressAggFilteredOnly:\"suppressAggFilteredOnly\",showOpenedGroup:\"showOpenedGroup\",suppressClipboardApi:\"suppressClipboardApi\",suppressModelUpdateAfterUpdateTransaction:\"suppressModelUpdateAfterUpdateTransaction\",stopEditingWhenCellsLoseFocus:\"stopEditingWhenCellsLoseFocus\",gridOptions:\"gridOptions\",modules:\"modules\"},outputs:{columnEverythingChanged:\"columnEverythingChanged\",newColumnsLoaded:\"newColumnsLoaded\",columnPivotModeChanged:\"columnPivotModeChanged\",columnRowGroupChanged:\"columnRowGroupChanged\",expandOrCollapseAll:\"expandOrCollapseAll\",columnPivotChanged:\"columnPivotChanged\",gridColumnsChanged:\"gridColumnsChanged\",columnValueChanged:\"columnValueChanged\",columnMoved:\"columnMoved\",columnVisible:\"columnVisible\",columnPinned:\"columnPinned\",columnGroupOpened:\"columnGroupOpened\",columnResized:\"columnResized\",displayedColumnsChanged:\"displayedColumnsChanged\",virtualColumnsChanged:\"virtualColumnsChanged\",asyncTransactionsFlushed:\"asyncTransactionsFlushed\",rowGroupOpened:\"rowGroupOpened\",rowDataChanged:\"rowDataChanged\",rowDataUpdated:\"rowDataUpdated\",pinnedRowDataChanged:\"pinnedRowDataChanged\",rangeSelectionChanged:\"rangeSelectionChanged\",chartCreated:\"chartCreated\",chartRangeSelectionChanged:\"chartRangeSelectionChanged\",chartOptionsChanged:\"chartOptionsChanged\",chartDestroyed:\"chartDestroyed\",toolPanelVisibleChanged:\"toolPanelVisibleChanged\",modelUpdated:\"modelUpdated\",pasteStart:\"pasteStart\",pasteEnd:\"pasteEnd\",fillStart:\"fillStart\",fillEnd:\"fillEnd\",cellClicked:\"cellClicked\",cellDoubleClicked:\"cellDoubleClicked\",cellMouseDown:\"cellMouseDown\",cellContextMenu:\"cellContextMenu\",cellValueChanged:\"cellValueChanged\",rowValueChanged:\"rowValueChanged\",cellFocused:\"cellFocused\",rowSelected:\"rowSelected\",selectionChanged:\"selectionChanged\",cellKeyDown:\"cellKeyDown\",cellKeyPress:\"cellKeyPress\",cellMouseOver:\"cellMouseOver\",cellMouseOut:\"cellMouseOut\",filterChanged:\"filterChanged\",filterModified:\"filterModified\",filterOpened:\"filterOpened\",sortChanged:\"sortChanged\",virtualRowRemoved:\"virtualRowRemoved\",rowClicked:\"rowClicked\",rowDoubleClicked:\"rowDoubleClicked\",gridReady:\"gridReady\",gridSizeChanged:\"gridSizeChanged\",viewportChanged:\"viewportChanged\",scrollbarWidthChanged:\"scrollbarWidthChanged\",firstDataRendered:\"firstDataRendered\",dragStarted:\"dragStarted\",dragStopped:\"dragStopped\",checkboxChanged:\"checkboxChanged\",rowEditingStarted:\"rowEditingStarted\",rowEditingStopped:\"rowEditingStopped\",cellEditingStarted:\"cellEditingStarted\",cellEditingStopped:\"cellEditingStopped\",bodyScroll:\"bodyScroll\",animationQueueEmpty:\"animationQueueEmpty\",heightScaleChanged:\"heightScaleChanged\",paginationChanged:\"paginationChanged\",componentStateChanged:\"componentStateChanged\",bodyHeightChanged:\"bodyHeightChanged\",displayedColumnsWidthChanged:\"displayedColumnsWidthChanged\",scrollVisibilityChanged:\"scrollVisibilityChanged\",columnHoverChanged:\"columnHoverChanged\",flashCells:\"flashCells\",paginationPixelOffsetChanged:\"paginationPixelOffsetChanged\",displayedRowsChanged:\"displayedRowsChanged\",leftPinnedWidthChanged:\"leftPinnedWidthChanged\",rightPinnedWidthChanged:\"rightPinnedWidthChanged\",rowContainerHeightChanged:\"rowContainerHeightChanged\",rowDragEnter:\"rowDragEnter\",rowDragMove:\"rowDragMove\",rowDragLeave:\"rowDragLeave\",rowDragEnd:\"rowDragEnd\",popupToFront:\"popupToFront\",columnRowGroupChangeRequest:\"columnRowGroupChangeRequest\",columnPivotChangeRequest:\"columnPivotChangeRequest\",columnValueChangeRequest:\"columnValueChangeRequest\",columnAggFuncChangeRequest:\"columnAggFuncChangeRequest\",keyboardFocus:\"keyboardFocus\",mouseFocus:\"mouseFocus\",storeUpdated:\"storeUpdated\"},features:[core_ProvidersFeature([ag_grid_angular_AngularFrameworkOverrides,ag_grid_angular_AngularFrameworkComponentWrapper]),core_NgOnChangesFeature],decls:0,vars:0,template:function(rf,ctx){},encapsulation:2}),AgGridAngular})();var AgGridModule_1;let ag_grid_angular_AgGridModule=(()=>{let AgGridModule=AgGridModule_1=class{static withComponents(components){return{ngModule:AgGridModule_1,providers:[{provide:core_ANALYZE_FOR_ENTRY_COMPONENTS,useValue:components,multi:!0}]}}static forRoot(components){return{ngModule:AgGridModule_1,providers:[{provide:core_ANALYZE_FOR_ENTRY_COMPONENTS,useValue:components,multi:!0}]}}};return AgGridModule.mod=core_defineNgModule({type:AgGridModule}),AgGridModule.inj=core_defineInjector({factory:function(t){return new(t||AgGridModule)},imports:[[]]}),AgGridModule})();const AngularFrameworkComponentWrapper_BaseFactory=core_getInheritedFactory(ag_grid_angular_AngularFrameworkComponentWrapper);let ng_grid_component_NgGridComponent=(()=>{class NgGridComponent{constructor(){this.rowData=[{make:\"Tesla\",model:\"Model Y\",price:64950,electric:!0},{make:\"Ford\",model:\"F-Series\",price:33850,electric:!1},{make:\"Toyota\",model:\"Corolla\",price:29600,electric:!1}],this.colDefs=[{field:\"make\"},{field:\"model\"},{field:\"price\"},{field:\"electric\"}]}ngOnInit(){}}return NgGridComponent.fac=function(t){return new(t||NgGridComponent)},NgGridComponent.cmp=core_defineComponent({type:NgGridComponent,selectors:[[\"lib-ng-grid\"]],decls:1,vars:2,consts:[[1,\"ag-theme-quartz\",2,\"height\",\"500px\",\"width\",\"100%\",3,\"rowData\",\"columnDefs\"]],template:function(rf,ctx){1&rf&&(function(index,name,attrsIndex,localRefsIndex){const lView=core_getLView(),tView=core_getTView(),adjustedIndex=19+index,renderer=lView[11],native=lView[adjustedIndex]=function(name,renderer,namespace){return core_isProceduralRenderer(renderer)?renderer.createElement(name,namespace):null===namespace?renderer.createElement(name):renderer.createElementNS(namespace,name)}(name,renderer,core_instructionState.lFrame.currentNamespace),tNode=tView.firstCreatePass?core_elementStartFirstCreatePass(index,tView,lView,0,name,attrsIndex,localRefsIndex):tView.data[adjustedIndex];core_setPreviousOrParentTNode(tNode,!0);const mergedAttrs=tNode.mergedAttrs;null!==mergedAttrs&&function(renderer,native,attrs){const isProc=core_isProceduralRenderer(renderer);let i=0;for(;i<attrs.length;){const value=attrs[i];if(\"number\"==typeof value){if(0!==value)break;i++;const namespaceURI=attrs[i++],attrName=attrs[i++],attrVal=attrs[i++];isProc?renderer.setAttribute(native,attrName,attrVal,namespaceURI):native.setAttributeNS(namespaceURI,attrName,attrVal)}else{const attrName=value,attrVal=attrs[++i];core_isAnimationProp(attrName)?isProc&&renderer.setProperty(native,attrName,attrVal):isProc?renderer.setAttribute(native,attrName,attrVal):native.setAttribute(attrName,attrVal),i++}}}(renderer,native,mergedAttrs);const classes=tNode.classes;null!==classes&&function(renderer,element,newValue){core_isProceduralRenderer(renderer)?\"\"===newValue?renderer.removeAttribute(element,\"class\"):renderer.setAttribute(element,\"class\",newValue):element.className=newValue}(renderer,native,classes);const styles=tNode.styles;null!==styles&&function(renderer,element,newValue){core_isProceduralRenderer(renderer)?renderer.setAttribute(element,\"style\",newValue):element.style.cssText=newValue}(renderer,native,styles),core_appendChild(tView,lView,native,tNode),0===core_instructionState.lFrame.elementDepthCount&&core_attachPatchData(native,lView),core_instructionState.lFrame.elementDepthCount++,function(tNode){return 1==(1&tNode.flags)}(tNode)&&(function(tView,lView,tNode){core_getBindingsEnabled()&&(function(tView,lView,tNode,native){const start=tNode.directiveStart,end=tNode.directiveEnd;tView.firstCreatePass||core_getOrCreateNodeInjectorForNode(tNode,lView),core_attachPatchData(native,lView);const initialInputs=tNode.initialInputs;for(let i=start;i<end;i++){const def=tView.data[i],isComponent=core_isComponentDef(def);isComponent&&core_addComponentLogic(lView,tNode,def);const directive=core_getNodeInjectable(lView,tView,i,tNode);core_attachPatchData(directive,lView),null!==initialInputs&&core_setInputsFromAttrs(0,i-start,directive,def,0,initialInputs),isComponent&&(core_getComponentLViewByIndex(tNode.index,lView)[8]=directive)}}(tView,lView,tNode,core_getNativeByTNode(tNode,lView)),128==(128&tNode.flags)&&function(tView,lView,tNode){const start=tNode.directiveStart,end=tNode.directiveEnd,expando=tView.expandoInstructions,firstCreatePass=tView.firstCreatePass,elementIndex=tNode.index-19;try{core_setSelectedIndex(elementIndex);for(let i=start;i<end;i++){const def=tView.data[i],directive=lView[i];null!==def.hostBindings||0!==def.hostVars||null!==def.hostAttrs?core_invokeHostBindingsInCreationMode(def,directive):firstCreatePass&&expando.push(null)}}finally{core_setSelectedIndex(-1)}}(tView,lView,tNode))}(tView,lView,tNode),function(tView,tNode,lView){if(core_isContentQueryHost(tNode)){const end=tNode.directiveEnd;for(let directiveIndex=tNode.directiveStart;directiveIndex<end;directiveIndex++){const def=tView.data[directiveIndex];def.contentQueries&&def.contentQueries(1,lView[directiveIndex],directiveIndex)}}}(tView,tNode,lView)),null!==localRefsIndex&&function(viewData,tNode,localRefExtractor=core_getNativeByTNode){const localNames=tNode.localNames;if(null!==localNames){let localIndex=tNode.index+1;for(let i=0;i<localNames.length;i+=2){const index=localNames[i+1],value=-1===index?localRefExtractor(tNode,viewData):viewData[index];viewData[localIndex++]=value}}}(lView,tNode)}(0,\"ag-grid-angular\",0,void 0),function(){let previousOrParentTNode=core_getPreviousOrParentTNode();core_getIsParent()?core_instructionState.lFrame.isParent=!1:(previousOrParentTNode=previousOrParentTNode.parent,core_setPreviousOrParentTNode(previousOrParentTNode,!1));const tNode=previousOrParentTNode;core_instructionState.lFrame.elementDepthCount--;const tView=core_getTView();tView.firstCreatePass&&(function(tView,tNode){for(let i=tNode.directiveStart,end=tNode.directiveEnd;i<end;i++){const directiveDef=tView.data[i];directiveDef.afterContentInit&&(tView.contentHooks||(tView.contentHooks=[])).push(-i,directiveDef.afterContentInit),directiveDef.afterContentChecked&&((tView.contentHooks||(tView.contentHooks=[])).push(i,directiveDef.afterContentChecked),(tView.contentCheckHooks||(tView.contentCheckHooks=[])).push(i,directiveDef.afterContentChecked)),directiveDef.afterViewInit&&(tView.viewHooks||(tView.viewHooks=[])).push(-i,directiveDef.afterViewInit),directiveDef.afterViewChecked&&((tView.viewHooks||(tView.viewHooks=[])).push(i,directiveDef.afterViewChecked),(tView.viewCheckHooks||(tView.viewCheckHooks=[])).push(i,directiveDef.afterViewChecked)),null!=directiveDef.onDestroy&&(tView.destroyHooks||(tView.destroyHooks=[])).push(i,directiveDef.onDestroy)}}(tView,previousOrParentTNode),core_isContentQueryHost(previousOrParentTNode)&&tView.queries.elementEnd(previousOrParentTNode)),null!==tNode.classes&&function(tNode){return 0!=(16&tNode.flags)}(tNode)&&core_setDirectiveInputsWhichShadowsStyling(tView,tNode,core_getLView(),tNode.classes,!0),null!==tNode.styles&&function(tNode){return 0!=(32&tNode.flags)}(tNode)&&core_setDirectiveInputsWhichShadowsStyling(tView,tNode,core_getLView(),tNode.styles,!1)}()),2&rf&&core_property(\"rowData\",ctx.rowData)(\"columnDefs\",ctx.colDefs)},directives:[ag_grid_angular_AgGridAngular],styles:[\"\"]}),NgGridComponent})(),app_component_AppComponent=(()=>{class AppComponent{constructor(){this.title=\"grid-library-project\"}}return AppComponent.fac=function(t){return new(t||AppComponent)},AppComponent.cmp=defineComponent({type:AppComponent,selectors:[[\"app-root\"]],decls:1,vars:0,template:function(rf,ctx){1&rf&&element(0,\"lib-ng-grid\")},directives:[ng_grid_component_NgGridComponent],styles:[\"\"]}),AppComponent})(),grid_ui_library_module_GridUiLibraryModule=(()=>{class GridUiLibraryModule{}return GridUiLibraryModule.mod=core_defineNgModule({type:GridUiLibraryModule}),GridUiLibraryModule.inj=core_defineInjector({factory:function(t){return new(t||GridUiLibraryModule)},imports:[[ag_grid_angular_AgGridModule.withComponents([])]]}),GridUiLibraryModule})(),app_module_AppModule=(()=>{class AppModule{}return AppModule.mod=defineNgModule({type:AppModule,bootstrap:[app_component_AppComponent]}),AppModule.inj=defineInjector({factory:function(t){return new(t||AppModule)},providers:[],imports:[[platform_browser_BrowserModule,app_routing_module_AppRoutingModule,grid_ui_library_module_GridUiLibraryModule]]}),AppModule})();(function(){if(_runModeLocked)throw new Error(\"Cannot enable prod mode after platform setup.\");_devMode=!1})(),platformBrowser().bootstrapModule(app_module_AppModule).catch(err=>console.error(err))},zn8P:function(module,exports){function webpackEmptyAsyncContext(req){return Promise.resolve().then((function(){var e=new Error(\"Cannot find module '\"+req+\"'\");throw e.code=\"MODULE_NOT_FOUND\",e}))}webpackEmptyAsyncContext.keys=function(){return[]},webpackEmptyAsyncContext.resolve=webpackEmptyAsyncContext,module.exports=webpackEmptyAsyncContext,webpackEmptyAsyncContext.id=\"zn8P\"}},[[0,0]]]);","extractedComments":[]}